# 白鹭引擎 5.1.4 发布日志


---

白鹭引擎在 2017年 12 月份正式发布了 5.1 版本。本次版本是 5.1 版本的一次集中性缺陷修复，主要目标是完善微信小游戏、QQ玩一玩、AssetsManager 的稳定性。



## 微信小游戏

* 新增 index.html 修改后，相关配置同步到微信工程，例如横竖屏
* 新增 ```egret build``` 命令为调试微信小游戏，```egret publish ``` 命令为发布微信小游戏
* 新增 ```egret.getOption``` 接口可以读取到小游戏启动参数
* 修复 ```egret run``` 命令可能读取不到微信开发者工具路径 BUG

## QQ 玩一玩

### 更新内容

本周白鹭引擎对玩一玩平台的支持进行了较大的改善，重点修复了以下问题：

* 添加了对 EUI 的支持
* 添加了对 DragonBones 的支持
* 添加了对 Graphics 的支持
* 添加了对 Mesh 的支持
* 添加了显示对象的 blendMode与scrollRect属性的支持
* 添加了对 LocalStorage 的支持
* 添加了对 WebSocket 的支持
* 修复了二进制数据无法加载的 BUG
* 修复了九宫格渲染错误的 BUG
* 修复了多个文本渲染及文本布局的 BUG
* 修复了 HTTP 请求无法发送 post 请求的 BUG


### 已知问题

白鹭引擎目前尚有以下功能尚未支持玩一玩平台

* 渲染相关
    * 不规则遮罩
    * 位图文本
    * 动态截屏
    * 位图缓存
* 触摸相关
    * 像素级碰撞检测
    * 点击穿透
* 文字相关
    * 字体超链接
    * 富文本
    * 字体描边
* 调试相关
    * 脏矩形调试显示
    * fps监视器
    * 屏幕调试日志



以上功能预计在下周的更新中将得到支持。

同时，由于玩一玩平台的 bricks 引擎目前处于内测状态，仍然存在一些问题，目前我们暂时不建议开发者在玩一玩平台使用以下功能：

* WebSocket 二进制格式
* 大数据二进制加载
* 贝塞尔曲线绘制
* 视频播放

以上问题我们会和玩一玩平台的工程师保持紧密沟通，争取尽快解决

## AssetsManager

* 修复加载图集会导致资源加载器卡住 BUG（感谢开发者 天行云）
* 修复用 ```sheet.subkey``` 方式获取图集资源不正确 BUG

## 2D 渲染 - JavaScript

* 修复 graphics 对象设置滤镜不显示 BUG（感谢开发者 xesxfs）
* 修复 Bitmap 设置纹理可能导致报错 BUG（感谢开发者 liusilence）