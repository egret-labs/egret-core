function __extends(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i}var egret;!function(t){function e(){return""}function i(t){throw new Error("#"+t)}function n(){}function r(){}function s(){}t.getString=e,t.$error=i,t.$warn=n,t.$markReadOnly=r,t.$markCannotUse=s}(egret||(egret={}));var egret;!function(t){function e(t,e,i){var n=t.prototype;n.__class__=e;var r=[e];i&&(r=r.concat(i));var s=n.__types__;if(n.__types__)for(var a=s.length,o=0;a>o;o++){var h=s[o];-1==r.indexOf(h)&&r.push(h)}n.__types__=r}t.registerClass=e}(egret||(egret={}));var __define=this.__define||function(t,e,i,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:i,set:n})},egret;!function(t){t.$hashCount=1;var e=function(){function e(){this.$hashCode=t.$hashCount++}var i=__define,n=e,r=n.prototype;return i(r,"hashCode",function(){return this.$hashCode}),e}();t.HashObject=e,t.registerClass(e,"egret.HashObject",["egret.IHashObject"])}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function n(t){void 0===t&&(t=null),i.call(this),this.$EventDispatcher={0:t?t:this,1:{},2:{},3:0}}__extends(n,i);var r=n,s=r.prototype;return s.$getEventMap=function(t){var e=this.$EventDispatcher,i=t?e[2]:e[1];return i},s.addEventListener=function(t,e,i,n,r){this.$addListener(t,e,i,n,r)},s.once=function(t,e,i,n,r){this.$addListener(t,e,i,n,r,!0)},s.$addListener=function(t,e,i,n,r,s){var a=this.$EventDispatcher,o=n?a[2]:a[1],h=o[t];h?0!==a[3]&&(o[t]=h=h.concat()):h=o[t]=[],this.$insertEventBin(h,t,e,i,n,r,s)},s.$insertEventBin=function(t,e,i,n,r,s,a){s=0|+s;for(var o=-1,h=t.length,l=0;h>l;l++){var c=t[l];if(c.listener==i&&c.thisObject==n&&c.target==this)return!1;-1==o&&c.priority<s&&(o=l)}var u={type:e,listener:i,thisObject:n,priority:s,target:this,useCapture:r,dispatchOnce:!!a};return-1!==o?t.splice(o,0,u):t.push(u),!0},s.removeEventListener=function(t,e,i,n){var r=this.$EventDispatcher,s=n?r[2]:r[1],a=s[t];a&&(0!==r[3]&&(s[t]=a=a.concat()),this.$removeEventBin(a,e,i),0==a.length&&(s[t]=null))},s.$removeEventBin=function(t,e,i){for(var n=t.length,r=0;n>r;r++){var s=t[r];if(s.listener==e&&s.thisObject==i&&s.target==this)return t.splice(r,1),!0}return!1},s.hasEventListener=function(t){var e=this.$EventDispatcher;return!(!e[1][t]&&!e[2][t])},s.willTrigger=function(t){return this.hasEventListener(t)},s.dispatchEvent=function(t){return t.$currentTarget=this.$EventDispatcher[0],t.$setTarget(t.$currentTarget),this.$notifyListener(t,!1)},s.$notifyListener=function(t,i){var n=this.$EventDispatcher,r=i?n[2]:n[1],s=r[t.$type];if(!s)return!0;var a=s.length;if(0==a)return!0;var o=e;n[3]++;for(var h=0;a>h;h++){var l=s[h];if(l.listener.call(l.thisObject,t),l.dispatchOnce&&o.push(l),t.$isPropagationImmediateStopped)break}for(n[3]--;o.length;)l=o.pop(),l.target.removeEventListener(l.type,l.listener,l.thisObject,l.useCapture);return!t.$isDefaultPrevented},s.dispatchEventWith=function(e,i,n){if(i||this.hasEventListener(e)){var r=t.Event.create(t.Event,e,i);r.data=n;var s=this.dispatchEvent(r);return t.Event.release(r),s}return!0},n}(t.HashObject);t.EventDispatcher=i,t.registerClass(i,"egret.EventDispatcher",["egret.IEventDispatcher"])}(egret||(egret={}));var egret;!function(t){function e(t){return t%=360,t>180?t-=360:-180>t&&(t+=360),t}var i=function(i){function n(){i.call(this),this.$children=null,this.$parent=null,this.$stage=null,this.$nestLevel=0,this.$visible=!0,this.$displayList=null,this.$alpha=1,this.$touchEnabled=n.defaultTouchEnabled,this.$scrollRect=null,this.$blendMode=0,this.$maskedObject=null,this.$mask=null,this.$maskRect=null,this.$parentDisplayList=null,this.$isDirty=!1,this.$renderAlpha=1,this.$renderMatrix=new t.Matrix,this.$renderRegion=null,this.$displayFlags=880,this.$DisplayObject={0:1,1:1,2:0,3:0,4:0,5:"",6:new t.Matrix,7:new t.Matrix,8:new t.Matrix,9:new t.Rectangle,10:new t.Rectangle,11:!1,12:0,13:0,14:0/0,15:0/0,16:0,17:0}}__extends(n,i);var r=__define,s=n,a=s.prototype;return a.$setFlags=function(t){this.$displayFlags|=t},a.$removeFlags=function(t){this.$displayFlags&=~t},a.$removeFlagsUp=function(t){if(this.$hasAnyFlags(t)){this.$removeFlags(t);var e=this.$parent;e&&e.$removeFlagsUp(t)}},a.$hasFlags=function(t){return(this.$displayFlags&t)==t},a.$propagateFlagsUp=function(t){if(!this.$hasFlags(t)){this.$setFlags(t);var e=this.$parent;e&&e.$propagateFlagsUp(t)}},a.$propagateFlagsDown=function(t){this.$setFlags(t)},a.$hasAnyFlags=function(t){return!!(this.$displayFlags&t)},a.invalidateMatrix=function(){this.$setFlags(8),this.invalidatePosition()},a.invalidatePosition=function(){this.$invalidateTransform(),this.$propagateFlagsDown(48),this.$parent&&this.$parent.$propagateFlagsUp(4)},r(a,"name",function(){return this.$DisplayObject[5]},function(t){this.$DisplayObject[5]=t}),r(a,"parent",function(){return this.$parent}),a.$setParent=function(t){return this.$parent==t?!1:(this.$parent=t,!0)},a.$onAddToStage=function(e,i){this.$stage=e,this.$nestLevel=i,t.Sprite.$EVENT_ADD_TO_STAGE_LIST.push(this)},a.$onRemoveFromStage=function(){this.$nestLevel=0,t.Sprite.$EVENT_REMOVE_FROM_STAGE_LIST.push(this)},r(a,"stage",function(){return this.$stage}),r(a,"matrix",function(){return this.$getMatrix().clone()},function(t){this.$setMatrix(t)}),a.$getMatrix=function(){var t=this.$DisplayObject;return this.$hasFlags(8)&&(t[6].$updateScaleAndRotation(t[0],t[1],t[2],t[3]),this.$removeFlags(8)),t[6]},a.$setMatrix=function(t,i){void 0===i&&(i=!0);var n=this.$DisplayObject,r=n[6];return r.equals(t)?!1:(r.copyFrom(t),i&&(n[0]=r.$getScaleX(),n[1]=r.$getScaleY(),n[2]=t.$getSkewX(),n[3]=t.$getSkewY(),n[16]=e(180*n[2]/Math.PI),n[17]=e(180*n[3]/Math.PI),n[4]=e(180*n[3]/Math.PI)),this.$removeFlags(8),this.invalidatePosition(),!0)},a.$getConcatenatedMatrix=function(){var e=this.$DisplayObject[7];if(this.$hasFlags(16)){this.$parent?this.$parent.$getConcatenatedMatrix().$preMultiplyInto(this.$getMatrix(),e):e.copyFrom(this.$getMatrix());var i=this.$DisplayObject,n=i[12],r=i[13],s=this.$scrollRect;s?e.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-s.x-n,-s.y-r),e):(0!=n||0!=r)&&e.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-n,-r),e),this.$displayList&&(this.$displayList.$renderRegion.moved=!0),this.$renderRegion&&(this.$renderRegion.moved=!0),this.$removeFlags(16)}return e},a.$getInvertedConcatenatedMatrix=function(){var t=this.$DisplayObject;return this.$hasFlags(32)&&(this.$getConcatenatedMatrix().$invertInto(t[8]),this.$removeFlags(32)),t[8]},r(a,"x",function(){return this.$getX()},function(t){this.$setX(t)}),a.$getX=function(){return this.$DisplayObject[6].tx},a.$setX=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject[6];return e==i.tx?!1:(i.tx=e,this.invalidatePosition(),!0)},r(a,"y",function(){return this.$getY()},function(t){this.$setY(t)}),a.$getY=function(){return this.$DisplayObject[6].ty},a.$setY=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject[6];return e==i.ty?!1:(i.ty=e,this.invalidatePosition(),!0)},r(a,"scaleX",function(){return this.$getScaleX()},function(t){this.$setScaleX(t)}),a.$getScaleX=function(){return this.$DisplayObject[0]},a.$setScaleX=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject;return e==i[0]?!1:(i[0]=e,this.invalidateMatrix(),!0)},r(a,"scaleY",function(){return this.$getScaleY()},function(t){this.$setScaleY(t)}),a.$getScaleY=function(){return this.$DisplayObject[1]},a.$setScaleY=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[1]?!1:(this.$DisplayObject[1]=e,this.invalidateMatrix(),!0)},r(a,"rotation",function(){return this.$getRotation()},function(t){this.$setRotation(t)}),a.$getRotation=function(){return this.$DisplayObject[4]},a.$setRotation=function(i){i=t.sys.getNumber(i),i=e(i);var n=this.$DisplayObject;if(i==n[4])return!1;var r=i-n[4],s=r/180*Math.PI;return n[2]+=s,n[3]+=s,n[4]=i,this.invalidateMatrix(),!0},r(a,"skewX",function(){return this.$DisplayObject[16]},function(t){this.$setSkewX(t)}),a.$setSkewX=function(i){i=t.sys.getNumber(i);var n=this.$DisplayObject;return i==n[16]?!1:(n[16]=i,i=e(i),i=i/180*Math.PI,n[2]=i,this.invalidateMatrix(),!0)},r(a,"skewY",function(){return this.$DisplayObject[17]},function(t){this.$setSkewY(t)}),a.$setSkewY=function(i){i=t.sys.getNumber(i);var n=this.$DisplayObject;return i==n[17]?!1:(n[17]=i,i=e(i),i=i/180*Math.PI,n[3]=i,this.invalidateMatrix(),!0)},r(a,"width",function(){return this.$getWidth()},function(t){this.$setWidth(t)}),a.$getWidth=function(){return isNaN(this.$getExplicitWidth())?this.$getOriginalBounds().width:this.$getExplicitWidth()},a.$getExplicitWidth=function(){return this.$DisplayObject[14]},a.$setWidth=function(t){if(this.$DisplayObject[14]=isNaN(t)?0/0:t,t=+t,0>t)return!1;return this.invalidateMatrix(),!0},r(a,"height",function(){return this.$getHeight()},function(t){this.$setHeight(t)}),a.$getHeight=function(){return isNaN(this.$getExplicitHeight())?this.$getOriginalBounds().height:this.$getExplicitHeight()},a.$getExplicitHeight=function(){return this.$DisplayObject[15]},a.$setHeight=function(t){if(this.$DisplayObject[15]=isNaN(t)?0/0:t,t=+t,0>t)return!1;return this.invalidateMatrix(),!0},r(a,"measuredWidth",function(){return this.$getOriginalBounds().width}),r(a,"measuredHeight",function(){return this.$getOriginalBounds().height}),r(a,"anchorOffsetX",function(){return this.$DisplayObject[12]},function(t){this.$setAnchorOffsetX(t)}),a.$setAnchorOffsetX=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[12]?!1:(this.$DisplayObject[12]=e,this.invalidatePosition(),!0)},r(a,"anchorOffsetY",function(){return this.$DisplayObject[13]},function(t){this.$setAnchorOffsetY(t)}),a.$setAnchorOffsetY=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[13]?!1:(this.$DisplayObject[13]=e,this.invalidatePosition(),!0)},r(a,"visible",function(){return this.$visible},function(t){this.$setVisible(t)}),a.$setVisible=function(t){return t=!!t,t==this.$visible?!1:(this.$visible=t,this.$invalidateTransform(),!0)},r(a,"cacheAsBitmap",function(){return this.$DisplayObject[11]},function(e){e=!!e,this.$DisplayObject[11]=e;var i=!!this.$displayList;if(i!=e)if(e){var n=t.sys.DisplayList.create(this);n&&(this.$displayList=n,this.$parentDisplayList&&(n.setDevicePixelRatio(this.$parentDisplayList.$ratioMatrix.a),this.$parentDisplayList.markDirty(n)),this.$cacheAsBitmapChanged())}else t.sys.DisplayList.release(this.$displayList),this.$displayList=null,this.$cacheAsBitmapChanged()}),a.$cacheAsBitmapChanged=function(){var t=this.$displayList||this.$parentDisplayList;this.$renderRegion&&t.markDirty(this),this.$propagateFlagsDown(48)},r(a,"alpha",function(){return this.$alpha},function(t){this.$setAlpha(t)}),a.$setAlpha=function(e){return e=t.sys.getNumber(e),e==this.$alpha?!1:(this.$alpha=e,this.$propagateFlagsDown(64),this.$invalidate(),!0)},a.$getConcatenatedAlpha=function(){if(this.$hasFlags(64)){if(this.$parent){var t=this.$parent.$getConcatenatedAlpha();this.$renderAlpha=t*this.$alpha}else this.$renderAlpha=this.$alpha;this.$removeFlags(64)}return this.$renderAlpha},r(a,"touchEnabled",function(){return this.$getTouchEnabled()},function(t){this.$setTouchEnabled(t)}),a.$getTouchEnabled=function(){return this.$touchEnabled},a.$setTouchEnabled=function(t){return this.$touchEnabled==t?!1:(this.$touchEnabled=t,!0)},r(a,"scrollRect",function(){return this.$scrollRect},function(t){this.$setScrollRect(t)}),a.$setScrollRect=function(e){return e||this.$scrollRect?(e?(this.$scrollRect||(this.$scrollRect=new t.Rectangle),this.$scrollRect.copyFrom(e)):this.$scrollRect=null,this.invalidatePosition(),!0):!1},r(a,"blendMode",function(){return t.sys.numberToBlendMode(this.$blendMode)},function(e){var i=t.sys.blendModeToNumber(e);i!=this.$blendMode&&(this.$blendMode=i,this.$invalidateTransform())}),r(a,"mask",function(){return this.$mask?this.$mask:this.$maskRect},function(t){if(t!==this){if(t)if(t instanceof n){if(t==this.$mask)return;t.$maskedObject&&(t.$maskedObject.mask=null),t.$maskedObject=this,this.$mask=t,this.$maskRect=null}else this.$setMaskRect(t),this.$mask=null;else this.$mask=null,this.$maskRect=null;this.$invalidateTransform()}}),a.$setMaskRect=function(e){return e||this.$maskRect?(e?(this.$maskRect||(this.$maskRect=new t.Rectangle),this.$maskRect.copyFrom(e)):this.$maskRect=null,this.invalidatePosition(),!0):!1},a.getTransformedBounds=function(t,e){return t=t||this,this.$getTransformedBounds(t,e)},a.getBounds=function(t,e){if(void 0===e&&(e=!0),t=this.$getTransformedBounds(this,t),e){var i=this.$DisplayObject;(0!=i[12]||0!=i[13])&&(t.x-=i[12],t.y-=i[13])}return t},a.$getTransformedBounds=function(e,i){var n=this.$getOriginalBounds();if(i||(i=new t.Rectangle),i.copyFrom(n),e==this||i.isEmpty())return i;var r;if(e){r=t.$TempMatrix;var s=e.$getInvertedConcatenatedMatrix();s.$preMultiplyInto(this.$getConcatenatedMatrix(),r)}else r=this.$getConcatenatedMatrix();return r.$transformBounds(i),i},a.globalToLocal=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.$getInvertedConcatenatedMatrix();return n.transformPoint(t,e,i)},a.localToGlobal=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.$getConcatenatedMatrix();return n.transformPoint(t,e,i)},a.$invalidateContentBounds=function(){this.$invalidate(),this.$setFlags(2),this.$propagateFlagsUp(4)},a.$getOriginalBounds=function(){var t=this.$DisplayObject[9];return this.$hasFlags(4)&&(t.copyFrom(this.$getContentBounds()),this.$measureChildBounds(t),this.$removeFlags(4),this.$displayList&&(this.$displayList.$renderRegion.moved=!0)),t},a.$measureChildBounds=function(t){},a.$getContentBounds=function(){var t=this.$DisplayObject[10];return this.$hasFlags(2)&&(this.$measureContentBounds(t),this.$renderRegion&&(this.$renderRegion.moved=!0),this.$removeFlags(2)),t},a.$measureContentBounds=function(t){},a.$invalidate=function(t){if(this.$renderRegion&&!this.$hasFlags(256)){this.$setFlags(256);var e=this.$displayList?this.$displayList:this.$parentDisplayList;e&&e.markDirty(this)}},a.$invalidateTransform=function(){if(!this.$hasFlags(512)){this.$setFlags(512);var t=this.$displayList;(t||this.$renderRegion)&&this.$parentDisplayList&&this.$parentDisplayList.markDirty(t||this)}},a.$update=function(t){this.$removeFlagsUp(768),this.$getConcatenatedAlpha();var e=this.$getConcatenatedMatrix(),i=t||this.$getContentBounds(),n=this.$displayList||this.$parentDisplayList,r=this.$renderRegion;if(!n)return r.setTo(0,0,0,0),r.moved=!1,!1;if(!r.moved&&!n.$ratioChanged)return!1;r.moved=!1;var s=this.$renderMatrix;s.copyFrom(e);var a=n.root;return a!==this.$stage&&this.$getConcatenatedMatrixAt(a,s),n.$ratioMatrix.$preMultiplyInto(s,s),r.updateRegion(i,s),!0},a.$getConcatenatedMatrixAt=function(e,i){var n=e.$getInvertedConcatenatedMatrix();if(0===n.a||0===n.d){var r=this,s=e.$nestLevel;for(i.identity();r.$nestLevel>s;){var a=r.$scrollRect;a&&i.concat(t.$TempMatrix.setTo(1,0,0,1,-a.x,-a.y)),i.concat(r.$getMatrix()),r=r.$parent}}else n.$preMultiplyInto(i,i)},a.$render=function(t){},a.$hitTest=function(t,e){var i=this.$DisplayObject;if(!this.$renderRegion||!this.$visible||0==i[0]||0==i[1])return null;var n=this.$getInvertedConcatenatedMatrix();if(0==n.a&&0==n.b&&0==n.c&&0==n.d)return null;var r=this.$getContentBounds(),s=n.a*t+n.c*e+n.tx,a=n.b*t+n.d*e+n.ty;if(r.contains(s,a)){if(!this.$children){var o=this.$scrollRect?this.$scrollRect:this.$maskRect;if(o&&!o.contains(s,a))return null;if(this.$mask&&!this.$mask.$hitTest(t,e))return null}return this}return null},a.hitTestPoint=function(e,i,n){if(n){var r=this.$getInvertedConcatenatedMatrix(),s=r.a*e+r.c*i+r.tx,a=r.b*e+r.d*i+r.ty,o=t.Rectangle.create();o.setTo(s,a,3,3);var h=new t.RenderTexture;h.drawToTexture(this,o);var l,c=h.context;try{l=c.getImageData(0,0,1,1).data}catch(u){throw new Error(t.sys.tr(1040))}var d=!0;return 0===l[3]&&(d=!1),t.Rectangle.release(o),h.dispose(),d}var f=this.$DisplayObject;if(0==f[0]||0==f[1])return!1;var r=this.$getInvertedConcatenatedMatrix(),g=this.getBounds(),s=r.a*e+r.c*i+r.tx,a=r.b*e+r.d*i+r.ty;if(g.contains(s,a)){var p=this.$scrollRect?this.$scrollRect:this.$maskRect;return p&&!p.contains(s,a)?!1:!0}return!1},a.$addListener=function(e,r,s,a,o,h){i.prototype.$addListener.call(this,e,r,s,a,o,h);var l=e==t.Event.ENTER_FRAME;if(l||e==t.Event.RENDER){var c=l?n.$enterFrameCallBackList:n.$renderCallBackList;-1==c.indexOf(this)&&c.push(this)}},a.removeEventListener=function(e,r,s,a){i.prototype.removeEventListener.call(this,e,r,s,a);var o=e==t.Event.ENTER_FRAME;if((o||e==t.Event.RENDER)&&!this.hasEventListener(e)){var h=o?n.$enterFrameCallBackList:n.$renderCallBackList,l=h.indexOf(this);-1!==l&&h.splice(l,1)}},a.dispatchEvent=function(t){if(!t.$bubbles)return i.prototype.dispatchEvent.call(this,t);var e=this.$getPropagationList(this),n=.5*e.length;return t.$setTarget(this),this.$dispatchPropagationEvent(t,e,n),!t.$isDefaultPrevented},a.$getPropagationList=function(t){for(var e=[];t;)e.push(t),t=t.$parent;var i=e.concat();return i.reverse(),e=i.concat(e)},a.$dispatchPropagationEvent=function(t,e,i){for(var n=e.length,r=i-1,s=0;n>s;s++){var a=e[s];if(t.$currentTarget=a,r>s?t.$eventPhase=1:s==i||s==r?t.$eventPhase=2:t.$eventPhase=3,a.$notifyListener(t,i>s),t.$isPropagationStopped||t.$isPropagationImmediateStopped)return}},a.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.$parent}return!1},n.defaultTouchEnabled=!1,n.$enterFrameCallBackList=[],n.$renderCallBackList=[],n}(t.EventDispatcher);t.DisplayObject=i,t.registerClass(i,"egret.DisplayObject",["egret.sys.Renderable"])}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){e.call(this),this.$scale9Grid=null,this.$fillMode="scale",this.$smoothing=!0,this._pixelHitTest=!1,this.$renderRegion=new t.sys.Region,this.$Bitmap={0:null,1:null,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:!0,11:0/0,12:0/0},this.$setBitmapData(i)}__extends(i,e);var n=__define,r=i,s=r.prototype;return s.$onAddToStage=function(i,n){e.prototype.$onAddToStage.call(this,i,n);var r=this.$Bitmap[0];r&&(r instanceof t.Texture?t.Texture.$addDisplayObject(this,r._bitmapData.hashCode):t.Texture.$addDisplayObject(this,r.hashCode))},s.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);var i=this.$Bitmap[0];i&&(i instanceof t.Texture?t.Texture.$removeDisplayObject(this,i._bitmapData.hashCode):t.Texture.$removeDisplayObject(this,i.hashCode))},n(s,"bitmapData",function(){var e=this.$Bitmap[0];return e instanceof t.Texture?null:e},function(t){this.$setBitmapData(t)}),n(s,"texture",function(){var e=this.$Bitmap[0];return e instanceof t.Texture?e:null},function(t){this.$setBitmapData(t)}),s.$setBitmapData=function(e){var i=this.$Bitmap,n=i[0];return e==n?!1:(i[0]=e,e?(this.$refreshImageData(),this.$stage&&(n&&(n instanceof t.Texture?t.Texture.$addDisplayObject(this,n._bitmapData.hashCode):t.Texture.$addDisplayObject(this,n.hashCode)),e instanceof t.Texture?t.Texture.$addDisplayObject(this,e._bitmapData.hashCode):t.Texture.$addDisplayObject(this,e.hashCode)),this.$invalidateContentBounds(),!0):(this.setImageData(null,0,0,0,0,0,0,0,0),this.$invalidateContentBounds(),!0))},s.$refreshImageData=function(){var e=this.$Bitmap,i=e[0];if(i)if(i instanceof t.Texture){var n=i;this.setImageData(n._bitmapData,n._bitmapX,n._bitmapY,n._bitmapWidth,n._bitmapHeight,n._offsetX,n._offsetY,n.$getTextureWidth(),n.$getTextureHeight())}else this.setImageData(i,0,0,i.width,i.height,0,0,i.width,i.height)},s.setImageData=function(t,e,i,n,r,s,a,o,h){var l=this.$Bitmap;l[1]=t,l[2]=e,l[3]=i,l[4]=n,l[5]=r,l[6]=s,l[7]=a,l[8]=o,l[9]=h},n(s,"scale9Grid",function(){return this.$scale9Grid},function(t){this.$scale9Grid=t,this.$invalidateContentBounds()}),n(s,"fillMode",function(){return this.$fillMode},function(t){this.$setFillMode(t)}),s.$setFillMode=function(t){return t==this.$fillMode?!1:(this.$fillMode=t,!0)},n(s,"smoothing",function(){return this.$smoothing},function(t){t=!!t,t!=this.$smoothing&&(this.$smoothing=t,this.$invalidate())}),s.$setWidth=function(t){var e=this.$Bitmap;return 0>t||t==e[11]?!1:(e[11]=t,this.$invalidateContentBounds(),!0)},s.$setHeight=function(t){var e=this.$Bitmap;return 0>t||t==e[12]?!1:(e[12]=t,this.$invalidateContentBounds(),!0)},s.$getWidth=function(){var t=this.$Bitmap;return isNaN(t[11])?this.$getContentBounds().width:t[11]},s.$getHeight=function(){var t=this.$Bitmap;return isNaN(t[12])?this.$getContentBounds().height:t[12]},s.$measureContentBounds=function(t){var e=this.$Bitmap;if(e[1]){var e=this.$Bitmap,i=isNaN(e[11])?e[8]:e[11],n=isNaN(e[12])?e[9]:e[12];t.setTo(0,0,i,n)}else i=isNaN(e[11])?0:e[11],n=isNaN(e[12])?0:e[12],t.setTo(0,0,i,n)},s.$render=function(t){var e=this.$Bitmap;if(e[1]){var n=isNaN(e[11])?e[8]:e[11],r=isNaN(e[12])?e[9]:e[12];i.$drawImage(t,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],n,r,this.scale9Grid||e[0].scale9Grid,this.fillMode,this.$smoothing)}},n(s,"pixelHitTest",function(){return this._pixelHitTest},function(t){this._pixelHitTest=!!t}),s.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n&&this._pixelHitTest&&(n=this.hitTestPixel(t,i)),n},s.hitTestPixel=function(e,i){var n,r,s=this.$getInvertedConcatenatedMatrix(),a=s.a*e+s.c*i+s.tx,o=s.b*e+s.d*i+s.ty,h=this.$displayList;if(h){n=h.renderContext;try{r=n.getImageData(a-h.offsetX,o-h.offsetY,1,1).data}catch(l){throw console.log(this.$Bitmap[0]),new Error(t.sys.tr(1039))}}else{n=t.sys.hitTestRenderContext,n.surface.width=n.surface.height=3,n.translate(1-a,1-o),this.$render(n);try{r=n.getImageData(1,1,1,1).data}catch(l){throw console.log(this.$Bitmap[0]),new Error(t.sys.tr(1039))}}return 0===r[3]?null:this},i.$drawImage=function(e,n,r,s,a,o,h,l,c,u,d,f,g,p,$){if(n)if(e.imageSmoothingEnabled=$,g)i.$drawScale9GridImage(e,n,g,r,s,a,o,h,l,c,u,d,f);else if(p==t.BitmapFillMode.SCALE){var v=d/c,y=f/u;e.drawImage(n,r,s,a,o,h*v,l*y,v*a,y*o)}else if(p==t.BitmapFillMode.CLIP){var x=Math.min(c,d),m=Math.min(u,f);e.drawImage(n,r,s,x/t.$TextureScaleFactor,m/t.$TextureScaleFactor,h,l,x,m)}else{var T,_=n;(_.width!=a||_.height!=o||1!=t.$TextureScaleFactor)&&(T=t.sys.surfaceFactory.create(!0),T.width=c,T.height=u,T.renderContext.drawImage(_,r,s,a,o,h,l,a*t.$TextureScaleFactor,o*t.$TextureScaleFactor),_=T);var b=e.createPattern(_,"repeat");e.beginPath(),e.rect(0,0,d,f),e.fillStyle=b,e.fill(),T&&t.sys.surfaceFactory.release(T)}},i.$drawScale9GridImage=function(e,i,n,r,s,a,o,h,l,c,u,d,f){var g=a,p=o;d-=c-a*t.$TextureScaleFactor,f-=u-o*t.$TextureScaleFactor;var $=n.x-h,v=n.y-l,y=$/t.$TextureScaleFactor,x=v/t.$TextureScaleFactor,m=n.width/t.$TextureScaleFactor,T=n.height/t.$TextureScaleFactor;0==T&&(T=1,x>=p&&x--),0==m&&(m=1,y>=g&&y--);var _=r,b=_+y,C=b+m,F=g-y-m,E=s,R=E+x,S=R+T,w=p-x-T,L=F*t.$TextureScaleFactor,O=w*t.$TextureScaleFactor;if((y+F)*t.$TextureScaleFactor>d||(x+w)*t.$TextureScaleFactor>f)return void e.drawImage(i,r,s,a,o,h,l,d,f);var D=h,M=D+$,I=D+(d-L),A=d-$-L,N=l,B=N+v,P=N+f-O,k=f-v-O;0>=x||0>=T||0>=w||0>=y||0>=m||0>=F||y+m+F>g||x+T+w>p||(e.drawImage(i,_,E,y,x,D,N,$,v),e.drawImage(i,b,E,m,x,M,N,A,v),e.drawImage(i,C,E,F,x,I,N,L,v),e.drawImage(i,_,R,y,T,D,B,$,k),e.drawImage(i,b,R,m,T,M,B,A,k),e.drawImage(i,C,R,F,T,I,B,L,k),e.drawImage(i,_,S,y,w,D,P,$,O),e.drawImage(i,b,S,m,w,M,P,A,O),e.drawImage(i,C,S,F,w,I,P,L,O))},i}(t.DisplayObject);t.Bitmap=e,t.registerClass(e,"egret.Bitmap")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.REPEAT="repeat",t.SCALE="scale",t.CLIP="clip",t}();t.BitmapFillMode=e,t.registerClass(e,"egret.BitmapFillMode")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.NORMAL="normal",t.ADD="add",t.ERASE="erase",t}();t.BlendMode=e,t.registerClass(e,"egret.BlendMode")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){var i=s[e];return t.sys.isUndefined(i)?0:i}function n(e){var i=r[e];return t.sys.isUndefined(i)?"normal":i}for(var r=["normal","add","erase"],s={},a=r.length,o=0;a>o;o++){var h=r[o];s[h]=o}e.blendModeToNumber=i,e.numberToBlendMode=n}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$touchChildren=!0,this.$children=[]}__extends(i,e);var n=__define,r=i,s=r.prototype;return s.$propagateFlagsDown=function(t){if(!this.$hasFlags(t)){this.$setFlags(t);for(var e=this.$children,i=0;i<e.length;i++)e[i].$propagateFlagsDown(t)}},n(s,"numChildren",function(){return this.$children.length}),s.addChild=function(t){var e=this.$children.length;return t.$parent==this&&e--,this.$doAddChild(t,e)},s.addChildAt=function(t,e){return e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length,t.$parent==this&&e--),this.$doAddChild(t,e)},s.$doAddChild=function(e,n,r){void 0===r&&(r=!0);var s=e.$parent;if(s==this)return this.doSetChildIndex(e,n),e;s&&s.removeChild(e),this.$children.splice(n,0,e),e.$setParent(this);var a=this.$stage;if(a&&e.$onAddToStage(a,this.$nestLevel+1),r&&e.dispatchEventWith(t.Event.ADDED,!0),a)for(var o=i.$EVENT_ADD_TO_STAGE_LIST;o.length;){var h=o.shift();h.$stage&&r&&h.dispatchEventWith(t.Event.ADDED_TO_STAGE)}var l=this.$displayList||this.$parentDisplayList;return this.assignParentDisplayList(e,l,l),e.$propagateFlagsDown(624),this.$propagateFlagsUp(4),this.$childAdded(e,n),e},s.contains=function(t){for(;t;){if(t==this)return!0;t=t.$parent}return!1},s.getChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$children[t]:null},s.getChildIndex=function(t){return this.$children.indexOf(t)},s.getChildByName=function(t){for(var e,i=this.$children,n=i.length,r=0;n>r;r++)if(e=i[r],e.name==t)return e;return null},s.removeChild=function(t){var e=this.$children.indexOf(t);return e>=0?this.$doRemoveChild(e):null},s.removeChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$doRemoveChild(t):null},s.$doRemoveChild=function(e,n){void 0===n&&(n=!0),e=0|+e;var r=this.$children,s=r[e];if(this.$childRemoved(s,e),n&&s.dispatchEventWith(t.Event.REMOVED,!0),this.$stage){s.$onRemoveFromStage();for(var a=i.$EVENT_REMOVE_FROM_STAGE_LIST;a.length>0;){var o=a.shift();n&&o.dispatchEventWith(t.Event.REMOVED_FROM_STAGE),o.$stage=null}}var h=this.$displayList||this.$parentDisplayList;this.assignParentDisplayList(s,h,null),s.$propagateFlagsDown(624),s.$setParent(null);var l=r.indexOf(s);return r.splice(l,1),this.$propagateFlagsUp(4),s},s.setChildIndex=function(t,e){e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length-1),this.doSetChildIndex(t,e)},s.doSetChildIndex=function(t,e){var i=this.$children.indexOf(t);i!=e&&(this.$childRemoved(t,i),this.$children.splice(i,1),this.$children.splice(e,0,t),this.$childAdded(t,e),t.$invalidateTransform(),this.$propagateFlagsUp(4))},s.swapChildrenAt=function(t,e){t=0|+t,e=0|+e,t>=0&&t<this.$children.length&&e>=0&&e<this.$children.length&&this.doSwapChildrenAt(t,e)},s.swapChildren=function(t,e){var i=this.$children.indexOf(t),n=this.$children.indexOf(e);-1==i||-1==n||this.doSwapChildrenAt(i,n)},s.doSwapChildrenAt=function(t,e){if(t>e){var i=e;e=t,t=i}else if(t==e)return;var n=this.$children,r=n[t],s=n[e];this.$childRemoved(r,t),this.$childRemoved(s,e),n[t]=s,n[e]=r,this.$childAdded(s,t),this.$childAdded(r,e),r.$invalidateTransform(),s.$invalidateTransform(),this.$propagateFlagsUp(4)},s.removeChildren=function(){for(var t=this.$children,e=t.length-1;e>=0;e--)this.$doRemoveChild(e)},s.$childAdded=function(t,e){},s.$childRemoved=function(t,e){},s.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i);var n=this.$children,r=n.length;i++;for(var s=0;r>s;s++){var a=this.$children[s];a.$onAddToStage(t,i)}},s.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);for(var t=this.$children,i=t.length,n=0;i>n;n++){var r=t[n];r.$onRemoveFromStage()}},s.$measureChildBounds=function(e){var i=this.$children,n=i.length;if(0!=n){for(var r=0,s=0,a=0,o=0,h=!1,l=-1;n>l;l++){var c=-1==l?e:i[l].$getTransformedBounds(this,t.$TempRectangle);c.isEmpty()||(h?(r=Math.min(r,c.x),s=Math.max(s,c.x+c.width),a=Math.min(a,c.y),o=Math.max(o,c.y+c.height)):(h=!0,r=c.x,s=r+c.width,a=c.y,o=a+c.height))}e.setTo(r,a,s-r,o-a)}},n(s,"touchChildren",function(){return this.$getTouchChildren()},function(t){this.$setTouchChildren(!!t)}),s.$getTouchChildren=function(){return this.$touchChildren},s.$setTouchChildren=function(t){return this.$touchChildren==t?!1:(this.$touchChildren=t,!0)},s.$invalidate=function(t){if(e.prototype.$invalidate.call(this,t),t){var i=this.$displayList||this.$parentDisplayList,n=this.$children;if(n)for(var r=n.length-1;r>=0;r--)this.markChildDirty(n[r],i)}},s.$invalidateTransform=function(){this.markChildDirty(this,this.$parentDisplayList)},s.markChildDirty=function(t,e){if(!t.$hasFlags(512)){t.$setFlags(512);var i=t.$displayList;if((i||t.$renderRegion)&&e&&e.markDirty(i||t),!i){var n=t.$children;if(n)for(var r=n.length-1;r>=0;r--)this.markChildDirty(n[r],e)}}},s.$cacheAsBitmapChanged=function(){e.prototype.$cacheAsBitmapChanged.call(this);for(var t=this.$displayList||this.$parentDisplayList,i=this.$children,n=i.length-1;n>=0;n--)this.assignParentDisplayList(i[n],t,t)},s.assignParentDisplayList=function(t,e,i){t.$parentDisplayList=i,t.$setFlags(512);var n=t.$displayList;if((t.$renderRegion||n)&&e&&e.markDirty(n||t),!n){var r=t.$children;if(r)for(var s=r.length-1;s>=0;s--)this.assignParentDisplayList(r[s],e,i)}},s.$hitTest=function(t,i){if(!this.$visible)return null;var n=this.$getInvertedConcatenatedMatrix(),r=n.a*t+n.c*i+n.tx,s=n.b*t+n.d*i+n.ty,a=this.$scrollRect?this.$scrollRect:this.$maskRect;if(a&&!a.contains(r,s))return null;if(this.$mask&&!this.$mask.$hitTest(t,i))return null;for(var o=this.$children,h=!1,l=o.length-1;l>=0;l--){var c=o[l];if(!c.$maskedObject){var u=c.$hitTest(t,i);if(u){if(h=!0,u.$touchEnabled)break;u=null}}}return u?this.$touchChildren?u:this:h?this:e.prototype.$hitTest.call(this,t,i)},s.$setAlpha=function(e){return e=t.sys.getNumber(e),e==this.$alpha?!1:(this.$alpha=e,this.$propagateFlagsDown(64),this.$invalidate(),this.$invalidateAllChildren(),!0)},s.$invalidateAllChildren=function(){var t=this.$children;if(t)for(var e=t.length-1;e>=0;e--){var i=t[e];i.$invalidate(),i.$children&&i.$invalidateAllChildren()}},i.$EVENT_ADD_TO_STAGE_LIST=[],i.$EVENT_REMOVE_FROM_STAGE_LIST=[],i}(t.DisplayObject);t.DisplayObjectContainer=e,t.registerClass(e,"egret.DisplayObjectContainer")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.LINEAR="linear",t.RADIAL="radial",t}();t.GradientType=e,t.registerClass(e,"egret.GradientType")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$renderContext=null,this.strokeStyleColor=null,this.fillStyle=null,this._dirty=!1,this.lineX=0,this.lineY=0,this._firstCheck=!0,this._minX=0,this._minY=0,this._maxX=0,this._maxY=0,this.$renderContext=new t.GraphicsRenderContext}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"graphicsRenderContext",function(){return this.$renderContext}),s.$hitTest=function(e,i){var n=this.$renderContext.$targetDisplay,r=n.$getInvertedConcatenatedMatrix(),s=r.a*e+r.c*i+r.tx,a=r.b*e+r.d*i+r.ty,o=t.sys.hitTestRenderContext;o.surface.width=o.surface.height=3,o.translate(1-s,1-a),this.$renderContext.$render(o,!0);var h=o.getImageData(1,1,1,1).data;return 0===h[3]?null:n},s.$measureContentBounds=function(t){this.$renderContext.$measureContentBounds(t)},s.$render=function(t){this.$renderContext.$render(t)},s.beginFill=function(t,e){void 0===e&&(e=1),this.fillStyle=this._parseColor(t,e),this._setStyle(this.fillStyle)},s._parseColor=function(t,e){var i=255&t,n=(65280&t)>>8,r=t>>16;return"rgba("+r+","+n+","+i+","+e+")"},s._setStyle=function(t){this.$renderContext.fillStyle=t,this.$renderContext.beginPath()},s.beginGradientFill=function(t,e,i,n,r){void 0===r&&(r=null);var s=this.getGradient(t,e,i,n,r);this.fillStyle=s,this._setStyle(this.fillStyle)},s.getGradient=function(e,i,n,r,s){var a=t.sys.surfaceFactory.create(!0),o=a.renderContext,h=new t.Matrix;s?(h.a=819.2*s.a,h.b=819.2*s.b,h.c=819.2*s.c,h.d=819.2*s.d,h.tx=s.tx,h.ty=s.ty):(h.a=100,h.d=100);
var l;l=e==t.GradientType.LINEAR?o.createLinearGradient(-1,0,1,0):o.createRadialGradient(0,0,0,0,0,1);for(var c=i.length,u=0;c>u;u++)l.addColorStop(r[u]/255,this._parseColor(i[u],n[u]));return l.matrix=h,t.sys.surfaceFactory.release(a),l},s.drawRect=function(t,e,i,n){this.$renderContext.beginPath(),this.$renderContext.rect(t,e,i,n),this.$renderContext.closePath()},s.drawCircle=function(t,e,i){this.$renderContext.beginPath(),this.$renderContext.arc(t,e,i,0,2*Math.PI),this.$renderContext.closePath()},s.drawRoundRect=function(t,e,i,n,r,s){var a=t,o=e,h=i,l=n,c=r/2,u=s?s/2:c,d=a+h,f=o+l,g=d,p=f-u;this.$renderContext.beginPath(),this.$renderContext.moveTo(g,p),this.$renderContext.quadraticCurveTo(d,f,d-c,f),this.$renderContext.lineTo(a+c,f),this.$renderContext.quadraticCurveTo(a,f,a,f-u),this.$renderContext.lineTo(a,o+u),this.$renderContext.quadraticCurveTo(a,o,a+c,o),this.$renderContext.lineTo(d-c,o),this.$renderContext.quadraticCurveTo(d,o,d,o+u),this.$renderContext.lineTo(g,p),this.$renderContext.closePath()},s.drawEllipse=function(t,e,i,n){var r=t+i/2,s=e+n/2,a=i>n?i:n,o=i/a,h=n/a;a/=2,this.$renderContext.scale(o,h),this.$renderContext.beginPath(),this.$renderContext.arc(r/o,s/h,a,0,2*Math.PI),this.$renderContext.closePath(),this.$renderContext.scale(1/o,1/h)},s.lineStyle=function(t,e,i,n,r,s,a,o){void 0===t&&(t=0/0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===r&&(r="normal"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===o&&(o=3),this.strokeStyleColor&&this._createEndLineCommand(),this.strokeStyleColor=this._parseColor(e,i),this.moveTo(this.lineX,this.lineY),0>=t&&(t=1),this.$renderContext.lineWidth=t,this.$renderContext.strokeStyle=this.strokeStyleColor,this.$renderContext.beginPath()},s.lineTo=function(t,e){this.lineX=t,this.lineY=e,this.$renderContext.lineTo(t,e)},s.curveTo=function(t,e,i,n){this.lineX=i,this.lineY=n,this.$renderContext.quadraticCurveTo(t,e,i,n)},s.drawArc=function(t,e,i,n,r,s){this.lineX=Math.cos(r)+t,this.lineY=Math.sin(r)+e,this.$renderContext.arc(t,e,i,n,r,s)},s.cubicCurveTo=function(t,e,i,n,r,s){this.lineX=r,this.lineY=s,this.$renderContext.bezierCurveTo(t,e,i,n,r,s)},s.moveTo=function(t,e){this.lineX=t,this.lineY=e,this.$renderContext.moveTo(t,e)},s.clear=function(){this.lineX=0,this.lineY=0,this.strokeStyleColor=null,this.fillStyle=null,this._minX=0,this._minY=0,this._maxX=0,this._maxY=0,this._firstCheck=!0,this._dirty=!0,this.$renderContext.clear()},s.endFill=function(){(null!=this.fillStyle||null!=this.strokeStyleColor)&&(this._fill(),this.fillStyle=null,this.$renderContext.fillStyle=null,this.$renderContext.strokeStyle=null)},s._createEndFillCommand=function(){this.$renderContext.fill(),this.$renderContext.closePath()},s._fill=function(){this.fillStyle&&this._createEndFillCommand(),this.strokeStyleColor&&this._createEndLineCommand()},s._createEndLineCommand=function(){this.$renderContext.stroke(),this.$renderContext.closePath()},i}(t.HashObject);t.Graphics=e,t.registerClass(e,"egret.Graphics")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=2*s,0>t&&(t+=2*s),t}function i(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function n(t,e,n,r,s){var a=i(t,e,n,r);s.x=(n-t)/a,s.y=(r-e)/a}function r(t){var e=t.graphicsMap={};return e[6]=t.arc,e[18]=t.arcTo,e[17]=t.beginPath,e[14]=t.bezierCurveTo,e[10]=t.closePath,e[9]=t.fill,e[13]=t.fillRect,e[8]=t.lineTo,e[12]=t.moveTo,e[7]=t.quadraticCurveTo,e[11]=t.rect,e[15]=t.stroke,e[16]=t.strokeRect,e[19]=t.scale,e[3]=function(e){t.lineWidth=e},e[0]=function(e){t.miterLimit=e},e[5]=function(e){t.fillStyle=e},e[1]=function(e){t.lineCap=e},e[2]=function(e){t.lineJoin=e},e[4]=function(e){t.strokeStyle=e},e}var s=Math.PI,a=s/2,o=s+a,h=2*s,l={x:0,y:0},c={x:0,y:0},u={x:0,y:0},d=function(d){function f(){d.call(this),this._maxLineWidth=1,this.$commands=[],this.reset()}__extends(f,d);var g=__define,p=f,$=p.prototype;return f.createRadialGradient=function(e,i,n,r,s,a){return t.sys.sharedRenderContext.createRadialGradient(e,i,n,r,s,a)},f.createLinearGradient=function(e,i,n,r){return t.sys.sharedRenderContext.createLinearGradient(e,i,n,r)},f.createPattern=function(e,i){return t.sys.sharedRenderContext.createPattern(e,i)},g($,"fillStyle",function(){return this._fillStyle},function(e){"number"==typeof e&&(e=t.toColorString(e)),this._fillStyle=e,this.pushCommand(5,arguments)}),g($,"lineWidth",function(){return this._lineWidth},function(t){this._lineWidth=t,isNaN(t)?this._maxLineWidth=0:this._maxLineWidth=Math.max(this._maxLineWidth,t),this.pushCommand(3,arguments)}),g($,"lineCap",function(){return this._lineCap},function(t){this._lineCap=t,this.pushCommand(1,arguments)}),g($,"strokeStyle",function(){return this._strokeStyle},function(e){var i=e;"number"==typeof i&&(i=t.toColorString(i)),this._strokeStyle=i,this.pushCommand(4,arguments)}),g($,"lineJoin",function(){return this._lineJoin},function(t){this._lineJoin=t,this.pushCommand(2,arguments)}),g($,"miterLimit",function(){return this._miterLimit},function(t){this._miterLimit=t,this.pushCommand(0,arguments)}),$.scale=function(t,e){this.pushCommand(19,arguments)},$.arc=function(t,e,i,n,r,s){this.pushCommand(6,arguments),0>i||(s?this.arcBounds(t,e,i,r,n):this.arcBounds(t,e,i,n,r))},$.arcBounds=function(t,i,n,r,l){if(r=e(r),l=e(l),Math.abs(r-l)<.01)return this.extendByPoint(t-n,i-n),void this.extendByPoint(t+n,i+n);r>l&&(l+=h);var c=Math.cos(r)*n,u=Math.cos(l)*n,d=Math.min(c,u),f=Math.max(c,u),g=Math.sin(r)*n,p=Math.sin(l)*n,$=Math.min(g,p),v=Math.max(g,p);s>=r&&l>=s&&(d=-n),h>=r&&l>=h&&(f=n),o>=r&&l>=o&&($=-n),a>=r&&l>=a&&(v=n),this.extendByPoint(d+t,$+i),this.extendByPoint(f+t,v+i)},$.quadraticCurveTo=function(t,e,i,n){this.pushCommand(7,arguments),this.checkMoveTo(),this.extendByPoint(t,e),this.extendByPoint(i,n)},$.bezierCurveTo=function(t,e,i,n,r,s){this.pushCommand(14,arguments),this.checkMoveTo(),this.extendByPoint(t,e),this.extendByPoint(i,n),this.extendByPoint(r,s)},$.lineTo=function(t,e){this.pushCommand(8,arguments),this.checkMoveTo(),this.extendByPoint(t,e)},$.fill=function(t){this.pushCommand(9,arguments),this.hasFill=!0},$.closePath=function(){this.pushCommand(10,arguments)},$.rect=function(t,e,i,n){this.pushCommand(11,arguments),this.extendByPoint(t,e),this.extendByPoint(t+i,e+n)},$.moveTo=function(t,e){this.pushCommand(12,arguments),this.moveToX=t,this.moveToY=e,this.hasMoved=!0},$.fillRect=function(t,e,i,n){this.pushCommand(13,arguments),this.extendByPoint(t,e),this.extendByPoint(t+i,e+n),this.hasFill=!0},$.stroke=function(){this.pushCommand(15,arguments),this.hasStroke=!0},$.strokeRect=function(t,e,i,n){this.pushCommand(16,arguments),this.hasStroke=!0,this.extendByPoint(t,e),this.extendByPoint(t+i,e+n)},$.beginPath=function(){this.pushCommand(17,arguments),this.hasMoved=!1,this.moveToX=0/0,this.moveToY=0/0},$.arcTo=function(t,r,a,o,h){if(this.pushCommand(18,arguments),!isNaN(this.moveToX)){this.checkMoveTo(),n(this.moveToX,this.moveToY,t,r,c),n(a,o,t,r,u),l.x=c.x+u.x,l.y=c.y+u.y,n(l.x,l.y,0,0,l);var d=c.x*l.x+c.y*l.y,f=i(c.x,c.y,0,0),g=i(l.x,l.y,0,0),p=d/(f*g),$=Math.acos(p),v=h/Math.sin($),y=t+l.x*v,x=r+l.y*v,m=h/Math.tan($),T=t+c.x*m,_=r+c.y*m,b=t+u.x*m,C=r+u.y*m;n(y,x,T,_,l);var F=Math.atan2(l.y,l.x);n(y,x,b,C,l);var E=Math.atan2(l.y,l.x),R=E-F;if(R=e(R),R>s){var S=E;E=F,F=S}this.arcBounds(y,x,h,F,E)}},$.clear=function(){this.reset(),this.$commands.length=0,this.$targetDisplay.$invalidateContentBounds()},$.reset=function(){this._fillStyle=null,this._lineCap="butt",this._lineJoin="miter",this._lineWidth=1,this._maxLineWidth=1,this._miterLimit=10,this._strokeStyle=null,this.hasMoved=!1,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.isFirst=!0,this.moveToX=0/0,this.moveToY=0/0,this.hasStroke=!1,this.hasFill=!1},$.pushCommand=function(t,e){this.$commands.push({type:t,arguments:e}),this.$targetDisplay.$invalidateContentBounds()},$.checkMoveTo=function(){this.hasMoved&&(this.hasMoved=!1,this.extendByPoint(this.moveToX,this.moveToY))},$.extendByPoint=function(t,e){this.isFirst?(this.isFirst=!1,this.maxX=this.minX=t,this.maxY=this.minY=e):(this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,e))},$.$measureContentBounds=function(t){if(!this.hasFill&&null==this._fillStyle&&!this.hasStroke&&null==this._strokeStyle)return void t.setEmpty();if(this.hasStroke||this._strokeStyle)var e=this._maxLineWidth,i=.5*e;else i=e=0;t.setTo(this.minX-i,this.minY-i,this.maxX-this.minX+e,this.maxY-this.minY+e)},$.$render=function(t,e){t.save(),t.fillStyle="#000000",t.lineCap="butt",t.lineJoin="miter",t.lineWidth=1,t.miterLimit=10,t.strokeStyle="#000000",t.beginPath();var i=t.graphicsMap;i||(i=r(t));var n=this.$commands,s=n.length;if(e)for(var a=0;s>a;a++){var o=n[a];5==o.type||4==o.type?i[o.type].apply(t,["rgba(1,1,1,1)"]):i[o.type].apply(t,o.arguments)}else for(var a=0;s>a;a++){var o=n[a];i[o.type].apply(t,o.arguments)}this._strokeStyle&&this._maxLineWidth>0&&(i[15].apply(t,[]),i[10].apply(t,[])),this._fillStyle&&(i[9].apply(t,[]),i[10].apply(t,[])),t.restore()},f}(t.HashObject);t.GraphicsRenderContext=d,t.registerClass(d,"egret.GraphicsRenderContext")}(egret||(egret={}));var egret;!function(t){t.$TextureScaleFactor=1;var e=function(e){function i(){e.call(this),this._bitmapX=0,this._bitmapY=0,this._bitmapWidth=0,this._bitmapHeight=0,this._offsetX=0,this._offsetY=0,this._textureWidth=0,this._textureHeight=0,this._sourceWidth=0,this._sourceHeight=0,this._bitmapData=null}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"textureWidth",function(){return this.$getTextureWidth()}),s.$getTextureWidth=function(){return this._textureWidth},n(s,"textureHeight",function(){return this.$getTextureHeight()}),s.$getTextureHeight=function(){return this._textureHeight},s.$getScaleBitmapWidth=function(){return this._bitmapWidth*t.$TextureScaleFactor},s.$getScaleBitmapHeight=function(){return this._bitmapHeight*t.$TextureScaleFactor},n(s,"bitmapData",function(){return this._bitmapData}),s._setBitmapData=function(e){this._bitmapData=e;var i=e.width*t.$TextureScaleFactor,n=e.height*t.$TextureScaleFactor;this.$initData(0,0,i,n,0,0,i,n,i,n)},s.$initData=function(e,n,r,s,a,o,h,l,c,u){var d=t.$TextureScaleFactor;this._bitmapX=e/d,this._bitmapY=n/d,this._bitmapWidth=r/d,this._bitmapHeight=s/d,this._offsetX=a,this._offsetY=o,this._textureWidth=h,this._textureHeight=l,this._sourceWidth=c,this._sourceHeight=u,this._bitmapData&&i.$invalidate(this._bitmapData.hashCode)},s.getPixel32=function(t,e){throw new Error},s.toDataURL=function(t,e){throw new Error},s.saveToFile=function(t,e,i){throw new Error},s.dispose=function(){this._bitmapData&&(i.$dispose(this._bitmapData.hashCode),this._bitmapData=null)},i.$addDisplayObject=function(t,e){var n=e;if(!i._displayList[n])return void(i._displayList[n]=[t]);var r=i._displayList[n];r.indexOf(t)<0&&r.push(t)},i.$removeDisplayObject=function(t,e){var n=e;if(i._displayList[n]){var r=i._displayList[n],s=r.indexOf(t);s>=0&&r.splice(s)}},i.$invalidate=function(e){var n=e;if(i._displayList[n])for(var r=i._displayList[n],s=0;s<r.length;s++)r[s]instanceof t.Bitmap&&r[s].$refreshImageData(),r[s].$invalidateContentBounds()},i.$dispose=function(e){var n=e;if(i._displayList[n])for(var r=i._displayList[n],s=0;s<r.length;s++)r[s]instanceof t.Bitmap&&(r[s].$Bitmap[1]=null),r[s].$invalidateContentBounds()},i._displayList={},i}(t.HashObject);t.Texture=e,t.registerClass(e,"egret.Texture")}(egret||(egret={}));var egret;!function(t){var e=["source-over","lighter","destination-out"],i="source-over",n=function(n){function r(){n.call(this),this.$displayListMap={}}__extends(r,n);var s=r,a=s.prototype;return a.drawToTexture=function(e,i,n){if(void 0===n&&(n=1),i&&(0==i.width||0==i.height))return!1;this.rootDisplayList&&(t.sys.DisplayList.release(this.rootDisplayList),this.rootDisplayList=null),this.context&&t.sys.surfaceFactory.release(this.context.surface);var r=i||e.$getOriginalBounds();if(0==r.width||0==r.height)return!1;n/=t.$TextureScaleFactor;var s=r.x+r.width,a=r.y+r.height;if(i&&(s=r.width,a=r.height),this.context=this.createRenderContext(s,a),!this.context)return!1;var o=new t.DisplayObjectContainer;this.rootDisplayList=t.sys.DisplayList.create(o),o.$displayList=this.rootDisplayList,o.$children.push(e);var h=e.$renderRegion;h||(e.$renderRegion=t.sys.Region.create());var l=e.$parent;e.$parent=null,this.$saveParentDisplayList(e),this.$update(e),e.$parent=l,h||(t.sys.Region.release(e.$renderRegion),e.$renderRegion=null);var c=e.$renderMatrix,u=t.Matrix.create();c.$invertInto(u),i&&u.translate(-i.x,-i.y),n&&u.scale(n,n),this.context.clearRect(0,0,s,a),this.context.setTransform(u.a,u.b,u.c,u.d,u.tx,u.ty);this.drawDisplayObject(o,this.context,u);return t.Matrix.release(u),this._setBitmapData(this.context.surface),this.$initData(0,0,s,a,0,0,s,a,s,a),this.$reset(e),this.$displayListMap={},!0},a.$saveParentDisplayList=function(e){if(this.$displayListMap[e.$hashCode]=e.$displayList,e.$displayList=this.rootDisplayList,e instanceof t.DisplayObjectContainer)for(var i=e.$children,n=i.length,r=0;n>r;r++){var s=i[r];this.$saveParentDisplayList(s)}},a.$update=function(e){if(e.$renderRegion&&(e.$renderRegion.moved=!0,e.$update()),e instanceof t.DisplayObjectContainer)for(var i=e.$children,n=i.length,r=0;n>r;r++){var s=i[r];this.$update(s)}},a.$reset=function(e){if(e.$displayList=this.$displayListMap[e.$hashCode],e instanceof t.DisplayObjectContainer)for(var i=e.$children,n=i.length,r=0;n>r;r++){var s=i[r];this.$reset(s)}},a.drawDisplayObject=function(t,e,i){var n,r,s=0;if(t.$renderRegion&&(n=t,r=t.$renderAlpha),n){s++,e.globalAlpha=r;var a=n.$renderMatrix;i?(e.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),n.$render(e),e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty)):(e.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty),n.$render(e))}var o=t.$children;if(o)for(var h=o.length,l=0;h>l;l++){var c=o[l];!c.$visible||c.$alpha<=0||c.$maskedObject||(s+=0!==c.$blendMode||c.$mask?this.drawWithClip(c,e,i):c.$scrollRect||c.$maskRect?this.drawWithScrollRect(c,e,i):this.drawDisplayObject(c,e,i))}return s},a.drawWithClip=function(n,r,s){var a=0,o=0!==n.$blendMode;if(o){var h=e[n.$blendMode];h||(h=i)}var l,c=n.$scrollRect,u=n.$mask,d=n.$getConcatenatedMatrix();if(u){var f=u.$getOriginalBounds();l=t.sys.Region.create(),l.updateRegion(f,u.$getConcatenatedMatrix())}var g;if(c&&(g=t.sys.Region.create(),g.updateRegion(c,d)),g&&l?(g.intersect(l),t.sys.Region.release(l)):!g&&l&&(g=l),g){if(g.isEmpty())return t.sys.Region.release(g),a}else g=t.sys.Region.create(),f=n.$getOriginalBounds(),g.updateRegion(f,n.$getConcatenatedMatrix());var p=this.createRenderContext(g.width,g.height);if(!p)return a+=this.drawDisplayObject(n,r,s),t.sys.Region.release(g),a;if(c){var $=d;p.setTransform($.a,$.b,$.c,$.d,$.tx-g.minX,$.ty-g.minY),p.beginPath(),p.rect(c.x,c.y,c.width,c.height),p.clip()}p.setTransform(1,0,0,1,-g.minX,-g.minY);var v=t.Matrix.create().setTo(1,0,0,1,-g.minX,-g.minY);if(a+=this.drawDisplayObject(n,p,v),t.Matrix.release(v),u){var y=this.createRenderContext(g.width,g.height);if(!y)return a+=this.drawDisplayObject(n,r,s),t.sys.surfaceFactory.release(p.surface),t.sys.Region.release(g),a;y.setTransform(1,0,0,1,-g.minX,-g.minY),v=t.Matrix.create().setTo(1,0,0,1,-g.minX,-g.minY);var x=this.drawDisplayObject(u,y,v);t.Matrix.release(v),x>0&&(a+=x,p.globalCompositeOperation="destination-in",p.setTransform(1,0,0,1,0,0),p.globalAlpha=1,p.drawImage(y.surface,0,0)),t.sys.surfaceFactory.release(y.surface)}return a>0&&(a++,o&&(r.globalCompositeOperation=h),r.setTransform(1,0,0,1,g.minX,g.minY),r.drawImage(p.surface,0,0),o&&(r.globalCompositeOperation=i)),t.sys.surfaceFactory.release(p.surface),t.sys.Region.release(g),a},a.drawWithScrollRect=function(e,i,n){var r=0,s=e.$scrollRect?e.$scrollRect:e.$maskRect;if(0==s.width||0==s.height)return r;var a=e.$getConcatenatedMatrix(),o=t.sys.Region.create();return s.isEmpty()||o.updateRegion(s,a),o.isEmpty()?(t.sys.Region.release(o),r):(i.save(),n?(i.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),i.transform(a.a,a.b,a.c,a.d,a.tx,a.ty)):i.setTransform(a.a,a.b,a.c,a.d,a.tx,a.ty),i.beginPath(),i.rect(0,0,s.width,s.height),i.clip(),n&&i.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),r+=this.drawDisplayObject(e,i,n),i.restore(),t.sys.Region.release(o),r)},a.createRenderContext=function(e,i){var n=t.sys.surfaceFactory.create(!0);return n?(n.width=Math.max(257,e),n.height=Math.max(257,i),n.renderContext):null},a.dispose=function(){n.prototype.dispose.call(this),this.rootDisplayList&&(t.sys.DisplayList.release(this.rootDisplayList),this.rootDisplayList=null),this.context&&t.sys.surfaceFactory.release(this.context.surface)},r}(t.Texture);t.RenderTexture=n,t.registerClass(n,"egret.RenderTexture")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"graphics",function(){return this.$graphics}),s.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},s.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n==this&&(n=this.$graphics.$hitTest(t,i)),n},s.$render=function(t){this.$graphics.$render(t)},i}(t.DisplayObject);t.Shape=e,t.registerClass(e,"egret.Shape")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"graphics",function(){return this.$graphics}),s.$hitTest=function(e,i){if(!this.$visible)return null;var n=this.$getInvertedConcatenatedMatrix(),r=n.a*e+n.c*i+n.tx,s=n.b*e+n.d*i+n.ty,a=this.$scrollRect?this.$scrollRect:this.$maskRect;if(a&&!a.contains(r,s))return null;if(this.$mask&&!this.$mask.$hitTest(e,i))return null;for(var o=this.$children,h=!1,l=o.length-1;l>=0;l--){var c=o[l];if(!c.$maskedObject){var u=c.$hitTest(e,i);if(u){if(h=!0,u.$touchEnabled)break;u=null}}}return u?this.$touchChildren?u:this:h?this:(u=t.DisplayObject.prototype.$hitTest.call(this,e,i),u&&(u=this.$graphics.$hitTest(e,i)),u)},s.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},s.$render=function(t){this.$graphics.$render(t)},i}(t.DisplayObjectContainer);t.Sprite=e,t.registerClass(e,"egret.Sprite")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t){e.call(this),this._bitmapX=0,this._bitmapY=0,this._textureMap={},this.texture=t,this._bitmapX=t._bitmapX-t._offsetX,this._bitmapY=t._bitmapY-t._offsetY}__extends(i,e);var n=i,r=n.prototype;return r.getTexture=function(t){return this._textureMap[t]},r.createTexture=function(e,i,n,r,s,a,o,h,l){void 0===a&&(a=0),void 0===o&&(o=0),t.sys.isUndefined(h)&&(h=a+r),t.sys.isUndefined(l)&&(l=o+s);var c=new t.Texture;return c._bitmapData=this.texture._bitmapData,c.$initData(this._bitmapX+i,this._bitmapY+n,r,s,a,o,h,l,this.texture._sourceWidth,this.texture._sourceHeight),this._textureMap[e]=c,c},r.dispose=function(){this.texture&&this.texture.dispose()},i}(t.HashObject);t.SpriteSheet=e,t.registerClass(e,"egret.SpriteSheet")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$stageWidth=0,this.$stageHeight=0,this.implMap={},this.$scaleMode=t.StageScaleMode.SHOW_ALL,this.$orientation=t.OrientationMode.AUTO,this.$maxTouches=99,this.$dirtyRegionPolicy=t.DirtyRegionPolicy.ON,this.$stage=this,this.$nestLevel=1}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"frameRate",function(){return t.sys.$ticker.$frameRate},function(e){t.sys.$ticker.$setFrameRate(e)}),n(s,"stageWidth",function(){return this.$stageWidth}),n(s,"stageHeight",function(){return this.$stageHeight}),s.invalidate=function(){t.sys.$invalidateRenderFlag=!0},s.registerImplementation=function(t,e){this.implMap[t]=e},s.getImplementation=function(t){return this.implMap[t]},n(s,"scaleMode",function(){return this.$scaleMode},function(t){this.$scaleMode!=t&&(this.$scaleMode=t,this.$screen.updateScreenSize())}),n(s,"orientation",function(){return this.$orientation},function(t){this.$orientation!=t&&(this.$orientation=t,this.$screen.updateScreenSize())}),n(s,"textureScaleFactor",function(){return t.$TextureScaleFactor},function(e){t.$TextureScaleFactor=e}),n(s,"maxTouches",function(){return this.$maxTouches},function(t){this.$maxTouches!=t&&(this.$maxTouches=t,this.$screen.updateMaxTouches())}),n(s,"dirtyRegionPolicy",function(){return this.$dirtyRegionPolicy},function(t){this.$dirtyRegionPolicy!=t&&(this.$dirtyRegionPolicy=t,this.$displayList.setDirtyRegionPolicy(t))}),s.setContentSize=function(t,e){this.$screen.setContentSize(t,e)},i}(t.DisplayObjectContainer);t.Stage=e,t.registerClass(e,"egret.Stage")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r){t.call(this),this.$eventPhase=2,this.$currentTarget=null,this.$target=null,this.$isDefaultPrevented=!1,this.$isPropagationStopped=!1,this.$isPropagationImmediateStopped=!1,this.$type=e,this.$bubbles=!!i,this.$cancelable=!!n,this.data=r}__extends(e,t);var i=__define,n=e,r=n.prototype;return i(r,"type",function(){return this.$type}),i(r,"bubbles",function(){return this.$bubbles}),i(r,"cancelable",function(){return this.$cancelable}),i(r,"eventPhase",function(){return this.$eventPhase}),i(r,"currentTarget",function(){return this.$currentTarget}),i(r,"target",function(){return this.$target}),r.$setTarget=function(t){return this.$target=t,!0},r.isDefaultPrevented=function(){return this.$isDefaultPrevented},r.preventDefault=function(){this.$cancelable&&(this.$isDefaultPrevented=!0)},r.stopPropagation=function(){this.$bubbles&&(this.$isPropagationStopped=!0)},r.stopImmediatePropagation=function(){this.$bubbles&&(this.$isPropagationImmediateStopped=!0)},r.clean=function(){this.data=this.$currentTarget=null,this.$setTarget(null)},e.dispatchEvent=function(t,i,n,r){void 0===n&&(n=!1);var s=e.create(e,i,n),a=e._getPropertyData(e);void 0!=r&&(a.data=r);var o=t.dispatchEvent(s);return e.release(s),o},e._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},e.create=function(t,e,i,n){var r=t.eventPool;if(r||(r=t.eventPool=[]),r.length){var s=r.pop();return s.$type=e,s.$bubbles=!!i,s.$cancelable=!!n,s.$isDefaultPrevented=!1,s.$isPropagationStopped=!1,s.$isPropagationImmediateStopped=!1,s.$eventPhase=2,s}return new t(e,i,n)},e.release=function(t){t.clean();var e=Object.getPrototypeOf(t).constructor;e.eventPool.push(t)},e.ADDED_TO_STAGE="addedToStage",e.REMOVED_FROM_STAGE="removedFromStage",e.ADDED="added",e.REMOVED="removed",e.ENTER_FRAME="enterFrame",e.RENDER="render",e.RESIZE="resize",e.CHANGE="change",e.CHANGING="changing",e.COMPLETE="complete",e.LOOP_COMPLETE="loopComplete",e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e.ENDED="ended",e.ACTIVATE="activate",e.DEACTIVATE="deactivate",e.CLOSE="close",e.CONNECT="connect",e.LEAVE_STAGE="leaveStage",e.SOUND_COMPLETE="soundComplete",e}(t.HashObject);t.Event=e,t.registerClass(e,"egret.Event")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)}__extends(e,t);var i=e;i.prototype;return e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e}(t.Event);t.FocusEvent=e,t.registerClass(e,"egret.FocusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;i.prototype;return e.PERMISSION_DENIED="permissionDenied",e.UNAVAILABLE="unavailable",e}(t.Event);t.GeolocationEvent=e,t.registerClass(e,"egret.GeolocationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this._status=0}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"status",function(){return this._status}),i.dispatchHTTPStatusEvent=function(e,n){var r=t.Event.create(i,i.HTTP_STATUS);r._status=n;var s=e.dispatchEvent(r);return t.Event.release(r),s},i.HTTP_STATUS="httpStatus",i}(t.Event);t.HTTPStatusEvent=e,t.registerClass(e,"egret.HTTPStatusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;n.prototype;return i.dispatchIOErrorEvent=function(e){var n=t.Event.create(i,i.IO_ERROR),r=e.dispatchEvent(n);return t.Event.release(n),r},i.IO_ERROR="ioError",i}(t.Event);t.IOErrorEvent=e,t.registerClass(e,"egret.IOErrorEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;i.prototype;return e}(t.Event);t.MotionEvent=e,t.registerClass(e,"egret.MotionEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;i.prototype;return e}(t.Event);t.OrientationEvent=e,t.registerClass(e,"egret.OrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n,r,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===s&&(s=0),e.call(this,t,i,n),this.bytesLoaded=0,this.bytesTotal=0,this.bytesLoaded=r,this.bytesTotal=s}__extends(i,e);var n=i;n.prototype;return i.dispatchProgressEvent=function(e,n,r,s){void 0===r&&(r=0),void 0===s&&(s=0);var a=t.Event.create(i,n);a.bytesLoaded=r,a.bytesTotal=s;var o=e.dispatchEvent(a);return t.Event.release(a),o},i.PROGRESS="progress",i.SOCKET_DATA="socketData",i}(t.Event);t.ProgressEvent=e,t.registerClass(e,"egret.ProgressEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;n.prototype;return i.dispatchStageOrientationEvent=function(e,n){var r=t.Event.create(i,n),s=e.dispatchEvent(r);return t.Event.release(r),s},i.ORIENTATION_CHANGE="orientationChange",i}(t.Event);t.StageOrientationEvent=e,t.registerClass(e,"egret.StageOrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=""),e.call(this,t,i,n),this.text=r}__extends(i,e);var n=i;n.prototype;return i.dispatchTextEvent=function(e,n,r){var s=t.Event.create(i,n);s.text=r;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.LINK="link",i}(t.Event);t.TextEvent=e,t.registerClass(e,"egret.TextEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){e.call(this,t,i,n)}__extends(i,e);var n=i,r=n.prototype;return r.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},i.dispatchTimerEvent=function(e,n,r,s){var a=t.Event.create(i,n,r,s),o=e.dispatchEvent(a);return t.Event.release(a),o},i.TIMER="timer",i.TIMER_COMPLETE="timerComplete",i}(t.Event);t.TimerEvent=e,t.registerClass(e,"egret.TimerEvent")}(egret||(egret={}));var egret;!function(t){var e=[],i=Math.PI/180,n=function(n){function r(t,e){void 0===t&&(t=0),void 0===e&&(e=0),n.call(this),this.x=t,this.y=e}__extends(r,n);var s=__define,a=r,o=a.prototype;return r.release=function(t){t&&e.push(t)},r.create=function(t,i){var n=e.pop();return n||(n=new r),n.setTo(t,i)},s(o,"length",function(){return Math.sqrt(this.x*this.x+this.y*this.y)}),o.setTo=function(t,e){return this.x=t,this.y=e,this},o.clone=function(){return new r(this.x,this.y)},o.equals=function(t){return this.x==t.x&&this.y==t.y},r.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},o.copyFrom=function(t){this.x=t.x,this.y=t.y},o.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.interpolate=function(t,e,i){var n=1-i;return new r(t.x*i+e.x*n,t.y*i+e.y*n)},o.normalize=function(t){if(0!=this.x||0!=this.y){var e=t/this.length;this.x*=e,this.y*=e}},o.offset=function(t,e){this.x+=t,this.y+=e},r.polar=function(e,n){return new r(e*t.NumberUtils.cos(n/i),e*t.NumberUtils.sin(n/i))},o.subtract=function(t){return new r(this.x-t.x,this.y-t.y)},o.toString=function(){return"(x="+this.x+", y="+this.y+")"},r}(t.HashObject);t.Point=n,t.registerClass(n,"egret.Point"),t.$TempPoint=new n}(egret||(egret={}));var egret;!function(t){var e=new t.Point,i=function(i){function n(t,e,n,r,s,a){i.call(this,t,e,n),this.targetChanged=!0,this.touchDown=!1,this.$initTo(r,s,a)}__extends(n,i);var r=__define,s=n,a=s.prototype;return a.$initTo=function(t,e,i){this.touchPointID=+i||0,this.$stageX=+t||0,this.$stageY=+e||0},r(a,"stageX",function(){return this.$stageX}),r(a,"stageY",function(){return this.$stageY}),r(a,"localX",function(){return this.targetChanged&&this.getLocalXY(),this._localX}),r(a,"localY",function(){return this.targetChanged&&this.getLocalXY(),this._localY}),a.getLocalXY=function(){this.targetChanged=!1;var t=this.$target.$getInvertedConcatenatedMatrix();t.transformPoint(this.$stageX,this.$stageY,e),this._localX=e.x,this._localY=e.y},a.$setTarget=function(t){return this.$target=t,this.targetChanged=!!t,!0},a.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},n.dispatchTouchEvent=function(e,i,r,s,a,o,h,l){if(void 0===l&&(l=!1),!r&&!e.hasEventListener(i))return!0;var c=t.Event.create(n,i,r,s);c.$initTo(a,o,h),c.touchDown=l;var u=e.dispatchEvent(c);return t.Event.release(c),u},n.TOUCH_MOVE="touchMove",n.TOUCH_BEGIN="touchBegin",n.TOUCH_END="touchEnd",n.TOUCH_TAP="touchTap",n.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside",n.TOUCH_ROLL_OUT="touchRollOut",n.TOUCH_ROLL_OVER="touchRollOver",n}(t.Event);t.TouchEvent=i,t.registerClass(i,"egret.TouchEvent")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments),this.type=null}__extends(e,t);var i=e;i.prototype;return e}(t.HashObject);t.Filter=e,t.registerClass(e,"egret.Filter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i){t.call(this),this.blurX=e,this.blurY=i,this.type="blur"}__extends(e,t);var i=e;i.prototype;return e}(t.Filter);t.BlurFilter=e,t.registerClass(e,"egret.BlurFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.$matrix=[],this.matrix2=[],this.type="colorTransform",this.setMatrix(e)}__extends(e,t);var i=__define,n=e,r=n.prototype;return i(r,"matrix",function(){for(var t=0;20>t;t++)this.matrix2[t]=this.$matrix[t];return this.matrix2},function(t){this.setMatrix(t)}),r.setMatrix=function(t){for(var e=0;20>e;e++)this.$matrix[e]=t&&t[e]||0},e}(t.Filter);t.ColorMatrixFilter=e,t.registerClass(e,"egret.ColorMatrixFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r,s,a,o,h){void 0===e&&(e=16711680),void 0===i&&(i=1),void 0===n&&(n=6),void 0===r&&(r=6),void 0===s&&(s=2),void 0===a&&(a=1),void 0===o&&(o=!1),void 0===h&&(h=!1),t.call(this),this.color=e,this.alpha=i,this.blurX=n,this.blurY=r,this.strength=s,this.quality=a,this.inner=o,this.knockout=h,this.type="glow",this.$blue=255&e,this.$green=(65280&e)>>8,this.$red=e>>16}__extends(e,t);var i=e;i.prototype;return e}(t.Filter);t.GlowFilter=e,t.registerClass(e,"egret.GlowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r,s,a,o,h,l,c,u){void 0===e&&(e=4),void 0===i&&(i=45),void 0===n&&(n=0),void 0===r&&(r=1),void 0===s&&(s=4),void 0===a&&(a=4),void 0===o&&(o=1),void 0===h&&(h=1),void 0===l&&(l=!1),void 0===c&&(c=!1),void 0===u&&(u=!1),t.call(this,n,r,s,a,o,h,l,c),this.distance=e,this.angle=i}__extends(e,t);var i=e;i.prototype;return e}(t.GlowFilter);t.DropShadowFilter=e,t.registerClass(e,"egret.DropShadowFilter")}(egret||(egret={}));var egret;!function(t){function e(t){switch(t){case r:case-s:return 0;case n:case-n:return-1;case s:case-r:return 0;default:return Math.cos(t)}}function i(t){switch(t){case r:case-s:return 1;case n:case-n:return 0;case s:case-r:return-1;default:return Math.sin(t)}}var n=Math.PI,r=n/2,s=n+r,a=2*n,o=Math.PI/180,h=[],l=function(r){function s(t,e,i,n,s,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===s&&(s=0),void 0===a&&(a=0),r.call(this),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=a
}__extends(s,r);var l=s,c=l.prototype;return s.release=function(t){t&&h.push(t)},s.create=function(){var t=h.pop();return t||(t=new s),t},c.clone=function(){return new s(this.a,this.b,this.c,this.d,this.tx,this.ty)},c.concat=function(t){var e=this.a*t.a,i=0,n=0,r=this.d*t.d,s=this.tx*t.a+t.tx,a=this.ty*t.d+t.ty;(0!==this.b||0!==this.c||0!==t.b||0!==t.c)&&(e+=this.b*t.c,r+=this.c*t.b,i+=this.a*t.b+this.b*t.d,n+=this.c*t.a+this.d*t.c,s+=this.ty*t.c,a+=this.tx*t.b),this.a=e,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=a},c.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},c.identity=function(){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0},c.invert=function(){this.$invertInto(this)},c.$invertInto=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.tx,a=this.ty;if(0==i&&0==n)return t.b=t.c=0,void(0==e||0==r?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,r=t.d=1/r,t.tx=-e*s,t.ty=-r*a));var o=e*r-i*n;if(0==o)return void t.identity();o=1/o;var h=t.a=r*o;i=t.b=-i*o,n=t.c=-n*o,r=t.d=e*o,t.tx=-(h*s+n*a),t.ty=-(i*s+r*a)},c.rotate=function(t){if(t=+t,0!==t){var n=e(t),r=i(t),s=this.a,a=this.b,o=this.c,h=this.d,l=this.tx,c=this.ty;this.a=s*n-a*r,this.b=s*r+a*n,this.c=o*n-h*r,this.d=o*r+h*n,this.tx=l*n-c*r,this.ty=l*r+c*n}},c.scale=function(t,e){1!==t&&(this.a*=t,this.c*=t,this.tx*=t),1!==e&&(this.b*=e,this.d*=e,this.ty*=e)},c.setTo=function(t,e,i,n,r,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},c.transformPoint=function(e,i,n){var r=this.a*e+this.c*i+this.tx,s=this.b*e+this.d*i+this.ty;return n?(n.setTo(r,s),n):new t.Point(r,s)},c.translate=function(t,e){this.tx+=t,this.ty+=e},c.equals=function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty},c.prepend=function(t,e,i,n,r,s){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var o=this.a,h=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*n,this.c=h*t+this.d*i,this.d=h*e+this.d*n}return this.tx=a*t+this.ty*i+r,this.ty=a*e+this.ty*n+s,this},c.append=function(t,e,i,n,r,s){var a=this.a,o=this.b,h=this.c,l=this.d;return(1!=t||0!=e||0!=i||1!=n)&&(this.a=t*a+e*h,this.b=t*o+e*l,this.c=i*a+n*h,this.d=i*o+n*l),this.tx=r*a+s*h+this.tx,this.ty=r*o+s*l+this.ty,this},c.deltaTransformPoint=function(e){var i=this,n=i.a*e.x+i.c*e.y,r=i.b*e.x+i.d*e.y;return new t.Point(n,r)},c.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"},c.createBox=function(e,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0);var a=this;if(0!==n){n/=o;var h=t.NumberUtils.cos(n),l=t.NumberUtils.sin(n);a.a=h*e,a.b=l*i,a.c=-l*e,a.d=h*i}else a.a=e,a.b=0,a.c=0,a.d=i;a.tx=r,a.ty=s},c.createGradientBox=function(t,e,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),this.createBox(t/1638.4,e/1638.4,i,n+t/2,r+e/2)},c.$transformBounds=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.tx,a=this.ty,o=t.x,h=t.y,l=o+t.width,c=h+t.height,u=e*o+n*h+s,d=i*o+r*h+a,f=e*l+n*h+s,g=i*l+r*h+a,p=e*l+n*c+s,$=i*l+r*c+a,v=e*o+n*c+s,y=i*o+r*c+a,x=0;u>f&&(x=u,u=f,f=x),p>v&&(x=p,p=v,v=x),t.x=Math.floor(p>u?u:p),t.width=Math.ceil((f>v?f:v)-t.x),d>g&&(x=d,d=g,g=x),$>y&&(x=$,$=y,y=x),t.y=Math.floor($>d?d:$),t.height=Math.ceil((g>y?g:y)-t.y)},c.getDeterminant=function(){return this.a*this.d-this.b*this.c},c.$getScaleX=function(){var t=this;if(1==t.a&&0==t.b)return 1;var e=Math.sqrt(t.a*t.a+t.b*t.b);return this.getDeterminant()<0?-e:e},c.$getScaleY=function(){var t=this;if(0==t.c&&1==t.d)return 1;var e=Math.sqrt(t.c*t.c+t.d*t.d);return this.getDeterminant()<0?-e:e},c.$getSkewX=function(){return Math.atan2(this.d,this.c)-n/2},c.$getSkewY=function(){return Math.atan2(this.b,this.a)},c.$updateScaleAndRotation=function(t,n,r,s){if(!(0!=r&&r!=a||0!=s&&s!=a))return this.a=t,this.b=this.c=0,void(this.d=n);var o=e(r),h=i(r);r==s?(this.a=o*t,this.b=h*t):(this.a=e(s)*t,this.b=i(s)*t),this.c=-h*n,this.d=o*n},c.$preMultiplyInto=function(t,e){var i=t.a*this.a,n=0,r=0,s=t.d*this.d,a=t.tx*this.a+this.tx,o=t.ty*this.d+this.ty;(0!==t.b||0!==t.c||0!==this.b||0!==this.c)&&(i+=t.b*this.c,s+=t.c*this.b,n+=t.a*this.b+t.b*this.d,r+=t.c*this.a+t.d*this.c,a+=t.ty*this.c,o+=t.tx*this.b),e.a=i,e.b=n,e.c=r,e.d=s,e.tx=a,e.ty=o},s}(t.HashObject);t.Matrix=l,t.registerClass(l,"egret.Matrix"),t.$TempMatrix=new l}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function n(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),i.call(this),this.x=t,this.y=e,this.width=n,this.height=r}__extends(n,i);var r=__define,s=n,a=s.prototype;return n.release=function(t){t&&e.push(t)},n.create=function(){var t=e.pop();return t||(t=new n),t},r(a,"right",function(){return this.x+this.width},function(t){this.width=t-this.x}),r(a,"bottom",function(){return this.y+this.height},function(t){this.height=t-this.y}),r(a,"left",function(){return this.x},function(t){this.width+=this.x-t,this.x=t}),r(a,"top",function(){return this.y},function(t){this.height+=this.y-t,this.y=t}),r(a,"topLeft",function(){return new t.Point(this.left,this.top)},function(t){this.top=t.y,this.left=t.x}),r(a,"bottomRight",function(){return new t.Point(this.right,this.bottom)},function(t){this.bottom=t.y,this.right=t.x}),a.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},a.setTo=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},a.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},a.intersection=function(t){return this.clone().$intersectInPlace(t)},a.inflate=function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},a.$intersectInPlace=function(t){var e=this.x,i=this.y,n=t.x,r=t.y,s=Math.max(e,n),a=Math.min(e+this.width,n+t.width);if(a>=s){var o=Math.max(i,r),h=Math.min(i+this.height,r+t.height);if(h>=o)return this.setTo(s,o,a-s,h-o),this}return this.setEmpty(),this},a.intersects=function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)},a.isEmpty=function(){return this.width<=0||this.height<=0},a.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},a.clone=function(){return new n(this.x,this.y,this.width,this.height)},a.containsPoint=function(t){return this.x<t.x&&this.x+this.width>t.x&&this.y<t.y&&this.y+this.height>t.y?!0:!1},a.containsRect=function(t){var e=t.x+t.width,i=t.y+t.height,n=this.x+this.width,r=this.y+this.height;return t.x>=this.x&&t.x<n&&t.y>=this.y&&t.y<r&&e>this.x&&n>=e&&i>this.y&&r>=i},a.equals=function(t){return this===t?!0:this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},a.inflatePoint=function(t){this.inflate(t.x,t.y)},a.offset=function(t,e){this.x+=t,this.y+=e},a.offsetPoint=function(t){this.offset(t.x,t.y)},a.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},a.union=function(t){var e=this.clone();if(t.isEmpty())return e;if(e.isEmpty())return e.copyFrom(t),e;var i=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return e.setTo(i,n,Math.max(e.right,t.right)-i,Math.max(e.bottom,t.bottom)-n),e},a.$getBaseWidth=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return e*this.width+i*this.height},a.$getBaseHeight=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return i*this.width+e*this.height},n}(t.HashObject);t.Rectangle=i,t.registerClass(i,"egret.Rectangle"),t.$TempRectangle=new i}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.en_US=t.$locale_strings.en_US||{};var e=t.$locale_strings.en_US;e[1001]="Could not find Egret entry class: {0}",e[1002]="Egret entry class '{0}' must inherit from egret.DisplayObject.",e[1003]="Parameter {0} must be non-null.",e[1004]="An object cannot be added as a child to one of it's children (or children's children, etc.).",e[1005]="An object cannot be added as a child of itself.",e[1006]="The supplied DisplayObject must be a child of the caller.",e[1007]="An index specified for a parameter was out of range.",e[1008]="Instantiate singleton errorsingleton class {0} can not create multiple instances.",e[1009]='the Class {0} cannot use the property "{1}"',e[1010]='the property "{1}" of the Class "{0}" is readonly',e[1011]="Stream Error. URL: {0}",e[1012]="The type of parameter {0} must be Class.",e[1013]="Variable assignment is NaN, please see the code!",e[1014]='the constant "{1}" of the Class "{0}" is read-only',e[1015]="xml not found!",e[1016]="{0}has been obsoleted",e[1017]="The format of JSON file is incorrect: {0}\ndata: {1}",e[1018]="the scale9Grid is not correct",e[1022]="{0} ArgumentError",e[1023]="This method is not available in the ScrollView!",e[1025]="end of the file",e[1026]="! EncodingError The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]=". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="Photos can not be used across domains toDataURL to convert base64",e[1034]='Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',e[1035]="Native does not support this feature!",e[1036]="Sound has stopped, please recall Sound.play () to play the sound!",e[1037]="Non-load the correct blob!",e[1038]="XML format error!",e[1039]="crossOrigin images can not set pixelHitTest  property!",e[1040]="hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",e[1041]="egret.MainContext.runtimeType is deprecated, please use egret.Capabilities.runtimeType replace",e[3e3]="Theme configuration file failed to load: {0}",e[3001]="Cannot find the skin name which is configured in Theme: {0}",e[3002]='Index:"{0}" is out of the collection element index range',e[3003]="Cannot be available in this component. If this component is container, please continue to use",e[3004]="addChild(){0}addElement() replace",e[3005]="addChildAt(){0}addElementAt() replace",e[3006]="removeChild(){0}removeElement() replace",e[3007]="removeChildAt(){0}removeElementAt() replace",e[3008]="setChildIndex(){0}setElementIndex() replace",e[3009]="swapChildren(){0}swapElements() replace",e[3010]="swapChildrenAt(){0}swapElementsAt() replace",e[3011]='Index:"{0}" is out of the visual element index range',e[3012]="This method is not available in Scroller component!",e[3013]="UIStage is GUI root container, and only one such instant is in the display list",e[3100]="Current browser does not support WebSocket",e[3101]="Please connect Socket firstly",e[3102]="Please set the type of binary type",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$language="en_US"}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.$locale_strings[t.$language][e];if(!r)return"{"+e+"}";for(var s=i.length,a=0;s>a;a++)r=r.replace("{"+a+"}",i[a]);return r}e.tr=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.zh_CN=t.$locale_strings.zh_CN||{};var e=t.$locale_strings.zh_CN;e[1001]="Egret: {0}",e[1002]="Egret {0} egret.DisplayObject",e[1003]=" {0}  null",e[1004]="",e[1005]="",e[1006]=" DisplayObject ",e[1007]="",e[1008]=" {0} ",e[1009]=" {0}  {1}",e[1010]=" {0}  {1} ",e[1011]="URL: {0}",e[1012]=" {0}  Class",e[1013]="NaN",e[1014]=" {0}  {1} ",e[1015]="xml not found!",e[1016]="{0}",e[1017]="JSON: {0}\ndata: {1}",e[1018]="9",e[1022]="{0} ArgumentError",e[1023]="ScrollView!",e[1025]="",e[1026]="EncodingError! The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]=":{0} ",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="toDataURLbase64",e[1034]='"{0}"mp3',e[1035]="Native ",e[1036]=" Sound.play() ",e[1037]="blob",e[1038]="XML !",e[1039]=" pixelHitTest !",e[1040]="hitTestPoint ! ",e[1041]="egret.MainContext.runtimeType ,egret.Capabilities.runtimeType ",e[3e3]=": {0}",e[3001]=": {0}",e[3002]=':"{0}"',e[3003]="",e[3004]="addChild(){0}addElement()",e[3005]="addChildAt(){0}addElementAt()",e[3006]="removeChild(){0}removeElement()",e[3007]="removeChildAt(){0}removeElementAt()",e[3008]="setChildIndex(){0}setElementIndex()",e[3009]="swapChildren(){0}swapElements()",e[3010]="swapChildrenAt(){0}swapElementsAt()",e[3011]=':"{0}"',e[3012]="Scroller!",e[3013]="UIStageGUI",e[3100]="WebSocket",e[3101]="WebSocket",e[3102]="type",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.localStorage||(t.localStorage={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.onSuccessFunc=null,this.onSuccessThisObject=null,this.onErrorFunc=null,this.onErrorThisObject=null,this.downloadingSizeFunc=null,this.downloadingSizeThisObject=null}var i=e,n=i.prototype;return e.create=function(){return e.promiseObjectList.length?e.promiseObjectList.pop():new t.PromiseObject},n.onSuccess=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onSuccessFunc&&this.onSuccessFunc.apply(this.onSuccessThisObject,t),this.destroy()},n.onError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onErrorFunc&&this.onErrorFunc.apply(this.onErrorThisObject,t),this.destroy()},n.downloadingSize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.downloadingSizeFunc&&this.downloadingSizeFunc.apply(this.downloadingSizeThisObject,t)},n.destroy=function(){this.onSuccessFunc=void 0,this.onSuccessThisObject=void 0,this.onErrorFunc=void 0,this.onErrorThisObject=void 0,this.downloadingSizeFunc=void 0,this.downloadingSizeThisObject=void 0,e.promiseObjectList.push(this)},e.promiseObjectList=[],e}();t.PromiseObject=e,t.registerClass(e,"egret.PromiseObject")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.GET="GET",t.POST="POST",t}();t.HttpMethod=e,t.registerClass(e,"egret.HttpMethod")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.TEXT="text",t.ARRAY_BUFFER="arraybuffer",t}();t.HttpResponseType=e,t.registerClass(e,"egret.HttpResponseType")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t,e){var i=t.minX<e.minX?t.minX:e.minX,n=t.minY<e.minY?t.minY:e.minY,r=t.maxX>e.maxX?t.maxX:e.maxX,s=t.maxY>e.maxY?t.maxY:e.maxY;return(r-i)*(s-n)}var n=function(){function n(){this.dirtyList=[],this.hasClipRect=!1,this.clipWidth=0,this.clipHeight=0,this.clipArea=0,this.clipRectChanged=!1,this.$dirtyRegionPolicy=t.DirtyRegionPolicy.ON}var r=n,s=r.prototype;return s.setClipRect=function(t,e){this.hasClipRect=!0,this.clipRectChanged=!0,this.clipWidth=Math.ceil(t),this.clipHeight=Math.ceil(e),this.clipArea=this.clipWidth*this.clipHeight},s.addRegion=function(i){var n=i.minX,r=i.minY,s=i.maxX,a=i.maxY;if(this.hasClipRect&&(0>n&&(n=0),0>r&&(r=0),s>this.clipWidth&&(s=this.clipWidth),a>this.clipHeight&&(a=this.clipHeight)),n>=s||r>=a)return!1;if(this.clipRectChanged)return!0;var o=this.dirtyList,h=e.Region.create();return o.push(h.setTo(n,r,s,a)),this.$dirtyRegionPolicy!=t.DirtyRegionPolicy.OFF&&this.mergeDirtyList(o),!0},s.clear=function(){for(var t=this.dirtyList,i=t.length,n=0;i>n;n++)e.Region.release(t[n]);t.length=0},s.getDirtyRegions=function(){var i=this.dirtyList;if(this.$dirtyRegionPolicy==t.DirtyRegionPolicy.OFF||t.Capabilities.runtimeType==t.RuntimeType.NATIVE&&!t["native"].$supportCanvas){this.clipRectChanged=!0,this.clear();var n=e.Region.create();if(this.hasClipRect)i.push(n.setTo(0,0,this.clipWidth,this.clipHeight));else{var r=this.displayList.root.$getOriginalBounds();i.push(n.setTo(r.x,r.y,r.width,r.height))}}else if(this.clipRectChanged){this.clipRectChanged=!1,this.clear();var n=e.Region.create();i.push(n.setTo(0,0,this.clipWidth,this.clipHeight))}else for(;this.mergeDirtyList(i););return this.dirtyList},s.mergeDirtyList=function(t){var n=t.length;if(2>n)return!1;for(var r=this.hasClipRect,s=n>3?Number.POSITIVE_INFINITY:0,a=0,o=0,h=0,l=0;n-1>l;l++){var c=t[l];r&&(h+=c.area);for(var u=l+1;n>u;u++){var d=t[u],f=i(c,d)-c.area-d.area;s>f&&(a=l,o=u,s=f)}}if(r&&h/this.clipArea>.95&&(this.clipRectChanged=!0),a!=o){var g=t[o];return t[a].union(g),e.Region.release(g),t.splice(o,1),!0}return!1},s.setDirtyRegionPolicy=function(t){this.$dirtyRegionPolicy=t},n}();e.DirtyRegion=n,t.registerClass(n,"egret.sys.DirtyRegion")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.OFF="off",t.ON="on",t}();t.DirtyRegionPolicy=e,t.registerClass(e,"egret.DirtyRegionPolicy")}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=[],n=["source-over","lighter","destination-out"],r="source-over",s=function(s){function a(i){s.call(this),this.$isDirty=!1,this.$renderAlpha=1,this.$renderMatrix=new t.Matrix,this.$ratioMatrix=new t.Matrix,this.$ratioChanged=!1,this.$pixelRatio=1,this.$renderRegion=new e.Region,this.surface=null,this.offsetX=0,this.offsetY=0,this.needRedraw=!1,this.rootMatrix=new t.Matrix,this.dirtyNodes={},this.dirtyNodeList=[],this.dirtyList=null,this.dirtyRegion=new e.DirtyRegion,this.sizeChanged=!1,this.root=i,this.dirtyRegion.displayList=this}__extends(a,s);var o=a,h=o.prototype;return a.release=function(n){e.surfaceFactory.release(n.surface),t.Matrix.release(n.$renderMatrix),t.Matrix.release(n.$ratioMatrix),n.surface=null,n.renderContext=null,n.root=null,n.$renderMatrix=null,n.$ratioMatrix=null,n.needRedraw=!1,n.$isDirty=!1,i.push(n)},a.create=function(n){var r=i.pop();r||(r=new t.sys.DisplayList(n));var s=e.surfaceFactory.create();return s?(r.surface=s,r.renderContext=s.renderContext,r.root=n,r.$renderMatrix=t.Matrix.create(),r.$renderMatrix.setTo(1,0,0,1,0,0),r.$pixelRatio=1,r.$ratioMatrix=t.Matrix.create(),r.$ratioMatrix.setTo(1,0,0,1,0,0),r.needRedraw=!0,r.$isDirty=!0,r):null},h.$update=function(){var t=this.root;if(null==t)return!1;t.$removeFlagsUp(768),this.$renderAlpha=t.$getConcatenatedAlpha();var e=t.$getConcatenatedMatrix(),i=t.$getOriginalBounds(),n=t.$parentDisplayList,r=1;n?r=n.$pixelRatio:t.stage&&t.stage.$displayList&&(r=t.stage.$displayList.$pixelRatio),this.setDevicePixelRatio(r);var s=this.$renderRegion;if(this.needRedraw&&this.updateDirtyRegions(),!n)return s.setTo(0,0,0,0),s.moved=!1,!1;if(!s.moved&&!n.$ratioChanged)return!1;s.moved=!1;var a=this.$renderMatrix;a.copyFrom(e);var o=n.root;return o!==t.$stage&&t.$getConcatenatedMatrixAt(o,a),this.$ratioMatrix.$preMultiplyInto(a,a),s.updateRegion(i,a),!0},h.$render=function(t){var e=this.surface;e&&t.drawImage(e,this.offsetX,this.offsetY,e.width/this.$pixelRatio,e.height/this.$pixelRatio)},h.setClipRect=function(t,e){t*=this.$pixelRatio,e*=this.$pixelRatio,this.dirtyRegion.setClipRect(t,e),this.rootMatrix=null;var i=this.renderContext.surface;i.width=t,i.height=e,this.surface=i},h.markDirty=function(t){var e=t.$hashCode;if(!this.dirtyNodes[e]&&(this.dirtyNodes[e]=!0,this.dirtyNodeList.push(t),!this.needRedraw)){this.needRedraw=!0;var i=this.root.$parentDisplayList;i&&i.markDirty(this)}},h.updateDirtyRegions=function(){var t=this.dirtyNodeList;this.dirtyNodeList=[],this.dirtyNodes={};for(var e=this.dirtyRegion,i=t.length,n=0;i>n;n++){var r=t[n],s=r.$renderRegion;r.$renderAlpha>0&&e.addRegion(s)&&(r.$isDirty=!0);var a=r.$update();r.$renderAlpha>0&&(a||!r.$isDirty)&&e.addRegion(s)&&(r.$isDirty=!0)}return this.dirtyList=e.getDirtyRegions(),this.dirtyList},h.drawToSurface=function(){var t=this.rootMatrix;t&&this.changeSurfaceSize();var e=this.renderContext;e.save(),e.beginPath(),t&&e.setTransform(1,0,0,1,-this.offsetX*this.$pixelRatio,-this.offsetY*this.$pixelRatio);for(var i=this.dirtyList,n=i.length,r=0;n>r;r++){var s=i[r];e.clearRect(s.minX,s.minY,s.width,s.height),e.rect(s.minX,s.minY,s.width,s.height)}e.clip(),t&&e.setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty);var a=this.drawDisplayObject(this.root,e,i,t,null,null);return e.restore(),this.dirtyList=null,this.dirtyRegion.clear(),this.needRedraw=!1,this.$ratioChanged=!1,a},h.drawDisplayObject=function(t,e,i,n,r,s){var a,o,h=0;if(r?(r.needRedraw&&(h+=r.drawToSurface()),a=r,o=1):t.$renderRegion&&(a=t,o=t.$renderAlpha),a){var l=a.$renderRegion;if(s&&!s.intersects(l))a.$isDirty=!1;else if(!a.$isDirty)for(var c=i.length,u=0;c>u;u++)if(l.intersects(i[u])){a.$isDirty=!0;break}if(a.$isDirty){h++,e.globalAlpha=o;var d=a.$renderMatrix;n?(e.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.$render(e),e.setTransform(n.a,n.b,n.c,n.d,n.tx*this.$pixelRatio,n.ty*this.$pixelRatio)):(e.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.$render(e)),a.$isDirty=!1}}if(r)return h;var f=t.$children;if(f)for(var g=f.length,p=0;g>p;p++){var $=f[p];!$.$visible||$.$alpha<=0||$.$maskedObject?$.$isDirty=!1:0!==$.$blendMode||$.$mask&&$.$mask.$parentDisplayList?h+=this.drawWithClip($,e,i,n,s):$.$scrollRect||$.$maskRect?h+=this.drawWithScrollRect($,e,i,n,s):$.isFPS?this.drawDisplayObject($,e,i,n,$.$displayList,s):h+=this.drawDisplayObject($,e,i,n,$.$displayList,s)}return h},h.drawWithClip=function(i,s,a,o,h){var l=0,c=0!==i.$blendMode;if(c){var u=n[i.$blendMode];u||(u=r)}var d=i.$scrollRect?i.$scrollRect:i.$maskRect,f=i.$mask;f&&!f.$parentDisplayList&&(f=null);var g,p=t.Matrix.create();p.copyFrom(i.$getConcatenatedMatrix());var $,v=i.$parentDisplayList.root;if(v!==i.$stage&&($=v.$getInvertedConcatenatedMatrix(),$.$preMultiplyInto(p,p)),this.$ratioMatrix.$preMultiplyInto(p,p),f){var y=f.$getOriginalBounds();g=e.Region.create();var x=t.Matrix.create();x.copyFrom(f.$getConcatenatedMatrix()),$&&$.$preMultiplyInto(x,x),this.$ratioMatrix.$preMultiplyInto(x,x),g.updateRegion(y,x),t.Matrix.release(x)}var m;if(d&&(m=e.Region.create(),m.updateRegion(d,p)),m&&g?(m.intersect(g),e.Region.release(g)):!m&&g&&(m=g),m){if(m.isEmpty()||h&&!h.intersects(m))return e.Region.release(m),t.Matrix.release(p),l}else m=e.Region.create(),y=i.$getOriginalBounds(),m.updateRegion(y,p);for(var T=!1,_=a.length,b=0;_>b;b++)if(m.intersects(a[b])){T=!0;break}if(!T)return e.Region.release(m),t.Matrix.release(p),l;var C=this.createRenderContext(m.width,m.height);if(!C)return l+=this.drawDisplayObject(i,s,a,o,i.$displayList,h),e.Region.release(m),t.Matrix.release(p),l;if(d){var x=p;C.setTransform(x.a,x.b,x.c,x.d,x.tx-m.minX,x.ty-m.minY),C.beginPath(),C.rect(d.x,d.y,d.width,d.height),C.clip()}C.setTransform(1,0,0,1,-m.minX,-m.minY);var F=t.Matrix.create().setTo(1,0,0,1,-m.minX,-m.minY);if(l+=this.drawDisplayObject(i,C,a,F,i.$displayList,m),t.Matrix.release(F),f){var E=this.createRenderContext(m.width,m.height);if(!E)return l+=this.drawDisplayObject(i,s,a,o,i.$displayList,h),e.surfaceFactory.release(C.surface),e.Region.release(m),t.Matrix.release(p),l;E.setTransform(1,0,0,1,-m.minX,-m.minY),F=t.Matrix.create().setTo(1,0,0,1,-m.minX,-m.minY);var R=this.drawDisplayObject(f,E,a,F,f.$displayList,m);t.Matrix.release(F),R>0&&(l+=R,C.globalCompositeOperation="destination-in",C.setTransform(1,0,0,1,0,0),C.globalAlpha=1,C.drawImage(E.surface,0,0)),e.surfaceFactory.release(E.surface)}return l>0&&(l++,c&&(s.globalCompositeOperation=u),s.globalAlpha=1,o?(s.translate(m.minX,m.minY),s.drawImage(C.surface,0,0),s.setTransform(o.a,o.b,o.c,o.d,o.tx*this.$pixelRatio,o.ty*this.$pixelRatio)):(s.setTransform(1,0,0,1,m.minX,m.minY),s.drawImage(C.surface,0,0)),c&&(s.globalCompositeOperation=r)),e.surfaceFactory.release(C.surface),e.Region.release(m),t.Matrix.release(p),l},h.drawWithScrollRect=function(i,n,r,s,a){var o=0,h=i.$scrollRect?i.$scrollRect:i.$maskRect;if(0==h.width||0==h.height)return o;var l=t.Matrix.create();l.copyFrom(i.$getConcatenatedMatrix());var c=i.$parentDisplayList.root;c!==i.$stage&&c.$getInvertedConcatenatedMatrix().$preMultiplyInto(l,l),this.$ratioMatrix.$preMultiplyInto(l,l);var u=e.Region.create();if(h.isEmpty()||u.updateRegion(h,l),u.isEmpty()||a&&!a.intersects(u))return e.Region.release(u),t.Matrix.release(l),o;for(var d=!1,f=r.length,g=0;f>g;g++)if(u.intersects(r[g])){d=!0;break}return d?(n.save(),s?(n.setTransform(s.a,s.b,s.c,s.d,s.tx*this.$pixelRatio,s.ty*this.$pixelRatio),n.transform(l.a,l.b,l.c,l.d,l.tx,l.ty)):n.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),n.beginPath(),n.rect(h.x,h.y,h.width,h.height),n.clip(),s&&n.setTransform(s.a,s.b,s.c,s.d,s.tx*this.$pixelRatio,s.ty*this.$pixelRatio),o+=this.drawDisplayObject(i,n,r,s,i.$displayList,u),n.restore(),e.Region.release(u),t.Matrix.release(l),o):(e.Region.release(u),t.Matrix.release(l),o)},h.createRenderContext=function(i,n){var r=e.surfaceFactory.create(!0);return r?(t.Capabilities.runtimeType==t.RuntimeType.WEB?(r.width=Math.max(257,i),r.height=Math.max(257,n)):(r.width=i,r.height=n),r.renderContext):null},h.changeSurfaceSize=function(){var i=(this.root,this.offsetX),n=this.offsetY,r=this.root.$getOriginalBounds(),s=this.$pixelRatio,a=this.$pixelRatio;this.offsetX=r.x,this.offsetY=r.y;var o=this.renderContext,h=o.surface;if(this.sizeChanged){var l=e.sharedRenderContext,c=l.surface;e.sharedRenderContext=o,this.renderContext=l,this.surface=c,c.width=Math.max(r.width*s,257),c.height=Math.max(r.height*a,257),l.setTransform(1,0,0,1,0,0),l.drawImage(h,(i-this.offsetX)*s,(n-this.offsetY)*a),t.Capabilities.runtimeType!=t.RuntimeType.NATIVE&&(h.height=1,h.width=1)}else this.sizeChanged=!0,h.width=Math.max(r.width*s,257),h.height=Math.max(r.height*a,257);this.rootMatrix.setTo(1,0,0,1,-this.offsetX,-this.offsetY),this.renderContext.setTransform(1,0,0,1,-r.x,-r.y)},h.setDevicePixelRatio=function(e){void 0===e&&(e=1),this.$pixelRatio==e&&this.$ratioMatrix||(this.$ratioMatrix||(this.$ratioMatrix=t.Matrix.create()),this.$ratioChanged=!0,this.$pixelRatio=e,this.$ratioMatrix.setTo(e,0,0,e,0,0),this.root.$invalidate(!0))},h.setDirtyRegionPolicy=function(t){this.dirtyRegion.setDirtyRegionPolicy(t)},a}(t.HashObject);e.DisplayList=s,t.registerClass(s,"egret.sys.DisplayList",["egret.sys.Renderable"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){return"undefined"==typeof t}function i(t){return+t||0}t.isUndefined=e,t.getNumber=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.AUTO="auto",t.PORTRAIT="portrait",t.LANDSCAPE="landscape",t.LANDSCAPE_FLIPPED="landscapeFlipped",t}();t.OrientationMode=e,t.registerClass(e,"egret.OrientationMode")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(i,n,r,s){if(n&&(t.log=function(){for(var t=arguments.length,i="",n=0;t>n;n++)i+=arguments[n]+" ";e.$logToFPS(i),console.log.apply(console,a(arguments))}),l=e.isUndefined(s)?{}:s,n=!!n,this.showFPS=!!i,this.showLog=n,!this.fpsDisplay){var o=e.isUndefined(s.x)?0:s.x,u=e.isUndefined(s.y)?0:s.y;h=this.fpsDisplay=new FPS(this.stage,i,n,r,s),h.x=o,h.y=u;for(var d=c.length,f=0;d>f;f++)h.updateInfo(c[f]);c=null}}function n(t){t=!!t,this._showPaintRect!=t&&(this._showPaintRect=t,t?(this.stageDisplayList||(this.stageDisplayList=e.DisplayList.create(this.stage)),this.stage.$displayList=this.stageDisplayList):this.stage.$displayList=this.screenDisplayList)}function r(t){for(var e=t.length,i=[],n=0;e>n;n++){var r=t[n];i[n]=[r.minX,r.minY,r.width,r.height],r.width-=1,r.height-=1}var s=this.paintList;s.push(i),s.length>1&&s.shift();var a=this.screenDisplayList.renderContext;for(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.surface.width,a.surface.height),a.drawImage(this.stageDisplayList.surface,0,0),e=s.length,n=0;e>n;n++){i=s[n];for(var o=i.length-1;o>=0;o--){var h=i[o];this.drawDirtyRect(h[0],h[1],h[2],h[3],a)}}a.save(),a.beginPath();for(var e=t.length,n=0;e>n;n++){var r=t[n];a.clearRect(r.minX,r.minY,r.width,r.height),a.rect(r.minX,r.minY,r.width,r.height)}a.clip(),a.drawImage(this.stageDisplayList.surface,0,0),a.restore()}function s(t,e,i,n,r){r.strokeStyle="rgb(255,0,0)",r.lineWidth=5,r.strokeRect(t-.5,e-.5,i,n)}function a(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}var o=function(a){function o(t,e,o){a.call(this),this.isPlaying=!1,this.entryClassName=o,this.stage=e,this.screenDisplayList=this.createDisplayList(e,t),this.showFPS=!1,this.showLog=!1,this._showPaintRect=!1,this.stageDisplayList=null,this.paintList=[],this.displayFPS=i,this.showPaintRect=n,this.drawPaintRect=r,this.drawDirtyRect=s}__extends(o,a);var h=o,l=h.prototype;return l.createDisplayList=function(t,i){var n=new e.DisplayList(t);return n.renderContext=i,t.$displayList=n,n.setClipRect(t.$stageWidth,t.$stageHeight),n},l.start=function(){!this.isPlaying&&this.stage&&(e.$TempStage=e.$TempStage||this.stage,this.isPlaying=!0,this.root||this.initialize(),e.$ticker.$addPlayer(this))},l.initialize=function(){var e;if(this.entryClassName&&(e=t.getDefinitionByName(this.entryClassName)),e){var i=new e;this.root=i,i instanceof t.DisplayObject&&this.stage.addChild(i)}},l.stop=function(){this.pause(),this.stage=null},l.pause=function(){this.isPlaying&&(this.isPlaying=!1,e.$ticker.$removePlayer(this))},l.$render=function(e,i){(this.showFPS||this.showLog)&&this.stage.addChild(this.fpsDisplay),this.callLaters(),this.callLaterAsyncs();var n=this.stage,r=t.getTimer(),s=n.$displayList.updateDirtyRegions(),a=t.getTimer(),o=0;s.length>0&&(s=s.concat(),o=n.$displayList.drawToSurface()),this._showPaintRect&&this.drawPaintRect(s);var h=t.getTimer();if(e&&this.showFPS){var l=0;if(o>0){for(var c=s.length,u=0,d=0;c>d;d++)u+=s[d].area;l=Math.ceil(1e3*u/(n.stageWidth*n.stageHeight))/10}this.fpsDisplay.update(o,l,a-r,h-a,i)}},l.callLaters=function(){if(t.$callLaterFunctionList.length>0){var e=t.$callLaterFunctionList;t.$callLaterFunctionList=[];var i=t.$callLaterThisList;t.$callLaterThisList=[];var n=t.$callLaterArgsList;t.$callLaterArgsList=[]}if(e)for(var r=e.length,s=0;r>s;s++){var a=e[s];null!=a&&a.apply(i[s],n[s])}},l.callLaterAsyncs=function(){if(t.$callAsyncFunctionList.length>0){var e=t.$callAsyncFunctionList,i=t.$callAsyncThisList,n=t.$callAsyncArgsList;t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[];for(var r=0;r<e.length;r++){var s=e[r];null!=s&&s.apply(i[r],n[r])}}},l.updateStageSize=function(e,i,n){void 0===n&&(n=1);var r=this.stage;(e!==r.$stageWidth||i!==r.$stageHeight||this.screenDisplayList.$pixelRatio!==n)&&(r.$stageWidth=e,r.$stageHeight=i,this.screenDisplayList.setDevicePixelRatio(n),this.screenDisplayList.setClipRect(e,i),this.stageDisplayList&&(this.stageDisplayList.setDevicePixelRatio(n),this.stageDisplayList.setClipRect(e,i)),r.dispatchEventWith(t.Event.RESIZE),r.$invalidate(!0))},o}(t.HashObject);e.Player=o,t.registerClass(o,"egret.sys.Player");var h,l,c=[];e.$logToFPS=function(t){return h?void h.updateInfo(t):void c.push(t)},FPS=function(e){function i(i,n,r,s,a){e.call(this),this.isFPS=!0,this.infoLines=[],this.totalTime=0,this.totalTick=0,this.lastTime=0,this.drawCalls=0,this.dirtyRatio=0,this.costDirty=0,this.costRender=0,this.costTicker=0,this._stage=i,this.showFPS=n,this.showLog=r,this.logFilter=s,this.touchChildren=!1,this.touchEnabled=!1,this.styles=a,this.createDisplay();
try{var o=s?new RegExp(s):null}catch(h){t.log(h)}this.filter=function(t){return o?o.test(t):!s||0==t.indexOf(s)}}return __extends(i,e),i.prototype.createDisplay=function(){this.shape=new t.Shape,this.addChild(this.shape);var e=new t.TextField;e.size=t.sys.isUndefined(this.styles.size)?24:parseInt(this.styles.size),this.addChild(e),this.textField=e,e.textColor=t.sys.isUndefined(this.styles.textColor)?49664:parseInt(this.styles.textColor),e.fontFamily="monospace",e.x=10,e.y=10;var e=new t.TextField;this.infoText=e,this.addChild(e),e.textColor=t.sys.isUndefined(this.styles.textColor)?49664:parseInt(this.styles.textColor),e.fontFamily="monospace",e.x=10,e.size=t.sys.isUndefined(this.styles.size)?12:this.styles.size/2,e.y=10},i.prototype.update=function(e,i,n,r,s){var a=t.getTimer();if(this.totalTime+=a-this.lastTime,this.lastTime=a,this.totalTick++,this.drawCalls+=e,this.dirtyRatio+=i,this.costDirty+=n,this.costRender+=r,this.costTicker+=s,this.totalTime>500){var o=Math.round(1e3*this.totalTick/this.totalTime),h=Math.round(this.drawCalls/this.totalTick),l=Math.round(this.dirtyRatio/this.totalTick),c=Math.round(this.costDirty/this.totalTick),u=Math.round(this.costRender/this.totalTick),d=Math.round(this.costTicker/this.totalTick),f="FPS: "+o+"\nDraw: "+h+","+l+"%\nCost: "+d+","+c+","+u;this.textField.text!=f&&(this.textField.text=f,this.updateLayout()),this.totalTick=0,this.totalTime=this.totalTime%500,this.drawCalls=0,this.dirtyRatio=0,this.costDirty=0,this.costRender=0,this.costTicker=0}},i.prototype.updateInfo=function(t){if(this.showLog&&this.filter(t)){var e=this.infoLines;if(t&&e.push(t),this.infoText.width=0/0,this.infoText.text=e.join("\n"),this._stage.stageHeight>0)for(this.infoText.textWidth>this._stage.stageWidth-20&&(this.infoText.width=this._stage.stageWidth-20);this.infoText.textHeight>this._stage.stageHeight-20;)e.shift(),this.infoText.text=e.join("\n");this.updateLayout()}},i.prototype.updateLayout=function(){if(this.showFPS&&(this.infoText.y=this.textField.height+20),t.Capabilities.runtimeType!=t.RuntimeType.NATIVE){var e=this.shape.$graphics.$renderContext;e.clear(),e.fillStyle="rgba(68,68,68,"+(this.styles.bgAlpha||.9)+")",e.fillRect(0,0,Math.max(160,this.width+20),this.height+20)}},i}(t.Sprite),t.warn=function(){console.warn.apply(console,a(arguments))},t.error=function(){console.error.apply(console,a(arguments))},t.assert=function(){console.assert.apply(console,a(arguments))},t.log=function(){console.log.apply(console,a(arguments))}}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=[],n=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.area=0,this.moved=!1}var e=t,n=e.prototype;return t.release=function(t){i.push(t)},t.create=function(){var e=i.pop();return e||(e=new t),e},n.setTo=function(t,e,i,n){return this.minX=t,this.minY=e,this.maxX=i,this.maxY=n,this.updateArea(),this},n.updateArea=function(){this.width=this.maxX-this.minX,this.height=this.maxY-this.minY,this.area=this.width*this.height},n.union=function(t){this.minX>t.minX&&(this.minX=t.minX),this.minY>t.minY&&(this.minY=t.minY),this.maxX<t.maxX&&(this.maxX=t.maxX),this.maxY<t.maxY&&(this.maxY=t.maxY),this.updateArea()},n.intersect=function(t){return this.minX<t.minX&&(this.minX=t.minX),this.maxX>t.maxX&&(this.maxX=t.maxX),this.minX>=this.maxX?void this.setEmpty():(this.minY<t.minY&&(this.minY=t.minY),this.maxY>t.maxY&&(this.maxY=t.maxY),this.minY>=this.maxY?void this.setEmpty():void this.updateArea())},n.setEmpty=function(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.area=0},n.isEmpty=function(){return this.width<=0||this.height<=0},n.intersects=function(t){if(this.isEmpty())return!1;var e=this.minX>t.minX?this.minX:t.minX,i=this.maxX<t.maxX?this.maxX:t.maxX;return e>i?!1:(e=this.minY>t.minY?this.minY:t.minY,i=this.maxY<t.maxY?this.maxY:t.maxY,i>=e)},n.updateRegion=function(t,e){var i,n,r,s,a=e,o=a.a,h=a.b,l=a.c,c=a.d,u=a.tx,d=a.ty,f=t.x,g=t.y,p=f+t.width,$=g+t.height;if(1==o&&0==h&&0==l&&1==c)i=Math.floor(f+u)-1,n=Math.floor(g+d)-1,r=Math.ceil(p+u)+1,s=Math.ceil($+d)+1;else{var v=o*f+l*g+u,y=h*f+c*g+d,x=o*p+l*g+u,m=h*p+c*g+d,T=o*p+l*$+u,_=h*p+c*$+d,b=o*f+l*$+u,C=h*f+c*$+d,F=0;v>x&&(F=v,v=x,x=F),T>b&&(F=T,T=b,b=F),i=Math.floor(T>v?v:T)-1,r=Math.ceil(x>b?x:b)+1,y>m&&(F=y,y=m,m=F),_>C&&(F=_,_=C,C=F),n=Math.floor(_>y?y:_)-1,s=Math.ceil(m>C?m:C)+1}this.minX=i,this.minY=n,this.maxX=r,this.maxY=s,this.width=r-i,this.height=s-n,this.area=this.width*this.height},t}();e.Region=n,t.registerClass(n,"egret.sys.Region")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i,r=n.prototype;return r.calculateStageSize=function(e,i,n,r,s){var a=i,o=n,h=r,l=s,c=i/h||0,u=n/l||0;switch(e){case t.StageScaleMode.EXACT_FIT:break;case t.StageScaleMode.FIXED_HEIGHT:h=Math.round(i/u);break;case t.StageScaleMode.FIXED_WIDTH:l=Math.round(n/c);break;case t.StageScaleMode.NO_BORDER:c>u?o=Math.round(l*c):a=Math.round(h*u);break;case t.StageScaleMode.SHOW_ALL:c>u?a=Math.round(h*u):o=Math.round(l*c);break;case t.StageScaleMode.FIXED_NARROW:c>u?h=Math.round(i/u):l=Math.round(n/c);break;case t.StageScaleMode.FIXED_WIDE:c>u?l=Math.round(n/c):h=Math.round(i/u);break;default:h=i,l=n}return{stageWidth:h,stageHeight:l,displayWidth:a,displayHeight:o}},i}(t.HashObject);e.ScreenAdapter=i,t.registerClass(i,"egret.sys.ScreenAdapter",["egret.sys.IScreenAdapter"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.NO_SCALE="noScale",t.SHOW_ALL="showAll",t.NO_BORDER="noBorder",t.EXACT_FIT="exactFit",t.FIXED_WIDTH="fixedWidth",t.FIXED_HEIGHT="fixedHeight",t.FIXED_NARROW="fixedNarrow",t.FIXED_WIDE="fixedWide",t}();t.StageScaleMode=e,t.registerClass(e,"egret.StageScaleMode")}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){e.$START_TIME=0,e.$invalidateRenderFlag=!1,e.$requestRenderingFlag=!1;var i=function(){function i(){this.playerList=[],this.callBackList=[],this.thisObjectList=[],this.$frameRate=30,this.frameInterval=2e3,this.lastCount=2e3,this.costEnterFrame=0,e.$START_TIME=Date.now()}var n=i,r=n.prototype;return r.$addPlayer=function(t){-1==this.playerList.indexOf(t)&&(this.playerList=this.playerList.concat(),this.playerList.push(t))},r.$removePlayer=function(t){var e=this.playerList.indexOf(t);if(-1!==e){this.playerList=this.playerList.concat(),this.playerList.splice(e,1)}},r.$startTick=function(t,e){var i=this.getTickIndex(t,e);-1==i&&(this.concatTick(),this.callBackList.push(t),this.thisObjectList.push(e))},r.$stopTick=function(t,e){var i=this.getTickIndex(t,e);-1!=i&&(this.concatTick(),this.callBackList.splice(i,1),this.thisObjectList.splice(i,1))},r.getTickIndex=function(t,e){for(var i=this.callBackList,n=this.thisObjectList,r=i.length-1;r>=0;r--)if(i[r]==t&&n[r]==e)return r;return-1},r.concatTick=function(){this.callBackList=this.callBackList.concat(),this.thisObjectList=this.thisObjectList.concat()},r.$setFrameRate=function(e){return e=+e||0,0>=e?!1:this.$frameRate==e?!1:(this.$frameRate=e,e>60&&(e=60),t.Capabilities.runtimeType==t.RuntimeType.NATIVE&&(egret_native.setFrameRate(e),e=60),this.lastCount=this.frameInterval=Math.round(6e4/e),!0)},r.update=function(){for(var i=t.getTimer(),n=this.callBackList,r=this.thisObjectList,s=n.length,a=e.$requestRenderingFlag,o=t.getTimer(),h=0;s>h;h++)n[h].call(r[h],o)&&(a=!0);this.lastCount-=1e3;var l=t.getTimer();if(this.lastCount>0)return void(a&&this.render(!1,this.costEnterFrame+l-i));this.lastCount+=this.frameInterval,this.render(!0,this.costEnterFrame+l-i);var c=t.getTimer();this.broadcastEnterFrame();var u=t.getTimer();this.costEnterFrame=u-c},r.render=function(t,i){var n=this.playerList,r=n.length;if(0!=r){e.$invalidateRenderFlag&&(this.broadcastRender(),e.$invalidateRenderFlag=!1);for(var s=0;r>s;s++)n[s].$render(t,i);e.$requestRenderingFlag=!1}},r.broadcastEnterFrame=function(){var e=t.DisplayObject.$enterFrameCallBackList,i=e.length;if(0!=i){e=e.concat();for(var n=0;i>n;n++)e[n].dispatchEventWith(t.Event.ENTER_FRAME)}},r.broadcastRender=function(){var e=t.DisplayObject.$renderCallBackList,i=e.length;if(0!=i){e=e.concat();for(var n=0;i>n;n++)e[n].dispatchEventWith(t.Event.RENDER)}},i}();e.SystemTicker=i,t.registerClass(i,"egret.sys.SystemTicker"),e.$ticker=new e.SystemTicker}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret_stages,egret;!function(t){var e;!function(e){var i=function(e){function i(t){e.call(this),this.maxTouches=0,this.useTouchesCount=0,this.touchDownTarget={},this.lastTouchX=-1,this.lastTouchY=-1,this.stage=t}__extends(i,e);var n=i,r=n.prototype;return r.$initMaxTouches=function(){this.maxTouches=this.stage.$maxTouches},r.onTouchBegin=function(e,i,n){if(!(this.useTouchesCount>=this.maxTouches)){this.lastTouchX=e,this.lastTouchY=i;var r=this.findTarget(e,i);null==this.touchDownTarget[n]&&(this.touchDownTarget[n]=r,this.useTouchesCount++),t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_BEGIN,!0,!0,e,i,n,!0)}},r.onTouchMove=function(e,i,n){if(null!=this.touchDownTarget[n]&&(this.lastTouchX!=e||this.lastTouchY!=i)){this.lastTouchX=e,this.lastTouchY=i;var r=this.findTarget(e,i);t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_MOVE,!0,!0,e,i,n,!0)}},r.onTouchEnd=function(e,i,n){if(null!=this.touchDownTarget[n]){var r=this.findTarget(e,i),s=this.touchDownTarget[n];delete this.touchDownTarget[n],this.useTouchesCount--,t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_END,!0,!0,e,i,n,!1),s==r?t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_TAP,!0,!0,e,i,n,!1):t.TouchEvent.dispatchTouchEvent(s,t.TouchEvent.TOUCH_RELEASE_OUTSIDE,!0,!0,e,i,n,!1)}},r.findTarget=function(t,e){var i=this.stage.$hitTest(t,e);return i||(i=this.stage),i},i}(t.HashObject);e.TouchHandler=i,t.registerClass(i,"egret.sys.TouchHandler")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.DeviceOrientation=null}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.WEB="web",t.NATIVE="native",t}();t.RuntimeType=e,t.registerClass(e,"egret.RuntimeType");var i=function(){function t(){}var e=__define,i=t;i.prototype;return e(t,"language",function(){return t.$language}),e(t,"isMobile",function(){return t.$isMobile}),e(t,"os",function(){return t.$os}),e(t,"runtimeType",function(){return t.$runtimeType}),t.$setNativeCapabilities=function(e){var i=e.split("-");if(i.length<=4){var n=i[0];switch(n){case"android":n="Android";break;case"ios":n="iOS"}t.$os=n;var r=i[2].substring(1,i[2].length);t.supportVersion=r}},t.$language="zh-CN",t.$os="Unknown",t.$runtimeType="Unknown",t.supportVersion="Unknown",t}();t.Capabilities=i,t.registerClass(i,"egret.Capabilities")}(egret||(egret={}));var testDeviceType=function(){if(!this.navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},testRuntimeType=function(){return this.navigator?!0:!1};egret.Capabilities.$isMobile=testDeviceType(),egret.Capabilities.$runtimeType=testRuntimeType()?egret.RuntimeType.WEB:egret.RuntimeType.NATIVE;var egret;!function(t){var e=function(e){function i(t,i){e.call(this,t),this.firstCharHeight=0,"string"==typeof i?this.charList=this.parseConfig(i):i&&i.hasOwnProperty("frames")?this.charList=i.frames:this.charList={}}__extends(i,e);var n=i,r=n.prototype;return r.getTexture=function(t){var e=this._textureMap[t];if(!e){var i=this.charList[t];if(!i)return null;e=this.createTexture(t,i.x,i.y,i.w,i.h,i.offX,i.offY,i.sourceW,i.sourceH),this._textureMap[t]=e}return e},r._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var e in this.charList){var i=this.charList[e];if(i){var n=i.sourceH;if(t.sys.isUndefined(n)){var r=i.h;void 0===r&&(r=0);var s=i.offY;t.sys.isUndefined(s)&&(s=0),n=r+s}if(0>=n)continue;this.firstCharHeight=n;break}}return this.firstCharHeight},r.parseConfig=function(t){t=t.split("\r\n").join("\n");for(var e=t.split("\n"),i=this.getConfigByKey(e[3],"count"),n={},r=4;4+i>r;r++){var s=e[r],a=String.fromCharCode(this.getConfigByKey(s,"id")),o={};n[a]=o,o.x=this.getConfigByKey(s,"x"),o.y=this.getConfigByKey(s,"y"),o.w=this.getConfigByKey(s,"width"),o.h=this.getConfigByKey(s,"height"),o.offX=this.getConfigByKey(s,"xoffset"),o.offY=this.getConfigByKey(s,"yoffset")}return n},r.getConfigByKey=function(t,e){for(var i=t.split(" "),n=0,r=i.length;r>n;n++){var s=i[n];if(e==s.substring(0,e.length)){var a=s.substring(e.length+1);return parseInt(a)}}return 0},i}(t.SpriteSheet);t.BitmapFont=e,t.registerClass(e,"egret.BitmapFont")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$textOffsetX=0,this.$textOffsetY=0,this.$textStartX=0,this.$textStartY=0,this.$lineHeights=[],this.$renderRegion=new t.sys.Region,this.$BitmapText={0:0/0,1:0/0,2:"",3:0,4:0,5:null,6:!1,7:!1,8:!1,9:!1,10:"left",11:"top"}}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"text",function(){return this.$BitmapText[2]},function(t){this.$setText(t)}),s.$setText=function(t){var e=this.$BitmapText;return t==e[2]?!1:(e[2]=t,this.$invalidateContentBounds(),!0)},s.$getWidth=function(){var t=this.$BitmapText[0];return isNaN(t)?this.$getContentBounds().width:t},s.$setWidth=function(t){var e=this.$BitmapText;return 0>t||t==e[0]?!1:(e[0]=t,this.$invalidateContentBounds(),!0)},s.$invalidateContentBounds=function(){e.prototype.$invalidateContentBounds.call(this),this.$BitmapText[7]=!0},s.$getHeight=function(){var t=this.$BitmapText[1];return isNaN(t)?this.$getContentBounds().height:t},s.$setHeight=function(t){var e=this.$BitmapText;return 0>t||t==e[1]?!1:(e[1]=t,this.$invalidateContentBounds(),!0)},n(s,"font",function(){return this.$BitmapText[5]},function(t){this.$setFont(t)}),s.$setFont=function(t){var e=this.$BitmapText;return e[5]==t?!1:(e[5]=t,this.$BitmapText[6]=!0,this.$invalidateContentBounds(),!0)},n(s,"lineSpacing",function(){return this.$BitmapText[3]},function(t){this.$setLineSpacing(t)}),s.$setLineSpacing=function(t){t=+t||0;var e=this.$BitmapText;return e[3]==t?!1:(e[3]=t,this.$invalidateContentBounds(),!0)},n(s,"letterSpacing",function(){return this.$BitmapText[4]},function(t){this.$setLetterSpacing(t)}),s.$setLetterSpacing=function(t){t=+t||0;var e=this.$BitmapText;return e[4]==t?!1:(e[4]=t,this.$invalidateContentBounds(),!0)},n(s,"textAlign",function(){return this.$BitmapText[10]},function(t){this.$setTextAlign(t)}),s.$setTextAlign=function(t){var e=this.$BitmapText;return e[10]==t?!1:(e[10]=t,this.$invalidateContentBounds(),!0)},n(s,"verticalAlign",function(){return this.$BitmapText[11]},function(t){this.$setVerticalAlign(t)}),s.$setVerticalAlign=function(t){var e=this.$BitmapText;return e[11]==t?!1:(e[11]=t,this.$invalidateContentBounds(),!0)},s.$render=function(e){var n=this,r=n.$BitmapText,s=n.$getTextLines(),a=s.length;if(0!=a)for(var o=n.$textLinesWidth,h=r[5],l=h._getFirstCharHeight(),c=Math.ceil(l*i.EMPTY_FACTOR),u=!isNaN(r[1]),d=r[8],f=r[0],g=r[1],p=r[10],$=n.$textOffsetY+n.$textStartY,v=n.$lineHeights,y=0;a>y;y++){var x=v[y];if(u&&y>0&&$+x>g)break;var m=s[y],T=m.length,_=n.$textOffsetX;if(p!=t.HorizontalAlign.LEFT){var b=f>d?f:d;p==t.HorizontalAlign.RIGHT?_+=b-o[y]:p==t.HorizontalAlign.CENTER&&(_+=Math.floor((b-o[y])/2))}for(var C=0;T>C;C++){var F=m.charAt(C),E=h.getTexture(F);if(E){var R=E._bitmapWidth,S=E._bitmapHeight;e.drawImage(E._bitmapData,E._bitmapX,E._bitmapY,R,S,_+E._offsetX,$+E._offsetY,E.$getScaleBitmapWidth(),E.$getScaleBitmapHeight()),_+=E.$getTextureWidth()+r[4]}else" "==F?_+=c:t.$warn(1011,F)}$+=x+r[3]}},s.$measureContentBounds=function(t){var e=this.$getTextLines();0==e.length?t.setEmpty():t.setTo(this.$textOffsetX+this.$textStartX,this.$textOffsetY+this.$textStartY,this.$BitmapText[8]-this.$textOffsetX,this.$BitmapText[9]-this.$textOffsetY)},n(s,"textWidth",function(){return this.$getTextLines(),this.$BitmapText[8]}),n(s,"textHeight",function(){return this.$getTextLines(),this.$BitmapText[9]}),s.$getTextLines=function(){function e(t){return $&&s.length>0&&u>$?!1:(u+=R+h,w||L||(S-=l),s.push(t),o.push(R),a.push(S),c=Math.max(S,c),!0)}var n=this,r=this.$BitmapText;if(!r[7])return n.textLines;var s=[];n.textLines=s;var a=[];n.$textLinesWidth=a,r[7]=!1;var o=[];if(n.$lineHeights=o,!r[2]||!r[5])return s;for(var h=r[3],l=r[4],c=0,u=0,d=0,f=0,g=!isNaN(r[0]),p=r[0],$=r[1],v=r[5],y=v._getFirstCharHeight(),x=Math.ceil(y*i.EMPTY_FACTOR),m=r[2],T=m.split(/(?:\r\n|\r|\n)/),_=T.length,b=!0,C=0;_>C;C++){for(var F=T[C],E=F.length,R=0,S=0,w=!0,L=!1,O=0;E>O;O++){w||(S+=l);var D,M,I=F.charAt(O),A=0,N=0,B=v.getTexture(I);if(B)D=B.$getTextureWidth(),M=B.$getTextureHeight(),A=B._offsetX,N=B._offsetY;else{if(" "!=I){t.$warn(1011,I),w&&(w=!1);continue}D=x,M=y}if(w&&(w=!1,d=Math.min(A,d)),b&&(b=!1,f=Math.min(N,f)),g&&O>0&&S+D>p){if(!e(F.substring(0,O)))break;F=F.substring(O),E=F.length,O=0,S=D,R=M}else S+=D,R=Math.max(M,R)}if($&&C>0&&u>$)break;if(L=!0,!e(F))break}u-=h,r[8]=c,r[9]=u,n.$textOffsetX=d,n.$textOffsetY=f,n.$textStartX=0,n.$textStartY=0;var P;return p>c&&(P=r[10],P==t.HorizontalAlign.RIGHT?n.$textStartX=p-c:P==t.HorizontalAlign.CENTER&&(n.$textStartX=Math.floor((p-c)/2))),$>u&&(P=r[11],P==t.VerticalAlign.BOTTOM?n.$textStartY=$-u:P==t.VerticalAlign.MIDDLE&&(n.$textStartY=Math.floor(($-u)/2))),s},i.EMPTY_FACTOR=.33,i}(t.DisplayObject);t.BitmapText=e,t.registerClass(e,"egret.BitmapText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.HorizontalAlign=e,t.registerClass(e,"egret.HorizontalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.replaceArr=[],this.resutlArr=[],this.initReplaceArr()}var i=e,n=i.prototype;return n.initReplaceArr=function(){this.replaceArr=[],this.replaceArr.push([/&lt;/g,"<"]),this.replaceArr.push([/&gt;/g,">"]),this.replaceArr.push([/&amp;/g,"&"]),this.replaceArr.push([/&quot;/g,'"']),this.replaceArr.push([/&apos;/g,"'"])},n.replaceSpecial=function(t){for(var e=0;e<this.replaceArr.length;e++){var i=this.replaceArr[e][0],n=this.replaceArr[e][1];t=t.replace(i,n)}return t},n.parser=function(e){this.stackArray=[],this.resutlArr=[];for(var i=0,n=e.length;n>i;){var r=e.indexOf("<",i);if(0>r)this.addToResultArr(e.substring(i)),i=n;else{this.addToResultArr(e.substring(i,r));var s=e.indexOf(">",r);-1==s?(t.$error(1038),s=r):"/"==e.charAt(r+1)?this.stackArray.pop():this.addToArray(e.substring(r+1,s)),i=s+1}}return this.resutlArr},n.addToResultArr=function(t){""!=t&&(t=this.replaceSpecial(t),this.stackArray.length>0?this.resutlArr.push({text:t,style:this.stackArray[this.stackArray.length-1]}):this.resutlArr.push({text:t}))},n.changeStringToObject=function(t){t=t.trim();var e={},i=[];if("i"==t.charAt(0)||"b"==t.charAt(0)||"u"==t.charAt(0))this.addProperty(e,t,"true");else if(i=t.match(/^(font|a)\s/)){t=t.substring(i[0].length).trim();for(var n,r=0;n=t.match(this.getHeadReg());){var s=n[0],a="",t=t.substring(s.length).trim();if('"'==t.charAt(0)){var r=t.indexOf('"',1);a=t.substring(1,r),r+=1}else if("'"==t.charAt(0)){var r=t.indexOf("'",1);a=t.substring(1,r),r+=1}else a=t.match(/(\S)+/)[0],r=a.length;this.addProperty(e,s.substring(0,s.length-1).trim(),a.trim()),t=t.substring(r).trim()}}return e},n.getHeadReg=function(){return/^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\s)*=/},n.addProperty=function(t,e,i){switch(e.toLowerCase()){case"color":case"textcolor":i=i.replace(/#/,"0x"),t.textColor=parseInt(i);break;case"strokecolor":i=i.replace(/#/,"0x"),t.strokeColor=parseInt(i);break;case"stroke":t.stroke=parseInt(i);break;case"b":case"bold":t.bold="true"==i;break;case"u":t.underline="true"==i;break;case"i":case"italic":t.italic="true"==i;break;case"size":t.size=parseInt(i);break;case"fontfamily":t.fontFamily=i;break;case"href":t.href=this.replaceSpecial(i);break;case"target":t.target=this.replaceSpecial(i)}},n.addToArray=function(t){var e=this.changeStringToObject(t);if(0==this.stackArray.length)this.stackArray.push(e);else{var i=this.stackArray[this.stackArray.length-1];for(var n in i)null==e[n]&&(e[n]=i[n]);this.stackArray.push(e)}},e}();t.HtmlTextParser=e,t.registerClass(e,"egret.HtmlTextParser")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this._text=null,this._isFocus=!1}__extends(i,e);var n=i,r=n.prototype;return r.init=function(e){this._text=e,this.stageText=new t.StageText,this.stageText.$setTextField(this._text)},r._addStageText=function(){this._text.$inputEnabled||(this._text.$touchEnabled=!0),this.stageText.$addToStage(),this.stageText.addEventListener("updateText",this.updateTextHandler,this),this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this.stageText.addEventListener("blur",this.blurHandler,this),this.stageText.addEventListener("focus",this.focusHandler,this)},r._removeStageText=function(){this._text.$inputEnabled||(this._text.$touchEnabled=!1),this.stageText.$removeFromStage(),this.stageText.removeEventListener("updateText",this.updateTextHandler,this),this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this._text.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.removeEventListener("blur",this.blurHandler,this),this.stageText.removeEventListener("focus",this.focusHandler,this)},r._getText=function(){return this.stageText.$getText()},r._setText=function(t){this.stageText.$setText(t)},r._setColor=function(t){this.stageText.$setColor(t)},r.focusHandler=function(e){this._isFocus||(this._isFocus=!0,e.showing||(this._text.$isTyping=!0),this._text.$invalidateContentBounds(),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_IN,!0)))},r.blurHandler=function(e){this._isFocus&&(this._isFocus=!1,this._text.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this._text.$isTyping=!1,this._text.$invalidateContentBounds(),this.stageText.$onBlur(),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_OUT,!0)))},r.onMouseDownHandler=function(e){e.stopPropagation();this._text.visible&&(this._isFocus||(this._text.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.$show()))},r.onStageDownHandler=function(t){this.stageText.$hide()},r.updateTextHandler=function(e){var i=this._text.$TextField,n=this.stageText.$getText(),r=!1;if(null!=i[35]){var s=new RegExp("["+i[35]+"]","g"),a=n.match(s);n=a?a.join(""):"",r=!0}null!=i[36]&&(s=new RegExp("[^"+i[36]+"]","g"),a=n.match(s),n=a?a.join(""):"",r=!0),r&&this.stageText.$getText()!=n&&this.stageText.$setText(n),this.resetText(),this._text.dispatchEvent(new t.Event(t.Event.CHANGE,!0))},r.resetText=function(){this._text.$setBaseText(this.stageText.$getText())},r._hideInput=function(){this.stageText.$removeFromStage()},r.updateInput=function(){!this._text.$visible&&this.stageText&&this._hideInput()},r._updateProperties=function(){if(this._isFocus)return this.stageText.$resetStageText(),void this.updateInput();var t=this._text.$stage;if(null==t);else for(var e=this._text,i=e.$visible;;){if(!i)break;if(e=e.parent,e==t)break;i=e.$visible}this.stageText.$setText(this._text.$TextField[13]),this.stageText.$resetStageText(),this.updateInput()},i}(t.HashObject);t.InputController=e,t.registerClass(e,"egret.InputController")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,n,r,s,a,o,h){void 0===h&&(h=null),i(e,n,h),h=h||{};var l;l=null!=h.textColor?t.toColorString(h.textColor):n.$TextField[11];var c;c=null!=h.strokeColor?t.toColorString(h.strokeColor):n.$TextField[26];var u;u=null!=h.stroke?h.stroke:n.$TextField[27],e.fillStyle=l,e.strokeStyle=c,u&&(e.lineWidth=2*u,e.strokeText(r,s,a,o||65535)),e.fillText(r,s,a,o||65535)}function i(t,e,i){void 0===i&&(i=null),i=i||{};var n=null==i.italic?e.$TextField[16]:i.italic,s=null==i.bold?e.$TextField[15]:i.bold,a=null==i.size?e.$TextField[0]:i.size,o=i.fontFamily||e.$TextField[8]||r.default_fontFamily,h=n?"italic ":"normal ";h+=s?"bold ":"normal ",h+=a+"px "+o,t.font=h,t.textAlign="left",t.textBaseline="middle"}var n=new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![)}\\.\\,\\!\\?\\]\\:])"),r=function(r){function s(){r.call(this),this.$inputEnabled=!1,this.inputUtils=null,this.bgGraphics=null,this.isFlow=!1,this.textArr=[],this.linesArr=[],this.$isTyping=!1,this.drawTempArray=[],this.$renderRegion=new t.sys.Region,this.$TextField={0:30,1:0,2:16777215,3:0/0,4:0/0,5:0,6:0,7:0,8:s.default_fontFamily,9:"left",10:"top",11:"#ffffff",12:"",13:"",14:[],15:!1,16:!1,17:!0,18:!1,19:!1,20:!1,21:0,22:0,23:0,24:t.TextFieldType.DYNAMIC,25:0,26:"#000000",27:0,28:-1,29:0,30:!1,31:!1,32:0,33:!1,34:16777215,35:null,36:null}}__extends(s,r);var a=__define,o=s,h=o.prototype;return h.isInput=function(){return this.$TextField[24]==t.TextFieldType.INPUT},h.$setTouchEnabled=function(t){var e=r.prototype.$setTouchEnabled.call(this,t);return this.isInput()&&(this.$inputEnabled=!0),e},a(h,"fontFamily",function(){return this.$TextField[8]},function(t){this.$setFontFamily(t)}),h.$setFontFamily=function(t){var e=this.$TextField;return e[8]==t?!1:(e[8]=t,this.invalidateFontString(),!0)},a(h,"size",function(){return this.$TextField[0]},function(t){this.$setSize(t)}),h.$setSize=function(e){e=t.sys.getNumber(e);var i=this.$TextField;return i[0]==e?!1:(i[0]=e,this.invalidateFontString(),!0)},a(h,"bold",function(){return this.$TextField[15]},function(t){this.$setBold(t)}),h.$setBold=function(t){t=!!t;var e=this.$TextField;return t==e[15]?!1:(e[15]=t,this.invalidateFontString(),!0)},a(h,"italic",function(){return this.$TextField[16]},function(t){this.$setItalic(t)}),h.$setItalic=function(t){t=!!t;var e=this.$TextField;return t==e[16]?!1:(e[16]=t,this.invalidateFontString(),!0)},h.invalidateFontString=function(){this.$TextField[17]=!0,this.$invalidateTextField()},h.getFontString=function(){var e=this.$TextField;return e[17]&&(e[17]=!1,e[12]=t.sys.toFontString(this)),e[12]},a(h,"textAlign",function(){return this.$TextField[9]},function(t){this.$setTextAlign(t)}),h.$setTextAlign=function(t){var e=this.$TextField;return e[9]==t?!1:(e[9]=t,this.$invalidateTextField(),!0)},a(h,"verticalAlign",function(){return this.$TextField[10]},function(t){this.$setVerticalAlign(t)}),h.$setVerticalAlign=function(t){var e=this.$TextField;return e[10]==t?!1:(e[10]=t,this.$invalidateTextField(),!0)},a(h,"lineSpacing",function(){return this.$TextField[1]},function(t){this.$setLineSpacing(t)}),h.$setLineSpacing=function(e){e=t.sys.getNumber(e);var i=this.$TextField;return i[1]==e?!1:(i[1]=e,this.$invalidateTextField(),!0)},a(h,"textColor",function(){return this.$TextField[2]},function(t){this.$setTextColor(t)}),h.$setTextColor=function(e){e=0|+e;var i=this.$TextField;return i[2]==e?!1:(i[2]=e,i[11]=t.toColorString(e),this.inputUtils&&this.inputUtils._setColor(this.$TextField[2]),this.$invalidate(),!0)},a(h,"wordWrap",function(){return this.$TextField[19]},function(t){t=!!t;var e=this.$TextField;t!=e[19]&&(e[20]||(e[19]=t,this.$invalidateTextField()))}),a(h,"type",function(){return this.$TextField[24]},function(t){this.$setType(t)}),h.$setType=function(e){return this.$TextField[24]!=e?(this.$TextField[24]=e,e==t.TextFieldType.INPUT?(isNaN(this.$TextField[3])&&this.$setWidth(100),isNaN(this.$TextField[4])&&this.$setHeight(30),this.$setTouchEnabled(!0),null==this.inputUtils&&(this.inputUtils=new t.InputController),this.inputUtils.init(this),this.$invalidateTextField(),this.$stage&&this.inputUtils._addStageText()):(this.inputUtils&&(this.inputUtils._removeStageText(),this.inputUtils=null),this.$setTouchEnabled(!1)),!0):!1},a(h,"text",function(){return this.$getText()},function(t){this.$setText(t)}),h.$getText=function(){return this.$TextField[24]==t.TextFieldType.INPUT?this.inputUtils._getText():this.$TextField[13]},h.$setBaseText=function(t){if(null==t&&(t=""),t=t.toString(),this.isFlow=!1,this.$TextField[13]!=t){this.$invalidateTextField(),this.$TextField[13]=t;var e="";return e=this.$TextField[20]?this.changeToPassText(t):t,this.setMiddleStyle([{text:e}]),!0}return!1},h.$setText=function(t){null==t&&(t="");var e=this.$setBaseText(t);return this.inputUtils&&this.inputUtils._setText(this.$TextField[13]),e},a(h,"displayAsPassword",function(){return this.$TextField[20]},function(t){this.$setDisplayAsPassword(t)}),h.$setDisplayAsPassword=function(t){if(this.$TextField[20]!=t){this.$TextField[20]=t,this.$invalidateTextField();var e="";return e=t?this.changeToPassText(this.$TextField[13]):this.$TextField[13],this.setMiddleStyle([{text:e}]),!0}return!1},a(h,"strokeColor",function(){return this.$TextField[25]},function(t){this.$setStrokeColor(t)}),h.$setStrokeColor=function(e){return this.$TextField[25]!=e?(this.$invalidateTextField(),this.$TextField[25]=e,this.$TextField[26]=t.toColorString(e),!0):!1},a(h,"stroke",function(){return this.$TextField[27]},function(t){this.$setStroke(t)}),h.$setStroke=function(t){return this.$TextField[27]!=t?(this.$invalidateTextField(),this.$TextField[27]=t,!0):!1},a(h,"maxChars",function(){return this.$TextField[21]},function(t){this.$setMaxChars(t)}),h.$setMaxChars=function(t){return this.$TextField[21]!=t?(this.$TextField[21]=t,!0):!1},a(h,"scrollV",function(){return Math.min(Math.max(this.$TextField[28],1),this.maxScrollV)},function(t){this.$TextField[28]=Math.max(t,1),this.$invalidateTextField()}),a(h,"maxScrollV",function(){return this.$getLinesArr(),Math.max(this.$TextField[29]-t.TextFieldUtils.$getScrollNum(this)+1,1)}),a(h,"selectionBeginIndex",function(){return 0}),a(h,"selectionEndIndex",function(){return 0}),a(h,"caretIndex",function(){return 0}),h.$setSelection=function(t,e){return!1},h.$getLineHeight=function(){return this.$TextField[1]+this.$TextField[0]},a(h,"numLines",function(){return this.$getLinesArr(),this.$TextField[29]}),a(h,"multiline",function(){return this.$TextField[30]},function(t){this.$setMultiline(t)}),h.$setMultiline=function(t){return this.$TextField[30]=t,this.$invalidateTextField(),!0},a(h,"restrict",function(){var t=this.$TextField,e=null;return null!=t[35]&&(e=t[35]),null!=t[36]&&(null==e&&(e=""),e+="^"+t[36]),e},function(t){var e=this.$TextField;if(null==t)e[35]=null,e[36]=null;else{for(var i=-1;i<t.length&&(i=t.indexOf("^",i),0!=i)&&i>0&&"\\"==t.charAt(i-1);)i++;0==i?(e[35]=null,e[36]=t.substring(i+1)):i>0?(e[35]=t.substring(0,i),e[36]=t.substring(i+1)):(e[35]=t,e[36]=null)}}),h.$setWidth=function(t){var e=this.$TextField;if(isNaN(t)){if(isNaN(e[3]))return!1;e[3]=0/0}else{if(e[3]==t)return!1;e[3]=t}return t=+t,0>t?!1:(this.$invalidateTextField(),!0)},h.$setHeight=function(t){var e=this.$TextField;if(isNaN(t)){if(isNaN(e[4]))return!1;e[4]=0/0}else{if(e[4]==t)return!1;e[4]=t}return t=+t,0>t?!1:(this.$invalidateTextField(),!0)},h.$getWidth=function(){var t=this.$TextField;return isNaN(t[3])?this.$getContentBounds().width:t[3]},h.$getHeight=function(){var t=this.$TextField;return isNaN(t[4])?this.$getContentBounds().height:t[4]},a(h,"border",function(){return this.$TextField[31]},function(t){this.$TextField[31]=t,this.fillBackground()}),a(h,"borderColor",function(){return this.$TextField[32]},function(t){this.$TextField[32]=t,this.fillBackground()}),a(h,"background",function(){return this.$TextField[33]},function(t){this.$TextField[33]=t,this.fillBackground()}),a(h,"backgroundColor",function(){return this.$TextField[34]},function(t){this.$TextField[34]=t,this.fillBackground()}),h.fillBackground=function(){var e=this,i=e.bgGraphics;i&&i.clear(),(this.$TextField[33]||this.$TextField[31])&&(null==i&&(i=e.bgGraphics=new t.Graphics,this.bgGraphics.$renderContext.$targetDisplay=this),this.$TextField[33]&&i.beginFill(this.$TextField[34],1),this.$TextField[31]&&i.lineStyle(1,this.$TextField[32]),i.drawRect(0,0,e.$getWidth(),e.$getHeight()),i.endFill())
},h.setFocus=function(){t.$warn(1013)},h.$onRemoveFromStage=function(){r.prototype.$onRemoveFromStage.call(this),this.removeEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._removeStageText()},h.$onAddToStage=function(e,i){r.prototype.$onAddToStage.call(this,e,i),this.addEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._addStageText()},h.$invalidateTextField=function(){this.$invalidateContentBounds(),this.$TextField[18]=!0},h.$update=function(e){var i=this,e=i.$getContentBounds(),n=t.Rectangle.create();n.copyFrom(e),i.$TextField[31]&&(n.width+=2,n.height+=2);var s=2*i.$TextField[27];s>0&&(n.width+=2*s,n.height+=2*s),n.x-=s,n.y-=s;var a=r.prototype.$update.call(this,n);return t.Rectangle.release(n),a},h.$measureContentBounds=function(e){var i=this;this.$getLinesArr();var n=isNaN(this.$TextField[3])?this.$TextField[5]:this.$TextField[3],r=isNaN(this.$TextField[4])?t.TextFieldUtils.$getTextHeight(i):this.$TextField[4];e.setTo(0,0,n,r)},h.$render=function(e){if(this.bgGraphics&&this.bgGraphics.$render(e),this.$TextField[24]==t.TextFieldType.INPUT){if((this.$hasAnyFlags(880)||this.$hasAnyFlags(624))&&this.inputUtils._updateProperties(),this.$isTyping)return}else if(0==this.$TextField[3])return;this.drawText(e)},a(h,"textFlow",function(){return this.textArr},function(t){this.isFlow=!0;var e="";null==t&&(t=[]);for(var i=0;i<t.length;i++){var n=t[i];e+=n.text}this.$TextField[20]?this.$setBaseText(e):(this.$TextField[13]=e,this.setMiddleStyle(t))}),h.changeToPassText=function(t){if(this.$TextField[20]){for(var e="",i=0,n=t.length;n>i;i++)switch(t.charAt(i)){case"\n":e+="\n";break;case"\r":break;default:e+="*"}return e}return t},h.setMiddleStyle=function(t){this.$TextField[18]=!0,this.textArr=t,this.$invalidateTextField()},a(h,"textWidth",function(){return this.$getLinesArr(),this.$TextField[5]}),a(h,"textHeight",function(){return this.$getLinesArr(),t.TextFieldUtils.$getTextHeight(this)}),h.appendText=function(t){this.appendElement({text:t})},h.appendElement=function(t){var e=this.$TextField[13]+t.text;this.$TextField[20]?this.$setBaseText(e):(this.$TextField[13]=e,this.textArr.push(t),this.setMiddleStyle(this.textArr))},h.$getLinesArr=function(){var e=this;if(!e.$TextField[18])return e.linesArr;e.$TextField[18]=!1;var r=e.textArr,s=t.sys.sharedRenderContext;e.linesArr.length=0,this.$TextField[6]=0,this.$TextField[5]=0;var a=this.$TextField[3];if(!isNaN(a)&&0==a)return this.$TextField[29]=0,[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];e.isFlow||i(s,e);for(var o,h=e.linesArr,l=0,c=0,u=0,d=0,f=0,g=r.length;g>f;f++){var p=r[f];p.style=p.style||{};for(var $=p.text.toString(),v=$.split(/(?:\r\n|\r|\n)/),y=0,x=v.length;x>y;y++){null==h[d]&&(o={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},h[d]=o,l=0,u=0,c=0),u=this.$TextField[24]==t.TextFieldType.INPUT?this.$TextField[0]:Math.max(u,p.style.size||this.$TextField[0]);var m=!0;if(""==v[y])y==x-1&&(m=!1);else{e.isFlow&&i(s,e,p.style);var T=s.measureText(v[y]).width;if(isNaN(a))l+=T,c+=v[y].length,o.elements.push({width:T,text:v[y],style:p.style}),y==x-1&&(m=!1);else if(a>=l+T)o.elements.push({width:T,text:v[y],style:p.style}),l+=T,c+=v[y].length,y==x-1&&(m=!1);else{var _=0,b=0,C=v[y];if(this.$TextField[19])var F=C.split(n);else F=C.match(/./g);for(var E=F.length,R=0;E>_&&(T=s.measureText(F[_]).width,!(0!=l&&l+T>a&&l+_!=0));_++)R+=F[_].length,b+=T,l+=T,c+=R;if(_>0){o.elements.push({width:b,text:C.substring(0,R),style:p.style});for(var S=C.substring(R),w=0,L=S.length;L>w&&" "==S.charAt(w);w++);v[y]=S.substring(w)}""!=v[y]&&(y--,m=!1)}}m&&(c++,o.hasNextLine=!0),y<v.length-1&&(o.width=l,o.height=u,o.charNum=c,this.$TextField[5]=Math.max(this.$TextField[5],l),this.$TextField[6]+=u,d++)}f==r.length-1&&o&&(o.width=l,o.height=u,o.charNum=c,this.$TextField[5]=Math.max(this.$TextField[5],l),this.$TextField[6]+=u)}return this.$TextField[29]=h.length,this.fillBackground(),h},h.drawText=function(i){var n=this,r=this.$TextField,s=n.$getLinesArr();if(0!=r[5]){var a=isNaN(r[3])?r[5]:r[3],o=t.TextFieldUtils.$getTextHeight(n),h=0,l=t.TextFieldUtils.$getStartLine(n),c=r[4];if(!isNaN(c)&&c>o){var u=t.TextFieldUtils.$getValign(n);h+=u*(c-o)}h=Math.round(h);for(var d=t.TextFieldUtils.$getHalign(n),f=0,g=l,p=r[29];p>g;g++){var $=s[g],v=$.height;if(h+=v/2,g!=l){if(r[24]==t.TextFieldType.INPUT&&!r[30])break;if(!isNaN(c)&&h>c)break}f=Math.round((a-$.width)*d);for(var y=0,x=$.elements.length;x>y;y++){var m=$.elements[y],T=m.style.size||r[0];e(i,n,m.text,f,h+(v-T)/2,m.width,m.style),m.style.underline&&this.drawTempArray.push({x:f,y:h+v/2,w:m.width,c:m.style.textColor}),f+=m.width}h+=v/2+r[1]}if(this.drawTempArray.length>0){i.save(),i.lineWidth=2;for(var _=0;_<this.drawTempArray.length;_++){var b,C=this.drawTempArray[_];b=null!=C.c?t.toColorString(C.c):r[11],i.beginPath(),i.strokeStyle=b,i.moveTo(C.x,C.y),i.lineTo(C.x+C.w,C.y),i.closePath(),i.stroke()}i.restore(),this.drawTempArray.length=0}}},h.addEvent=function(){this.addEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},h.removeEvent=function(){this.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},h.onTapHandler=function(e){if(this.$TextField[24]!=t.TextFieldType.INPUT){var i=t.TextFieldUtils.$getTextElement(this,e.localX,e.localY);if(null!=i){var n=i.style;if(n&&n.href)if(n.href.match(/^event:/)){var r=n.href.match(/^event:/)[0];t.TextEvent.dispatchTextEvent(this,t.TextEvent.LINK,n.href.substring(r.length))}else open(n.href,n.target||"_blank")}}},s.default_fontFamily="Arial",s}(t.DisplayObject);t.TextField=r,t.registerClass(r,"egret.TextField")}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){var e="";return t.italic&&(e+="italic "),t.bold&&(e+="bold "),e+=(t.fontSize||12)+"px ",e+=t.fontFamily||"sans-serif"}t.toFontString=e}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,t.registerClass(e,"egret.TextFieldType")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}var i=e;i.prototype;return e.$getStartLine=function(t){var i=t.$TextField,n=e.$getTextHeight(t),r=0,s=i[4];return isNaN(s)||(s>n||n>s&&(r=Math.max(i[28]-1,0),r=Math.min(i[29]-1,r)),i[30]||(r=Math.max(i[28]-1,0),i[29]>0&&(r=Math.min(i[29]-1,r)))),r},e.$getHalign=function(e){var i=e.$getLinesArr(),n=0;return e.$TextField[9]==t.HorizontalAlign.CENTER?n=.5:e.$TextField[9]==t.HorizontalAlign.RIGHT&&(n=1),e.$TextField[24]==t.TextFieldType.INPUT&&!e.$TextField[30]&&i.length>1&&(n=0),n},e.$getTextHeight=function(e){var i=t.TextFieldType.INPUT!=e.$TextField[24]||e.$TextField[30]?e.$TextField[6]+(e.$TextField[29]-1)*e.$TextField[1]:e.$TextField[0];return i},e.$getValign=function(i){var n=e.$getTextHeight(i),r=i.$TextField[4];if(!isNaN(r)&&r>n){var s=0;return i.$TextField[10]==t.VerticalAlign.MIDDLE?s=.5:i.$TextField[10]==t.VerticalAlign.BOTTOM&&(s=1),s}return 0},e.$getTextElement=function(t,i,n){var r=e.$getHit(t,i,n),s=t.$getLinesArr();return r&&s[r.lineIndex]&&s[r.lineIndex].elements[r.textElementIndex]?s[r.lineIndex].elements[r.textElementIndex]:null},e.$getHit=function(t,i,n){var r=t.$getLinesArr();if(0==t.$TextField[3])return null;var s=0,a=e.$getTextHeight(t),o=0,h=t.$TextField[4];if(!isNaN(h)&&h>a){var l=e.$getValign(t);o=l*(h-a),0!=o&&(n-=o)}for(var c=e.$getStartLine(t),u=0,d=c;d<r.length;d++){var f=r[d];if(u+f.height>=n){s=d+1;break}if(u+=f.height,u+t.$TextField[1]>n)return null;u+=t.$TextField[1]}if(0==s)return null;var g=r[s-1],p=0;for(d=0;d<g.elements.length;d++){var $=g.elements[d];if(!(p+$.width<i))return{lineIndex:s-1,textElementIndex:d};p+=$.width}return null},e.$getScrollNum=function(t){var e=1;if(t.$TextField[30]){var i=t.height,n=t.size,r=t.lineSpacing;e=Math.floor(i/(n+r));var s=i-(n+r)*e;s>n/2&&e++}return e},e}();t.TextFieldUtils=e,t.registerClass(e,"egret.TextFieldUtils")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.TOP="top",t.BOTTOM="bottom",t.MIDDLE="middle",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.VerticalAlign=e,t.registerClass(e,"egret.VerticalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e,t.registerClass(e,"egret.Endian");var i=function(){function i(t){this.BUFFER_EXT_SIZE=0,this.EOF_byte=-1,this.EOF_code_point=-1,this._setArrayBuffer(t||new ArrayBuffer(this.BUFFER_EXT_SIZE)),this.endian=e.BIG_ENDIAN}var n=__define,r=i,s=r.prototype;return s._setArrayBuffer=function(t){this.write_position=t.byteLength,this.data=new DataView(t),this._position=0},s.setArrayBuffer=function(t){},n(s,"buffer",function(){return this.data.buffer},function(t){this.data=new DataView(t)}),n(s,"dataView",function(){return this.data},function(t){this.data=t,this.write_position=t.byteLength}),n(s,"bufferOffset",function(){return this.data.byteOffset}),n(s,"position",function(){return this._position},function(t){this._position=t,this.write_position=t>this.write_position?t:this.write_position}),n(s,"length",function(){return this.write_position},function(t){this.write_position=t;var e=new Uint8Array(new ArrayBuffer(t)),i=this.data.buffer.byteLength;i>t&&(this._position=t);var n=Math.min(i,t);e.set(new Uint8Array(this.data.buffer,0,n)),this.buffer=e.buffer}),n(s,"bytesAvailable",function(){return this.data.byteLength-this._position}),s.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))},s.readBoolean=function(){return this.validate(i.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null},s.readByte=function(){return this.validate(i.SIZE_OF_INT8)?this.data.getInt8(this.position++):null},s.readBytes=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),0==n)n=this.bytesAvailable;else if(!this.validate(n))return null;t?t.validateBuffer(e+n):t=new i(new ArrayBuffer(e+n));for(var r=0;n>r;r++)t.data.setUint8(r+e,this.data.getUint8(this.position++))},s.readDouble=function(){if(!this.validate(i.SIZE_OF_FLOAT64))return null;var t=this.data.getFloat64(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT64,t},s.readFloat=function(){if(!this.validate(i.SIZE_OF_FLOAT32))return null;var t=this.data.getFloat32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT32,t},s.readInt=function(){if(!this.validate(i.SIZE_OF_INT32))return null;var t=this.data.getInt32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT32,t},s.readShort=function(){if(!this.validate(i.SIZE_OF_INT16))return null;var t=this.data.getInt16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT16,t},s.readUnsignedByte=function(){return this.validate(i.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null},s.readUnsignedInt=function(){if(!this.validate(i.SIZE_OF_UINT32))return null;var t=this.data.getUint32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT32,t},s.readUnsignedShort=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t},s.readUTF=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t>0?this.readUTFBytes(t):""},s.readUTFBytes=function(t){if(!this.validate(t))return null;var e=new Uint8Array(this.buffer,this.bufferOffset+this.position,t);return this.position+=t,this.decodeUTF8(e)},s.writeBoolean=function(t){this.validateBuffer(i.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t?1:0)},s.writeByte=function(t){this.validateBuffer(i.SIZE_OF_INT8),this.data.setInt8(this.position++,t)},s.writeBytes=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n;if(!(0>e)&&!(0>i)&&(n=0==i?t.length-e:Math.min(t.length-e,i),n>0)){this.validateBuffer(n);for(var r=new DataView(t.buffer),i=n,s=0;i>8;i-=8,s+=8)this.data.setFloat64(this._position,r.getFloat64(s+e)),this.position+=8;for(var a=0;i>0;i--,a++)this.data.setUint8(this.position++,r.getUint8(s+a+e))}},s.writeDouble=function(t){this.validateBuffer(i.SIZE_OF_FLOAT64),this.data.setFloat64(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT64},s.writeFloat=function(t){this.validateBuffer(i.SIZE_OF_FLOAT32),this.data.setFloat32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT32},s.writeInt=function(t){this.validateBuffer(i.SIZE_OF_INT32),this.data.setInt32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT32},s.writeShort=function(t){this.validateBuffer(i.SIZE_OF_INT16),this.data.setInt16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT16},s.writeUnsignedInt=function(t){this.validateBuffer(i.SIZE_OF_UINT32),this.data.setUint32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT32},s.writeUnsignedShort=function(t){this.validateBuffer(i.SIZE_OF_UINT16),this.data.setUint16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16},s.writeUTF=function(t){var n=this.encodeUTF8(t),r=n.length;this.validateBuffer(i.SIZE_OF_UINT16+r),this.data.setUint16(this.position,r,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16,this._writeUint8Array(n,!1)},s.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},s.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},s._writeUint8Array=function(t,e){void 0===e&&(e=!0),e&&this.validateBuffer(this.position+t.length);for(var i=0;i<t.length;i++)this.data.setUint8(this.position++,t[i])},s.validate=function(e){return this.data.byteLength>0&&this._position+e<=this.data.byteLength?!0:void t.$error(1025)},s.validateBuffer=function(t,e){if(void 0===e&&(e=!1),this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this.data.byteLength<t||e){var i=new Uint8Array(new ArrayBuffer(t+this.BUFFER_EXT_SIZE)),n=Math.min(this.data.buffer.byteLength,t+this.BUFFER_EXT_SIZE);i.set(new Uint8Array(this.data.buffer,0,n)),this.buffer=i.buffer}},s.encodeUTF8=function(t){for(var e=0,i=this.stringToCodePoints(t),n=[];i.length>e;){var r=i[e++];if(this.inRange(r,55296,57343))this.encoderError(r);else if(this.inRange(r,0,127))n.push(r);else{var s,a;for(this.inRange(r,128,2047)?(s=1,a=192):this.inRange(r,2048,65535)?(s=2,a=224):this.inRange(r,65536,1114111)&&(s=3,a=240),n.push(this.div(r,Math.pow(64,s))+a);s>0;){var o=this.div(r,Math.pow(64,s-1));n.push(128+o%64),s-=1}}}return new Uint8Array(n)},s.decodeUTF8=function(t){for(var e,i=!1,n=0,r="",s=0,a=0,o=0,h=0;t.length>n;){var l=t[n++];if(l==this.EOF_byte)e=0!=a?this.decoderError(i):this.EOF_code_point;else if(0==a)this.inRange(l,0,127)?e=l:(this.inRange(l,194,223)?(a=1,h=128,s=l-192):this.inRange(l,224,239)?(a=2,h=2048,s=l-224):this.inRange(l,240,244)?(a=3,h=65536,s=l-240):this.decoderError(i),s*=Math.pow(64,a),e=null);else if(this.inRange(l,128,191))if(o+=1,s+=(l-128)*Math.pow(64,a-o),o!==a)e=null;else{var c=s,u=h;s=0,a=0,o=0,h=0,e=this.inRange(c,u,1114111)&&!this.inRange(c,55296,57343)?c:this.decoderError(i,l)}else s=0,a=0,o=0,h=0,n--,e=this.decoderError(i,l);null!==e&&e!==this.EOF_code_point&&(65535>=e?e>0&&(r+=String.fromCharCode(e)):(e-=65536,r+=String.fromCharCode(55296+(e>>10&1023)),r+=String.fromCharCode(56320+(1023&e))))}return r},s.encoderError=function(e){t.$error(1026,e)},s.decoderError=function(e,i){return e&&t.$error(1027),i||65533},s.inRange=function(t,e,i){return t>=e&&i>=t},s.div=function(t,e){return Math.floor(t/e)},s.stringToCodePoints=function(t){for(var e=[],i=0,n=t.length;i<t.length;){var r=t.charCodeAt(i);if(this.inRange(r,55296,57343))if(this.inRange(r,56320,57343))e.push(65533);else if(i==n-1)e.push(65533);else{var s=t.charCodeAt(i+1);if(this.inRange(s,56320,57343)){var a=1023&r,o=1023&s;i+=1,e.push(65536+(a<<10)+o)}else e.push(65533)}else e.push(r);i+=1}return e},i.SIZE_OF_BOOLEAN=1,i.SIZE_OF_INT8=1,i.SIZE_OF_INT16=2,i.SIZE_OF_INT32=4,i.SIZE_OF_UINT8=1,i.SIZE_OF_UINT16=2,i.SIZE_OF_UINT32=4,i.SIZE_OF_FLOAT32=4,i.SIZE_OF_FLOAT64=8,i}();t.ByteArray=i,t.registerClass(i,"egret.ByteArray")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=__define,i=t;i.prototype;return e(t,"logLevel",void 0,function(t){}),t.ALL="all",t.DEBUG="debug",t.INFO="info",t.WARN="warn",t.ERROR="error",t.OFF="off",t}();t.Logger=e,t.registerClass(e,"egret.Logger")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;e.prototype;return t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.sin=function(e){var i=Math.floor(e),n=i+1,r=t.sinInt(i),s=t.sinInt(n);return(e-i)*s+(n-e)*r},t.sinInt=function(t){return t%=360,0>t&&(t+=360),90>t?egret_sin_map[t]:180>t?egret_cos_map[t-90]:270>t?-egret_sin_map[t-180]:-egret_cos_map[t-270]},t.cos=function(e){var i=Math.floor(e),n=i+1,r=t.cosInt(i),s=t.cosInt(n);return(e-i)*s+(n-e)*r},t.cosInt=function(t){return t%=360,0>t&&(t+=360),90>t?egret_cos_map[t]:180>t?-egret_sin_map[t-90]:270>t?-egret_cos_map[t-180]:egret_sin_map[t-270]},t}();t.NumberUtils=e,t.registerClass(e,"egret.NumberUtils")}(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},DEG_TO_RAD=Math.PI/180,NumberUtils_i=0;90>=NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*DEG_TO_RAD);Function.prototype.bind||(Function.prototype.bind=function(t){"function"!=typeof this&&egret.$error(1029);var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r});var egret;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=0),e.call(this),this._delay=0,this._currentCount=0,this._running=!1,this.updateInterval=1e3,this.lastCount=1e3,this.delay=t,this.repeatCount=0|+i}__extends(i,e);var n=__define,r=i,s=r.prototype;return n(s,"delay",function(){return this._delay},function(t){1>t&&(t=1),this._delay!=t&&(this._delay=t,this.lastCount=this.updateInterval=Math.round(60*t))}),n(s,"currentCount",function(){return this._currentCount}),n(s,"running",function(){return this._running}),s.reset=function(){this.stop(),this._currentCount=0},s.start=function(){this._running||(this.lastCount=this.updateInterval,t.sys.$ticker.$startTick(this.$update,this),this._running=!0)},s.stop=function(){this._running&&(t.stopTick(this.$update,this),this._running=!1)},s.$update=function(e){if(this.lastCount-=1e3,this.lastCount>0)return!1;this.lastCount+=this.updateInterval,this._currentCount++;var i=this.repeatCount>0&&this._currentCount>=this.repeatCount;return t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER),i&&(this.stop(),t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER_COMPLETE)),!1},i}(t.EventDispatcher);t.Timer=e,t.registerClass(e,"egret.Timer")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.$callLaterFunctionList.push(e),t.$callLaterThisList.push(i),t.$callLaterArgsList.push(n)}function i(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.$callAsyncFunctionList.push(e),t.$callAsyncThisList.push(i),t.$callAsyncArgsList.push(n)}t.$callLaterFunctionList=[],t.$callLaterThisList=[],t.$callLaterArgsList=[],t.callLater=e,t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[],t.$callAsync=i}(egret||(egret={}));var egret;!function(t){function e(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];var s,a=t.prototype;t.hasOwnProperty("__sets__")||Object.defineProperty(t,"__sets__",{value:{}}),s=t.__sets__;var o=s[i];if(o)return o.apply(e,n);var h=Object.getPrototypeOf(a);if(null!=h){for(;!h.hasOwnProperty(i);)if(h=Object.getPrototypeOf(h),null==h)return;o=Object.getOwnPropertyDescriptor(h,i).set,s[i]=o,o.apply(e,n)}}function i(t,e,i){var n,r=t.prototype;t.hasOwnProperty("__gets__")||Object.defineProperty(t,"__gets__",{value:{}}),n=t.__gets__;var s=n[i];if(s)return s.call(e);var a=Object.getPrototypeOf(r);if(null!=a){for(;!a.hasOwnProperty(i);)if(a=Object.getPrototypeOf(a),null==a)return;return s=Object.getOwnPropertyDescriptor(a,i).get,n[i]=s,s.call(e)}}t.superSetter=e,t.superGetter=i}(egret||(egret={}));var egret;!function(t){function e(t){if(!t)return null;var e=i[t];if(e)return e;var n=t.split("."),r=n.length;e=__global;for(var s=0;r>s;s++){var a=n[s];if(e=e[a],!e)return null}return i[t]=e,e}var i={};t.getDefinitionByName=e}(egret||(egret={}));var __global=__global||this,egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(t){var e=typeof t;if(!t||"object"!=e&&!t.prototype)return e;var i=t.prototype?t.prototype:Object.getPrototypeOf(t);if(i.hasOwnProperty("__class__"))return i.__class__;var n=i.constructor.toString(),r=n.indexOf("("),s=n.substring(9,r);return Object.defineProperty(i,"__class__",{value:s,enumerable:!1,writable:!0}),s}t.getQualifiedClassName=e}(egret||(egret={}));var egret;!function(t){function e(e){if(!e||"object"!=typeof e&&!e.prototype)return null;var i=e.prototype?e.prototype:Object.getPrototypeOf(e),n=Object.getPrototypeOf(i);if(!n)return null;var r=t.getQualifiedClassName(n.constructor);return r?r:null}t.getQualifiedSuperclassName=e}(egret||(egret={}));var egret;!function(t){function e(){return Date.now()-t.sys.$START_TIME}t.getTimer=e}(egret||(egret={}));var egret;!function(t){function e(e){var i=t.getDefinitionByName(e);return i?!0:!1}t.hasDefinition=e}(egret||(egret={}));var egret;!function(t){function e(t,e){if(!t||"object"!=typeof t)return!1;var i=Object.getPrototypeOf(t),n=i?i.__types__:null;return n?-1!==n.indexOf(e):!1}t.is=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.sys.$ticker.$startTick(e,i)}t.startTick=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.sys.$ticker.$stopTick(e,i)}t.stopTick=e}(egret||(egret={}));var egret;!function(t){function e(e){return e.hashCode=e.$hashCode=t.$hashCount++,e}t.$toBitmapData=e}(egret||(egret={}));var egret;!function(t){function e(t){0>t&&(t=0),t>16777215&&(t=16777215);for(var e=t.toString(16).toUpperCase();e.length>6;)e=e.slice(1,e.length);for(;e.length<6;)e="0"+e;return"#"+e}t.toColorString=e}(egret||(egret={}));