function __extends(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i}var __define=this.__define||function(t,e,i,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:i,set:n})},egret;!function(){}(egret||(egret={}));var egret;!function(t){function e(t,e,i){var n=t.prototype;n.__class__=e;var r=[e];i&&(r=r.concat(i));var s=n.__types__;if(n.__types__)for(var a=s.length,o=0;a>o;o++){var h=s[o];-1==r.indexOf(h)&&r.push(h)}n.__types__=r}t.registerClass=e}(egret||(egret={}));var egret;!function(t){t.$hashCount=1;var e=function(){function e(){this.$hashCode=t.$hashCount++}var i=__define,n=e;return p=n.prototype,i(p,"hashCode",function(){return this.$hashCode}),e}();t.HashObject=e,t.registerClass(e,"egret.HashObject",["egret.IHashObject"])}(egret||(egret={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){var e=[],i=function(i){function n(t){void 0===t&&(t=null),i.call(this),this.$EventDispatcher={0:t?t:this,1:{},2:{},3:0}}__extends(n,i);var r=n;return p=r.prototype,p.$getEventMap=function(t){var e=this.$EventDispatcher,i=t?e[2]:e[1];return i},p.addEventListener=function(t,e,i,n,r){this.$addListener(t,e,i,n,r)},p.once=function(t,e,i,n,r){this.$addListener(t,e,i,n,r,!0)},p.$addListener=function(t,e,i,n,r,s){var a=this.$EventDispatcher,o=n?a[2]:a[1],h=o[t];h?0!==a[3]&&(o[t]=h=h.concat()):h=o[t]=[],this.$insertEventBin(h,t,e,i,n,r,s)},p.$insertEventBin=function(t,e,i,n,r,s,a){s=0|+s;for(var o=-1,h=t.length,l=0;h>l;l++){var c=t[l];if(c.listener==i&&c.thisObject==n&&c.target==this)return!1;-1==o&&c.priority<s&&(o=l)}var u={type:e,listener:i,thisObject:n,priority:s,target:this,useCapture:r,dispatchOnce:!!a};return-1!==o?t.splice(o,0,u):t.push(u),!0},p.removeEventListener=function(t,e,i,n){var r=this.$EventDispatcher,s=n?r[2]:r[1],a=s[t];a&&(0!==r[3]&&(s[t]=a=a.concat()),this.$removeEventBin(a,e,i),0==a.length&&(s[t]=null))},p.$removeEventBin=function(t,e,i){for(var n=t.length,r=0;n>r;r++){var s=t[r];if(s.listener==e&&s.thisObject==i&&s.target==this)return t.splice(r,1),!0}return!1},p.hasEventListener=function(t){var e=this.$EventDispatcher;return!(!e[1][t]&&!e[2][t])},p.willTrigger=function(t){return this.hasEventListener(t)},p.dispatchEvent=function(t){return t.$currentTarget=this.$EventDispatcher[0],t.$setTarget(t.$currentTarget),this.$notifyListener(t,!1)},p.$notifyListener=function(t,i){var n=this.$EventDispatcher,r=i?n[2]:n[1],s=r[t.$type];if(!s)return!0;var a=s.length;if(0==a)return!0;var o=e;n[3]++;for(var h=0;a>h;h++){var l=s[h];if(l.listener.call(l.thisObject,t),l.dispatchOnce&&o.push(l),t.$isPropagationImmediateStopped)break}for(n[3]--;o.length;)l=o.pop(),l.target.removeEventListener(l.type,l.listener,l.thisObject,l.useCapture);return!t.$isDefaultPrevented},p.dispatchEventWith=function(e,i,n){if(i||this.hasEventListener(e)){var r=t.Event.create(t.Event,e,i);r.data=n;var s=this.dispatchEvent(r);return t.Event.release(r),s}return!0},n}(t.HashObject);t.EventDispatcher=i,t.registerClass(i,"egret.EventDispatcher",["egret.IEventDispatcher"])}(egret||(egret={}));var egret;!function(t){function e(t){switch(t){case r:case-s:return 0;case n:case-n:return-1;case s:case-r:return 0;default:return Math.cos(t)}}function i(t){switch(t){case r:case-s:return 1;case n:case-n:return 0;case s:case-r:return-1;default:return Math.sin(t)}}var n=Math.PI,r=n/2,s=n+r,a=2*n,o=Math.PI/180,h=[],l=function(r){function s(t,e,i,n,s,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===s&&(s=0),void 0===a&&(a=0),r.call(this),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=s,this.ty=a}__extends(s,r);var l=s;return p=l.prototype,s.release=function(t){t&&h.push(t)},s.create=function(){var t=h.pop();return t||(t=new s),t},p.clone=function(){return new s(this.a,this.b,this.c,this.d,this.tx,this.ty)},p.concat=function(t){var e=this.a*t.a,i=0,n=0,r=this.d*t.d,s=this.tx*t.a+t.tx,a=this.ty*t.d+t.ty;(0!==this.b||0!==this.c||0!==t.b||0!==t.c)&&(e+=this.b*t.c,r+=this.c*t.b,i+=this.a*t.b+this.b*t.d,n+=this.c*t.a+this.d*t.c,s+=this.ty*t.c,a+=this.tx*t.b),this.a=e,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=a},p.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},p.identity=function(){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0},p.invert=function(){this.$invertInto(this)},p.$invertInto=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.tx,a=this.ty;if(0==i&&0==n)return t.b=t.c=0,void(0==e||0==r?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,r=t.d=1/r,t.tx=-e*s,t.ty=-r*a));var o=e*r-i*n;if(0==o)return void t.identity();o=1/o;var h=t.a=r*o;i=t.b=-i*o,n=t.c=-n*o,r=t.d=e*o,t.tx=-(h*s+n*a),t.ty=-(i*s+r*a)},p.rotate=function(t){if(t=+t,0!==t){var n=e(t),r=i(t),s=this.a,a=this.b,o=this.c,h=this.d,l=this.tx,c=this.ty;this.a=s*n-a*r,this.b=s*r+a*n,this.c=o*n-h*r,this.d=o*r+h*n,this.tx=l*n-c*r,this.ty=l*r+c*n}},p.scale=function(t,e){1!==t&&(this.a*=t,this.c*=t,this.tx*=t),1!==e&&(this.b*=e,this.d*=e,this.ty*=e)},p.setTo=function(t,e,i,n,r,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},p.transformPoint=function(e,i,n){var r=this.a*e+this.c*i+this.tx,s=this.b*e+this.d*i+this.ty;return n?(n.setTo(r,s),n):new t.Point(r,s)},p.translate=function(t,e){this.tx+=t,this.ty+=e},p.equals=function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty},p.prepend=function(t,e,i,n,r,s){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var o=this.a,h=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*n,this.c=h*t+this.d*i,this.d=h*e+this.d*n}return this.tx=a*t+this.ty*i+r,this.ty=a*e+this.ty*n+s,this},p.append=function(t,e,i,n,r,s){var a=this.a,o=this.b,h=this.c,l=this.d;return(1!=t||0!=e||0!=i||1!=n)&&(this.a=t*a+e*h,this.b=t*o+e*l,this.c=i*a+n*h,this.d=i*o+n*l),this.tx=r*a+s*h+this.tx,this.ty=r*o+s*l+this.ty,this},p.deltaTransformPoint=function(e){var i=this,n=i.a*e.x+i.c*e.y,r=i.b*e.x+i.d*e.y;return new t.Point(n,r)},p.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"},p.createBox=function(e,i,n,r,s){void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0);var a=this;if(0!==n){n/=o;var h=t.NumberUtils.cos(n),l=t.NumberUtils.sin(n);a.a=h*e,a.b=l*i,a.c=-l*e,a.d=h*i}else a.a=e,a.b=0,a.c=0,a.d=i;a.tx=r,a.ty=s},p.createGradientBox=function(t,e,i,n,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),this.createBox(t/1638.4,e/1638.4,i,n+t/2,r+e/2)},p.$transformBounds=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=this.tx,a=this.ty,o=t.x,h=t.y,l=o+t.width,c=h+t.height,u=e*o+n*h+s,d=i*o+r*h+a,p=e*l+n*h+s,f=i*l+r*h+a,g=e*l+n*c+s,$=i*l+r*c+a,v=e*o+n*c+s,x=i*o+r*c+a,y=0;u>p&&(y=u,u=p,p=y),g>v&&(y=g,g=v,v=y),t.x=Math.floor(g>u?u:g),t.width=Math.ceil((p>v?p:v)-t.x),d>f&&(y=d,d=f,f=y),$>x&&(y=$,$=x,x=y),t.y=Math.floor($>d?d:$),t.height=Math.ceil((f>x?f:x)-t.y)},p.getDeterminant=function(){return this.a*this.d-this.b*this.c},p.$getScaleX=function(){var t=this;if(1==t.a&&0==t.b)return 1;var e=Math.sqrt(t.a*t.a+t.b*t.b);return this.getDeterminant()<0?-e:e},p.$getScaleY=function(){var t=this;if(0==t.c&&1==t.d)return 1;var e=Math.sqrt(t.c*t.c+t.d*t.d);return this.getDeterminant()<0?-e:e},p.$getSkewX=function(){return Math.atan2(this.d,this.c)-n/2},p.$getSkewY=function(){return Math.atan2(this.b,this.a)},p.$updateScaleAndRotation=function(t,n,r,s){if(!(0!=r&&r!=a||0!=s&&s!=a))return this.a=t,this.b=this.c=0,void(this.d=n);var o=e(r),h=i(r);r==s?(this.a=o*t,this.b=h*t):(this.a=e(s)*t,this.b=i(s)*t),this.c=-h*n,this.d=o*n},p.$preMultiplyInto=function(t,e){var i=t.a*this.a,n=0,r=0,s=t.d*this.d,a=t.tx*this.a+this.tx,o=t.ty*this.d+this.ty;(0!==t.b||0!==t.c||0!==this.b||0!==this.c)&&(i+=t.b*this.c,s+=t.c*this.b,n+=t.a*this.b+t.b*this.d,r+=t.c*this.a+t.d*this.c,a+=t.ty*this.c,o+=t.tx*this.b),e.a=i,e.b=n,e.c=r,e.d=s,e.tx=a,e.ty=o},s}(t.HashObject);t.Matrix=l,t.registerClass(l,"egret.Matrix"),t.$TempMatrix=new l}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=[],n=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.area=0,this.moved=!1}var e=t;return p=e.prototype,t.release=function(t){i.push(t)},t.create=function(){var e=i.pop();return e||(e=new t),e},p.setTo=function(t,e,i,n){return this.minX=t,this.minY=e,this.maxX=i,this.maxY=n,this.updateArea(),this},p.updateArea=function(){this.width=this.maxX-this.minX,this.height=this.maxY-this.minY,this.area=this.width*this.height},p.union=function(t){this.minX>t.minX&&(this.minX=t.minX),this.minY>t.minY&&(this.minY=t.minY),this.maxX<t.maxX&&(this.maxX=t.maxX),this.maxY<t.maxY&&(this.maxY=t.maxY),this.updateArea()},p.intersect=function(t){return this.minX<t.minX&&(this.minX=t.minX),this.maxX>t.maxX&&(this.maxX=t.maxX),this.minX>=this.maxX?void this.setEmpty():(this.minY<t.minY&&(this.minY=t.minY),this.maxY>t.maxY&&(this.maxY=t.maxY),this.minY>=this.maxY?void this.setEmpty():void this.updateArea())},p.setEmpty=function(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.area=0},p.isEmpty=function(){return this.width<=0||this.height<=0},p.intersects=function(t){var e=this.minX>t.minX?this.minX:t.minX,i=this.maxX<t.maxX?this.maxX:t.maxX;return e>i?!1:(e=this.minY>t.minY?this.minY:t.minY,i=this.maxY<t.maxY?this.maxY:t.maxY,i>=e)},p.updateRegion=function(t,e){var i,n,r,s,a=e,o=a.a,h=a.b,l=a.c,c=a.d,u=a.tx,d=a.ty,p=t.x,f=t.y,g=p+t.width,$=f+t.height;if(1==o&&0==h&&0==l&&1==c)i=Math.floor(p+u)-1,n=Math.floor(f+d)-1,r=Math.ceil(g+u)+1,s=Math.ceil($+d)+1;else{var v=o*p+l*f+u,x=h*p+c*f+d,y=o*g+l*f+u,m=h*g+c*f+d,T=o*g+l*$+u,_=h*g+c*$+d,b=o*p+l*$+u,C=h*p+c*$+d,E=0;v>y&&(E=v,v=y,y=E),T>b&&(E=T,T=b,b=E),i=Math.floor(T>v?v:T)-1,r=Math.ceil(y>b?y:b)+1,x>m&&(E=x,x=m,m=E),_>C&&(E=_,_=C,C=E),n=Math.floor(_>x?x:_)-1,s=Math.ceil(m>C?m:C)+1}this.minX=i,this.minY=n,this.maxX=r,this.maxY=s,this.width=r-i,this.height=s-n,this.area=this.width*this.height},t}();e.Region=n,t.registerClass(n,"egret.sys.Region")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t,e){var i=t.minX<e.minX?t.minX:e.minX,n=t.minY<e.minY?t.minY:e.minY,r=t.maxX>e.maxX?t.maxX:e.maxX,s=t.maxY>e.maxY?t.maxY:e.maxY;return(r-i)*(s-n)}var n=function(){function n(){this.dirtyList=[],this.hasClipRect=!1,this.clipWidth=0,this.clipHeight=0,this.clipArea=0,this.clipRectChanged=!1}var r=n;return p=r.prototype,p.setClipRect=function(t,e){this.hasClipRect=!0,this.clipRectChanged=!0,this.clipWidth=Math.ceil(t),this.clipHeight=Math.ceil(e),this.clipArea=this.clipWidth*this.clipHeight},p.addRegion=function(t){var i=t.minX,n=t.minY,r=t.maxX,s=t.maxY;if(this.hasClipRect&&(0>i&&(i=0),0>n&&(n=0),r>this.clipWidth&&(r=this.clipWidth),s>this.clipHeight&&(s=this.clipHeight)),i>=r||n>=s)return!1;if(this.clipRectChanged)return!0;var a=this.dirtyList,o=e.Region.create();return a.push(o.setTo(i,n,r,s)),this.mergeDirtyList(a),!0},p.clear=function(){for(var t=this.dirtyList,i=t.length,n=0;i>n;n++)e.Region.release(t[n]);t.length=0},p.getDirtyRegions=function(){var i=this.dirtyList;if(this.clipRectChanged){t.Capabilities.runtimeType!=t.RuntimeType.NATIVE&&(this.clipRectChanged=!1),this.clear();var n=e.Region.create();i.push(n.setTo(0,0,this.clipWidth,this.clipHeight))}else for(;this.mergeDirtyList(i););return this.dirtyList},p.mergeDirtyList=function(t){var n=t.length;if(2>n)return!1;for(var r=this.hasClipRect,s=n>3?Number.POSITIVE_INFINITY:0,a=0,o=0,h=0,l=0;n-1>l;l++){var c=t[l];r&&(h+=c.area);for(var u=l+1;n>u;u++){var d=t[u],p=i(c,d)-c.area-d.area;s>p&&(a=l,o=u,s=p)}}if(r&&h/this.clipArea>.95&&(this.clipRectChanged=!0),a!=o){var f=t[o];return t[a].union(f),e.Region.release(f),t.splice(o,1),!0}return!1},n}();e.DirtyRegion=n,t.registerClass(n,"egret.sys.DirtyRegion")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){function e(t){return t%=360,t>180?t-=360:-180>t&&(t+=360),t}var i=function(i){function n(){i.call(this),this.$children=null,this.$parent=null,this.$stage=null,this.$nestLevel=0,this.$visible=!0,this.$displayList=null,this.$alpha=1,this.$touchEnabled=!1,this.$scrollRect=null,this.$blendMode=0,this.$maskedObject=null,this.$mask=null,this.$maskRect=null,this.$parentDisplayList=null,this.$isDirty=!1,this.$renderAlpha=1,this.$renderMatrix=new t.Matrix,this.$renderRegion=null,this.$displayFlags=880,this.$DisplayObject={0:1,1:1,2:0,3:0,4:0,5:"",6:new t.Matrix,7:new t.Matrix,8:new t.Matrix,9:new t.Rectangle,10:new t.Rectangle,11:!1,12:0,13:0,14:0/0,15:0/0}}__extends(n,i);var r=__define,s=n;return p=s.prototype,p.$setFlags=function(t){this.$displayFlags|=t},p.$removeFlags=function(t){this.$displayFlags&=~t},p.$removeFlagsUp=function(t){if(this.$hasAnyFlags(t)){this.$removeFlags(t);var e=this.$parent;e&&e.$removeFlagsUp(t)}},p.$hasFlags=function(t){return(this.$displayFlags&t)==t},p.$propagateFlagsUp=function(t){if(!this.$hasFlags(t)){this.$setFlags(t);var e=this.$parent;e&&e.$propagateFlagsUp(t)}},p.$propagateFlagsDown=function(t){this.$setFlags(t)},p.$hasAnyFlags=function(t){return!!(this.$displayFlags&t)},p.invalidateMatrix=function(){this.$setFlags(8),this.invalidatePosition()},p.invalidatePosition=function(){this.$invalidateTransform(),this.$propagateFlagsDown(48),this.$parent&&this.$parent.$propagateFlagsUp(4)},r(p,"name",function(){return this.$DisplayObject[5]},function(t){this.$DisplayObject[5]=t}),r(p,"parent",function(){return this.$parent}),p.$setParent=function(t){return this.$parent==t?!1:(this.$parent=t,!0)},p.$onAddToStage=function(e,i){this.$stage=e,this.$nestLevel=i,t.Sprite.$EVENT_ADD_TO_STAGE_LIST.push(this)},p.$onRemoveFromStage=function(){this.$nestLevel=0,t.Sprite.$EVENT_REMOVE_FROM_STAGE_LIST.push(this)},r(p,"stage",function(){return this.$stage}),r(p,"matrix",function(){return this.$getMatrix().clone()},function(t){this.$setMatrix(t)}),p.$getMatrix=function(){var t=this.$DisplayObject;return this.$hasFlags(8)&&(t[6].$updateScaleAndRotation(t[0],t[1],t[2],t[3]),this.$removeFlags(8)),t[6]},p.$setMatrix=function(t,i){void 0===i&&(i=!0);var n=this.$DisplayObject,r=n[6];return r.equals(t)?!1:(r.copyFrom(t),i&&(n[0]=r.$getScaleX(),n[1]=r.$getScaleY(),n[2]=t.$getSkewX(),n[3]=t.$getSkewY(),n[4]=e(180*n[3]/Math.PI)),this.$removeFlags(8),this.invalidatePosition(),!0)},p.$getConcatenatedMatrix=function(){var e=this.$DisplayObject[7];if(this.$hasFlags(16)){if(this.$parent){this.$parent.$getConcatenatedMatrix().$preMultiplyInto(this.$getMatrix(),e);var i=this.$scrollRect;i&&e.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-i.x,-i.y),e);var n=this.$DisplayObject;(0!=n[12]||0!=n[13])&&e.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-n[12],-n[13]),e)}else e.copyFrom(this.$getMatrix());this.$displayList&&(this.$displayList.$renderRegion.moved=!0),this.$renderRegion&&(this.$renderRegion.moved=!0),this.$removeFlags(16)}return e},p.$getInvertedConcatenatedMatrix=function(){var t=this.$DisplayObject;return this.$hasFlags(32)&&(this.$getConcatenatedMatrix().$invertInto(t[8]),this.$removeFlags(32)),t[8]},r(p,"x",function(){return this.$getX()},function(t){this.$setX(t)}),p.$getX=function(){return this.$DisplayObject[6].tx},p.$setX=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject[6];return e==i.tx?!1:(i.tx=e,this.invalidatePosition(),!0)},r(p,"y",function(){return this.$getY()},function(t){this.$setY(t)}),p.$getY=function(){return this.$DisplayObject[6].ty},p.$setY=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject[6];return e==i.ty?!1:(i.ty=e,this.invalidatePosition(),!0)},r(p,"scaleX",function(){return this.$getScaleX()},function(t){this.$setScaleX(t)}),p.$getScaleX=function(){return this.$DisplayObject[0]},p.$setScaleX=function(e){e=t.sys.getNumber(e);var i=this.$DisplayObject;return e==i[0]?!1:(i[0]=e,this.invalidateMatrix(),!0)},r(p,"scaleY",function(){return this.$getScaleY()},function(t){this.$setScaleY(t)}),p.$getScaleY=function(){return this.$DisplayObject[1]},p.$setScaleY=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[1]?!1:(this.$DisplayObject[1]=e,this.invalidateMatrix(),!0)},r(p,"rotation",function(){return this.$getRotation()},function(t){this.$setRotation(t)}),p.$getRotation=function(){return this.$DisplayObject[4]},p.$setRotation=function(i){i=t.sys.getNumber(i),i=e(i);var n=this.$DisplayObject;if(i==n[4])return!1;var r=i-n[4],s=r/180*Math.PI;return n[2]+=s,n[3]+=s,n[4]=i,this.invalidateMatrix(),!0},r(p,"skewX",function(){return this.$DisplayObject[2]},function(t){this.$setSkewX(t)}),p.$setSkewX=function(i){i=t.sys.getNumber(i),i=e(i),i=i/180*Math.PI;var n=this.$DisplayObject;return i==n[2]?!1:(n[2]=i,this.invalidateMatrix(),!0)},r(p,"skewY",function(){return this.$DisplayObject[3]},function(t){this.$setSkewY(t)}),p.$setSkewY=function(i){i=t.sys.getNumber(i),i=e(i),i=i/180*Math.PI;var n=this.$DisplayObject;return i==n[3]?!1:(n[3]=i,this.invalidateMatrix(),!0)},r(p,"width",function(){return this.$getWidth()},function(t){this.$setWidth(t)}),p.$getWidth=function(){return isNaN(this.$getExplicitWidth())?this.$getOriginalBounds().width:this.$getExplicitWidth()},p.$getExplicitWidth=function(){return this.$DisplayObject[14]},p.$setWidth=function(t){if(this.$DisplayObject[14]=isNaN(t)?0/0:t,t=+t,0>t)return!1;return this.invalidateMatrix(),!0},r(p,"height",function(){return this.$getHeight()},function(t){this.$setHeight(t)}),p.$getHeight=function(){return isNaN(this.$getExplicitHeight())?this.$getOriginalBounds().height:this.$getExplicitHeight()},p.$getExplicitHeight=function(){return this.$DisplayObject[15]},p.$setHeight=function(t){if(this.$DisplayObject[15]=isNaN(t)?0/0:t,t=+t,0>t)return!1;return this.invalidateMatrix(),!0},r(p,"measuredWidth",function(){return this.$getOriginalBounds().width}),r(p,"measuredHeight",function(){return this.$getOriginalBounds().height}),r(p,"anchorOffsetX",function(){return this.$DisplayObject[12]},function(t){this.$setAnchorOffsetX(t)}),p.$setAnchorOffsetX=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[12]?!1:(this.$DisplayObject[12]=e,this.invalidatePosition(),!0)},r(p,"anchorOffsetY",function(){return this.$DisplayObject[13]},function(t){this.$setAnchorOffsetY(t)}),p.$setAnchorOffsetY=function(e){return e=t.sys.getNumber(e),e==this.$DisplayObject[13]?!1:(this.$DisplayObject[13]=e,this.invalidatePosition(),!0)},r(p,"visible",function(){return this.$visible},function(t){this.$setVisible(t)}),p.$setVisible=function(t){return t=!!t,t==this.$visible?!1:(this.$visible=t,this.$invalidateTransform(),!0)},r(p,"cacheAsBitmap",function(){return this.$DisplayObject[11]},function(e){e=!!e,this.$DisplayObject[11]=e;var i=!!this.$displayList;if(i!=e)if(e){var n=t.sys.DisplayList.create(this);n&&(this.$displayList=n,this.$parentDisplayList&&(n.setDevicePixelRatio(this.$parentDisplayList.$ratioMatrix.a),this.$parentDisplayList.markDirty(n)),this.$cacheAsBitmapChanged())}else t.sys.DisplayList.release(this.$displayList),this.$displayList=null,this.$cacheAsBitmapChanged()}),p.$cacheAsBitmapChanged=function(){var t=this.$displayList||this.$parentDisplayList;this.$renderRegion&&t.markDirty(this),this.$propagateFlagsDown(48)},r(p,"alpha",function(){return this.$alpha},function(t){this.$setAlpha(t)}),p.$setAlpha=function(e){return e=t.sys.getNumber(e),e==this.$alpha?!1:(this.$alpha=e,this.$propagateFlagsDown(64),this.$invalidate(!0),!0)},p.$getConcatenatedAlpha=function(){if(this.$hasFlags(64)){if(this.$parent){var t=this.$parent.$getConcatenatedAlpha();this.$renderAlpha=t*this.$alpha}else this.$renderAlpha=this.$alpha;this.$removeFlags(64)}return this.$renderAlpha},r(p,"touchEnabled",function(){return this.$getTouchEnabled()},function(t){this.$setTouchEnabled(t)}),p.$getTouchEnabled=function(){return this.$touchEnabled},p.$setTouchEnabled=function(t){return this.$touchEnabled==t?!1:(this.$touchEnabled=t,!0)},r(p,"scrollRect",function(){return this.$scrollRect},function(t){this.$setScrollRect(t)}),p.$setScrollRect=function(e){return e||this.$scrollRect?(e?(this.$scrollRect||(this.$scrollRect=new t.Rectangle),this.$scrollRect.copyFrom(e)):this.$scrollRect=null,this.invalidatePosition(),!0):!1},r(p,"blendMode",function(){return t.sys.numberToBlendMode(this.$blendMode)},function(e){var i=t.sys.blendModeToNumber(e);i!=this.$blendMode&&(this.$blendMode=i,this.$invalidateTransform())}),r(p,"mask",function(){return this.$mask?this.$mask:this.$maskRect},function(t){if(t!==this){if(t)if(t instanceof n){if(t==this.$mask)return;t.$maskedObject&&(t.$maskedObject.mask=null),t.$maskedObject=this,this.$mask=t,this.$maskRect=null}else this.$setMaskRect(t),this.$mask=null;else this.$mask=null,this.$maskRect=null;this.$invalidateTransform()}}),p.$setMaskRect=function(e){return e||this.$maskRect?(e?(this.$maskRect||(this.$maskRect=new t.Rectangle),this.$maskRect.copyFrom(e)):this.$maskRect=null,this.invalidatePosition(),!0):!1},p.getTransformedBounds=function(t,e){return t=t||this,this.$getTransformedBounds(t,e)},p.getBounds=function(t,e){if(void 0===e&&(e=!0),t=this.$getTransformedBounds(this,t),e){var i=this.$DisplayObject;(0!=i[12]||0!=i[13])&&(t.x-=i[12],t.y-=i[13])}return t},p.$getTransformedBounds=function(e,i){var n=this.$getOriginalBounds();if(i||(i=new t.Rectangle),i.copyFrom(n),e==this||i.isEmpty())return i;var r;if(e){r=t.$TempMatrix;var s=e.$getInvertedConcatenatedMatrix();s.$preMultiplyInto(this.$getConcatenatedMatrix(),r)}else r=this.$getConcatenatedMatrix();return r.$transformBounds(i),i},p.globalToLocal=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.$getInvertedConcatenatedMatrix();return n.transformPoint(t,e,i)},p.localToGlobal=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.$getConcatenatedMatrix();return n.transformPoint(t,e,i)},p.$invalidateContentBounds=function(){this.$invalidate(),this.$setFlags(2),this.$propagateFlagsUp(4)},p.$getOriginalBounds=function(){var t=this.$DisplayObject[9];return this.$hasFlags(4)&&(t.copyFrom(this.$getContentBounds()),this.$measureChildBounds(t),this.$removeFlags(4),this.$displayList&&(this.$displayList.$renderRegion.moved=!0)),t},p.$measureChildBounds=function(){},p.$getContentBounds=function(){var t=this.$DisplayObject[10];return this.$hasFlags(2)&&(this.$measureContentBounds(t),this.$renderRegion&&(this.$renderRegion.moved=!0),this.$removeFlags(2)),t},p.$measureContentBounds=function(){},p.$invalidate=function(){if(this.$renderRegion&&!this.$hasFlags(256)){this.$setFlags(256);var t=this.$displayList?this.$displayList:this.$parentDisplayList;t&&t.markDirty(this)}},p.$invalidateTransform=function(){if(!this.$hasFlags(512)){this.$setFlags(512);var t=this.$displayList;(t||this.$renderRegion)&&this.$parentDisplayList&&this.$parentDisplayList.markDirty(t||this)}},p.$update=function(){this.$removeFlagsUp(768),this.$getConcatenatedAlpha();var t=this.$getConcatenatedMatrix(),e=this.$getContentBounds(),i=this.$displayList||this.$parentDisplayList,n=this.$renderRegion;if(!i)return n.setTo(0,0,0,0),n.moved=!1,!1;if(!n.moved&&!i.$ratioChanged)return!1;n.moved=!1;var r=this.$renderMatrix;r.copyFrom(t);var s=i.root;return s!==this.$stage&&this.$getConcatenatedMatrixAt(s,r),i.$ratioMatrix.$preMultiplyInto(r,r),n.updateRegion(e,r),!0},p.$getConcatenatedMatrixAt=function(e,i){var n=e.$getInvertedConcatenatedMatrix();if(0===n.a||0===n.d){var r=this,s=e.$nestLevel;for(i.identity();r.$nestLevel>s;){var a=r.$scrollRect;a&&i.concat(t.$TempMatrix.setTo(1,0,0,1,-a.x,-a.y)),i.concat(r.$getMatrix()),r=r.$parent}}else n.$preMultiplyInto(i,i)},p.$render=function(){},p.$hitTest=function(t,e){if(!this.$renderRegion||!this.$visible)return null;var i=this.$getInvertedConcatenatedMatrix(),n=this.$getContentBounds(),r=i.a*t+i.c*e+i.tx,s=i.b*t+i.d*e+i.ty;if(n.contains(r,s)){if(!this.$children){var a=this.$scrollRect?this.$scrollRect:this.$maskRect;if(a&&!a.contains(r,s))return null;if(this.$mask&&!this.$mask.$hitTest(t,e))return null}return this}return null},p.hitTestPoint=function(t,e){return!!this.$hitTest(t,e)},p.$addListener=function(e,r,s,a,o,h){i.prototype.$addListener.call(this,e,r,s,a,o,h);var l=e==t.Event.ENTER_FRAME;if(l||e==t.Event.RENDER){var c=l?n.$enterFrameCallBackList:n.$renderCallBackList;-1==c.indexOf(this)&&c.push(this)}},p.removeEventListener=function(e,r,s,a){i.prototype.removeEventListener.call(this,e,r,s,a);var o=e==t.Event.ENTER_FRAME;if((o||e==t.Event.RENDER)&&!this.hasEventListener(e)){var h=o?n.$enterFrameCallBackList:n.$renderCallBackList,l=h.indexOf(this);-1!==l&&h.splice(l,1)}},p.dispatchEvent=function(t){if(!t.$bubbles)return i.prototype.dispatchEvent.call(this,t);var e=this.$getPropagationList(this),n=.5*e.length;return t.$setTarget(this),this.$dispatchPropagationEvent(t,e,n),!t.$isDefaultPrevented},p.$getPropagationList=function(t){for(var e=[];t;)e.push(t),t=t.$parent;var i=e.concat();return i.reverse(),e=i.concat(e)},p.$dispatchPropagationEvent=function(t,e,i){for(var n=e.length,r=i-1,s=0;n>s;s++){var a=e[s];if(t.$currentTarget=a,t.$eventPhase=r>s?1:s==i||s==r?2:3,a.$notifyListener(t,i>s),t.$isPropagationStopped||t.$isPropagationImmediateStopped)return}},p.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.$parent}return!1},n.$enterFrameCallBackList=[],n.$renderCallBackList=[],n}(t.EventDispatcher);t.DisplayObject=i,t.registerClass(i,"egret.DisplayObject",["egret.sys.Renderable"])}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=[],n=["source-over","lighter","destination-out"],r="source-over",s=function(s){function a(i){s.call(this),this.$isDirty=!1,this.$renderAlpha=1,this.$renderMatrix=new t.Matrix,this.$ratioMatrix=new t.Matrix,this.$ratioChanged=!1,this.$pixelRatio=1,this.$renderRegion=new e.Region,this.surface=null,this.offsetX=0,this.offsetY=0,this.needRedraw=!1,this.rootMatrix=new t.Matrix,this.dirtyNodes={},this.dirtyNodeList=[],this.dirtyList=null,this.dirtyRegion=new e.DirtyRegion,this.sizeChanged=!1,this.root=i}__extends(a,s);var o=a;return p=o.prototype,a.release=function(n){e.surfaceFactory.release(n.surface),t.Matrix.release(n.$renderMatrix),t.Matrix.release(n.$ratioMatrix),n.surface=null,n.renderContext=null,n.root=null,n.$renderMatrix=null,n.$ratioMatrix=null,n.needRedraw=!1,n.$isDirty=!1,i.push(n)},a.create=function(n){var r=i.pop();r||(r=new t.sys.DisplayList(n));var s=e.surfaceFactory.create();return s?(r.surface=s,r.renderContext=s.renderContext,r.root=n,r.$renderMatrix=t.Matrix.create(),r.$renderMatrix.setTo(1,0,0,1,0,0),r.$pixelRatio=1,r.$ratioMatrix=t.Matrix.create(),r.$ratioMatrix.setTo(1,0,0,1,0,0),r.needRedraw=!0,r.$isDirty=!0,r):null},p.$update=function(){var t=this.root;if(null==t)return!1;t.$removeFlagsUp(768),this.$renderAlpha=t.$getConcatenatedAlpha();var e=t.$getConcatenatedMatrix(),i=t.$getOriginalBounds(),n=t.$parentDisplayList,r=1;n?r=n.$pixelRatio:t.stage&&t.stage.$displayList&&(r=t.stage.$displayList.$pixelRatio),this.setDevicePixelRatio(r);var s=this.$renderRegion;if(this.needRedraw&&this.updateDirtyRegions(),!n)return s.setTo(0,0,0,0),s.moved=!1,!1;if(!s.moved&&!n.$ratioChanged)return!1;s.moved=!1;var a=this.$renderMatrix;a.copyFrom(e);var o=n.root;return o!==t.$stage&&t.$getConcatenatedMatrixAt(o,a),this.$ratioMatrix.$preMultiplyInto(a,a),s.updateRegion(i,a),!0},p.$render=function(t){var e=this.surface;e&&t.drawImage(e,this.offsetX,this.offsetY,e.width/this.$pixelRatio,e.height/this.$pixelRatio)},p.setClipRect=function(t,e){t*=this.$pixelRatio,e*=this.$pixelRatio,this.dirtyRegion.setClipRect(t,e),this.rootMatrix=null;var i=this.renderContext.surface;i.width=t,i.height=e,this.surface=i},p.markDirty=function(t){var e=t.$hashCode;if(!this.dirtyNodes[e]&&(this.dirtyNodes[e]=!0,this.dirtyNodeList.push(t),!this.needRedraw)){this.needRedraw=!0;var i=this.root.$parentDisplayList;i&&i.markDirty(this)}},p.updateDirtyRegions=function(){var t=this.dirtyNodeList;this.dirtyNodeList=[],this.dirtyNodes={};for(var e=this.dirtyRegion,i=t.length,n=0;i>n;n++){var r=t[n],s=r.$renderRegion;r.$renderAlpha>0&&e.addRegion(s)&&(r.$isDirty=!0);var a=r.$update();r.$renderAlpha>0&&(a||!r.$isDirty)&&e.addRegion(s)&&(r.$isDirty=!0)}return this.dirtyList=e.getDirtyRegions(),this.dirtyList},p.drawToSurface=function(){var t=this.rootMatrix;t&&this.changeSurfaceSize();var e=this.renderContext;e.save(),e.beginPath(),t&&e.setTransform(1,0,0,1,-this.offsetX*this.$pixelRatio,-this.offsetY*this.$pixelRatio);var i=this.dirtyList;this.dirtyList=null;for(var n=i.length,r=0;n>r;r++){var s=i[r];e.clearRect(s.minX,s.minY,s.width,s.height),e.rect(s.minX,s.minY,s.width,s.height)}e.clip(),t&&e.setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty);var a=this.drawDisplayObject(this.root,e,i,t,null,null);return e.restore(),this.dirtyRegion.clear(),this.needRedraw=!1,this.$ratioChanged=!1,a},p.drawDisplayObject=function(t,e,i,n,r,s){var a,o,h=0;if(r?(r.needRedraw&&(h+=r.drawToSurface()),a=r,o=1):t.$renderRegion&&(a=t,o=t.$renderAlpha),a){var l=a.$renderRegion;if(s&&!s.intersects(l))a.$isDirty=!1;else if(!a.$isDirty)for(var c=i.length,u=0;c>u;u++)if(l.intersects(i[u])){a.$isDirty=!0;break}if(a.$isDirty){h++,e.globalAlpha=o;var d=a.$renderMatrix;n?(e.transform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.$render(e),e.setTransform(n.a,n.b,n.c,n.d,n.tx*this.$pixelRatio,n.ty*this.$pixelRatio)):(e.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),a.$render(e)),a.$isDirty=!1}}if(r)return h;var p=t.$children;if(p)for(var f=p.length,g=0;f>g;g++){var $=p[g];!$.$visible||$.$alpha<=0||$.$maskedObject||(h+=0!==$.$blendMode||$.$mask&&$.$mask.$parentDisplayList?this.drawWithClip($,e,i,n,s):$.$scrollRect||$.$maskRect?this.drawWithScrollRect($,e,i,n,s):this.drawDisplayObject($,e,i,n,$.$displayList,s))}return h},p.drawWithClip=function(i,s,a,o,h){var l=0,c=0!==i.$blendMode;if(c){var u=n[i.$blendMode];u||(u=r)}var d=i.$scrollRect?i.$scrollRect:i.$maskRect,p=i.$mask;p&&!p.$parentDisplayList&&(p=null);var f,g=t.Matrix.create();g.copyFrom(i.$getConcatenatedMatrix());var $,v=i.$parentDisplayList.root;if(v!==i.$stage&&($=v.$getInvertedConcatenatedMatrix(),$.$preMultiplyInto(g,g)),this.$ratioMatrix.$preMultiplyInto(g,g),p){var x=p.$getOriginalBounds();f=e.Region.create();var y=t.Matrix.create();y.copyFrom(p.$getConcatenatedMatrix()),$&&$.$preMultiplyInto(y,y),this.$ratioMatrix.$preMultiplyInto(y,y),f.updateRegion(x,y),t.Matrix.release(y)}var m;if(d&&(m=e.Region.create(),m.updateRegion(d,g)),m&&f?(m.intersect(f),e.Region.release(f)):!m&&f&&(m=f),m){if(m.isEmpty()||h&&!h.intersects(m))return e.Region.release(m),t.Matrix.release(g),l}else m=e.Region.create(),x=i.$getOriginalBounds(),m.updateRegion(x,g);for(var T=!1,_=a.length,b=0;_>b;b++)if(m.intersects(a[b])){T=!0;break}if(!T)return e.Region.release(m),t.Matrix.release(g),l;var C=this.createRenderContext(m.width,m.height);if(!C)return l+=this.drawDisplayObject(i,s,a,o,i.$displayList,h),e.Region.release(m),t.Matrix.release(g),l;if(d){var y=g;C.setTransform(y.a,y.b,y.c,y.d,y.tx-m.minX,y.ty-m.minY),C.beginPath(),C.rect(d.x,d.y,d.width,d.height),C.clip()}C.setTransform(1,0,0,1,-m.minX,-m.minY);var E=t.Matrix.create().setTo(1,0,0,1,-m.minX,-m.minY);if(l+=this.drawDisplayObject(i,C,a,E,i.$displayList,m),t.Matrix.release(E),p){var F=this.createRenderContext(m.width,m.height);if(!F)return l+=this.drawDisplayObject(i,s,a,o,i.$displayList,h),e.surfaceFactory.release(C.surface),e.Region.release(m),t.Matrix.release(g),l;F.setTransform(1,0,0,1,-m.minX,-m.minY),E=t.Matrix.create().setTo(1,0,0,1,-m.minX,-m.minY);var S=this.drawDisplayObject(p,F,a,E,p.$displayList,m);t.Matrix.release(E),S>0&&(l+=S,C.globalCompositeOperation="destination-in",C.setTransform(1,0,0,1,0,0),C.globalAlpha=1,C.drawImage(F.surface,0,0)),e.surfaceFactory.release(F.surface)}return l>0&&(l++,c&&(s.globalCompositeOperation=u),o?(s.translate(m.minX,m.minY),s.drawImage(C.surface,0,0),s.setTransform(o.a,o.b,o.c,o.d,o.tx*this.$pixelRatio,o.ty*this.$pixelRatio)):(s.setTransform(1,0,0,1,m.minX,m.minY),s.drawImage(C.surface,0,0)),c&&(s.globalCompositeOperation=r)),e.surfaceFactory.release(C.surface),e.Region.release(m),t.Matrix.release(g),l},p.drawWithScrollRect=function(i,n,r,s,a){var o=0,h=i.$scrollRect?i.$scrollRect:i.$maskRect,l=t.Matrix.create();
l.copyFrom(i.$getConcatenatedMatrix());var c=i.$parentDisplayList.root;c!==i.$stage&&c.$getInvertedConcatenatedMatrix().$preMultiplyInto(l,l),this.$ratioMatrix.$preMultiplyInto(l,l);var u=e.Region.create();if(h.isEmpty()||u.updateRegion(h,l),u.isEmpty()||a&&!a.intersects(u))return e.Region.release(u),t.Matrix.release(l),o;for(var d=!1,p=r.length,f=0;p>f;f++)if(u.intersects(r[f])){d=!0;break}return d?(n.save(),s?(n.setTransform(s.a,s.b,s.c,s.d,s.tx*this.$pixelRatio,s.ty*this.$pixelRatio),n.transform(l.a,l.b,l.c,l.d,l.tx,l.ty)):n.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),n.beginPath(),n.rect(h.x,h.y,h.width,h.height),n.clip(),s&&n.setTransform(s.a,s.b,s.c,s.d,s.tx*this.$pixelRatio,s.ty*this.$pixelRatio),o+=this.drawDisplayObject(i,n,r,s,i.$displayList,u),n.restore(),e.Region.release(u),t.Matrix.release(l),o):(e.Region.release(u),t.Matrix.release(l),o)},p.createRenderContext=function(i,n){var r=e.surfaceFactory.create(!0);return r?(t.Capabilities.runtimeType==t.RuntimeType.WEB?(r.width=Math.max(257,i),r.height=Math.max(257,n)):(r.width=i,r.height=n),r.renderContext):null},p.changeSurfaceSize=function(){var t=(this.root,this.offsetX),i=this.offsetY,n=this.root.$getOriginalBounds(),r=this.$pixelRatio,s=this.$pixelRatio;this.offsetX=n.x,this.offsetY=n.y;var a=this.renderContext,o=a.surface;if(this.sizeChanged){var h=e.sharedRenderContext,l=h.surface;e.sharedRenderContext=a,this.renderContext=h,this.surface=l,l.width=n.width*r,l.height=n.height*s,0!==o.width&&0!==o.height&&(h.setTransform(1,0,0,1,0,0),h.drawImage(o,(t-this.offsetX)*r,(i-this.offsetY)*s)),o.height=1,o.width=1}else this.sizeChanged=!0,o.width=n.width*r,o.height=n.height*s;this.rootMatrix.setTo(1,0,0,1,-this.offsetX,-this.offsetY),this.renderContext.setTransform(1,0,0,1,-n.x,-n.y)},p.setDevicePixelRatio=function(e){void 0===e&&(e=1),this.$pixelRatio==e&&this.$ratioMatrix||(this.$ratioMatrix||(this.$ratioMatrix=t.Matrix.create()),this.$ratioChanged=!0,this.$pixelRatio=e,this.$ratioMatrix.setTo(e,0,0,e,0,0),this.root.$invalidate(!0))},a}(t.HashObject);e.DisplayList=s,t.registerClass(s,"egret.sys.DisplayList",["egret.sys.Renderable"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){e.call(this),this.$scale9Grid=null,this.$fillMode="scale",this.$smoothing=!0,this._pixelHitTest=!1,this.$renderRegion=new t.sys.Region,this.$Bitmap={0:null,1:null,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:!0,11:0/0,12:0/0},this.$setBitmapData(i)}__extends(i,e);var n=__define,r=i;return p=r.prototype,p.$onAddToStage=function(i,n){e.prototype.$onAddToStage.call(this,i,n);var r=this.$Bitmap[0];r&&(r instanceof t.Texture?t.Texture.$addDisplayObject(this,r._bitmapData.hashCode):t.Texture.$addDisplayObject(this,r.hashCode))},p.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);var i=this.$Bitmap[0];i&&(i instanceof t.Texture?t.Texture.$removeDisplayObject(this,i._bitmapData.hashCode):t.Texture.$removeDisplayObject(this,i.hashCode))},n(p,"bitmapData",function(){return this.$Bitmap[0]},function(t){this.$setBitmapData(t)}),n(p,"texture",function(){return this.$Bitmap[0]},function(t){this.$setBitmapData(t)}),p.$setBitmapData=function(e){var i=this.$Bitmap;if(e==i[0])return!1;if(i[0]=e,e)if(e instanceof t.Texture){var n=e;this.setImageData(n._bitmapData,n._bitmapX,n._bitmapY,n._bitmapWidth,n._bitmapHeight,n._offsetX,n._offsetY,n.$getTextureWidth(),n.$getTextureHeight())}else this.setImageData(e,0,0,e.width,e.height,0,0,e.width,e.height);else this.setImageData(null,0,0,0,0,0,0,0,0);return this.$stage&&(e instanceof t.Texture?t.Texture.$addDisplayObject(this,e._bitmapData.hashCode):t.Texture.$addDisplayObject(this,e.hashCode)),this.$invalidateContentBounds(),!0},p.setImageData=function(t,e,i,n,r,s,a,o,h){var l=this.$Bitmap;l[1]=t,l[2]=e,l[3]=i,l[4]=n,l[5]=r,l[6]=s,l[7]=a,l[8]=o,l[9]=h},n(p,"scale9Grid",function(){return this.$scale9Grid},function(t){this.$scale9Grid=t,this.$invalidateContentBounds()}),n(p,"fillMode",function(){return this.$fillMode},function(t){this.$setFillMode(t)}),p.$setFillMode=function(t){return t==this.$fillMode?!1:(this.$fillMode=t,!0)},n(p,"smoothing",function(){return this.$smoothing},function(t){t=!!t,t!=this.$smoothing&&(this.$smoothing=t,this.$invalidate())}),p.$setWidth=function(t){var e=this.$Bitmap;return 0>t||t==e[11]?!1:(e[11]=t,this.$invalidateContentBounds(),!0)},p.$setHeight=function(t){var e=this.$Bitmap;return 0>t||t==e[12]?!1:(e[12]=t,this.$invalidateContentBounds(),!0)},p.$getWidth=function(){var t=this.$Bitmap;return isNaN(t[11])?this.$getContentBounds().width:t[11]},p.$getHeight=function(){var t=this.$Bitmap;return isNaN(t[12])?this.$getContentBounds().height:t[12]},p.$measureContentBounds=function(t){var e=this.$Bitmap;if(e[1]){var e=this.$Bitmap,i=isNaN(e[11])?e[8]:e[11],n=isNaN(e[12])?e[9]:e[12];t.setTo(0,0,i,n)}else t.setEmpty()},p.$render=function(t){var e=this.$Bitmap;if(e[1]){var n=isNaN(e[11])?e[8]:e[11],r=isNaN(e[12])?e[9]:e[12];i.$drawImage(t,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],n,r,this.scale9Grid,this.fillMode,this.$smoothing)}},n(p,"pixelHitTest",function(){return this._pixelHitTest},function(t){this._pixelHitTest=!!t}),p.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n&&this._pixelHitTest&&(n=this.hitTestPixel(t,i)),n},p.hitTestPixel=function(e,i){var n,r,s=this.$getInvertedConcatenatedMatrix(),a=s.a*e+s.c*i+s.tx,o=s.b*e+s.d*i+s.ty,h=this.$displayList;return h?(n=h.renderContext,r=n.getImageData(a-h.offsetX,o-h.offsetY,1,1).data):(n=t.sys.sharedRenderContext,n.surface.width=n.surface.height=3,n.translate(1-a,1-o),this.$render(n),r=n.getImageData(1,1,1,1).data),0===r[3]?null:this},i.$drawImage=function(e,n,r,s,a,o,h,l,c,u,d,p,f,g,$){if(n)if(e.imageSmoothingEnabled=$,f)i.$drawScale9GridImage(e,n,f,r,s,a,o,h,l,c,u,d,p);else if(g==t.BitmapFillMode.SCALE)e.drawImage(n,r,s,a,o,h,l,a/c*d,o/u*p);else{var v,x=n;(x.width!=a||x.height!=o||1!=t.$TextureScaleFactor)&&(v=t.sys.surfaceFactory.create(!0),v.width=c,v.height=u,v.renderContext.drawImage(x,r,s,a,o,h,l,c,u),x=v);var y=e.createPattern(x,"repeat");e.beginPath(),e.rect(0,0,d,p),e.fillStyle=y,e.fill(),v&&t.sys.surfaceFactory.release(v)}},i.$drawScale9GridImage=function(e,i,n,r,s,a,o,h,l,c,u,d,p){var f=a,g=o;d-=c-a*t.$TextureScaleFactor,p-=u-o*t.$TextureScaleFactor;var $=n.x-h,v=n.y-l,x=$/t.$TextureScaleFactor,y=v/t.$TextureScaleFactor,m=n.width/t.$TextureScaleFactor,T=n.height/t.$TextureScaleFactor;0==T&&(T=1,y>=g&&y--),0==m&&(m=1,x>=f&&x--);var _=r,b=_+x,C=b+m,E=f-x-m,F=s,S=F+y,O=S+T,R=g-y-T,M=E*t.$TextureScaleFactor,w=R*t.$TextureScaleFactor;if((x+E)*t.$TextureScaleFactor>d||(y+R)*t.$TextureScaleFactor>p)return void e.drawImage(i,0,0,d,p);var L=h,D=L+$,I=L+(d-M),A=d-$-M,B=l,N=B+v,P=B+p-w,k=p-v-w;e.drawImage(i,_,F,x,y,L,B,$,v),e.drawImage(i,b,F,m,y,D,B,A,v),e.drawImage(i,C,F,E,y,I,B,M,v),e.drawImage(i,_,S,x,T,L,N,$,k),e.drawImage(i,b,S,m,T,D,N,A,k),e.drawImage(i,C,S,E,T,I,N,M,k),e.drawImage(i,_,O,x,R,L,P,$,w),e.drawImage(i,b,O,m,R,D,P,A,w),e.drawImage(i,C,O,E,R,I,P,M,w)},i}(t.DisplayObject);t.Bitmap=e,t.registerClass(e,"egret.Bitmap")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.REPEAT="repeat",t.SCALE="scale",t}();t.BitmapFillMode=e,t.registerClass(e,"egret.BitmapFillMode")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.NORMAL="normal",t.ADD="add",t.ERASE="erase",t}();t.BlendMode=e,t.registerClass(e,"egret.BlendMode")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){var i=s[e];return t.sys.isUndefined(i)?0:i}function n(e){var i=r[e];return t.sys.isUndefined(i)?"normal":i}for(var r=["normal","add","erase"],s={},a=r.length,o=0;a>o;o++){var h=r[o];s[h]=o}e.blendModeToNumber=i,e.numberToBlendMode=n}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$touchChildren=!0,this.$children=[]}__extends(i,e);var n=__define,r=i;return p=r.prototype,p.$propagateFlagsDown=function(t){if(!this.$hasFlags(t)){this.$setFlags(t);for(var e=this.$children,i=0;i<e.length;i++)e[i].$propagateFlagsDown(t)}},n(p,"numChildren",function(){return this.$children.length}),p.addChild=function(t){var e=this.$children.length;return t.$parent==this&&e--,this.$doAddChild(t,e)},p.addChildAt=function(t,e){return e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length,t.$parent==this&&e--),this.$doAddChild(t,e)},p.$doAddChild=function(e,n,r){void 0===r&&(r=!0);var s=e.$parent;if(s==this)return this.doSetChildIndex(e,n),e;s&&s.removeChild(e),this.$children.splice(n,0,e),e.$setParent(this);var a=this.$stage;if(a&&e.$onAddToStage(a,this.$nestLevel+1),r&&e.dispatchEventWith(t.Event.ADDED,!0),a)for(var o=i.$EVENT_ADD_TO_STAGE_LIST;o.length;){var h=o.shift();h.$stage&&r&&h.dispatchEventWith(t.Event.ADDED_TO_STAGE)}var l=this.$displayList||this.$parentDisplayList;return this.assignParentDisplayList(e,l,l),e.$propagateFlagsDown(624),this.$propagateFlagsUp(4),this.$childAdded(e,n),e},p.contains=function(t){for(;t;){if(t==this)return!0;t=t.$parent}return!1},p.getChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$children[t]:null},p.getChildIndex=function(t){return this.$children.indexOf(t)},p.getChildByName=function(t){for(var e,i=this.$children,n=i.length,r=0;n>r;r++)if(e=i[r],e.name==t)return e;return null},p.removeChild=function(t){var e=this.$children.indexOf(t);return e>=0?this.$doRemoveChild(e):null},p.removeChildAt=function(t){return t=0|+t,t>=0&&t<this.$children.length?this.$doRemoveChild(t):null},p.$doRemoveChild=function(e,n){void 0===n&&(n=!0),e=0|+e;var r=this.$children,s=r[e];if(this.$childRemoved(s,e),n&&s.dispatchEventWith(t.Event.REMOVED,!0),this.$stage){s.$onRemoveFromStage();for(var a=i.$EVENT_REMOVE_FROM_STAGE_LIST;a.length>0;){var o=a.shift();n&&o.dispatchEventWith(t.Event.REMOVED_FROM_STAGE),o.$stage=null}}var h=this.$displayList||this.$parentDisplayList;return this.assignParentDisplayList(s,h,null),s.$propagateFlagsDown(624),s.$setParent(null),r.splice(e,1),this.$propagateFlagsUp(4),s},p.setChildIndex=function(t,e){e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length-1),this.doSetChildIndex(t,e)},p.doSetChildIndex=function(t,e){var i=this.$children.indexOf(t);i!=e&&(this.$childRemoved(t,i),this.$children.splice(i,1),this.$children.splice(e,0,t),this.$childAdded(t,e),t.$invalidateTransform(),this.$propagateFlagsUp(4))},p.swapChildrenAt=function(t,e){t=0|+t,e=0|+e,t>=0&&t<this.$children.length&&e>=0&&e<this.$children.length&&this.doSwapChildrenAt(t,e)},p.swapChildren=function(t,e){var i=this.$children.indexOf(t),n=this.$children.indexOf(e);-1==i||-1==n||this.doSwapChildrenAt(i,n)},p.doSwapChildrenAt=function(t,e){if(t>e){var i=e;e=t,t=i}else if(t==e)return;var n=this.$children,r=n[t],s=n[e];this.$childRemoved(r,t),this.$childRemoved(s,e),n[t]=s,n[e]=r,this.$childAdded(s,t),this.$childAdded(r,e),r.$invalidateTransform(),s.$invalidateTransform(),this.$propagateFlagsUp(4)},p.removeChildren=function(){for(var t=this.$children,e=t.length-1;e>=0;e--)this.$doRemoveChild(e)},p.$childAdded=function(){},p.$childRemoved=function(){},p.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i);var n=this.$children,r=n.length;i++;for(var s=0;r>s;s++){var a=this.$children[s];a.$onAddToStage(t,i)}},p.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);for(var t=this.$children,i=t.length,n=0;i>n;n++){var r=t[n];r.$onRemoveFromStage()}},p.$measureChildBounds=function(e){var i=this.$children,n=i.length;if(0!=n){for(var r=0,s=0,a=0,o=0,h=!1,l=-1;n>l;l++){var c=-1==l?e:i[l].$getTransformedBounds(this,t.$TempRectangle);c.isEmpty()||(h?(r=Math.min(r,c.x),s=Math.max(s,c.x+c.width),a=Math.min(a,c.y),o=Math.max(o,c.y+c.height)):(h=!0,r=c.x,s=r+c.width,a=c.y,o=a+c.height))}e.setTo(r,a,s-r,o-a)}},n(p,"touchChildren",function(){return this.$getTouchChildren()},function(t){this.$setTouchChildren(!!t)}),p.$getTouchChildren=function(){return this.$touchChildren},p.$setTouchChildren=function(t){return this.$touchChildren==t?!1:(this.$touchChildren=t,!0)},p.$invalidate=function(t){if(e.prototype.$invalidate.call(this,t),t){var i=this.$displayList||this.$parentDisplayList,n=this.$children;if(n)for(var r=n.length-1;r>=0;r--)this.markChildDirty(n[r],i)}},p.$invalidateTransform=function(){this.markChildDirty(this,this.$parentDisplayList)},p.markChildDirty=function(t,e){if(!t.$hasFlags(512)){t.$setFlags(512);var i=t.$displayList;if((i||t.$renderRegion)&&e&&e.markDirty(i||t),!i){var n=t.$children;if(n)for(var r=n.length-1;r>=0;r--)this.markChildDirty(n[r],e)}}},p.$cacheAsBitmapChanged=function(){e.prototype.$cacheAsBitmapChanged.call(this);for(var t=this.$displayList||this.$parentDisplayList,i=this.$children,n=i.length-1;n>=0;n--)this.assignParentDisplayList(i[n],t,t)},p.assignParentDisplayList=function(t,e,i){t.$parentDisplayList=i,t.$setFlags(512);var n=t.$displayList;if((t.$renderRegion||n)&&e&&e.markDirty(n||t),!n){var r=t.$children;if(r)for(var s=r.length-1;s>=0;s--)this.assignParentDisplayList(r[s],e,i)}},p.$hitTest=function(t,i){if(!this.$visible)return null;var n=this.$getInvertedConcatenatedMatrix(),r=n.a*t+n.c*i+n.tx,s=n.b*t+n.d*i+n.ty,a=this.$scrollRect?this.$scrollRect:this.$maskRect;if(a&&!a.contains(r,s))return null;if(this.$mask&&!this.$mask.$hitTest(t,i))return null;for(var o=this.$children,h=!1,l=o.length-1;l>=0;l--){var c=o[l];if(!c.$maskedObject){var u=c.$hitTest(t,i);if(u){if(h=!0,u.$touchEnabled)break;u=null}}}return u?this.$touchChildren?u:this:h?this:e.prototype.$hitTest.call(this,t,i)},i.$EVENT_ADD_TO_STAGE_LIST=[],i.$EVENT_REMOVE_FROM_STAGE_LIST=[],i}(t.DisplayObject);t.DisplayObjectContainer=e,t.registerClass(e,"egret.DisplayObjectContainer",["egret.IDisplayObjectContainer"])}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.LINEAR="linear",t.RADIAL="radial",t}();t.GradientType=e,t.registerClass(e,"egret.GradientType")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$renderContext=null,this.strokeStyleColor=null,this.fillStyle=null,this._dirty=!1,this.lineX=0,this.lineY=0,this._firstCheck=!0,this._minX=0,this._minY=0,this._maxX=0,this._maxY=0,this.$renderContext=new t.GraphicsRenderContext}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"graphicsRenderContext",function(){return this.$renderContext}),p.$hitTest=function(e,i){var n=this.$renderContext.$targetDisplay,r=n.$getInvertedConcatenatedMatrix(),s=r.a*e+r.c*i+r.tx,a=r.b*e+r.d*i+r.ty,o=t.sys.sharedRenderContext;o.surface.width=o.surface.height=3,o.translate(1-s,1-a),this.$renderContext.$render(o,!0);var h=o.getImageData(1,1,1,1).data;return 0===h[3]?null:n},p.$measureContentBounds=function(t){this.$renderContext.$measureContentBounds(t)},p.$render=function(t){this.$renderContext.$render(t)},p.beginFill=function(t,e){void 0===e&&(e=1),this.fillStyle=this._parseColor(t,e),this._setStyle(this.fillStyle)},p._parseColor=function(t,e){var i=255&t,n=(65280&t)>>8,r=t>>16;return"rgba("+r+","+n+","+i+","+e+")"},p._setStyle=function(t){this.$renderContext.fillStyle=t,this.$renderContext.beginPath()},p.beginGradientFill=function(t,e,i,n,r){void 0===r&&(r=null);var s=this.getGradient(t,e,i,n,r);this.fillStyle=s,this._setStyle(this.fillStyle)},p.getGradient=function(e,i,n,r,s){var a=t.sys.surfaceFactory.create(!0),o=a.renderContext,h=new t.Matrix;s?(h.a=819.2*s.a,h.b=819.2*s.b,h.c=819.2*s.c,h.d=819.2*s.d,h.tx=s.tx,h.ty=s.ty):(h.a=100,h.d=100);var l;l=e==t.GradientType.LINEAR?o.createLinearGradient(-1,0,1,0):o.createRadialGradient(0,0,0,0,0,1);for(var c=i.length,u=0;c>u;u++)l.addColorStop(r[u]/255,this._parseColor(i[u],n[u]));return l.matrix=h,t.sys.surfaceFactory.release(a),l},p.drawRect=function(t,e,i,n){this.$renderContext.beginPath(),this.$renderContext.rect(t,e,i,n),this.$renderContext.closePath()},p.drawCircle=function(t,e,i){this.$renderContext.beginPath(),this.$renderContext.arc(t,e,i,0,2*Math.PI),this.$renderContext.closePath()},p.drawRoundRect=function(t,e,i,n,r,s){var a=t,o=e,h=i,l=n,c=r/2,u=s?s/2:c,d=a+h,p=o+l,f=d,g=p-u;this.$renderContext.beginPath(),this.$renderContext.moveTo(f,g),this.$renderContext.quadraticCurveTo(d,p,d-c,p),this.$renderContext.lineTo(a+c,p),this.$renderContext.quadraticCurveTo(a,p,a,p-u),this.$renderContext.lineTo(a,o+u),this.$renderContext.quadraticCurveTo(a,o,a+c,o),this.$renderContext.lineTo(d-c,o),this.$renderContext.quadraticCurveTo(d,o,d,o+u),this.$renderContext.lineTo(f,g),this.$renderContext.closePath()},p.drawEllipse=function(t,e,i,n){var r=t+i/2,s=e+n/2,a=i>n?i:n,o=i/a,h=n/a;a/=2,this.$renderContext.scale(o,h),this.$renderContext.beginPath(),this.$renderContext.arc(r/o,s/h,a,0,2*Math.PI),this.$renderContext.closePath(),this.$renderContext.scale(1/o,1/h)},p.lineStyle=function(t,e,i,n,r,s,a,o){void 0===t&&(t=0/0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=!1),void 0===r&&(r="normal"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===o&&(o=3),this.strokeStyleColor&&this._createEndLineCommand(),this.strokeStyleColor=this._parseColor(e,i),this.moveTo(this.lineX,this.lineY),this.$renderContext.lineWidth=t,this.$renderContext.strokeStyle=this.strokeStyleColor,this.$renderContext.beginPath()},p.lineTo=function(t,e){this.lineX=t,this.lineY=e,this.$renderContext.lineTo(t,e)},p.curveTo=function(t,e,i,n){this.lineX=i,this.lineY=n,this.$renderContext.quadraticCurveTo(t,e,i,n)},p.drawArc=function(t,e,i,n,r,s){this.lineX=Math.cos(r)+t,this.lineY=Math.sin(r)+e,this.$renderContext.arc(t,e,i,n,r,s)},p.cubicCurveTo=function(t,e,i,n,r,s){this.lineX=r,this.lineY=s,this.$renderContext.bezierCurveTo(t,e,i,n,r,s)},p.moveTo=function(t,e){this.lineX=t,this.lineY=e,this.$renderContext.moveTo(t,e)},p.clear=function(){this.lineX=0,this.lineY=0,this.strokeStyleColor=null,this.fillStyle=null,this._minX=0,this._minY=0,this._maxX=0,this._maxY=0,this._firstCheck=!0,this._dirty=!0,this.$renderContext.clear()},p.endFill=function(){(null!=this.fillStyle||null!=this.strokeStyleColor)&&(this._fill(),this.fillStyle=null)},p._createEndFillCommand=function(){this.$renderContext.fill(),this.$renderContext.closePath()},p._fill=function(){this.fillStyle&&this._createEndFillCommand(),this.strokeStyleColor&&this._createEndLineCommand()},p._createEndLineCommand=function(){this.$renderContext.stroke(),this.$renderContext.closePath()},i}(t.HashObject);t.Graphics=e,t.registerClass(e,"egret.Graphics")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=2*s,0>t&&(t+=2*s),t}function i(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))}function n(t,e,n,r,s){var a=i(t,e,n,r);s.x=(n-t)/a,s.y=(r-e)/a}function r(t){var e=t.graphicsMap={};return e[6]=t.arc,e[18]=t.arcTo,e[17]=t.beginPath,e[14]=t.bezierCurveTo,e[10]=t.closePath,e[9]=t.fill,e[13]=t.fillRect,e[8]=t.lineTo,e[12]=t.moveTo,e[7]=t.quadraticCurveTo,e[11]=t.rect,e[15]=t.stroke,e[16]=t.strokeRect,e[19]=t.scale,e[3]=function(e){t.lineWidth=e},e[0]=function(e){t.miterLimit=e},e[5]=function(e){t.fillStyle=e},e[1]=function(e){t.lineCap=e},e[2]=function(e){t.lineJoin=e},e[4]=function(e){t.strokeStyle=e},e}var s=Math.PI,a=s/2,o=s+a,h=2*s,l={x:0,y:0},c={x:0,y:0},u={x:0,y:0},d=function(d){function f(){d.call(this),this.$commands=[],this.reset()}__extends(f,d);var g=__define,$=f;return p=$.prototype,f.createRadialGradient=function(e,i,n,r,s,a){return t.sys.sharedRenderContext.createRadialGradient(e,i,n,r,s,a)},f.createLinearGradient=function(e,i,n,r){return t.sys.sharedRenderContext.createLinearGradient(e,i,n,r)},f.createPattern=function(e,i){return t.sys.sharedRenderContext.createPattern(e,i)},g(p,"fillStyle",function(){return this._fillStyle},function(e){"number"==typeof e&&(e=t.toColorString(e)),this._fillStyle=e,this.pushCommand(5,arguments)}),g(p,"lineWidth",function(){return this._lineWidth},function(t){this._lineWidth=t,this.pushCommand(3,arguments)}),g(p,"lineCap",function(){return this._lineCap},function(t){this._lineCap=t,this.pushCommand(1,arguments)}),g(p,"strokeStyle",function(){return this._strokeStyle},function(e){"number"==typeof e&&(e=t.toColorString(e)),this._strokeStyle=e,this.pushCommand(4,arguments)}),g(p,"lineJoin",function(){return this._lineJoin},function(t){this._lineJoin=t,this.pushCommand(2,arguments)}),g(p,"miterLimit",function(){return this._miterLimit},function(t){this._miterLimit=t,this.pushCommand(0,arguments)}),p.scale=function(){this.pushCommand(19,arguments)},p.arc=function(t,e,i,n,r,s){if(this.pushCommand(6,arguments),!(0>i)){if(s){var a=r;r=n,n=a}this.arcBounds(t,e,i,n,r)}},p.arcBounds=function(t,i,n,r,l){if(r=e(r),l=e(l),Math.abs(r-l)<.01)return this.extendByPoint(t-n,i-n),void this.extendByPoint(t+n,i+n);var c=0;r>l&&(c=h,l+=c);var u=Math.cos(r)*n,d=Math.cos(l)*n,p=Math.min(u,d),f=Math.max(u,d);s+c>=r&&l>=s+c&&(p=-n),c>=r&&l>=c&&(f=n);var g=Math.sin(r)*n,$=Math.sin(l)*n,v=Math.min(g,$),x=Math.max(g,$);o+c>=r&&l>=o+c&&(v=-n),a+c>=r&&l>=a+c&&(x=n),this.extendByPoint(p+t,v+i),this.extendByPoint(f+t,x+i)},p.quadraticCurveTo=function(t,e,i,n){this.pushCommand(7,arguments),this.checkMoveTo(),this.extendByPoint(t,e),this.extendByPoint(i,n)},p.bezierCurveTo=function(t,e,i,n,r,s){this.pushCommand(14,arguments),this.checkMoveTo(),this.extendByPoint(t,e),this.extendByPoint(i,n),this.extendByPoint(r,s)},p.lineTo=function(t,e){this.pushCommand(8,arguments),this.checkMoveTo(),this.extendByPoint(t,e)},p.fill=function(){this.pushCommand(9,arguments),this.hasFill=!0},p.closePath=function(){this.pushCommand(10,arguments)},p.rect=function(t,e,i,n){this.pushCommand(11,arguments),this.extendByPoint(t,e),this.extendByPoint(t+i,e+n)},p.moveTo=function(t,e){this.pushCommand(12,arguments),this.moveToX=t,this.moveToY=e,this.hasMoved=!0},p.fillRect=function(t,e,i,n){this.pushCommand(13,arguments),this.extendByPoint(t,e),this.extendByPoint(t+i,e+n),this.hasFill=!0},p.stroke=function(){this.pushCommand(15,arguments),this.hasStroke=!0},p.strokeRect=function(t,e,i,n){this.pushCommand(16,arguments),this.hasStroke=!0,this.extendByPoint(t,e),this.extendByPoint(t+i,e+n)},p.beginPath=function(){this.pushCommand(17,arguments),this.hasMoved=!1,this.moveToX=0/0,this.moveToY=0/0},p.arcTo=function(t,r,a,o,h){if(this.pushCommand(18,arguments),!isNaN(this.moveToX)){this.checkMoveTo(),n(this.moveToX,this.moveToY,t,r,c),n(a,o,t,r,u),l.x=c.x+u.x,l.y=c.y+u.y,n(l.x,l.y,0,0,l);var d=c.x*l.x+c.y*l.y,p=i(c.x,c.y,0,0),f=i(l.x,l.y,0,0),g=d/(p*f),$=Math.acos(g),v=h/Math.sin($),x=t+l.x*v,y=r+l.y*v,m=h/Math.tan($),T=t+c.x*m,_=r+c.y*m,b=t+u.x*m,C=r+u.y*m;n(x,y,T,_,l);var E=Math.atan2(l.y,l.x);n(x,y,b,C,l);var F=Math.atan2(l.y,l.x),S=F-E;if(S=e(S),S>s){var O=F;F=E,E=O}this.arcBounds(x,y,h,E,F)}},p.clear=function(){this.reset(),this.$commands.length=0,this.$targetDisplay.$invalidateContentBounds()},p.reset=function(){this._fillStyle=null,this._lineCap="butt",this._lineJoin="miter",this._lineWidth=1,this._miterLimit=10,this._strokeStyle=null,this.hasMoved=!1,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.isFirst=!0,this.moveToX=0/0,this.moveToY=0/0,this.hasStroke=!1,this.hasFill=!1},p.pushCommand=function(t,e){this.$commands.push({type:t,arguments:e}),this.$targetDisplay.$invalidateContentBounds()},p.checkMoveTo=function(){this.hasMoved&&(this.hasMoved=!1,this.extendByPoint(this.moveToX,this.moveToY))},p.extendByPoint=function(t,e){this.isFirst?(this.isFirst=!1,this.maxX=this.minX=t,this.maxY=this.minY=e):(this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,e))},p.$measureContentBounds=function(t){if(!this.hasFill&&!this.hasStroke)return void t.setEmpty();if(this.hasStroke)var e=this._lineWidth,i=.5*e;else i=e=0;t.setTo(this.minX-i,this.minY-i,this.maxX-this.minX+e,this.maxY-this.minY+e)},p.$render=function(t,e){t.save(),t.fillStyle="#000000",t.lineCap="butt",t.lineJoin="miter",t.lineWidth=1,t.miterLimit=10,t.strokeStyle="#000000",t.beginPath();var i=t.graphicsMap;i||(i=r(t));var n=this.$commands,s=n.length;if(e)for(var a=0;s>a;a++){var o=n[a];5==o.type||4==o.type?i[o.type].apply(t,["rgba(1,1,1,1)"]):i[o.type].apply(t,o.arguments)}else for(var a=0;s>a;a++){var o=n[a];i[o.type].apply(t,o.arguments)}t.restore()},f}(t.HashObject);t.GraphicsRenderContext=d,t.registerClass(d,"egret.GraphicsRenderContext")}(egret||(egret={}));var egret;!function(t){t.$TextureScaleFactor=1;var e=function(e){function i(){e.call(this),this._bitmapX=0,this._bitmapY=0,this._bitmapWidth=0,this._bitmapHeight=0,this._offsetX=0,this._offsetY=0,this._textureWidth=0,this._textureHeight=0,this._sourceWidth=0,this._sourceHeight=0,this._bitmapData=null}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"textureWidth",function(){return this.$getTextureWidth()}),p.$getTextureWidth=function(){return this._textureWidth},n(p,"textureHeight",function(){return this.$getTextureHeight()}),p.$getTextureHeight=function(){return this._textureHeight},p.$getScaleBitmapWidth=function(){return this._bitmapWidth*t.$TextureScaleFactor},p.$getScaleBitmapHeight=function(){return this._bitmapHeight*t.$TextureScaleFactor},n(p,"bitmapData",function(){return this._bitmapData}),p._setBitmapData=function(e){this._bitmapData=e;var i=e.width*t.$TextureScaleFactor,n=e.height*t.$TextureScaleFactor;this.$initData(0,0,i,n,0,0,i,n,i,n)},p.$initData=function(e,i,n,r,s,a,o,h,l,c){var u=t.$TextureScaleFactor;this._bitmapX=e/u,this._bitmapY=i/u,this._bitmapWidth=n/u,this._bitmapHeight=r/u,this._offsetX=s,this._offsetY=a,this._textureWidth=o,this._textureHeight=h,this._sourceWidth=l,this._sourceHeight=c},p.getPixel32=function(){throw new Error},p.toDataURL=function(){throw new Error},p.saveToFile=function(){throw new Error},p.dispose=function(){this._bitmapData&&(i.$dispose(this._bitmapData.hashCode),console.log("dispose Texture"),this._bitmapData=null)},i.$addDisplayObject=function(t,e){var n=e;if(!i._displayList[n])return void(i._displayList[n]=[t]);var r=i._displayList[n];r.indexOf(t)<0&&r.push(t)},i.$removeDisplayObject=function(t,e){var n=e;if(i._displayList[n]){var r=i._displayList[n],s=r.indexOf(t);s>=0&&r.splice(s)}},i.$invalidate=function(t){var e=t;if(i._displayList[e])for(var n=i._displayList[e],r=0;r<n.length;r++)n[r].$invalidateContentBounds()},i.$dispose=function(e){var n=e;if(i._displayList[n])for(var r=i._displayList[n],s=0;s<r.length;s++)r[s]instanceof t.Bitmap&&(r[s].$Bitmap[1]=null),r[s].$invalidateContentBounds()},i._displayList={},i}(t.HashObject);t.Texture=e,t.registerClass(e,"egret.Texture")}(egret||(egret={}));var egret;!function(t){var e=["source-over","lighter","destination-out"],i="source-over",n=function(n){function r(){n.call(this)}__extends(r,n);var s=r;return p=s.prototype,p.drawToTexture=function(e,i,n){void 0===n&&(n=1),n/=t.$TextureScaleFactor;var r=e.$parent,s=new t.DisplayObjectContainer;if(s.addChild(e),s.scaleX=s.scaleY=n,i){var a=new t.Rectangle;a.setTo(i.x,i.y,i.width,i.height),s.scrollRect=a}var o=new t.DisplayObjectContainer,h=t.sys.DisplayList.create(o);o.$displayList=h,o.addChild(s),this.$update(e),t.sys.DisplayList.release(h),o.$displayList=null;var l=e.getBounds(),c=this.createRenderContext(l.width*n,l.height*n);if(c.clearRect(0,0,l.width*n,l.height*n),this._offsetX=l.x*n,this._offsetY=l.y*n,!c)return!1;var u=this.drawDisplayObject(o,c);return 0==u?!1:(c.surface.avaliable=!0,this._setBitmapData(c.surface),this._offsetX=l.x*n,this._offsetY=l.y*n,r&&r.addChild(e),!0)},p.$update=function(e){if(e.$renderRegion)e.$renderRegion.moved=!0,e.$update();else if(e instanceof t.DisplayObjectContainer)for(var i=e.$children,n=i.length,r=0;n>r;r++){var s=i[r];this.$update(s)}},p.drawDisplayObject=function(t,e){var i,n,r=0;if(t.$renderRegion&&(i=t,n=t.$renderAlpha),i){r++,e.globalAlpha=n;var s=i.$renderMatrix;e.setTransform(s.a,s.b,s.c,s.d,s.tx-this._offsetX,s.ty-this._offsetY),i.$render(e)}var a=t.$children;if(a)for(var o=a.length,h=0;o>h;h++){var l=a[h];!l.$visible||l.$alpha<=0||l.$maskedObject||(r+=0!==l.$blendMode||l.$mask?this.drawWithClip(l,e):l.$scrollRect?this.drawWithScrollRect(l,e):this.drawDisplayObject(l,e))}return r},p.drawWithClip=function(n,r){var s=0,a=0!==n.$blendMode;if(a){var o=e[n.$blendMode];o||(o=i)}var h,l=n.$scrollRect,c=n.$mask,u=n.$getConcatenatedMatrix();if(c){var d=c.$getOriginalBounds();h=t.sys.Region.create(),h.updateRegion(d,c.$getConcatenatedMatrix())}var p;if(l&&(p=t.sys.Region.create(),p.updateRegion(l,u)),p&&h?(p.intersect(h),t.sys.Region.release(h)):!p&&h&&(p=h),p){if(p.isEmpty())return t.sys.Region.release(p),s}else p=t.sys.Region.create(),d=n.$getOriginalBounds(),p.updateRegion(d,n.$getConcatenatedMatrix());var f=this.createRenderContext(p.width,p.height);if(!f)return s+=this.drawDisplayObject(n,r),t.sys.Region.release(p),s;if(l){var g=u;f.setTransform(g.a,g.b,g.c,g.d,g.tx-p.minX,g.ty-p.minY),f.beginPath(),f.rect(l.x,l.y,l.width,l.height),f.clip()}f.setTransform(1,0,0,1,-p.minX,-p.minY);var $=t.Matrix.create().setTo(1,0,0,1,-p.minX,-p.minY);if(s+=this.drawDisplayObject(n,f),t.Matrix.release($),c){var v=this.createRenderContext(p.width,p.height);if(!v)return s+=this.drawDisplayObject(n,r),t.sys.surfaceFactory.release(f.surface),t.sys.Region.release(p),s;v.setTransform(1,0,0,1,-p.minX,-p.minY),$=t.Matrix.create().setTo(1,0,0,1,-p.minX,-p.minY);var x=this.drawDisplayObject(c,v);t.Matrix.release($),x>0&&(s+=x,f.globalCompositeOperation="destination-in",f.setTransform(1,0,0,1,0,0),f.globalAlpha=1,f.drawImage(v.surface,0,0)),t.sys.surfaceFactory.release(v.surface)}return s>0&&(s++,a&&(r.globalCompositeOperation=o),r.setTransform(1,0,0,1,p.minX,p.minY),r.drawImage(f.surface,0,0),a&&(r.globalCompositeOperation=i)),t.sys.surfaceFactory.release(f.surface),t.sys.Region.release(p),s},p.drawWithScrollRect=function(e,i){var n=0,r=e.$scrollRect,s=e.$getConcatenatedMatrix(),a=t.sys.Region.create();return r.isEmpty()||a.updateRegion(r,s),a.isEmpty()?(t.sys.Region.release(a),n):(i.save(),i.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),i.beginPath(),i.rect(r.x,r.y,r.width,r.height),i.clip(),n+=this.drawDisplayObject(e,i),i.restore(),t.sys.Region.release(a),n)},p.createRenderContext=function(e,i){var n=t.sys.surfaceFactory.create(!0);return n?(n.width=Math.max(257,e),n.height=Math.max(257,i),n.renderContext):null},r}(t.Texture);t.RenderTexture=n,t.registerClass(n,"egret.RenderTexture")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"graphics",function(){return this.$graphics}),p.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},p.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n==this&&(n=this.$graphics.$hitTest(t,i)),n},p.$render=function(t){this.$graphics.$render(t)},i}(t.DisplayObject);t.Shape=e,t.registerClass(e,"egret.Shape")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"graphics",function(){return this.$graphics}),p.$hitTest=function(e,i){if(!this.$visible)return null;var n=this.$getInvertedConcatenatedMatrix(),r=n.a*e+n.c*i+n.tx,s=n.b*e+n.d*i+n.ty,a=this.$scrollRect?this.$scrollRect:this.$maskRect;if(a&&!a.contains(r,s))return null;if(this.$mask&&!this.$mask.$hitTest(e,i))return null;for(var o=this.$children,h=!1,l=o.length-1;l>=0;l--){var c=o[l];if(!c.$maskedObject){var u=c.$hitTest(e,i);if(u){if(h=!0,u.$touchEnabled)break;u=null}}}return u?this.$touchChildren?u:this:h?this:(u=t.DisplayObject.prototype.$hitTest.call(this,e,i),u&&(u=this.$graphics.$hitTest(e,i)),u)},p.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},p.$render=function(t){this.$graphics.$render(t)},i}(t.DisplayObjectContainer);t.Sprite=e,t.registerClass(e,"egret.Sprite",["egret.IDisplayObjectContainer"])}(egret||(egret={}));var egret;
!function(t){var e=function(e){function i(t){e.call(this),this._bitmapX=0,this._bitmapY=0,this._textureMap={},this.texture=t,this._bitmapX=t._bitmapX-t._offsetX,this._bitmapY=t._bitmapY-t._offsetY}__extends(i,e);var n=i;return p=n.prototype,p.getTexture=function(t){return this._textureMap[t]},p.createTexture=function(e,i,n,r,s,a,o,h,l){void 0===a&&(a=0),void 0===o&&(o=0),t.sys.isUndefined(h)&&(h=a+r),t.sys.isUndefined(l)&&(l=o+s);var c=new t.Texture;return c._bitmapData=this.texture._bitmapData,c.$initData(this._bitmapX+i,this._bitmapY+n,r,s,a,o,h,l,this.texture._sourceWidth,this.texture._sourceHeight),this._textureMap[e]=c,c},p.dispose=function(){this.texture&&this.texture.dispose()},i}(t.HashObject);t.SpriteSheet=e,t.registerClass(e,"egret.SpriteSheet")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.$stageWidth=0,this.$stageHeight=0,this.implMap={},this.$scaleMode=t.StageScaleMode.SHOW_ALL,this.$orientation=t.OrientationMode.AUTO,this.$maxTouches=99,this.$stage=this,this.$nestLevel=1}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"frameRate",function(){return t.sys.$ticker.$frameRate},function(e){t.sys.$ticker.$setFrameRate(e)}),n(p,"stageWidth",function(){return this.$stageWidth}),n(p,"stageHeight",function(){return this.$stageHeight}),p.invalidate=function(){t.sys.$invalidateRenderFlag=!0},p.registerImplementation=function(t,e){this.implMap[t]=e},p.getImplementation=function(t){return this.implMap[t]},n(p,"scaleMode",function(){return this.$scaleMode},function(t){this.$scaleMode!=t&&(this.$scaleMode=t,this.$screen.updateScreenSize())}),n(p,"orientation",function(){return this.$orientation},function(t){this.$orientation!=t&&(this.$orientation=t,this.$screen.updateScreenSize())}),n(p,"textureScaleFactor",function(){return t.$TextureScaleFactor},function(e){t.$TextureScaleFactor=e}),n(p,"maxTouches",function(){return this.$maxTouches},function(t){this.$maxTouches!=t&&(this.$maxTouches=t,this.$screen.updateMaxTouches())}),i}(t.DisplayObjectContainer);t.Stage=e,t.registerClass(e,"egret.Stage")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r){t.call(this),this.$eventPhase=2,this.$currentTarget=null,this.$target=null,this.$isDefaultPrevented=!1,this.$isPropagationStopped=!1,this.$isPropagationImmediateStopped=!1,this.$type=e,this.$bubbles=!!i,this.$cancelable=!!n,this.data=r}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"type",function(){return this.$type}),i(p,"bubbles",function(){return this.$bubbles}),i(p,"cancelable",function(){return this.$cancelable}),i(p,"eventPhase",function(){return this.$eventPhase}),i(p,"currentTarget",function(){return this.$currentTarget}),i(p,"target",function(){return this.$target}),p.$setTarget=function(t){return this.$target=t,!0},p.isDefaultPrevented=function(){return this.$isDefaultPrevented},p.preventDefault=function(){this.$cancelable&&(this.$isDefaultPrevented=!0)},p.stopPropagation=function(){this.$bubbles&&(this.$isPropagationStopped=!0)},p.stopImmediatePropagation=function(){this.$bubbles&&(this.$isPropagationImmediateStopped=!0)},p.clean=function(){this.data=this.$currentTarget=null,this.$setTarget(null)},e.dispatchEvent=function(t,i,n,r){void 0===n&&(n=!1);var s=e.create(e,i,n),a=e._getPropertyData(e);void 0!=r&&(a.data=r);var o=t.dispatchEvent(s);return e.release(s),o},e._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},e.create=function(t,e,i,n){var r=t.eventPool;if(r||(r=t.eventPool=[]),r.length){var s=r.pop();return s.$type=e,s.$bubbles=!!i,s.$cancelable=!!n,s.$isDefaultPrevented=!1,s.$isPropagationStopped=!1,s.$isPropagationImmediateStopped=!1,s.$eventPhase=2,s}return new t(e,i,n)},e.release=function(t){t.clean();var e=Object.getPrototypeOf(t).constructor;e.eventPool.push(t)},e.ADDED_TO_STAGE="addedToStage",e.REMOVED_FROM_STAGE="removedFromStage",e.ADDED="added",e.REMOVED="removed",e.ENTER_FRAME="enterFrame",e.RENDER="render",e.RESIZE="resize",e.CHANGE="change",e.CHANGING="changing",e.COMPLETE="complete",e.LOOP_COMPLETE="loopComplete",e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e.ENDED="ended",e.ACTIVATE="activate",e.DEACTIVATE="deactivate",e.CLOSE="close",e.CONNECT="connect",e.LEAVE_STAGE="leaveStage",e.SOUND_COMPLETE="soundComplete",e}(t.HashObject);t.Event=e,t.registerClass(e,"egret.Event")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),t.call(this,e,i,n)}__extends(e,t);var i=e;return p=i.prototype,e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e}(t.Event);t.FocusEvent=e,t.registerClass(e,"egret.FocusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;return p=i.prototype,e.PERMISSION_DENIED="permissionDenied",e.UNAVAILABLE="unavailable",e}(t.Event);t.GeolocationEvent=e,t.registerClass(e,"egret.GeolocationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this._status=0}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"status",function(){return this._status}),i.dispatchHTTPStatusEvent=function(e,n){var r=t.Event.create(i,i.HTTP_STATUS);r._status=n;var s=e.dispatchEvent(r);return t.Event.release(r),s},i.HTTP_STATUS="httpStatus",i}(t.Event);t.HTTPStatusEvent=e,t.registerClass(e,"egret.HTTPStatusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;return p=n.prototype,i.dispatchIOErrorEvent=function(e){var n=t.Event.create(i,i.IO_ERROR),r=e.dispatchEvent(n);return t.Event.release(n),r},i.IO_ERROR="ioError",i}(t.Event);t.IOErrorEvent=e,t.registerClass(e,"egret.IOErrorEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;return p=i.prototype,e}(t.Event);t.MotionEvent=e,t.registerClass(e,"egret.MotionEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=e;return p=i.prototype,e}(t.Event);t.OrientationEvent=e,t.registerClass(e,"egret.OrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n,r,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===s&&(s=0),e.call(this,t,i,n),this.bytesLoaded=0,this.bytesTotal=0,this.bytesLoaded=r,this.bytesTotal=s}__extends(i,e);var n=i;return p=n.prototype,i.dispatchProgressEvent=function(e,n,r,s){void 0===r&&(r=0),void 0===s&&(s=0);var a=t.Event.create(i,n);a.bytesLoaded=r,a.bytesTotal=s;var o=e.dispatchEvent(a);return t.Event.release(a),o},i.PROGRESS="progress",i.SOCKET_DATA="socketData",i}(t.Event);t.ProgressEvent=e,t.registerClass(e,"egret.ProgressEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;return p=n.prototype,i.dispatchStageOrientationEvent=function(e,n){var r=t.Event.create(i,n),s=e.dispatchEvent(r);return t.Event.release(r),s},i.ORIENTATION_CHANGE="orientationChange",i}(t.Event);t.StageOrientationEvent=e,t.registerClass(e,"egret.StageOrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=""),e.call(this,t,i,n),this.text=r}__extends(i,e);var n=i;return p=n.prototype,i.dispatchTextEvent=function(e,n,r){var s=t.Event.create(i,n);s.text=r;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.LINK="link",i}(t.Event);t.TextEvent=e,t.registerClass(e,"egret.TextEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,n){e.call(this,t,i,n)}__extends(i,e);var n=i;return p=n.prototype,p.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},i.dispatchTimerEvent=function(e,n,r,s){var a=t.Event.create(i,n,r,s),o=e.dispatchEvent(a);return t.Event.release(a),o},i.TIMER="timer",i.TIMER_COMPLETE="timerComplete",i}(t.Event);t.TimerEvent=e,t.registerClass(e,"egret.TimerEvent")}(egret||(egret={}));var egret;!function(t){var e=[],i=Math.PI/180,n=function(n){function r(t,e){void 0===t&&(t=0),void 0===e&&(e=0),n.call(this),this.x=t,this.y=e}__extends(r,n);var s=__define,a=r;return p=a.prototype,r.release=function(t){t&&e.push(t)},r.create=function(t,i){var n=e.pop();return n||(n=new r),n.setTo(t,i)},s(p,"length",function(){return Math.sqrt(this.x*this.x+this.y*this.y)}),p.setTo=function(t,e){return this.x=t,this.y=e,this},p.clone=function(){return new r(this.x,this.y)},p.equals=function(t){return this.x==t.x&&this.y==t.y},r.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},p.copyFrom=function(t){this.x=t.x,this.y=t.y},p.add=function(t){return new r(this.x+t.x,this.y+t.y)},r.interpolate=function(t,e,i){var n=1-i;return new r(t.x*i+e.x*n,t.y*i+e.y*n)},p.normalize=function(t){if(0!=this.x||0!=this.y){var e=t/this.length;this.x*=e,this.y*=e}},p.offset=function(t,e){this.x+=t,this.y+=e},r.polar=function(e,n){return new r(e*t.NumberUtils.cos(n/i),e*t.NumberUtils.sin(n/i))},p.subtract=function(t){return new r(this.x-t.x,this.y-t.y)},p.toString=function(){return"(x="+this.x+", y="+this.y+")"},r}(t.HashObject);t.Point=n,t.registerClass(n,"egret.Point"),t.$TempPoint=new n}(egret||(egret={}));var egret;!function(t){var e=new t.Point,i=function(i){function n(t,e,n,r,s,a){i.call(this,t,e,n),this.targetChanged=!0,this.touchDown=!1,this.$initTo(r,s,a)}__extends(n,i);var r=__define,s=n;return p=s.prototype,p.$initTo=function(t,e,i){this.touchPointID=+i||0,this.$stageX=+t||0,this.$stageY=+e||0},r(p,"stageX",function(){return this.$stageX}),r(p,"stageY",function(){return this.$stageY}),r(p,"localX",function(){return this.targetChanged&&this.getLocalXY(),this._localX}),r(p,"localY",function(){return this.targetChanged&&this.getLocalXY(),this._localY}),p.getLocalXY=function(){this.targetChanged=!1;var t=this.$target.$getInvertedConcatenatedMatrix();t.transformPoint(this.$stageX,this.$stageY,e),this._localX=e.x,this._localY=e.y},p.$setTarget=function(t){return this.$target=t,this.targetChanged=!!t,!0},p.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},n.dispatchTouchEvent=function(e,i,r,s,a,o,h,l){if(void 0===l&&(l=!1),!r&&!e.hasEventListener(i))return!0;var c=t.Event.create(n,i,r,s);c.$initTo(a,o,h),c.touchDown=l;var u=e.dispatchEvent(c);return t.Event.release(c),u},n.TOUCH_MOVE="touchMove",n.TOUCH_BEGIN="touchBegin",n.TOUCH_END="touchEnd",n.TOUCH_TAP="touchTap",n.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside",n.TOUCH_ROLL_OUT="touchRollOut",n.TOUCH_ROLL_OVER="touchRollOver",n}(t.Event);t.TouchEvent=i,t.registerClass(i,"egret.TouchEvent")}(egret||(egret={}));var egret;!function(t){t.ExternalInterface}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){t.apply(this,arguments),this.type=null}__extends(e,t);var i=e;return p=i.prototype,e}(t.HashObject);t.Filter=e,t.registerClass(e,"egret.Filter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i){t.call(this),this.blurX=e,this.blurY=i,this.type="blur"}__extends(e,t);var i=e;return p=i.prototype,e}(t.Filter);t.BlurFilter=e,t.registerClass(e,"egret.BlurFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.$matrix=[],this.matrix2=[],this.type="colorTransform",this.setMatrix(e)}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"matrix",function(){for(var t=0;20>t;t++)this.matrix2[t]=this.$matrix[t];return this.matrix2},function(t){this.setMatrix(t)}),p.setMatrix=function(t){for(var e=0;20>e;e++)this.$matrix[e]=t&&t[e]||0},e}(t.Filter);t.ColorMatrixFilter=e,t.registerClass(e,"egret.ColorMatrixFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r,s,a,o,h){void 0===e&&(e=16711680),void 0===i&&(i=1),void 0===n&&(n=6),void 0===r&&(r=6),void 0===s&&(s=2),void 0===a&&(a=1),void 0===o&&(o=!1),void 0===h&&(h=!1),t.call(this),this.color=e,this.alpha=i,this.blurX=n,this.blurY=r,this.strength=s,this.quality=a,this.inner=o,this.knockout=h,this.type="glow",this.$blue=255&e,this.$green=(65280&e)>>8,this.$red=e>>16}__extends(e,t);var i=e;return p=i.prototype,e}(t.Filter);t.GlowFilter=e,t.registerClass(e,"egret.GlowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,n,r,s,a,o,h,l,c,u){void 0===e&&(e=4),void 0===i&&(i=45),void 0===n&&(n=0),void 0===r&&(r=1),void 0===s&&(s=4),void 0===a&&(a=4),void 0===o&&(o=1),void 0===h&&(h=1),void 0===l&&(l=!1),void 0===c&&(c=!1),void 0===u&&(u=!1),t.call(this,n,r,s,a,o,h,l,c),this.distance=e,this.angle=i}__extends(e,t);var i=e;return p=i.prototype,e}(t.GlowFilter);t.DropShadowFilter=e,t.registerClass(e,"egret.DropShadowFilter")}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function n(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),i.call(this),this.x=t,this.y=e,this.width=n,this.height=r}__extends(n,i);var r=__define,s=n;return p=s.prototype,n.release=function(t){t&&e.push(t)},n.create=function(){var t=e.pop();return t||(t=new n),t},r(p,"right",function(){return this.x+this.width},function(t){this.width=t-this.x}),r(p,"bottom",function(){return this.y+this.height},function(t){this.height=t-this.y}),r(p,"left",function(){return this.x},function(t){this.width+=this.x-t,this.x=t}),r(p,"top",function(){return this.y},function(t){this.height+=this.y-t,this.y=t}),r(p,"topLeft",function(){return new t.Point(this.left,this.top)},function(t){this.top=t.y,this.left=t.x}),r(p,"bottomRight",function(){return new t.Point(this.right,this.bottom)},function(t){this.bottom=t.y,this.right=t.x}),p.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},p.setTo=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},p.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},p.intersection=function(t){return this.clone().$intersectInPlace(t)},p.inflate=function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},p.$intersectInPlace=function(t){var e=this.x,i=this.y,n=t.x,r=t.y,s=Math.max(e,n),a=Math.min(e+this.width,n+t.width);if(a>=s){var o=Math.max(i,r),h=Math.min(i+this.height,r+t.height);if(h>=o)return this.setTo(s,o,a-s,h-o),this}return this.setEmpty(),this},p.intersects=function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)},p.isEmpty=function(){return this.width<=0||this.height<=0},p.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},p.clone=function(){return new n(this.x,this.y,this.width,this.height)},p.containsPoint=function(t){return this.x<t.x&&this.x+this.width>t.x&&this.y<t.y&&this.y+this.height>t.y?!0:!1},p.containsRect=function(t){var e=t.x+t.width,i=t.y+t.height,n=this.x+this.width,r=this.y+this.height;return t.x>=this.x&&t.x<n&&t.y>=this.y&&t.y<r&&e>this.x&&n>=e&&i>this.y&&r>=i},p.equals=function(t){return this===t?!0:this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},p.inflatePoint=function(t){this.inflate(t.x,t.y)},p.offset=function(t,e){this.x+=t,this.y+=e},p.offsetPoint=function(t){this.offset(t.x,t.y)},p.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},p.union=function(t){var e=this.clone();if(t.isEmpty())return e;if(e.isEmpty())return e.copyFrom(t),e;var i=Math.min(e.x,t.x),n=Math.min(e.y,t.y);return e.setTo(i,n,Math.max(e.right,t.right)-i,Math.max(e.bottom,t.bottom)-n),e},p.$getBaseWidth=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return e*this.width+i*this.height},p.$getBaseHeight=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return i*this.width+e*this.height},n}(t.HashObject);t.Rectangle=i,t.registerClass(i,"egret.Rectangle"),t.$TempRectangle=new i}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.en_US=t.$locale_strings.en_US||{};var e=t.$locale_strings.en_US;e[1001]="Could not find Egret entry class: {0}。",e[1002]="Egret entry class '{0}' must inherit from egret.DisplayObject.",e[1003]="Parameter {0} must be non-null.",e[1004]="An object cannot be added as a child to one of it's children (or children's children, etc.).",e[1005]="An object cannot be added as a child of itself.",e[1006]="The supplied DisplayObject must be a child of the caller.",e[1007]="An index specified for a parameter was out of range.",e[1008]="Instantiate singleton error，singleton class {0} can not create multiple instances.",e[1009]='the Class {0} cannot use the property "{1}"',e[1010]='the property "{1}" of the Class "{0}" is readonly',e[1011]="Stream Error. URL: {0}",e[1012]="The type of parameter {0} must be Class.",e[1013]="Variable assignment is NaN, please see the code!",e[1014]='the constant "{1}" of the Class "{0}" is read-only',e[1022]="{0} ArgumentError",e[1023]="This method is not available in the ScrollView!",e[1025]="end of the file",e[1026]="! EncodingError The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]=". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="Photos can not be used across domains toDataURL to convert base64",e[1034]='Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',e[1035]="Native does not support this feature!",e[1036]="Sound has stopped, please recall Sound.play () to play the sound!",e[1037]="Non-load the correct blob!",e[3e3]="Theme configuration file failed to load: {0}",e[3001]="Cannot find the skin name which is configured in Theme: {0}",e[3002]='Index:"{0}" is out of the collection element index range',e[3003]="Cannot be available in this component. If this component is container, please continue to use",e[3004]="addChild(){0}addElement() replace",e[3005]="addChildAt(){0}addElementAt() replace",e[3006]="removeChild(){0}removeElement() replace",e[3007]="removeChildAt(){0}removeElementAt() replace",e[3008]="setChildIndex(){0}setElementIndex() replace",e[3009]="swapChildren(){0}swapElements() replace",e[3010]="swapChildrenAt(){0}swapElementsAt() replace",e[3011]='Index:"{0}" is out of the visual element index range',e[3012]="This method is not available in Scroller component!",e[3013]="UIStage is GUI root container, and only one such instant is in the display list！",e[3100]="Current browser does not support WebSocket",e[3101]="Please connect Socket firstly",e[3102]="Please set the type of binary type",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$language="en_US"}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.$locale_strings[t.$language][e];if(!r)return"{"+e+"}";for(var s=i.length,a=0;s>a;a++)r=r.replace("{"+a+"}",i[a]);return r}e.tr=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.zh_CN=t.$locale_strings.zh_CN||{};var e=t.$locale_strings.zh_CN;e[1001]="找不到Egret入口类: {0}。",e[1002]="Egret入口类 {0} 必须继承自egret.DisplayObject。",e[1003]="参数 {0} 不能为 null。",e[1004]="无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",e[1005]="不能将对象添加为其自身的子对象。",e[1006]="提供的 DisplayObject 必须是调用者的子级。",e[1007]="为参数指定的索引不在范围内。",e[1008]="实例化单例出错，不允许实例化多个 {0} 对象。",e[1009]="类 {0} 不可以使用属性 {1}",e[1010]="类 {0} 属性 {1} 是只读的",e[1011]="流错误。URL: {0}",e[1012]="参数 {0} 的类型必须为 Class。",e[1013]="变量赋值为NaN，请查看代码！",e[1014]="类 {0} 常量 {1} 是只读的",e[1022]="{0} ArgumentError",e[1023]="此方法在ScrollView内不可用!",e[1025]="遇到文件尾",e[1026]="EncodingError! The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]="调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="跨域图片不可以使用toDataURL来转换成base64",e[1034]='音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',e[1035]="Native 下暂未实现此功能！",e[1036]="声音已停止，请重新调用 Sound.play() 来播放声音！",e[1037]="非正确的blob加载！",e[3e3]="主题配置文件加载失败: {0}",e[3001]="找不到主题中所配置的皮肤类名: {0}",e[3002]='索引:"{0}"超出集合元素索引范围',e[3003]="在此组件中不可用，若此组件为容器类，请使用",e[3004]="addChild(){0}addElement()代替",e[3005]="addChildAt(){0}addElementAt()代替",e[3006]="removeChild(){0}removeElement()代替",e[3007]="removeChildAt(){0}removeElementAt()代替",e[3008]="setChildIndex(){0}setElementIndex()代替",e[3009]="swapChildren(){0}swapElements()代替",e[3010]="swapChildrenAt(){0}swapElementsAt()代替",e[3011]='索引:"{0}"超出可视元素索引范围',e[3012]="此方法在Scroller组件内不可用!",e[3013]="UIStage是GUI根容器，只能有一个此实例在显示列表中！",e[3100]="当前浏览器不支持WebSocket",e[3101]="请先连接WebSocket",e[3102]="请先设置type为二进制类型",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.getItem,t.setItem,t.removeItem,t.clear}(e=t.localStorage||(t.localStorage={}))}(egret||(egret={}));var egret;!function(t){t.Sound}(egret||(egret={}));var egret;!function(t){t.Video}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){return e.hashCode=e.$hashCode=t.$hashCount++,e}e.toBitmapData=i}(e=t["native"]||(t["native"]={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.onSuccessFunc=null,this.onSuccessThisObject=null,this.onErrorFunc=null,this.onErrorThisObject=null,this.downloadingSizeFunc=null,this.downloadingSizeThisObject=null}var i=e;return p=i.prototype,e.create=function(){return e.promiseObjectList.length?e.promiseObjectList.pop():new t.PromiseObject},p.onSuccess=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onSuccessFunc&&this.onSuccessFunc.apply(this.onSuccessThisObject,t),this.destroy()},p.onError=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.onErrorFunc&&this.onErrorFunc.apply(this.onErrorThisObject,t),this.destroy()},p.downloadingSize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this.downloadingSizeFunc&&this.downloadingSizeFunc.apply(this.downloadingSizeThisObject,t)},p.destroy=function(){this.onSuccessFunc=void 0,this.onSuccessThisObject=void 0,this.onErrorFunc=void 0,this.onErrorThisObject=void 0,this.downloadingSizeFunc=void 0,this.downloadingSizeThisObject=void 0,e.promiseObjectList.push(this)},e.promiseObjectList=[],e}();t.PromiseObject=e,t.registerClass(e,"egret.PromiseObject")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.GET="GET",t.POST="POST",t}();t.HttpMethod=e,t.registerClass(e,"egret.HttpMethod")}(egret||(egret={}));var egret;!function(t){t.HttpRequest}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.TEXT="text",t.ARRAY_BUFFER="arraybuffer",t}();t.HttpResponseType=e,t.registerClass(e,"egret.HttpResponseType")}(egret||(egret={}));var egret;!function(t){t.ImageLoader}(egret||(egret={}));var egret;!function(){}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){return"undefined"==typeof t}function i(t){return+t||0}t.isUndefined=e,t.getNumber=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.AUTO="auto",t.PORTRAIT="portrait",t.LANDSCAPE="landscape",t.LANDSCAPE_FLIPPED="landscapeFlipped",t}();t.OrientationMode=e,t.registerClass(e,"egret.OrientationMode")}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t,e,n){i.call(this),this.isPlaying=!1,this.entryClassName=n,this.stage=e,this.screenDisplayList=this.createDisplayList(e,t)}__extends(n,i);var r=n;return p=r.prototype,p.createDisplayList=function(t,i){var n=new e.DisplayList(t);return n.renderContext=i,t.$displayList=n,n.setClipRect(t.$stageWidth,t.$stageHeight),n},p.start=function(){!this.isPlaying&&this.stage&&(this.isPlaying=!0,this.root||this.initialize(),e.$ticker.$addPlayer(this))},p.initialize=function(){var e;if(this.entryClassName&&(e=t.getDefinitionByName(this.entryClassName)),e){var i=new e;this.root=i,i instanceof t.DisplayObject&&this.stage.addChild(i)}},p.stop=function(){this.pause(),this.stage=null},p.pause=function(){this.isPlaying&&(this.isPlaying=!1,e.$ticker.$removePlayer(this))},p.$render=function(e){this.callLaters(),this.callLaterAsyncs();var i=this.stage,n=(t.getTimer(),i.$displayList.updateDirtyRegions()),r=(t.getTimer(),0);n.length>0&&(n=n.concat(),r=i.$displayList.drawToSurface())},p.callLaters=function(){if(t.$callLaterFunctionList.length>0){var e=t.$callLaterFunctionList;t.$callLaterFunctionList=[];var i=t.$callLaterThisList;t.$callLaterThisList=[];var n=t.$callLaterArgsList;t.$callLaterArgsList=[]}if(e)for(var r=e.length,s=0;r>s;s++){var a=e[s];null!=a&&a.apply(i[s],n[s])}},p.callLaterAsyncs=function(){if(t.$callAsyncFunctionList.length>0){var e=t.$callAsyncFunctionList,i=t.$callAsyncThisList,n=t.$callAsyncArgsList;t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[];for(var r=0;r<e.length;r++){var s=e[r];null!=s&&s.apply(i[r],n[r])}}},p.updateStageSize=function(e,i,n){void 0===n&&(n=1);var r=this.stage;(e!==r.$stageWidth||i!==r.$stageHeight||this.screenDisplayList.$pixelRatio!==n)&&(r.$stageWidth=e,r.$stageHeight=i,this.screenDisplayList.setDevicePixelRatio(n),this.screenDisplayList.setClipRect(e,i),r.dispatchEventWith(t.Event.RESIZE),r.$invalidate(!0))},n}(t.HashObject);e.Player=i,t.registerClass(i,"egret.sys.Player"),e.$logToFPS}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){e.screenAdapter;var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i;return p=n.prototype,p.calculateStageSize=function(e,i,n,r,s){var a=i,o=n,h=r,l=s,c=i/h||0,u=n/l||0;switch(e){case t.StageScaleMode.EXACT_FIT:break;case t.StageScaleMode.FIXED_HEIGHT:h=Math.round(i/u);break;case t.StageScaleMode.FIXED_WIDTH:l=Math.round(n/c);break;case t.StageScaleMode.NO_BORDER:c>u?o=Math.round(l*c):a=Math.round(h*u);break;case t.StageScaleMode.SHOW_ALL:c>u?a=Math.round(h*u):o=Math.round(l*c);break;default:h=i,l=n}return{stageWidth:h,stageHeight:l,displayWidth:a,displayHeight:o}},i}(t.HashObject);e.ScreenAdapter=i,t.registerClass(i,"egret.sys.ScreenAdapter",["egret.sys.IScreenAdapter"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.NO_SCALE="noScale",t.SHOW_ALL="showAll",t.NO_BORDER="noBorder",t.EXACT_FIT="exactFit",t.FIXED_WIDTH="fixedWidth",t.FIXED_HEIGHT="fixedHeight",t}();t.StageScaleMode=e,t.registerClass(e,"egret.StageScaleMode")}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.sharedRenderContext,t.surfaceFactory}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){e.$invalidateRenderFlag=!1,e.$requestRenderingFlag=!1;var i=function(){function i(){this.playerList=[],this.callBackList=[],this.thisObjectList=[],this.$frameRate=30,this.frameInterval=2e3,this.lastCount=2e3,t.$START_TIME=Date.now()}var n=i;return p=n.prototype,p.$addPlayer=function(t){-1==this.playerList.indexOf(t)&&(e.$TempStage=t.stage,this.playerList=this.playerList.concat(),this.playerList.push(t))},p.$removePlayer=function(t){var e=this.playerList.indexOf(t);if(-1!==e){this.playerList=this.playerList.concat(),this.playerList.splice(e,1)}},p.$startTick=function(t,e){var i=this.getTickIndex(t,e);-1==i&&(this.concatTick(),this.callBackList.push(t),this.thisObjectList.push(e))},p.$stopTick=function(t,e){var i=this.getTickIndex(t,e);-1!=i&&(this.concatTick(),this.callBackList.splice(i,1),this.thisObjectList.splice(i,1))},p.getTickIndex=function(t,e){for(var i=this.callBackList,n=this.thisObjectList,r=i.length-1;r>=0;r--)if(i[r]==t&&n[r]==e)return r;return-1},p.concatTick=function(){this.callBackList=this.callBackList.concat(),this.thisObjectList=this.thisObjectList.concat()},p.$setFrameRate=function(t){return t=+t||0,0>=t?!1:this.$frameRate==t?!1:(this.$frameRate=t,t>60&&(t=60),this.lastCount=this.frameInterval=Math.round(6e4/t),!0)},p.update=function(){for(var i=this.callBackList,n=this.thisObjectList,r=i.length,s=e.$requestRenderingFlag,a=t.getTimer(),o=0;r>o;o++)i[o].call(n[o],a)&&(s=!0);return this.lastCount-=1e3,this.lastCount>0?void(s&&this.render(!1)):(this.lastCount+=this.frameInterval,this.render(!0),void this.broadcastEnterFrame())},p.render=function(t){var i=this.playerList,n=i.length;if(0!=n){e.$invalidateRenderFlag&&(this.broadcastRender(),e.$invalidateRenderFlag=!1);for(var r=0;n>r;r++)i[r].$render(t);e.$requestRenderingFlag=!1}},p.broadcastEnterFrame=function(){var e=t.DisplayObject.$enterFrameCallBackList,i=e.length;if(0!=i){e=e.concat();for(var n=0;i>n;n++)e[n].dispatchEventWith(t.Event.ENTER_FRAME)}},p.broadcastRender=function(){var e=t.DisplayObject.$renderCallBackList,i=e.length;if(0!=i){e=e.concat();for(var n=0;i>n;n++)e[n].dispatchEventWith(t.Event.RENDER)}},i}();e.SystemTicker=i,t.registerClass(i,"egret.sys.SystemTicker"),e.$ticker=new e.SystemTicker,e.$TempStage}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret_stages,egret;!function(t){var e;!function(e){var i=function(e){function i(t){e.call(this),this.maxTouches=0,this.useTouchesCount=0,this.touchDownTarget={},this.lastTouchX=-1,this.lastTouchY=-1,this.stage=t}__extends(i,e);var n=i;return p=n.prototype,p.$initMaxTouches=function(){this.maxTouches=this.stage.$maxTouches},p.onTouchBegin=function(e,i,n){if(!(this.useTouchesCount>=this.maxTouches)){this.lastTouchX=e,this.lastTouchY=i;var r=this.findTarget(e,i);null==this.touchDownTarget[n]&&(this.touchDownTarget[n]=r,this.useTouchesCount++),t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_BEGIN,!0,!0,e,i,n,!0)}},p.onTouchMove=function(e,i,n){if(null!=this.touchDownTarget[n]&&(this.lastTouchX!=e||this.lastTouchY!=i)){this.lastTouchX=e,this.lastTouchY=i;var r=this.findTarget(e,i);t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_MOVE,!0,!0,e,i,n,!0)}},p.onTouchEnd=function(e,i,n){if(null!=this.touchDownTarget[n]){var r=this.findTarget(e,i),s=this.touchDownTarget[n];delete this.touchDownTarget[n],this.useTouchesCount--,t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_END,!0,!0,e,i,n,!1),s==r?t.TouchEvent.dispatchTouchEvent(r,t.TouchEvent.TOUCH_TAP,!0,!0,e,i,n,!1):t.TouchEvent.dispatchTouchEvent(s,t.TouchEvent.TOUCH_RELEASE_OUTSIDE,!0,!0,e,i,n,!1)}},p.findTarget=function(t,e){var i=this.stage.$hitTest(t,e);return i||(i=this.stage),i},i}(t.HashObject);e.TouchHandler=i,t.registerClass(i,"egret.sys.TouchHandler")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(){}(egret||(egret={}));var egret;!function(){}(egret||(egret={}));var egret;!function(){}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.WEB="web",t.NATIVE="native",t}();t.RuntimeType=e,t.registerClass(e,"egret.RuntimeType");var i=function(){function t(){}var e=__define,i=t;return p=i.prototype,e(t,"language",function(){return t.$language}),e(t,"isMobile",function(){return t.$isMobile}),e(t,"os",function(){return t.$os}),e(t,"runtimeType",function(){return t.$runtimeType}),t.$language="zh-CN",t.$os="Unknown",t.$runtimeType="Unknown",t}();t.Capabilities=i,t.registerClass(i,"egret.Capabilities")}(egret||(egret={}));var testDeviceType=function(){if(!this.navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},testRuntimeType=function(){return this.navigator?!0:!1};egret.Capabilities.$isMobile=testDeviceType(),egret.Capabilities.$runtimeType=testRuntimeType()?egret.RuntimeType.WEB:egret.RuntimeType.NATIVE;
var egret;!function(t){var e=function(e){function i(t,i){e.call(this,t),this.firstCharHeight=0,this.charList="string"==typeof i?this.parseConfig(i):i&&i.hasOwnProperty("frames")?i.frames:{}}__extends(i,e);var n=i;return p=n.prototype,p.getTexture=function(t){var e=this._textureMap[t];if(!e){var i=this.charList[t];if(!i)return null;e=this.createTexture(t,i.x,i.y,i.w,i.h,i.offX,i.offY,i.sourceW,i.sourceH),this._textureMap[t]=e}return e},p._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var e in this.charList){var i=this.charList[e];if(i){var n=i.sourceH;if(t.sys.isUndefined(n)){var r=i.h;void 0===r&&(r=0);var s=i.offY;t.sys.isUndefined(s)&&(s=0),n=r+s}if(0>=n)continue;this.firstCharHeight=n;break}}return this.firstCharHeight},p.parseConfig=function(t){t=t.split("\r\n").join("\n");for(var e=t.split("\n"),i=this.getConfigByKey(e[3],"count"),n={},r=4;4+i>r;r++){var s=e[r],a=String.fromCharCode(this.getConfigByKey(s,"id")),o={};n[a]=o,o.x=this.getConfigByKey(s,"x"),o.y=this.getConfigByKey(s,"y"),o.w=this.getConfigByKey(s,"width"),o.h=this.getConfigByKey(s,"height"),o.offX=this.getConfigByKey(s,"xoffset"),o.offY=this.getConfigByKey(s,"yoffset")}return n},p.getConfigByKey=function(t,e){for(var i=t.split(" "),n=0,r=i.length;r>n;n++){var s=i[n];if(e==s.substring(0,e.length)){var a=s.substring(e.length+1);return parseInt(a)}}return 0},i}(t.SpriteSheet);t.BitmapFont=e,t.registerClass(e,"egret.BitmapFont")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this.textWidth=0,this.textHeight=0,this.textOffsetX=0,this.textOffsetY=0,this.$lineHeights=[],this.$renderRegion=new t.sys.Region,this.$BitmapText={0:0/0,1:0/0,2:"",3:0,4:0,5:null,6:!1,7:!1}}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"text",function(){return this.$BitmapText[2]},function(t){this.$setText(t)}),p.$setText=function(t){var e=this.$BitmapText;return t==e[2]?!1:(e[2]=t,this.$invalidateContentBounds(),!0)},p.$getWidth=function(){var t=this.$BitmapText[0];return isNaN(t)?this.$getContentBounds().width:t},p.$setWidth=function(t){var e=this.$BitmapText;return 0>t||t==e[0]?!1:(e[0]=t,this.$invalidateContentBounds(),!0)},p.$invalidateContentBounds=function(){e.prototype.$invalidateContentBounds.call(this),this.$BitmapText[7]=!0},p.$getHeight=function(){var t=this.$BitmapText[1];return isNaN(t)?this.$getContentBounds().height:t},p.$setHeight=function(t){var e=this.$BitmapText;return 0>t||t==e[1]?!1:(e[1]=t,this.$invalidateContentBounds(),!0)},n(p,"font",function(){return this.$BitmapText[5]},function(t){this.$setFont(t)}),p.$setFont=function(t){var e=this.$BitmapText;return e[5]==t?!1:(e[5]=t,this.$BitmapText[6]=!0,this.$invalidateContentBounds(),!0)},n(p,"lineSpacing",function(){return this.$BitmapText[3]},function(t){this.$setLineSpacing(t)}),p.$setLineSpacing=function(t){t=+t||0;var e=this.$BitmapText;return e[3]==t?!1:(e[3]=t,this.$invalidateContentBounds(),!0)},n(p,"letterSpacing",function(){return this.$BitmapText[4]},function(t){this.$setLetterSpacing(t)}),p.$setLetterSpacing=function(t){t=+t||0;var e=this.$BitmapText;return e[4]==t?!1:(e[4]=t,this.$invalidateContentBounds(),!0)},p.$render=function(e){var n=this,r=n.$getTextLines(),s=r.length;if(0!=s)for(var a=n.$BitmapText[5],o=a._getFirstCharHeight(),h=Math.ceil(o*i.EMPTY_FACTOR),l=0,c=!isNaN(n.$BitmapText[1]),u=n.$BitmapText[1],d=n.$lineHeights,p=0;s>p;p++){var f=d[p];if(c&&p>0&&l+f>u)break;for(var g=r[p],$=g.length,v=0,x=0;$>x;x++){var y=g.charAt(x),m=a.getTexture(y);if(m){var T=m._bitmapWidth,_=m._bitmapHeight;e.drawImage(m._bitmapData,m._bitmapX,m._bitmapY,T,_,v+m._offsetX,l+m._offsetY,m.$getScaleBitmapWidth(),m.$getScaleBitmapHeight()),v+=m.$getTextureWidth()+n.$BitmapText[4]}else" "==y?v+=h:t.$warn(1011,y)}l+=f+n.$BitmapText[3]}},p.$measureContentBounds=function(t){var e=this.$getTextLines();0==e.length?t.setEmpty():t.setTo(this.textOffsetX,this.textOffsetY,this.textWidth-this.textOffsetX,this.textHeight-this.textOffsetY+(e.length-1)*this.$BitmapText[3])},p.$getTextLines=function(){var e=this;if(!this.$BitmapText[7])return e.textLines;var n=[];e.textLines=n,this.$BitmapText[7]=!1;var r=[];if(e.$lineHeights=r,!e.$BitmapText[2]||!e.$BitmapText[5])return n;for(var s=0,a=0,o=0,h=0,l=!isNaN(e.$BitmapText[0]),c=e.$BitmapText[0],u=e.$BitmapText[5],d=u._getFirstCharHeight(),p=Math.ceil(d*i.EMPTY_FACTOR),f=e.$BitmapText[2],g=f.split(/(?:\r\n|\r|\n)/),$=g.length,v=!0,x=0;$>x;x++){for(var y=g[x],m=y.length,T=0,_=0,b=!0,C=0;m>C;C++){b||(_+=e.$BitmapText[4]);var E,F,S=y.charAt(C),O=0,R=0,M=u.getTexture(S);if(M)E=M.$getTextureWidth(),F=M.$getTextureHeight(),O=M._offsetX,R=M._offsetY;else{if(" "!=S){t.$warn(1011,S),b&&(b=!1);continue}E=p,F=d}b&&(b=!1,o=Math.min(O,o)),v&&(h=Math.min(R,h)),l&&C>0&&_+E>c?(n.push(y.substring(0,C)),r.push(T),a+=T,s=Math.max(_,s),y=y.substring(C),m=y.length,C=0,_=E,T=F):(_+=E,T=Math.max(F,T))}v&&(v=!1),n.push(y),r.push(T),a+=T,s=Math.max(_,s)}return e.textWidth=s,e.textHeight=a,e.textOffsetX=o,e.textOffsetY=h,n},i.EMPTY_FACTOR=.33,i}(t.DisplayObject);t.BitmapText=e,t.registerClass(e,"egret.BitmapText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.HorizontalAlign=e,t.registerClass(e,"egret.HorizontalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){this.replaceArr=[],this.resutlArr=[],this.initReplaceArr()}var e=t;return p=e.prototype,p.initReplaceArr=function(){this.replaceArr=[],this.replaceArr.push([/&lt;/g,"<"]),this.replaceArr.push([/&gt;/g,">"]),this.replaceArr.push([/&amp;/g,"&"]),this.replaceArr.push([/&quot;/g,'"']),this.replaceArr.push([/&apos;/g,"'"])},p.replaceSpecial=function(t){for(var e=0;e<this.replaceArr.length;e++){var i=this.replaceArr[e][0],n=this.replaceArr[e][1];t=t.replace(i,n)}return t},p.parser=function(t){this.stackArray=[],this.resutlArr=[];for(var e=0,i=t.length;i>e;){var n=t.indexOf("<",e);if(0>n)this.addToResultArr(t.substring(e)),e=i;else{this.addToResultArr(t.substring(e,n));var r=t.indexOf(">",n);"/"==t.charAt(n+1)?this.stackArray.pop():this.addToArray(t.substring(n+1,r)),e=r+1}}return this.resutlArr},p.addToResultArr=function(t){""!=t&&(t=this.replaceSpecial(t),this.resutlArr.push(this.stackArray.length>0?{text:t,style:this.stackArray[this.stackArray.length-1]}:{text:t}))},p.changeStringToObject=function(t){t=t.trim();var e={},i=[];if("i"==t.charAt(0)||"b"==t.charAt(0))this.addProperty(e,t,"true");else if(i=t.match(/^(font|a)\s/)){t=t.substring(i[0].length).trim();for(var n,r=0;n=t.match(this.getHeadReg());){var s=n[0],a="",t=t.substring(s.length).trim();if('"'==t.charAt(0)){var r=t.indexOf('"',1);a=t.substring(1,r),r+=1}else if("'"==t.charAt(0)){var r=t.indexOf("'",1);a=t.substring(1,r),r+=1}else a=t.match(/(\S)+/)[0],r=a.length;this.addProperty(e,s.substring(0,s.length-1).trim(),a.trim()),t=t.substring(r).trim()}}return e},p.getHeadReg=function(){return/^(color|textcolor|strokecolor|stroke|b|bold|i|italic|size|fontfamily|href|target)(\s)*=/},p.addProperty=function(t,e,i){switch(e.toLowerCase()){case"color":case"textcolor":i=i.replace(/#/,"0x"),t.textColor=parseInt(i);break;case"strokecolor":i=i.replace(/#/,"0x"),t.strokeColor=parseInt(i);break;case"stroke":t.stroke=parseInt(i);break;case"b":case"bold":t.bold="true"==i;break;case"i":case"italic":t.italic="true"==i;break;case"size":t.size=parseInt(i);break;case"fontfamily":t.fontFamily=i;break;case"href":t.href=this.replaceSpecial(i);break;case"target":t.target=this.replaceSpecial(i)}},p.addToArray=function(t){var e=this.changeStringToObject(t);if(0==this.stackArray.length)this.stackArray.push(e);else{var i=this.stackArray[this.stackArray.length-1];for(var n in i)null==e[n]&&(e[n]=i[n]);this.stackArray.push(e)}},t}();t.HtmlTextParser=e,t.registerClass(e,"egret.HtmlTextParser")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){e.call(this),this._text=null,this._isFocus=!1}__extends(i,e);var n=i;return p=n.prototype,p.init=function(e){this._text=e,this.stageText=new t.StageText,this.stageText.$setTextField(this._text)},p._addStageText=function(){this._text.$inputEnabled||(this._text.$touchEnabled=!0),this.stageText.$addToStage(),this.stageText.addEventListener("updateText",this.updateTextHandler,this),this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this._text.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.addEventListener("blur",this.blurHandler,this),this.stageText.addEventListener("focus",this.focusHandler,this)},p._removeStageText=function(){this._text.$inputEnabled||(this._text.$touchEnabled=!1),this.stageText.$removeFromStage(),this.stageText.removeEventListener("updateText",this.updateTextHandler,this),this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this._text.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.removeEventListener("blur",this.blurHandler,this),this.stageText.removeEventListener("focus",this.focusHandler,this)},p._getText=function(){return this.stageText.$getText()},p._setText=function(t){this.stageText.$setText(t)},p.focusHandler=function(e){this._isFocus||(this._isFocus=!0,e.showing||(this._text.$isTyping=!0),this._text.$invalidateContentBounds(),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_IN,!0)))},p.blurHandler=function(){this._isFocus&&(this._isFocus=!1,this._text.$isTyping=!1,this._text.$invalidateContentBounds(),this.stageText.$onBlur(),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_OUT,!0)))},p.onMouseDownHandler=function(t){t.stopPropagation();this._text.visible&&(this._isFocus||this.stageText.$show())},p.onStageDownHandler=function(){this.stageText.$hide()},p.updateTextHandler=function(){var e=this._text.$TextField,i=this.stageText.$getText(),n=!1;if(null!=e[35]){var r=new RegExp("["+e[35]+"]","g"),s=i.match(r);i=s?s.join(""):"",n=!0}null!=e[36]&&(r=new RegExp("[^"+e[36]+"]","g"),s=i.match(r),i=s?s.join(""):"",n=!0),n&&this.stageText.$getText()!=i&&this.stageText.$setText(i),this.resetText(),this._text.dispatchEvent(new t.Event(t.Event.CHANGE,!0))},p.resetText=function(){this._text.$setBaseText(this.stageText.$getText())},p._hideInput=function(){this.stageText.$removeFromStage()},p.updateInput=function(){!this._text.$visible&&this.stageText&&this._hideInput()},p._updateProperties=function(){if(this._isFocus)return this.stageText.$resetStageText(),void this.updateInput();var t=this._text.$stage;if(null==t);else for(var e=this._text,i=e.$visible;;){if(!i)break;if(e=e.parent,e==t)break;i=e.$visible}this.stageText.$setText(this._text.$TextField[13]),this.stageText.$resetStageText(),this.updateInput()},i}(t.HashObject);t.InputController=e,t.registerClass(e,"egret.InputController")}(egret||(egret={}));var egret;!function(t){t.StageText}(egret||(egret={}));var egret;!function(t){function e(e,n,r,s,a,o,h){void 0===h&&(h=null),i(e,n,h),h=h||{};var l;l=null!=h.textColor?t.toColorString(h.textColor):n.$TextField[11];var c;c=null!=h.strokeColor?t.toColorString(h.strokeColor):n.$TextField[26];var u;u=null!=h.stroke?h.stroke:n.$TextField[27],e.fillStyle=l,e.strokeStyle=c,u&&(e.lineWidth=2*u,e.strokeText(r,s,a,o||65535)),e.fillText(r,s,a,o||65535)}function i(t,e,i){void 0===i&&(i=null),i=i||{};var n=null==i.italic?e.$TextField[16]:i.italic,r=null==i.bold?e.$TextField[15]:i.bold,s=null==i.size?e.$TextField[0]:i.size,a=null==i.fontFamily?e.$TextField[8]:i.fontFamily,o=n?"italic ":"normal ";o+=r?"bold ":"normal ",o+=s+"px "+a,t.font=o,t.textAlign="left",t.textBaseline="middle"}var n=new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![。，！、》…）)}”】\\.\\,\\!\\?\\]\\:])"),r=function(r){function s(){r.call(this),this.$inputEnabled=!1,this.inputUtils=null,this.bgGraphics=null,this.isFlow=!1,this.textArr=[],this.linesArr=[],this.$isTyping=!1,this.$renderRegion=new t.sys.Region,this.$TextField={0:30,1:0,2:16777215,3:0/0,4:0/0,5:0,6:0,7:0,8:"sans-serif",9:"left",10:"top",11:"#ffffff",12:"",13:"",14:[],15:!1,16:!1,17:!0,18:!1,19:!1,20:!1,21:0,22:0,23:0,24:t.TextFieldType.DYNAMIC,25:0,26:"#000000",27:0,28:-1,29:0,30:!1,31:!1,32:0,33:!1,34:16777215,35:null,36:null}}__extends(s,r);var a=__define,o=s;return p=o.prototype,p.isInput=function(){return this.$TextField[24]==t.TextFieldType.INPUT},p.$setTouchEnabled=function(t){var e=r.prototype.$setTouchEnabled.call(this,t);return this.isInput()&&(this.$inputEnabled=!0),e},a(p,"fontFamily",function(){return this.$TextField[8]},function(t){this.$setFontFamily(t)}),p.$setFontFamily=function(t){var e=this.$TextField;return e[8]==t?!1:(e[8]=t,this.invalidateFontString(),!0)},a(p,"size",function(){return this.$TextField[0]},function(t){this.$setSize(t)}),p.$setSize=function(e){e=t.sys.getNumber(e);var i=this.$TextField;return i[0]==e?!1:(i[0]=e,this.invalidateFontString(),!0)},a(p,"bold",function(){return this.$TextField[15]},function(t){this.$setBold(t)}),p.$setBold=function(t){t=!!t;var e=this.$TextField;return t==e[15]?!1:(e[15]=t,this.invalidateFontString(),!0)},a(p,"italic",function(){return this.$TextField[16]},function(t){this.$setItalic(t)}),p.$setItalic=function(t){t=!!t;var e=this.$TextField;return t==e[16]?!1:(e[16]=t,this.invalidateFontString(),!0)},p.invalidateFontString=function(){this.$TextField[17]=!0,this.$invalidateTextField()},p.getFontString=function(){var e=this.$TextField;return e[17]&&(e[17]=!1,e[12]=t.sys.toFontString(this)),e[12]},a(p,"textAlign",function(){return this.$TextField[9]},function(t){this.$setTextAlign(t)}),p.$setTextAlign=function(t){var e=this.$TextField;return e[9]==t?!1:(e[9]=t,this.$invalidateTextField(),!0)},a(p,"verticalAlign",function(){return this.$TextField[10]},function(t){this.$setVerticalAlign(t)}),p.$setVerticalAlign=function(t){var e=this.$TextField;return e[10]==t?!1:(e[10]=t,this.$invalidateTextField(),!0)},a(p,"lineSpacing",function(){return this.$TextField[1]},function(t){this.$setLineSpacing(t)}),p.$setLineSpacing=function(e){e=t.sys.getNumber(e);var i=this.$TextField;return i[1]==e?!1:(i[1]=e,this.$invalidateTextField(),!0)},a(p,"textColor",function(){return this.$TextField[2]},function(t){this.$setTextColor(t)}),p.$setTextColor=function(e){e=0|+e;var i=this.$TextField;return i[2]==e?!1:(i[2]=e,i[11]=t.toColorString(e),this.$invalidate(),!0)},a(p,"wordWrap",function(){return this.$TextField[19]},function(t){t=!!t;var e=this.$TextField;t!=e[19]&&(e[20]||(e[19]=t,this.$invalidateTextField()))}),a(p,"type",function(){return this.$TextField[24]},function(t){this.$setType(t)}),p.$setType=function(e){return this.$TextField[24]!=e?(this.$TextField[24]=e,e==t.TextFieldType.INPUT?(isNaN(this.$TextField[3])&&this.$setWidth(100),isNaN(this.$TextField[4])&&this.$setHeight(30),this.$setTouchEnabled(!0),null==this.inputUtils&&(this.inputUtils=new t.InputController),this.inputUtils.init(this),this.$invalidateTextField(),this.$stage&&this.inputUtils._addStageText()):(this.inputUtils&&(this.inputUtils._removeStageText(),this.inputUtils=null),this.$setTouchEnabled(!1)),!0):!1},a(p,"text",function(){return this.$getText()},function(t){this.$setText(t)}),p.$getText=function(){return this.$TextField[24]==t.TextFieldType.INPUT?this.inputUtils._getText():this.$TextField[13]},p.$setBaseText=function(t){if(null==t&&(t=""),t=t.toString(),this.isFlow=!1,this.$TextField[13]!=t){this.$invalidateTextField(),this.$TextField[13]=t;var e="";return e=this.$TextField[20]?this.changeToPassText(t):t,this.setMiddleStyle([{text:e}]),!0}return!1},p.$setText=function(t){null==t&&(t="");var e=this.$setBaseText(t);return this.inputUtils&&this.inputUtils._setText(this.$TextField[13]),e},a(p,"displayAsPassword",function(){return this.$TextField[20]},function(t){this.$setDisplayAsPassword(t)}),p.$setDisplayAsPassword=function(t){if(this.$TextField[20]!=t){this.$TextField[20]=t,this.$invalidateTextField();var e="";return e=t?this.changeToPassText(this.$TextField[13]):this.$TextField[13],this.setMiddleStyle([{text:e}]),!0}return!1},a(p,"strokeColor",function(){return this.$TextField[25]},function(t){this.$setStrokeColor(t)}),p.$setStrokeColor=function(e){return this.$TextField[25]!=e?(this.$invalidateTextField(),this.$TextField[25]=e,this.$TextField[26]=t.toColorString(e),!0):!1},a(p,"stroke",function(){return this.$TextField[27]},function(t){this.$setStroke(t)}),p.$setStroke=function(t){return this.$TextField[27]!=t?(this.$invalidateTextField(),this.$TextField[27]=t,!0):!1},a(p,"maxChars",function(){return this.$TextField[21]},function(t){this.$setMaxChars(t)}),p.$setMaxChars=function(t){return this.$TextField[21]!=t?(this.$TextField[21]=t,!0):!1},a(p,"scrollV",function(){return Math.min(Math.max(this.$TextField[28],1),this.maxScrollV)},function(t){this.$TextField[28]=Math.max(t,1),this.$invalidateTextField()}),a(p,"maxScrollV",function(){return this.$getLinesArr(),Math.max(this.$TextField[29]-t.TextFieldUtils.$getScrollNum(this)+1,1)}),a(p,"selectionBeginIndex",function(){return 0}),a(p,"selectionEndIndex",function(){return 0}),a(p,"caretIndex",function(){return 0}),p.$setSelection=function(){return!1},p.$getLineHeight=function(){return this.$TextField[1]+this.$TextField[0]},a(p,"numLines",function(){return this.$TextField[29]}),a(p,"multiline",function(){return this.$TextField[30]},function(t){this.$setMultiline(t)}),p.$setMultiline=function(t){return this.$TextField[30]=t,this.$invalidateTextField(),!0},a(p,"restrict",function(){var t=this.$TextField,e=null;return null!=t[35]&&(e=t[35]),null!=t[36]&&(null==e&&(e=""),e+="^"+t[36]),e},function(t){var e=this.$TextField;if(null==t)e[35]=null,e[36]=null;else{for(var i=-1;i<t.length&&(i=t.indexOf("^",i),0!=i)&&i>0&&"\\"==t.charAt(i-1);)i++;0==i?(e[35]=null,e[36]=t.substring(i+1)):i>0?(e[35]=t.substring(0,i),e[36]=t.substring(i+1)):(e[35]=t,e[36]=null)}}),p.$setWidth=function(t){var e=this.$TextField;return e[3]=isNaN(t)?0/0:t,t=+t,0>t?!1:(this.$invalidateTextField(),!0)},p.$setHeight=function(t){var e=this.$TextField;return e[4]=isNaN(t)?0/0:t,t=+t,0>t?!1:(this.$invalidateTextField(),!0)},p.$getWidth=function(){var t=this.$TextField;return isNaN(t[3])?this.$getContentBounds().width:t[3]},p.$getHeight=function(){var t=this.$TextField;return isNaN(t[4])?this.$getContentBounds().height:t[4]},a(p,"border",function(){return this.$TextField[31]},function(t){this.$TextField[31]=t,this.fillBackground()}),a(p,"borderColor",function(){return this.$TextField[32]},function(t){this.$TextField[32]=t,this.fillBackground()}),a(p,"background",function(){return this.$TextField[33]},function(t){this.$TextField[33]=t,this.fillBackground()}),a(p,"backgroundColor",function(){return this.$TextField[34]},function(t){this.$TextField[34]=t,this.fillBackground()}),p.fillBackground=function(){var e=this,i=e.bgGraphics;i&&i.clear(),(this.$TextField[33]||this.$TextField[31])&&(null==i&&(i=e.bgGraphics=new t.Graphics,this.bgGraphics.$renderContext.$targetDisplay=this),this.$TextField[33]&&i.beginFill(this.$TextField[34],1),this.$TextField[31]&&i.lineStyle(1,this.$TextField[32]),i.drawRect(0,0,e.$getWidth(),e.$getHeight()),i.endFill())},p.setFocus=function(){t.$warn(1013)},p.$onRemoveFromStage=function(){r.prototype.$onRemoveFromStage.call(this),this.removeEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._removeStageText()},p.$onAddToStage=function(e,i){r.prototype.$onAddToStage.call(this,e,i),this.addEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._addStageText()},p.$invalidateTextField=function(){this.$invalidateContentBounds(),this.$TextField[18]=!0},p.$measureContentBounds=function(e){var i=this;this.$getLinesArr();var n=isNaN(this.$TextField[3])?this.$TextField[5]:this.$TextField[3],r=isNaN(this.$TextField[4])?t.TextFieldUtils.$getTextHeight(i):this.$TextField[4];i.border&&(n+=2,r+=2),e.setTo(0,0,n,r)},p.$render=function(e){if(this.bgGraphics&&this.bgGraphics.$render(e),this.$TextField[24]==t.TextFieldType.INPUT){if(this.inputUtils._updateProperties(),this.$isTyping)return}else if(0==this.$TextField[3])return;this.drawText(e)},a(p,"textFlow",function(){return this.textArr},function(t){this.isFlow=!0;var e="";null==t&&(t=[]);for(var i=0;i<t.length;i++){var n=t[i];e+=n.text}this.$TextField[20]?this.$setBaseText(e):(this.$TextField[13]=e,this.setMiddleStyle(t))}),p.changeToPassText=function(t){if(this.$TextField[20]){for(var e="",i=0,n=t.length;n>i;i++)switch(t.charAt(i)){case"\n":e+="\n";break;case"\r":break;default:e+="*"}return e}return t},p.setMiddleStyle=function(t){this.$TextField[18]=!0,this.textArr=t,this.$invalidateTextField()},a(p,"textWidth",function(){return this.$getLinesArr(),this.$TextField[5]}),a(p,"textHeight",function(){return this.$getLinesArr(),t.TextFieldUtils.$getTextHeight(this)}),p.appendText=function(t){this.appendElement({text:t})},p.appendElement=function(t){var e=this.$TextField[13]+t.text;this.$TextField[20]?this.$setBaseText(e):(this.$TextField[13]=e,this.textArr.push(t),this.setMiddleStyle(this.textArr))},p.$getLinesArr=function(){var e=this;if(!e.$TextField[18])return e.linesArr;e.$TextField[18]=!1;var r=e.textArr,s=t.sys.sharedRenderContext;e.linesArr.length=0,this.$TextField[6]=0,this.$TextField[5]=0;var a=this.$TextField[3];if(!isNaN(a)&&0==a)return this.$TextField[29]=0,[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];e.isFlow||i(s,e);for(var o,h=e.linesArr,l=0,c=0,u=0,d=0,p=0,f=r.length;f>p;p++){var g=r[p];g.style=g.style||{};for(var $=g.text.toString(),v=$.split(/(?:\r\n|\r|\n)/),x=0,y=v.length;y>x;x++){null==h[d]&&(o={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},h[d]=o,l=0,u=0,c=0),u=this.$TextField[24]==t.TextFieldType.INPUT?this.$TextField[0]:Math.max(u,g.style.size||this.$TextField[0]);var m=!0;if(""==v[x])x==y-1&&(m=!1);else{e.isFlow&&i(s,e,g.style);var T=s.measureText(v[x]).width;if(isNaN(a))l+=T,c+=v[x].length,o.elements.push({width:T,text:v[x],style:g.style}),x==y-1&&(m=!1);else if(a>=l+T)o.elements.push({width:T,text:v[x],style:g.style}),l+=T,c+=v[x].length,x==y-1&&(m=!1);else{var _=0,b=0,C=v[x];if(this.$TextField[19])var E=C.split(n);else E=C.match(/./g);for(var F=E.length,S=0;F>_&&(T=s.measureText(E[_]).width,!(0!=l&&l+T>a&&l+_!=0));_++)S+=E[_].length,b+=T,l+=T,c+=S;if(_>0){o.elements.push({width:b,text:C.substring(0,S),style:g.style});for(var O=C.substring(S),R=0,M=O.length;M>R&&" "==O.charAt(R);R++);v[x]=O.substring(R)}""!=v[x]&&(x--,m=!1)}}m&&(c++,o.hasNextLine=!0),x<v.length-1&&(o.width=l,o.height=u,o.charNum=c,this.$TextField[5]=Math.max(this.$TextField[5],l),this.$TextField[6]+=u,d++)}p==r.length-1&&o&&(o.width=l,o.height=u,o.charNum=c,this.$TextField[5]=Math.max(this.$TextField[5],l),this.$TextField[6]+=u)}return this.$TextField[29]=h.length,this.fillBackground(),h},p.drawText=function(i){var n=this,r=this.$TextField,s=n.$getLinesArr();if(0!=r[5]){var a=isNaN(r[3])?r[5]:r[3],o=t.TextFieldUtils.$getTextHeight(n),h=0,l=t.TextFieldUtils.$getStartLine(n),c=r[4];if(!isNaN(c)&&c>o){var u=t.TextFieldUtils.$getValign(n);h+=u*(c-o)}h=Math.round(h);for(var d=t.TextFieldUtils.$getHalign(n),p=[],f=0,g=l,$=r[29];$>g;g++){var v=s[g],x=v.height;if(h+=x/2,g!=l){if(r[24]==t.TextFieldType.INPUT&&!r[30])break;if(!isNaN(c)&&h>c)break}f=Math.round((a-v.width)*d);for(var y=0,m=v.elements.length;m>y;y++){var T=v.elements[y],_=T.style.size||r[0];e(i,n,T.text,f,h+(x-_)/2,T.width,T.style),T.style.href&&p.push({x:f,y:h+x/2,w:T.width,c:T.style.textColor}),f+=T.width}h+=x/2+r[1]}if(p.length>0){i.save(),i.lineWidth=1,i.beginPath();for(var b=0;b<p.length;b++){var C=p[b];i.strokeStyle=t.toColorString(C.c)||r[11],i.rect(C.x,C.y,C.w,1)}i.closePath(),i.stroke(),i.restore()}}},p.addEvent=function(){this.addEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},p.removeEvent=function(){this.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},p.onTapHandler=function(e){if(this.$TextField[24]!=t.TextFieldType.INPUT){var i=t.TextFieldUtils.$getTextElement(this,e.localX,e.localY);if(null!=i){var n=i.style;if(n&&n.href)if(n.href.match(/^event:/)){var r=n.href.match(/^event:/)[0];t.TextEvent.dispatchTextEvent(this,t.TextEvent.LINK,n.href.substring(r.length))}else open(n.href,n.target||"_blank")}}},s.default_fontFamily="Arial",s}(t.DisplayObject);t.TextField=r,t.registerClass(r,"egret.TextField")}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){var e="";return t.italic&&(e+="italic "),t.bold&&(e+="bold "),e+=(t.fontSize||12)+"px ",e+=t.fontFamily||"sans-serif"}t.toFontString=e}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,t.registerClass(e,"egret.TextFieldType")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}var i=e;return p=i.prototype,e.$getStartLine=function(t){var i=e.$getTextHeight(t),n=0,r=t.$TextField[4];return isNaN(r)||(r>i||i>r&&(n=Math.max(t.$TextField[28]-1,0),n=Math.min(t.$TextField[29]-1,n)),t.$TextField[30]||(n=Math.max(t.$TextField[28]-1,0),n=Math.min(t.$TextField[29]-1,n))),n},e.$getHalign=function(e){var i=e.$getLinesArr(),n=0;return e.$TextField[9]==t.HorizontalAlign.CENTER?n=.5:e.$TextField[9]==t.HorizontalAlign.RIGHT&&(n=1),e.$TextField[24]==t.TextFieldType.INPUT&&!e.$TextField[30]&&i.length>1&&(n=0),n},e.$getTextHeight=function(e){var i=t.TextFieldType.INPUT!=e.$TextField[24]||e.$TextField[30]?e.$TextField[6]+(e.$TextField[29]-1)*e.$TextField[1]:e.$TextField[0];return i},e.$getValign=function(i){var n=e.$getTextHeight(i),r=i.$TextField[4];if(!isNaN(r)&&r>n){var s=0;return i.$TextField[10]==t.VerticalAlign.MIDDLE?s=.5:i.$TextField[10]==t.VerticalAlign.BOTTOM&&(s=1),s}return 0},e.$getTextElement=function(t,i,n){var r=e.$getHit(t,i,n),s=t.$getLinesArr();return r&&s[r.lineIndex]&&s[r.lineIndex].elements[r.textElementIndex]?s[r.lineIndex].elements[r.textElementIndex]:null},e.$getHit=function(t,i,n){var r=t.$getLinesArr();if(0==t.$TextField[3])return null;var s=0,a=e.$getTextHeight(t),o=0,h=t.$TextField[4];if(!isNaN(h)&&h>a){var l=e.$getValign(t);o=l*(h-a),0!=o&&(n-=o)}for(var c=e.$getStartLine(t),u=0,d=c;d<r.length;d++){var p=r[d];if(u+p.height>=n){s=d+1;break}if(u+=p.height,u+t.$TextField[1]>n)return null;u+=t.$TextField[1]}if(0==s)return null;var f=r[s-1],g=0;for(d=0;d<f.elements.length;d++){var $=f.elements[d];if(!(g+$.width<i))return{lineIndex:s-1,textElementIndex:d};g+=$.width}return null},e.$getScrollNum=function(t){var e=1;if(t.$TextField[30]){var i=t.height,n=t.size,r=t.lineSpacing;e=Math.floor(i/(n+r));var s=i-(n+r)*e;s>n/2&&e++}return e},e}();t.TextFieldUtils=e,t.registerClass(e,"egret.TextFieldUtils")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.TOP="top",t.BOTTOM="bottom",t.MIDDLE="middle",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.VerticalAlign=e,t.registerClass(e,"egret.VerticalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e,t.registerClass(e,"egret.Endian");var i=function(){function i(t){this.BUFFER_EXT_SIZE=0,this.EOF_byte=-1,this.EOF_code_point=-1,this._setArrayBuffer(t||new ArrayBuffer(this.BUFFER_EXT_SIZE)),this.endian=e.BIG_ENDIAN}var n=__define,r=i;return p=r.prototype,p._setArrayBuffer=function(t){this.write_position=t.byteLength,this.data=new DataView(t),this._position=0},p.setArrayBuffer=function(){},n(p,"buffer",function(){return this.data.buffer},function(t){this.data=new DataView(t)}),n(p,"dataView",function(){return this.data},function(t){this.data=t,this.write_position=t.byteLength}),n(p,"bufferOffset",function(){return this.data.byteOffset}),n(p,"position",function(){return this._position},function(t){this._position=t,this.write_position=t>this.write_position?t:this.write_position}),n(p,"length",function(){return this.write_position},function(t){this.write_position=t;var e=new Uint8Array(new ArrayBuffer(t)),i=this.data.buffer.byteLength;i>t&&(this._position=t);var n=Math.min(i,t);e.set(new Uint8Array(this.data.buffer,0,n)),this.buffer=e.buffer}),n(p,"bytesAvailable",function(){return this.data.byteLength-this._position}),p.clear=function(){this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))},p.readBoolean=function(){return this.validate(i.SIZE_OF_BOOLEAN)?0!=this.data.getUint8(this.position++):null},p.readByte=function(){return this.validate(i.SIZE_OF_INT8)?this.data.getInt8(this.position++):null},p.readBytes=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),0==n)n=this.bytesAvailable;else if(!this.validate(n))return null;t?t.validateBuffer(n):t=new i(new ArrayBuffer(n));for(var r=0;n>r;r++)t.data.setUint8(r+e,this.data.getUint8(this.position++))},p.readDouble=function(){if(!this.validate(i.SIZE_OF_FLOAT64))return null;var t=this.data.getFloat64(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT64,t},p.readFloat=function(){if(!this.validate(i.SIZE_OF_FLOAT32))return null;var t=this.data.getFloat32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_FLOAT32,t},p.readInt=function(){if(!this.validate(i.SIZE_OF_INT32))return null;var t=this.data.getInt32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT32,t},p.readShort=function(){if(!this.validate(i.SIZE_OF_INT16))return null;var t=this.data.getInt16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_INT16,t},p.readUnsignedByte=function(){return this.validate(i.SIZE_OF_UINT8)?this.data.getUint8(this.position++):null},p.readUnsignedInt=function(){if(!this.validate(i.SIZE_OF_UINT32))return null;var t=this.data.getUint32(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT32,t},p.readUnsignedShort=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t},p.readUTF=function(){if(!this.validate(i.SIZE_OF_UINT16))return null;var t=this.data.getUint16(this.position,this.endian==e.LITTLE_ENDIAN);return this.position+=i.SIZE_OF_UINT16,t>0?this.readUTFBytes(t):""},p.readUTFBytes=function(t){if(!this.validate(t))return null;var e=new Uint8Array(this.buffer,this.bufferOffset+this.position,t);return this.position+=t,this.decodeUTF8(e)},p.writeBoolean=function(t){this.validateBuffer(i.SIZE_OF_BOOLEAN),this.data.setUint8(this.position++,t?1:0)},p.writeByte=function(t){this.validateBuffer(i.SIZE_OF_INT8),this.data.setInt8(this.position++,t)},p.writeBytes=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n;if(!(0>e)&&!(0>i)&&(n=0==i?t.length-e:Math.min(t.length-e,i),n>0)){this.validateBuffer(n);for(var r=new DataView(t.buffer),s=e;n+e>s;s++)this.data.setUint8(this.position++,r.getUint8(s))}},p.writeDouble=function(t){this.validateBuffer(i.SIZE_OF_FLOAT64),this.data.setFloat64(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT64},p.writeFloat=function(t){this.validateBuffer(i.SIZE_OF_FLOAT32),this.data.setFloat32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_FLOAT32},p.writeInt=function(t){this.validateBuffer(i.SIZE_OF_INT32),this.data.setInt32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT32},p.writeShort=function(t){this.validateBuffer(i.SIZE_OF_INT16),this.data.setInt16(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_INT16},p.writeUnsignedInt=function(t){this.validateBuffer(i.SIZE_OF_UINT32),this.data.setUint32(this.position,t,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT32},p.writeUTF=function(t){var n=this.encodeUTF8(t),r=n.length;this.validateBuffer(i.SIZE_OF_UINT16+r),this.data.setUint16(this.position,r,this.endian==e.LITTLE_ENDIAN),this.position+=i.SIZE_OF_UINT16,this._writeUint8Array(n,!1)},p.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},p.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable
},p._writeUint8Array=function(t,e){void 0===e&&(e=!0),e&&this.validateBuffer(this.position+t.length);for(var i=0;i<t.length;i++)this.data.setUint8(this.position++,t[i])},p.validate=function(e){return this.data.byteLength>0&&this._position+e<=this.data.byteLength?!0:void t.$error(1025)},p.validateBuffer=function(t,e){if(void 0===e&&(e=!1),this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this.data.byteLength<t||e){var i=new Uint8Array(new ArrayBuffer(t+this.BUFFER_EXT_SIZE)),n=Math.min(this.data.buffer.byteLength,t+this.BUFFER_EXT_SIZE);i.set(new Uint8Array(this.data.buffer,0,n)),this.buffer=i.buffer}},p.encodeUTF8=function(t){for(var e=0,i=this.stringToCodePoints(t),n=[];i.length>e;){var r=i[e++];if(this.inRange(r,55296,57343))this.encoderError(r);else if(this.inRange(r,0,127))n.push(r);else{var s,a;for(this.inRange(r,128,2047)?(s=1,a=192):this.inRange(r,2048,65535)?(s=2,a=224):this.inRange(r,65536,1114111)&&(s=3,a=240),n.push(this.div(r,Math.pow(64,s))+a);s>0;){var o=this.div(r,Math.pow(64,s-1));n.push(128+o%64),s-=1}}}return new Uint8Array(n)},p.decodeUTF8=function(t){for(var e,i=!1,n=0,r="",s=0,a=0,o=0,h=0;t.length>n;){var l=t[n++];if(l==this.EOF_byte)e=0!=a?this.decoderError(i):this.EOF_code_point;else if(0==a)this.inRange(l,0,127)?e=l:(this.inRange(l,194,223)?(a=1,h=128,s=l-192):this.inRange(l,224,239)?(a=2,h=2048,s=l-224):this.inRange(l,240,244)?(a=3,h=65536,s=l-240):this.decoderError(i),s*=Math.pow(64,a),e=null);else if(this.inRange(l,128,191))if(o+=1,s+=(l-128)*Math.pow(64,a-o),o!==a)e=null;else{var c=s,u=h;s=0,a=0,o=0,h=0,e=this.inRange(c,u,1114111)&&!this.inRange(c,55296,57343)?c:this.decoderError(i,l)}else s=0,a=0,o=0,h=0,n--,e=this.decoderError(i,l);null!==e&&e!==this.EOF_code_point&&(65535>=e?e>0&&(r+=String.fromCharCode(e)):(e-=65536,r+=String.fromCharCode(55296+(e>>10&1023)),r+=String.fromCharCode(56320+(1023&e))))}return r},p.encoderError=function(e){t.$error(1026,e)},p.decoderError=function(e,i){return e&&t.$error(1027),i||65533},p.inRange=function(t,e,i){return t>=e&&i>=t},p.div=function(t,e){return Math.floor(t/e)},p.stringToCodePoints=function(t){for(var e=[],i=0,n=t.length;i<t.length;){var r=t.charCodeAt(i);if(this.inRange(r,55296,57343))if(this.inRange(r,56320,57343))e.push(65533);else if(i==n-1)e.push(65533);else{var s=t.charCodeAt(i+1);if(this.inRange(s,56320,57343)){var a=1023&r,o=1023&s;i+=1,e.push(65536+(a<<10)+o)}else e.push(65533)}else e.push(r);i+=1}return e},i.SIZE_OF_BOOLEAN=1,i.SIZE_OF_INT8=1,i.SIZE_OF_INT16=2,i.SIZE_OF_INT32=4,i.SIZE_OF_UINT8=1,i.SIZE_OF_UINT16=2,i.SIZE_OF_UINT32=4,i.SIZE_OF_FLOAT32=4,i.SIZE_OF_FLOAT64=8,i}();t.ByteArray=i,t.registerClass(i,"egret.ByteArray")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}var e=t;return p=e.prototype,t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.sin=function(e){var i=Math.floor(e),n=i+1,r=t.sinInt(i),s=t.sinInt(n);return(e-i)*s+(n-e)*r},t.sinInt=function(t){return t%=360,0>t&&(t+=360),90>t?egret_sin_map[t]:180>t?egret_cos_map[t-90]:270>t?-egret_sin_map[t-180]:-egret_cos_map[t-270]},t.cos=function(e){var i=Math.floor(e),n=i+1,r=t.cosInt(i),s=t.cosInt(n);return(e-i)*s+(n-e)*r},t.cosInt=function(t){return t%=360,0>t&&(t+=360),90>t?egret_cos_map[t]:180>t?-egret_sin_map[t-90]:270>t?-egret_cos_map[t-180]:egret_sin_map[t-270]},t}();t.NumberUtils=e,t.registerClass(e,"egret.NumberUtils")}(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},DEG_TO_RAD=Math.PI/180,NumberUtils_i=0;90>=NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*DEG_TO_RAD);Function.prototype.bind||(Function.prototype.bind=function(t){"function"!=typeof this&&egret.$error(1029);var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r});var egret;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=0),e.call(this),this._delay=0,this._currentCount=0,this._running=!1,this.updateInterval=1e3,this.lastCount=1e3,this.delay=t,this.repeatCount=0|+i}__extends(i,e);var n=__define,r=i;return p=r.prototype,n(p,"delay",function(){return this._delay},function(t){1>t&&(t=1),this._delay!=t&&(this._delay=t,this.lastCount=this.updateInterval=Math.round(60*t))}),n(p,"currentCount",function(){return this._currentCount}),n(p,"running",function(){return this._running}),p.reset=function(){this.stop(),this._currentCount=0},p.start=function(){this._running||(t.sys.$ticker.$startTick(this.$update,this),this._running=!0)},p.stop=function(){this._running&&(t.stopTick(this.$update,this),this._running=!1)},p.$update=function(){if(this.lastCount-=1e3,this.lastCount>0)return!1;this.lastCount+=this.updateInterval,this._currentCount++;var e=this.repeatCount>0&&this._currentCount>=this.repeatCount;return t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER),e&&(this.stop(),t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER_COMPLETE)),!1},i}(t.EventDispatcher);t.Timer=e,t.registerClass(e,"egret.Timer")}(egret||(egret={}));var egret;!function(t){t.XML}(egret||(egret={}));var egret;!function(t){function e(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.$callLaterFunctionList.push(e),t.$callLaterThisList.push(i),t.$callLaterArgsList.push(n)}function i(e,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t.$callAsyncFunctionList.push(e),t.$callAsyncThisList.push(i),t.$callAsyncArgsList.push(n)}t.$callLaterFunctionList=[],t.$callLaterThisList=[],t.$callLaterArgsList=[],t.callLater=e,t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[],t.$callAsync=i}(egret||(egret={}));var egret;!function(t){function e(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=Object.getPrototypeOf(t),s=r.__sets__;null==s&&(s=r.__sets__={});var a=s[e];if(a)return a.apply(t,i);for(var o=Object.getPrototypeOf(r);!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);a=Object.getOwnPropertyDescriptor(o,e).set,s[e]=a,a.apply(t,i)}function i(t,e){var i=Object.getPrototypeOf(t),n=i.__gets__;null==n&&(n=i.__gets__={});var r=n[e];if(r)return r.call(t);for(var s=Object.getPrototypeOf(i);!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);return r=Object.getOwnPropertyDescriptor(s,e).get,n[e]=r,r.call(t)}t.superSetter=e,t.superGetter=i}(egret||(egret={}));var egret;!function(t){function e(t){if(!t)return null;var e=i[t];if(e)return e;var n=t.split("."),r=n.length;e=__global;for(var s=0;r>s;s++){var a=n[s];if(e=e[a],!e)return null}return i[t]=e,e}var i={};t.getDefinitionByName=e}(egret||(egret={}));var __global=__global||this,egret;!function(t){t.getOption}(egret||(egret={}));var egret;!function(t){function e(t){var e=typeof t;if(!t||"object"!=e&&!t.prototype)return e;var i=t.prototype?t.prototype:Object.getPrototypeOf(t);if(i.hasOwnProperty("__class__"))return i.__class__;var n=i.constructor.toString(),r=n.indexOf("("),s=n.substring(9,r);return Object.defineProperty(i,"__class__",{value:s,enumerable:!1,writable:!0}),s}t.getQualifiedClassName=e}(egret||(egret={}));var egret;!function(t){function e(e){if(!e||"object"!=typeof e)return null;var i=e.prototype?e.prototype:Object.getPrototypeOf(e),n=Object.getPrototypeOf(i);if(!n)return null;var r=t.getQualifiedClassName(n.constructor);return r?r:null}t.getQualifiedSuperclassName=e}(egret||(egret={}));var egret;!function(t){function e(){return Date.now()-t.$START_TIME}t.$START_TIME=0,t.getTimer=e}(egret||(egret={}));var egret;!function(t){function e(e){var i=t.getDefinitionByName(e);return i?!0:!1}t.hasDefinition=e}(egret||(egret={}));var egret;!function(t){function e(t,e){if(!t||"object"!=typeof t)return!1;var i=Object.getPrototypeOf(t),n=i?i.__types__:null;return n?-1!==n.indexOf(e):!1}t.is=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.sys.$ticker.$startTick(e,i)}t.startTick=e}(egret||(egret={}));var egret;!function(t){function e(e,i){t.sys.$ticker.$stopTick(e,i)}t.stopTick=e}(egret||(egret={}));var egret;!function(t){function e(t){0>t&&(t=0),t>16777215&&(t=16777215);for(var e=t.toString(16).toUpperCase();e.length>6;)e=e.slice(1,e.length);for(;e.length<6;)e="0"+e;return"#"+e}t.toColorString=e}(egret||(egret={}));