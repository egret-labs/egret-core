var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},__define=this.__define||function(e,t,n,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:n,set:r})},egret;!function(e){var t;!function(t){var n=function(t){function n(){t.call(this)}__extends(n,t);var r=n;return p=r.prototype,p.proceed=function(t){function n(e){t.dispatchEvent(e)}function r(e){a(),t.dispatchEvent(e)}function o(){switch(a(),t.dataFormat){case e.URLLoaderDataFormat.VARIABLES:t.data=new e.URLVariables(c.response);break;default:t.data=c.response}window.setTimeout(function(){e.Event.dispatchEvent(t,e.Event.COMPLETE)},0)}function a(){c.removeEventListener(e.Event.COMPLETE,o,s),c.removeEventListener(e.IOErrorEvent.IO_ERROR,r,s),c.removeEventListener(e.ProgressEvent.PROGRESS,n,s)}var s=this;if(t.dataFormat==e.URLLoaderDataFormat.TEXTURE)return void this.loadTexture(t);if(t.dataFormat==e.URLLoaderDataFormat.SOUND)return void this.loadSound(t);var i=t._request,E=s.getVirtualUrl(e.$getUrl(i)),c=new e.HttpRequest;if(c.addEventListener(e.Event.COMPLETE,o,this),c.addEventListener(e.IOErrorEvent.IO_ERROR,r,this),c.addEventListener(e.ProgressEvent.PROGRESS,n,this),c.open(E,i.method),c.responseType=this.getResponseType(t.dataFormat),i.method!=e.URLRequestMethod.GET&&i.data)if(i.data instanceof e.URLVariables){c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var d=i.data;c.send(d.toString())}else c.setRequestHeader("Content-Type","multipart/form-data"),c.send(i.data);else c.send()},p.getResponseType=function(t){switch(t){case e.URLLoaderDataFormat.TEXT:case e.URLLoaderDataFormat.VARIABLES:return e.URLLoaderDataFormat.TEXT;case e.URLLoaderDataFormat.BINARY:return"arraybuffer";default:return t}},p.loadSound=function(t){function n(e){t.dispatchEvent(e)}function r(e){a(),t.dispatchEvent(e)}function o(){a(),t.data=i,window.setTimeout(function(){t.dispatchEventWith(e.Event.COMPLETE)},self)}function a(){i.removeEventListener(e.Event.COMPLETE,o,self),i.removeEventListener(e.IOErrorEvent.IO_ERROR,r,self),i.removeEventListener(e.ProgressEvent.PROGRESS,n,self)}var s=this.getVirtualUrl(t._request.url),i=new e.Sound;i.addEventListener(e.Event.COMPLETE,o,self),i.addEventListener(e.IOErrorEvent.IO_ERROR,r,self),i.addEventListener(e.ProgressEvent.PROGRESS,n,self),i.load(s)},p.loadTexture=function(t){function n(e){t.dispatchEvent(e)}function r(e){a(),t.dispatchEvent(e)}function o(){a();var n=E.data;n.setAttribute("bitmapSrc",i),n.avaliable=!0;var r=new e.Texture;r._setBitmapData(n),t.data=r,window.setTimeout(function(){t.dispatchEventWith(e.Event.COMPLETE)},s)}function a(){E.removeEventListener(e.Event.COMPLETE,o,s),E.removeEventListener(e.IOErrorEvent.IO_ERROR,r,s),E.removeEventListener(e.ProgressEvent.PROGRESS,n,s)}var s=this,i=this.getVirtualUrl(t._request.url),E=new e.ImageLoader;E.addEventListener(e.Event.COMPLETE,o,s),E.addEventListener(e.IOErrorEvent.IO_ERROR,r,s),E.addEventListener(e.ProgressEvent.PROGRESS,n,s),E.load(i)},p.getChangeList=function(){return[]},p.getVirtualUrl=function(e){return e},n.getNetContext=function(){return null==n._instance&&(n._instance=new n),n._instance},n}(e.HashObject);t.HTML5NetContext=n,e.registerClass(n,"egret.web.HTML5NetContext",["egret.NetContext"]),e.NetContext=n}(t=e.web||(e.web={}))}(egret||(egret={}));var egret;!function(e){var t;!function(){function t(t){switch(null==n&&(n={error:console.error,debug:console.debug,warn:console.warn,info:console.info,log:console.log}),t){case e.Logger.OFF:console.error=function(){};case e.Logger.ERROR:console.warn=function(){};case e.Logger.WARN:console.info=function(){},console.log=function(){};case e.Logger.INFO:console.debug=function(){}}switch(t){case e.Logger.ALL:case e.Logger.DEBUG:console.debug=n.debug;case e.Logger.INFO:console.log=n.log,console.info=n.info;case e.Logger.WARN:console.warn=n.warn;case e.Logger.ERROR:console.error=n.error}}var n;Object.defineProperty(e.Logger,"logLevel",{set:t,enumerable:!0,configurable:!0})}(t=e.web||(e.web={}))}(egret||(egret={}));