var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;if(e._UIC_Props_=new t.gui.UIComponentProperties,e.touchEnabled=!0,e.addEventListener(t.Event.ADDED_TO_STAGE,e.onAddedToStage,e),e.addEventListener(t.Event.ADDED_TO_STAGE,e.checkInvalidateFlag,e),void 0===n.prototypeCanSet){var r={};n.prototypeCanSet=void 0!==r.__proto__}return e}return __extends(n,i),n.prototype.onAddedToStage=function(i){this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._initialize(),e.UIGlobals._initlize(this.stage),this._UIC_Props_._nestLevel>0&&this.checkInvalidateFlag()},Object.defineProperty(n.prototype,"id",{get:function(){return this._UIC_Props_._id},set:function(t){this._UIC_Props_._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isPopUp",{get:function(){return this._UIC_Props_._isPopUp},set:function(t){this._UIC_Props_._isPopUp=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"owner",{get:function(){return this._UIC_Props_._owner?this._UIC_Props_._owner:this.parent},enumerable:!0,configurable:!0}),n.prototype.ownerChanged=function(t){this._UIC_Props_._owner=t},Object.defineProperty(n.prototype,"updateCompletePendingFlag",{get:function(){return this._UIC_Props_._updateCompletePendingFlag},set:function(t){this._UIC_Props_._updateCompletePendingFlag=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initialized",{get:function(){return this._UIC_Props_._initialized},set:function(t){this._UIC_Props_._initialized!=t&&(this._UIC_Props_._initialized=t,t&&(this.childrenCreated(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CREATION_COMPLETE)))},enumerable:!0,configurable:!0}),n.prototype._initialize=function(){this._UIC_Props_._initializeCalled||(e.UIGlobals.stage&&this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._UIC_Props_._initializeCalled=!0,e.UIEvent.dispatchUIEvent(this,e.UIEvent.INITIALIZE),this.createChildren(),this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},n.prototype.createChildren=function(){},n.prototype.childrenCreated=function(){},Object.defineProperty(n.prototype,"nestLevel",{get:function(){return this._UIC_Props_._nestLevel},set:function(e){this._UIC_Props_._nestLevel!=e&&(this._UIC_Props_._nestLevel=e,0==this._UIC_Props_._nestLevel?this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),this._updateChildrenNestLevel())},enumerable:!0,configurable:!0}),n.prototype._updateChildrenNestLevel=function(){for(var t=this.numChildren-1;t>=0;t--){var e=this.getChildAt(t);e&&"nestLevel"in e&&(e.nestLevel=this._UIC_Props_._nestLevel+1)}},n.prototype.getStyle=function(t){var e=this._UIC_Props_._styleProtoChain;if(e)return e[t]},n.prototype.setStyle=function(t,e){var i=this._UIC_Props_._styleProtoChain;this._UIC_Props_._hasOwnStyleChain||(i=this._createOwnStyleProtoChain(i)),i[t]=e,this.styleChanged(t),this.notifyStyleChangeInChildren(t)},n.prototype.styleChanged=function(t){},n.prototype.notifyStyleChangeInChildren=function(t){if(!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"styleChanged"in i&&(i.styleChanged(t),i.notifyStyleChangeInChildren(t))}},n.prototype._createOwnStyleProtoChain=function(t){if(this._UIC_Props_._hasOwnStyleChain=!0,n.prototypeCanSet?(this._UIC_Props_._styleProtoChain={},this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain):this._UIC_Props_._styleProtoChain=this.createProtoChain(t),t=this._UIC_Props_._styleProtoChain,!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}return t},n.prototype.createProtoChain=function(t){function e(){}e.prototype=t;var i=new e;return e.prototype=null,i},n.prototype.clearStyle=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain;delete e[t],this.styleChanged(t),this.notifyStyleChangeInChildren(t)}},n.prototype.regenerateStyleCache=function(t){if(!n.prototypeCanSet)return void this.regenerateStyleCacheForIE(t);if(this._UIC_Props_._hasOwnStyleChain)this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain;else if(this._UIC_Props_._styleProtoChain!=t){this._UIC_Props_._styleProtoChain=t;for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}}},n.prototype.regenerateStyleCacheForIE=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain,i=this.createProtoChain(t);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);this._UIC_Props_._styleProtoChain=i,t=i}else this._UIC_Props_._styleProtoChain=t;if(!this._UIC_Props_._hasNoStyleChild)for(var r=this.numChildren-1;r>=0;r--){var o=this.getChildAt(r);o&&"regenerateStyleCacheForIE"in o&&o.regenerateStyleCacheForIE(t)}},n.prototype._addToDisplayList=function(t,e){void 0===e&&(e=!0);var i=this.numChildren;return t.parent==this&&i--,this._addingChild(t),this.$doAddChild(t,i,e),this._childAdded(t),t},n.prototype._addToDisplayListAt=function(t,e,i){return void 0===i&&(i=!0),this._addingChild(t),this.$doAddChild(t,e,i),this._childAdded(t),t},n.prototype._removeFromDisplayList=function(e,i){void 0===i&&(i=!0);var n=this.$children.indexOf(e);return n>=0?(this.$doRemoveChild(n,i),this._childRemoved(e),e):(t.$error(1008),null)},n.prototype._removeFromDisplayListAt=function(e,i){if(void 0===i&&(i=!0),e>=0&&e<this.$children.length){var n=this.$doRemoveChild(e,i);return this._childRemoved(n),n}return t.$error(1007),null},n.prototype.addChild=function(t){return this._addingChild(t),i.prototype.addChild.call(this,t),this._childAdded(t),t},n.prototype.addChildAt=function(t,e){return this._addingChild(t),i.prototype.addChildAt.call(this,t,e),this._childAdded(t),t},n.prototype._addingChild=function(t){if(t&&("nestLevel"in t&&(t.nestLevel=this._UIC_Props_._nestLevel+1),"styleChanged"in t)){var e=this._UIC_Props_._styleProtoChain;(e||t._UIC_Props_&&t._UIC_Props_._styleProtoChain)&&(t.regenerateStyleCache(e),t.styleChanged(null),t.notifyStyleChangeInChildren(null))}},n.prototype._childAdded=function(t){t instanceof n&&(t._initialize(),t.checkInvalidateFlag())},n.prototype.removeChild=function(t){return i.prototype.removeChild.call(this,t),this._childRemoved(t),t},n.prototype.removeChildAt=function(t){var e=i.prototype.removeChildAt.call(this,t);return this._childRemoved(e),e},n.prototype._childRemoved=function(t){t&&"nestLevel"in t&&(t.nestLevel=0)},n.prototype.checkInvalidateFlag=function(t){void 0===t&&(t=null),e.UIGlobals._layoutManager&&(this._UIC_Props_._invalidatePropertiesFlag&&e.UIGlobals._layoutManager.invalidateProperties(this),this._UIC_Props_._invalidateSizeFlag&&e.UIGlobals._layoutManager.invalidateSize(this),this._UIC_Props_._invalidateDisplayListFlag&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this._UIC_Props_._validateNowFlag&&(e.UIGlobals._layoutManager.validateClient(this),this._UIC_Props_._validateNowFlag=!1))},Object.defineProperty(n.prototype,"enabled",{get:function(){return this._UIC_Props_._enabled},set:function(t){this._UIC_Props_._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._UIC_Props_._uiWidth},set:function(t){this.$setWidth(t)},enumerable:!0,configurable:!0}),n.prototype.$setWidth=function(t){if(this._UIC_Props_._uiWidth==t&&this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiWidth=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},Object.defineProperty(n.prototype,"height",{get:function(){return this._UIC_Props_._uiHeight},set:function(t){this.$setHeight(t)},enumerable:!0,configurable:!0}),n.prototype.$setHeight=function(t){if(this._UIC_Props_._uiHeight==t&&this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiHeight=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},n.prototype.$setScaleX=function(t){return i.prototype.$setScaleX.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},n.prototype.$setScaleY=function(t){return i.prototype.$setScaleY.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},Object.defineProperty(n.prototype,"minWidth",{get:function(){return this._UIC_Props_._minWidth},set:function(t){this._UIC_Props_._minWidth!=t&&(this._UIC_Props_._minWidth=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this._UIC_Props_._maxWidth},set:function(t){this._UIC_Props_._maxWidth!=t&&(this._UIC_Props_._maxWidth=t,this.invalidateSize())},enumerable:!0,configurable:!0}),n.prototype._getMaxWidth=function(){return this._UIC_Props_._maxWidth},Object.defineProperty(n.prototype,"minHeight",{get:function(){return this._UIC_Props_._minHeight},set:function(t){this._UIC_Props_._minHeight!=t&&(this._UIC_Props_._minHeight=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){return this._UIC_Props_._maxHeight},set:function(t){this._UIC_Props_._maxHeight!=t&&(this._UIC_Props_._maxHeight=t,this.invalidateSize())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuredWidth",{get:function(){return this._UIC_Props_._measuredWidth},set:function(t){this._UIC_Props_._measuredWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuredHeight",{get:function(){return this._UIC_Props_._measuredHeight},set:function(t){this._UIC_Props_._measuredHeight=t},enumerable:!0,configurable:!0}),n.prototype.setActualSize=function(t,e){var i=!1;this._UIC_Props_._uiWidth!=t&&(this._UIC_Props_._uiWidth=t,i=!0),this._UIC_Props_._uiHeight!=e&&(this._UIC_Props_._uiHeight=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchResizeEvent())},n.prototype.$setX=function(t){return i.prototype.$setX.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},n.prototype.$setY=function(t){return i.prototype.$setY.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},n.prototype.invalidateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag||(this._UIC_Props_._invalidatePropertiesFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateProperties(this))},n.prototype.validateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag&&(this.commitProperties(),this._UIC_Props_._invalidatePropertiesFlag=!1)},n.prototype.invalidateSize=function(){this._UIC_Props_._invalidateSizeFlag||(this._UIC_Props_._invalidateSizeFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateSize(this))},n.prototype.validateSize=function(t){if(void 0===t&&(t=!1),t)for(var e=0;e<this.numChildren;e++){var i=this.getChildAt(e);"validateSize"in i&&i.validateSize(!0)}if(this._UIC_Props_._invalidateSizeFlag){var n=this.measureSizes();n&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._UIC_Props_._invalidateSizeFlag=!1}},n.prototype.measureSizes=function(){var t=!1;return this._UIC_Props_._invalidateSizeFlag?(this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)),isNaN(this._UIC_Props_._oldPreferWidth)?(this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight,t=!0):((this.preferredWidth!=this._UIC_Props_._oldPreferWidth||this.preferredHeight!=this._UIC_Props_._oldPreferHeight)&&(t=!0),this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight),t):t},n.prototype.invalidateDisplayList=function(){this._UIC_Props_._invalidateDisplayListFlag||(this._UIC_Props_._invalidateDisplayListFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this.$invalidateContentBounds())},n.prototype.validateDisplayList=function(){if(this._UIC_Props_._invalidateDisplayListFlag){var t=0,e=0;t=this._UIC_Props_._layoutWidthExplicitlySet?this._UIC_Props_._uiWidth:isNaN(this.$getExplicitWidth())?this.measuredWidth:this.$getExplicitWidth(),e=this._UIC_Props_._layoutHeightExplicitlySet?this._UIC_Props_._uiHeight:isNaN(this.$getExplicitHeight())?this.measuredHeight:this.$getExplicitHeight(),isNaN(t)&&(t=0),isNaN(e)&&(e=0),this.setActualSize(t,e),this.updateDisplayList(t,e),this._UIC_Props_._invalidateDisplayListFlag=!1}},n.prototype.validateNow=function(t){void 0===t&&(t=!1),this._UIC_Props_._validateNowFlag||null==e.UIGlobals._layoutManager?this._UIC_Props_._validateNowFlag=!0:e.UIGlobals._layoutManager.validateClient(this,t)},n.prototype.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._UIC_Props_._includeInLayout&&"invalidateSize"in this.parent){var t=this.parent;t.invalidateSize(),t.invalidateDisplayList()}},n.prototype.updateDisplayList=function(t,e){},n.prototype.canSkipMeasurement=function(){return!isNaN(this.$getExplicitWidth())&&!isNaN(this.$getExplicitHeight())},n.prototype.commitProperties=function(){(this._UIC_Props_._oldWidth!=this._UIC_Props_._uiWidth||this._UIC_Props_._oldHeight!=this._UIC_Props_._uiHeight)&&this.dispatchResizeEvent(),(this._UIC_Props_._oldX!=this.x||this._UIC_Props_._oldY!=this.y)&&this.dispatchMoveEvent()},n.prototype.measure=function(){this._UIC_Props_._measuredHeight=0,this._UIC_Props_._measuredWidth=0},n.prototype.dispatchMoveEvent=function(){this.hasEventListener(e.MoveEvent.MOVE)&&e.MoveEvent.dispatchMoveEvent(this,this._UIC_Props_._oldX,this._UIC_Props_._oldY),this._UIC_Props_._oldX=this.x,this._UIC_Props_._oldY=this.y},n.prototype._childXYChanged=function(){},n.prototype.dispatchResizeEvent=function(){this.hasEventListener(e.ResizeEvent.RESIZE)&&e.ResizeEvent.dispatchResizeEvent(this,this._UIC_Props_._oldWidth,this._UIC_Props_._oldHeight),this._UIC_Props_._oldWidth=this._UIC_Props_._uiWidth,this._UIC_Props_._oldHeight=this._UIC_Props_._uiHeight},Object.defineProperty(n.prototype,"includeInLayout",{get:function(){return this._UIC_Props_._includeInLayout},set:function(t){this._UIC_Props_._includeInLayout!=t&&(this._UIC_Props_._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._UIC_Props_._includeInLayout=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this._UIC_Props_._left},set:function(t){this._UIC_Props_._left!=t&&(this._UIC_Props_._left=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this._UIC_Props_._right},set:function(t){this._UIC_Props_._right!=t&&(this._UIC_Props_._right=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this._UIC_Props_._top},set:function(t){this._UIC_Props_._top!=t&&(this._UIC_Props_._top=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this._UIC_Props_._bottom},set:function(t){this._UIC_Props_._bottom!=t&&(this._UIC_Props_._bottom=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalCenter",{get:function(){return this._UIC_Props_._horizontalCenter},set:function(t){this._UIC_Props_._horizontalCenter!=t&&(this._UIC_Props_._horizontalCenter=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalCenter",{get:function(){return this._UIC_Props_._verticalCenter},set:function(t){this._UIC_Props_._verticalCenter!=t&&(this._UIC_Props_._verticalCenter=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentWidth",{get:function(){return this._UIC_Props_._percentWidth},set:function(t){this._UIC_Props_._percentWidth!=t&&(this._UIC_Props_._percentWidth=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentHeight",{get:function(){return this._UIC_Props_._percentHeight},set:function(t){this._UIC_Props_._percentHeight!=t&&(this._UIC_Props_._percentHeight=t,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0}),n.prototype.setLayoutBoundsSize=function(t,e){isNaN(t)?(this._UIC_Props_._layoutWidthExplicitlySet=!1,t=this.preferredWidth):this._UIC_Props_._layoutWidthExplicitlySet=!0,isNaN(e)?(this._UIC_Props_._layoutHeightExplicitlySet=!1,e=this.preferredHeight):this._UIC_Props_._layoutHeightExplicitlySet=!0,this.setActualSize(t/this.$getScaleX(),e/this.$getScaleY())},n.prototype.setLayoutBoundsPosition=function(t,e){this.$getScaleX()<0&&(t+=this.layoutBoundsWidth),this.$getScaleY()<0&&(e+=this.layoutBoundsHeight);var i=!1;this.$getX()!=t&&(this.$setX(t),i=!0),this.$getY()!=e&&(this.$setY(e),i=!0),i&&this.dispatchMoveEvent()},Object.defineProperty(n.prototype,"preferredWidth",{get:function(){var t=isNaN(this.$getExplicitWidth())?this._UIC_Props_._measuredWidth:this.$getExplicitWidth(),e=this.$getScaleX();return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preferredHeight",{get:function(){var t=isNaN(this.$getExplicitHeight())?this._UIC_Props_._measuredHeight:this.$getExplicitHeight(),e=this.$getScaleY();return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preferredX",{get:function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.preferredWidth;return this.$getX()-t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preferredY",{get:function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.preferredHeight;return this.$getY()-t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutBoundsX",{get:function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.layoutBoundsWidth;return this.$getX()-t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutBoundsY",{get:function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.layoutBoundsHeight;return this.$getY()-t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutBoundsWidth",{get:function(){var t=0;this._UIC_Props_._layoutWidthExplicitlySet?t=this._UIC_Props_._uiWidth:isNaN(t=this.$getExplicitWidth())&&(t=this._UIC_Props_._measuredWidth);var e=this.$getScaleX();return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutBoundsHeight",{get:function(){var t=0;this._UIC_Props_._layoutHeightExplicitlySet?t=this._UIC_Props_._uiHeight:isNaN(t=this.$getExplicitHeight())&&(t=this._UIC_Props_._measuredHeight);var e=this.$getScaleY();return 0>e&&(e=-e),t*e},enumerable:!0,configurable:!0}),n}(t.DisplayObjectContainer);i.prototypeCanSet=void 0,i.emptyStyleChain={},e.UIComponent=i,__reflect(i.prototype,"egret.gui.UIComponent",["egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.ILayoutManagerClient","egret.gui.IInvalidating","egret.gui.IStyleClient"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.hostComponentKey=null,t._skinNameExplicitlySet=!1,t._skinName=null,t._createChildrenCalled=!1,t._skin=null,t.skinLayoutEnabled=!1,t.stateIsDirty=!1,t._autoMouseEnabled=!0,t.explicitMouseChildren=!0,t.explicitMouseEnabled=!0,t}return __extends(n,i),Object.defineProperty(n.prototype,"skinName",{get:function(){return this._skinName},set:function(t){this._skinName!=t&&(this._skinName=t,this._skinNameExplicitlySet=!0,this._createChildrenCalled&&this.parseSkinName())},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this.parseSkinName(),this._createChildrenCalled=!0},n.prototype.parseSkinName=function(){var e=n.skinAdapter;e||(e=this.getSkinAdapter());var i=this.hostComponentKey||t.getQualifiedClassName(this),r=e.getSkin(this._skinName,i);if(!r){var o=n._defaultTheme;o&&(r=o.getDefaultSkin(this))}this._setSkin(r)},n.prototype.getSkinAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.ISkinAdapter")}catch(i){t=new e.DefaultSkinAdapter}return n.skinAdapter=t,t},Object.defineProperty(n.prototype,"skin",{get:function(){return this._skin},enumerable:!0,configurable:!0}),n.prototype._setSkin=function(i){var n=this._skin;this.detachSkin(n),n instanceof t.DisplayObject&&this._removeFromDisplayList(n),this._skin=i,i instanceof t.DisplayObject&&this._addToDisplayListAt(this._skin,0),this.attachSkin(i),this.invalidateSkinState(),this.invalidateSize(),this.invalidateDisplayList(),this.hasEventListener(e.UIEvent.SKIN_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.SKIN_CHANGED)},n.prototype.attachSkin=function(e){if(!e||e instanceof t.DisplayObject?this.skinLayoutEnabled=!1:this.skinLayoutEnabled=!0,e&&"hostComponent"in e){var i=e;i.hostComponent=this,this.findSkinParts()}},n.prototype.findSkinParts=function(){var t=this._skin;if(t&&"skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var r=e[n];if(r in t)try{this[r]=t[r],this.partAdded(r,t[r])}catch(o){}}},n.prototype.detachSkin=function(t){if(t){if("skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var r=e[n];r in this&&(null!=this[r]&&this.partRemoved(r,this[r]),this[r]=null)}t.hostComponent=null}},n.prototype.partAdded=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_ADDED,t,i)},n.prototype.partRemoved=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_REMOVED,t,i)},n.prototype.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())},n.prototype.validateSkinState=function(){var t=this.getCurrentSkinState(),e=this._skin;e&&"currentState"in e&&(e.currentState=t),this.hasEventListener("stateChanged")&&this.dispatchEventWith("stateChanged")},Object.defineProperty(n.prototype,"autoTouchEnabled",{get:function(){return this._autoMouseEnabled},set:function(t){this._autoMouseEnabled!=t&&(this._autoMouseEnabled=t,this._autoMouseEnabled?(this.touchChildren=this.enabled?this.explicitMouseChildren:!1,this.touchEnabled=this.enabled?this.explicitMouseEnabled:!1):(this.touchChildren=this.explicitMouseChildren,this.touchEnabled=this.explicitMouseEnabled))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touchChildren",{get:function(){return this.$getTouchChildren()},set:function(t){this.enabled&&this.$setTouchChildren(t),this.explicitMouseChildren=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"touchEnabled",{get:function(){return this.$getTouchEnabled()},set:function(t){this.enabled&&this.$setTouchEnabled(t),this.explicitMouseEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._UIC_Props_._enabled},set:function(t){this.$setEnabled(t)},enumerable:!0,configurable:!0}),n.prototype.$setEnabled=function(t){return this._UIC_Props_._enabled==t?!1:(this._UIC_Props_._enabled=t,this._autoMouseEnabled&&(this.$touchChildren=t?this.explicitMouseChildren:!1,this.$touchEnabled=t?this.explicitMouseEnabled:!1),this.invalidateSkinState(),!0)},n.prototype.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())},n.prototype._childXYChanged=function(){this.skinLayoutEnabled&&(this.invalidateSize(),this.invalidateDisplayList())},n.prototype.measure=function(){i.prototype.measure.call(this);var t=this._skin;t&&(this.skinLayoutEnabled?(t.measure(),this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):"preferredWidth"in t?(this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):(this.measuredWidth=t.width,this.measuredHeight=t.height))},n.prototype.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var r=this._skin;r&&(this.skinLayoutEnabled?r.updateDisplayList(e,n):"setLayoutBoundsSize"in r?r.setLayoutBoundsSize(e,n):r instanceof t.DisplayObject&&(r.scaleX=0==r.width?1:e/r.width,r.scaleY=0==r.height?1:n/r.height))},n.prototype.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},n.prototype.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},n.prototype.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},n.prototype.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},n.prototype.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},n.prototype.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},n.prototype.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n}(e.UIComponent);i.skinAdapter=null,i._defaultTheme=null,e.SkinnableComponent=i,__reflect(i.prototype,"egret.gui.SkinnableComponent",["egret.gui.ISkinnableClient"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._maximum=100,t.maxChanged=!1,t._minimum=0,t.minChanged=!1,t._stepSize=1,t.stepSizeChanged=!1,t._value=0,t._changedValue=0,t.valueChanged=!1,t._snapInterval=1,t.snapIntervalChanged=!1,t._explicitSnapInterval=!1,t}return __extends(i,e),Object.defineProperty(i.prototype,"maximum",{get:function(){return this._maximum},set:function(t){this._setMaximun(t)},enumerable:!0,configurable:!0}),i.prototype._setMaximun=function(t){t!=this._maximum&&(this._maximum=t,this.maxChanged=!0,this.invalidateProperties())},Object.defineProperty(i.prototype,"minimum",{get:function(){return this._minimum},set:function(t){this._setMinimun(t)},enumerable:!0,configurable:!0}),i.prototype._setMinimun=function(t){t!=this._minimum&&(this._minimum=t,this.minChanged=!0,this.invalidateProperties())},Object.defineProperty(i.prototype,"stepSize",{get:function(){return this._stepSize},set:function(t){t!=this._stepSize&&(this._stepSize=t,this.stepSizeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._getValue()},set:function(t){this._setValue(t)},enumerable:!0,configurable:!0}),i.prototype._setValue=function(t){t!=this.value&&(this._changedValue=t,this.valueChanged=!0,this.invalidateProperties())},i.prototype._getValue=function(){return this.valueChanged?this._changedValue:this._value},Object.defineProperty(i.prototype,"snapInterval",{get:function(){return this._snapInterval},set:function(t){this._explicitSnapInterval=!0,t!=this._snapInterval&&(isNaN(t)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=t,this.snapIntervalChanged=!0,this.stepSizeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){if(e.prototype.commitProperties.call(this),this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum),this.valueChanged||this.maxChanged||this.minChanged||this.snapIntervalChanged){var t=this.valueChanged?this._changedValue:this._value;this.valueChanged=!1,this.maxChanged=!1,this.minChanged=!1,this.snapIntervalChanged=!1,this.setValue(this.nearestValidValue(t,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)},i.prototype.nearestValidSize=function(t){var e=this.snapInterval;if(0==e)return t;var i=Math.round(t/e)*e;return Math.abs(i)<e?e:i},i.prototype.nearestValidValue=function(t,e){if(0==e)return Math.max(this.minimum,Math.min(this.maximum,t));var i=this.maximum-this.minimum,n=1;if(t-=this.minimum,e!=Math.round(e)){var r=(1+e).toString().split(".");n=Math.pow(10,r[1].length),i*=n,t=Math.round(t*n),e=Math.round(e*n)}var o=Math.max(0,Math.floor(t/e)*e),s=Math.min(i,Math.floor((t+e)/e)*e),a=t-o>=(s-o)/2?s:o;return a/n+this.minimum},i.prototype.setValue=function(e){this._value!=e&&(isNaN(e)&&(e=0),!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?this._value=Math.min(this.maximum,Math.max(this.minimum,e)):this._value=e,this.valueChanged=!1,t.UIEvent.dispatchUIEvent(this,t.UIEvent.VALUE_COMMIT))},i.prototype.changeValueByStep=function(t){if(void 0===t&&(t=!0),0!=this.stepSize){var e=t?this.value+this.stepSize:this.value-this.stepSize;this.setValue(this.nearestValidValue(e,this.snapInterval))}},i}(t.SkinnableComponent);t.Range=e,__reflect(e.prototype,"egret.gui.Range")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.dataGroup=null,t._dataGroupProperties={},t}return __extends(i,e),i.prototype.updateRenderer=function(t,e,i){return"ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i,t},i.prototype.itemToLabel=function(t){return null!==t?t.toString():" "},Object.defineProperty(i.prototype,"dataProvider",{get:function(){return this._getDataProvider()},set:function(t){this._setDataProvider(t)},enumerable:!0,configurable:!0}),i.prototype._getDataProvider=function(){return null!=this.dataGroup?this.dataGroup.dataProvider:this._dataGroupProperties.dataProvider},i.prototype._setDataProvider=function(t){null==this.dataGroup?this._dataGroupProperties.dataProvider=t:this.dataGroup.dataProvider=t},Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this.dataGroup?this.dataGroup.itemRenderer:this._dataGroupProperties.itemRenderer},set:function(t){null==this.dataGroup?this._dataGroupProperties.itemRenderer=t:this.dataGroup.itemRenderer=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererSkinName",{get:function(){return this.dataGroup?this.dataGroup.itemRendererSkinName:this._dataGroupProperties.itemRendererSkinName},set:function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererSkinName=t:this.dataGroup.itemRendererSkinName=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererFunction",{get:function(){return this.dataGroup?this.dataGroup.itemRendererFunction:this._dataGroupProperties.itemRendererFunction},set:function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererFunction=t:this.dataGroup.itemRendererFunction=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},set:function(t){this._setLayout(t)},enumerable:!0,configurable:!0}),i.prototype._setLayout=function(t){null==this.dataGroup?this._dataGroupProperties.layout=t:this.dataGroup.layout=t},Object.defineProperty(i.prototype,"autoLayout",{get:function(){if(this.dataGroup)return this.dataGroup.autoLayout;var t=this._dataGroupProperties.autoLayout;return void 0===t?!0:t},set:function(t){null==this.dataGroup?this._dataGroupProperties.autoLayout=t:this.dataGroup.autoLayout=t
},enumerable:!0,configurable:!0}),i.prototype.partAdded=function(i,n){e.prototype.partAdded.call(this,i,n),n==this.dataGroup&&(void 0!==this._dataGroupProperties.layout&&(this.dataGroup.layout=this._dataGroupProperties.layout),void 0!==this._dataGroupProperties.autoLayout&&(this.dataGroup.autoLayout=this._dataGroupProperties.autoLayout),void 0!==this._dataGroupProperties.dataProvider&&(this.dataGroup.dataProvider=this._dataGroupProperties.dataProvider),void 0!==this._dataGroupProperties.itemRenderer&&(this.dataGroup.itemRenderer=this._dataGroupProperties.itemRenderer),void 0!==this._dataGroupProperties.itemRendererSkinName&&(this.dataGroup.itemRendererSkinName=this._dataGroupProperties.itemRendererSkinName),void 0!==this._dataGroupProperties.itemRendererFunction&&(this.dataGroup.itemRendererFunction=this._dataGroupProperties.itemRendererFunction),this.dataGroup._rendererOwner=this,this._dataGroupProperties={},this.hasEventListener(t.RendererExistenceEvent.RENDERER_ADD)&&this.dataGroup.addEventListener(t.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.hasEventListener(t.RendererExistenceEvent.RENDERER_REMOVE)&&this.dataGroup.addEventListener(t.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))},i.prototype.partRemoved=function(i,n){if(e.prototype.partRemoved.call(this,i,n),n==this.dataGroup){this.dataGroup.removeEventListener(t.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.dataGroup.removeEventListener(t.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this);var r={};r.layout=this.dataGroup.layout,r.autoLayout=this.dataGroup.autoLayout,r.dataProvider=this.dataGroup.dataProvider,r.itemRenderer=this.dataGroup.itemRenderer,r.itemRendererSkinName=this.dataGroup.itemRendererSkinName,r.itemRendererFunction=this.dataGroup.itemRendererFunction,this._dataGroupProperties=r,this.dataGroup._rendererOwner=null,this.dataGroup.dataProvider=null,this.dataGroup.layout=null}},i.prototype.addEventListener=function(e,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0),t.SkinnableComponent.prototype.addEventListener.call(this,e,i,n,r,o),e==t.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&this.dataGroup.addEventListener(t.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),e==t.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&this.dataGroup.addEventListener(t.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)},i.prototype.removeEventListener=function(i,n,r,o){void 0===o&&(o=!1),e.prototype.removeEventListener.call(this,i,n,r,o),i==t.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&(this.hasEventListener(t.RendererExistenceEvent.RENDERER_ADD)||this.dataGroup.removeEventListener(t.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this)),i==t.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&(this.hasEventListener(t.RendererExistenceEvent.RENDERER_REMOVE)||this.dataGroup.removeEventListener(t.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))},i}(t.SkinnableComponent);t.SkinnableDataContainer=e,__reflect(e.prototype,"egret.gui.SkinnableDataContainer",["egret.gui.IItemRendererOwner"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._instances=[],i._isPaused=!1,i._duration=500,i.durationExplicitlySet=!1,i._perElementOffset=0,i.repeatCount=1,i.repeatDelay=0,i.startDelay=0,i._targets=[],i._playheadTime=0,i.target=e,i}return __extends(i,t),Object.defineProperty(i.prototype,"duration",{get:function(){return!this.durationExplicitlySet&&this._parentCompositeEffect?this._parentCompositeEffect.duration:this._duration},set:function(t){this.durationExplicitlySet=!0,this._duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._instances&&this._instances.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPaused",{get:function(){return this.isPlaying?this._isPaused:!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"perElementOffset",{get:function(){return this._perElementOffset},set:function(t){this._perElementOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"target",{get:function(){return this._targets.length>0?this._targets[0]:null},set:function(t){this._targets.splice(0),t&&(this._targets[0]=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"targets",{get:function(){return this._targets},set:function(t){for(var e=t.length,i=e-1;i>=0;i--)null==t[i]&&t.splice(i,1);this._targets=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playheadTime",{get:function(){for(var t=0;t<this._instances.length;t++)if(this._instances[t])return this._instances[t].playheadTime;return this._playheadTime},set:function(t){var e=!1;0==this._instances.length&&(this.play(),e=!0);for(var i=0;i<this._instances.length;i++)this._instances[i]&&(this._instances[i].playheadTime=t);e&&this.pause(),this._playheadTime=t},enumerable:!0,configurable:!0}),i.prototype.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets);for(var e=[],i=0,n=t.length,r=0;n>r;r++){var o=t[r],s=this.createInstance(o);s&&(s.startDelay+=i,i+=this.perElementOffset,e.push(s))}return e},i.prototype.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var i=new this.instanceClass(t);return this._initInstance(i),i.addEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),i.addEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),i.addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),this._instances.push(i),i},i.prototype._initInstance=function(t){t.duration=this.duration,t.durationExplicitlySet=this.durationExplicitlySet,t.effect=this,t.repeatCount=this.repeatCount,t.repeatDelay=this.repeatDelay,t.startDelay=this.startDelay},i.prototype.deleteInstance=function(t){t.removeEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this);for(var i=this._instances.length,n=0;i>n;n++)this._instances[n]===t&&this._instances.splice(n,1)},i.prototype.play=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1),this.effectStopped=!1,this._isPaused=!1,this.playReversed=e;for(var i=this.createInstances(t),n=i.length,r=0;n>r;r++){var o=i[r];o.playReversed=e,o.startEffect()}return i},i.prototype.pause=function(){if(this.isPlaying&&!this._isPaused){this._isPaused=!0;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].pause()}},i.prototype.stop=function(){for(var t=this._instances.length-1,e=t;e>=0;e--){var i=this._instances[e];i&&i.stop()}},i.prototype.resume=function(){if(this.isPlaying&&this._isPaused){this._isPaused=!1;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].resume()}},i.prototype.reverse=function(){if(this.isPlaying)for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].reverse()},i.prototype.end=function(t){if(void 0===t&&(t=null),t)t.end();else for(var e=this._instances.length,i=e-1;i>=0;i--){var n=this._instances[i];n&&n.end()}},i.prototype._effectStartHandler=function(t){this.dispatchEvent(t)},i.prototype._effectStopHandler=function(t){this.dispatchEvent(t),this.effectStopped=!0},i.prototype._effectEndHandler=function(t){var e=t.effectInstance;this.deleteInstance(e),this.dispatchEvent(t)},i}(t.EventDispatcher);e.Effect=i,__reflect(i.prototype,"egret.gui.Effect",["egret.gui.IEffect","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.contentGroup=null,t._placeHolderGroup=null,t.contentGroupProperties={},t}return __extends(i,e),i.prototype._getCurrentContentGroup=function(){return null==this.contentGroup?(null==this._placeHolderGroup&&(this._placeHolderGroup=new t.Group,this._placeHolderGroup.visible=!1,this._addToDisplayList(this._placeHolderGroup)),this._placeHolderGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this._placeHolderGroup):this.contentGroup},Object.defineProperty(i.prototype,"elementsContent",{set:function(t){this._getCurrentContentGroup().elementsContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numElements",{get:function(){return this._getCurrentContentGroup().numElements},enumerable:!0,configurable:!0}),i.prototype.getElementAt=function(t){return this._getCurrentContentGroup().getElementAt(t)},i.prototype.addElement=function(t){return this._getCurrentContentGroup().addElement(t)},i.prototype.addElementAt=function(t,e){return this._getCurrentContentGroup().addElementAt(t,e)},i.prototype.removeElement=function(t){return this._getCurrentContentGroup().removeElement(t)},i.prototype.removeElementAt=function(t){return this._getCurrentContentGroup().removeElementAt(t)},i.prototype.removeAllElements=function(){this._getCurrentContentGroup().removeAllElements()},i.prototype.getElementIndex=function(t){return this._getCurrentContentGroup().getElementIndex(t)},i.prototype.setElementIndex=function(t,e){this._getCurrentContentGroup().setElementIndex(t,e)},i.prototype.swapElements=function(t,e){this._getCurrentContentGroup().swapElements(t,e)},i.prototype.swapElementsAt=function(t,e){this._getCurrentContentGroup().swapElementsAt(t,e)},Object.defineProperty(i.prototype,"layout",{get:function(){return null!=this.contentGroup?this.contentGroup.layout:this.contentGroupProperties.layout},set:function(t){null!=this.contentGroup?this.contentGroup.layout=t:this.contentGroupProperties.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoLayout",{get:function(){if(this.contentGroup)return this.contentGroup.autoLayout;var t=this.contentGroupProperties.autoLayout;return void 0===t?!0:t},set:function(t){this.contentGroup?this.contentGroup.autoLayout=t:this.contentGroupProperties.autoLayout=t},enumerable:!0,configurable:!0}),i.prototype.partAdded=function(i,n){if(e.prototype.partAdded.call(this,i,n),n==this.contentGroup){if(void 0!==this.contentGroupProperties.layout&&(this.contentGroup.layout=this.contentGroupProperties.layout),void 0!==this.contentGroupProperties.autoLayout&&(this.contentGroup.autoLayout=this.contentGroupProperties.autoLayout),this.contentGroupProperties={},this._placeHolderGroup){this._placeHolderGroup.removeEventListener(t.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.removeEventListener(t.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this);for(var r=this._placeHolderGroup._getElementsContent().concat(),o=this._placeHolderGroup.numElements;o>0;o--){var s=this._placeHolderGroup.removeElementAt(0);s.ownerChanged(null)}this._removeFromDisplayList(this._placeHolderGroup),this.contentGroup.elementsContent=r;for(var o=r.length-1;o>=0;o--){var s=r[o];s.ownerChanged(this)}this._placeHolderGroup=null}this.contentGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}},i.prototype.partRemoved=function(i,n){if(e.prototype.partRemoved.call(this,i,n),n==this.contentGroup&&(this.contentGroup.removeEventListener(t.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.removeEventListener(t.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this.contentGroupProperties.layout=this.contentGroup.layout,this.contentGroupProperties.autoLayout=this.contentGroup.autoLayout,this.contentGroup.layout=null,this.contentGroup.numElements>0)){for(this._placeHolderGroup=new t.Group;this.contentGroup.numElements>0;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));this._placeHolderGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(t.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}},i.prototype._contentGroup_elementAddedHandler=function(t){t.element.ownerChanged(this),this.dispatchEvent(t)},i.prototype._contentGroup_elementRemovedHandler=function(t){t.element.ownerChanged(null),this.dispatchEvent(t)},i}(t.SkinnableComponent);t.SkinnableContainer=e,__reflect(e.prototype,"egret.gui.SkinnableContainer",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._doingWholesaleChanges=!1,t.dataProviderChanged=!1,t._labelField="label",t.labelFieldOrFunctionChanged=!1,t._labelFunction=null,t._requireSelection=!1,t.requireSelectionChanged=!1,t._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,t._selectedIndex=n.NO_SELECTION,t._allowCustomSelectedItem=!1,t._dispatchChangeAfterSelection=!1,t._pendingSelectedItem=void 0,t._selectedItem=null,t._useVirtualLayout=!1,t.selectedIndexAdjusted=!1,t}return __extends(n,i),n.prototype._setDataProvider=function(t){this.dataProvider&&this.dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),this.dataProviderChanged=!0,this._doingWholesaleChanges=!0,t&&t.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),i.prototype._setDataProvider.call(this,t),this.invalidateProperties()},Object.defineProperty(n.prototype,"layout",{get:function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},set:function(t){t&&this.useVirtualLayout&&(t.useVirtualLayout=!0),this._setLayout(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"labelField",{get:function(){return this._labelField},set:function(t){this._setLabelField(t)},enumerable:!0,configurable:!0}),n.prototype._setLabelField=function(t){t!=this._labelField&&(this._labelField=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},Object.defineProperty(n.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(t){this._setLabelFunction(t)},enumerable:!0,configurable:!0}),n.prototype._setLabelFunction=function(t){t!=this._labelFunction&&(this._labelFunction=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},Object.defineProperty(n.prototype,"requireSelection",{get:function(){return this._requireSelection},set:function(t){this._setRequireSelection(t)},enumerable:!0,configurable:!0}),n.prototype._setRequireSelection=function(t){t!=this._requireSelection&&(this._requireSelection=t,t&&(this.requireSelectionChanged=!0,this.invalidateProperties()))},Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._getSelectedIndex()},set:function(t){this._setSelectedIndex(t,!1)},enumerable:!0,configurable:!0}),n.prototype._getSelectedIndex=function(){return this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex:this._selectedIndex},n.prototype._setSelectedIndex=function(t,e){void 0===e&&(e=!1),t!=this.selectedIndex&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._proposedSelectedIndex=t,this.invalidateProperties())},Object.defineProperty(n.prototype,"selectedItem",{get:function(){if(void 0!==this._pendingSelectedItem)return this._pendingSelectedItem;if(this._allowCustomSelectedItem&&this.selectedIndex==n.CUSTOM_SELECTED_ITEM)return this._selectedItem;if(this.selectedIndex!=n.NO_SELECTION&&null!=this.dataProvider)return this.dataProvider.length>this.selectedIndex?this.dataProvider.getItemAt(this.selectedIndex):void 0},set:function(t){this._setSelectedItem(t,!1)},enumerable:!0,configurable:!0}),n.prototype._setSelectedItem=function(t,e){void 0===e&&(e=!1),this.selectedItem!==t&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._pendingSelectedItem=t,this.invalidateProperties())},Object.defineProperty(n.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(t){this._setUseVirtualLayout(t)},enumerable:!0,configurable:!0}),n.prototype._getUseVirtualLayout=function(){return this.layout?this.layout.useVirtualLayout:this._useVirtualLayout},n.prototype._setUseVirtualLayout=function(t){t!=this.useVirtualLayout&&(this._useVirtualLayout=t,this.layout&&(this.layout.useVirtualLayout=t))},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this.dataProviderChanged&&(this.dataProviderChanged=!1,this._doingWholesaleChanges=!1,this.selectedIndex>=0&&this.dataProvider&&this.selectedIndex<this.dataProvider.length?this.itemSelected(this.selectedIndex,!0):this.requireSelection?this._proposedSelectedIndex=0:this._setSelectedIndex(-1,!1)),this.requireSelectionChanged&&(this.requireSelectionChanged=!1,this.requireSelection&&this.selectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0&&(this._proposedSelectedIndex=0)),void 0!==this._pendingSelectedItem&&(this.dataProvider?this._proposedSelectedIndex=this.dataProvider.getItemIndex(this._pendingSelectedItem):this._proposedSelectedIndex=n.NO_SELECTION,this._allowCustomSelectedItem&&-1==this._proposedSelectedIndex&&(this._proposedSelectedIndex=n.CUSTOM_SELECTED_ITEM,this._selectedItem=this._pendingSelectedItem),this._pendingSelectedItem=void 0);var t=!1;if(this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(t=this.commitSelection()),this.selectedIndexAdjusted&&(this.selectedIndexAdjusted=!1,t||e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),this.labelFieldOrFunctionChanged){if(null!=this.dataGroup){var r=void 0;if(this.layout&&this.layout.useVirtualLayout)for(var o=this.dataGroup.getElementIndicesInView(),s=o.length,a=0;s>a;a++){var h=o[a];this.updateRendererLabelProperty(h)}else{var l=this.dataGroup.numElements;for(r=0;l>r;r++)this.updateRendererLabelProperty(r)}}this.labelFieldOrFunctionChanged=!1}},n.prototype.updateRendererLabelProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.label=this.itemToLabel(e.data))},n.prototype.partAdded=function(t,n){i.prototype.partAdded.call(this,t,n),n==this.dataGroup&&(this._useVirtualLayout&&this.dataGroup.layout&&(this.dataGroup.layout.useVirtualLayout=!0),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},n.prototype.partRemoved=function(t,n){i.prototype.partRemoved.call(this,t,n),n==this.dataGroup&&(this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},n.prototype.updateRenderer=function(t,e,n){return this.itemSelected(e,this._isItemIndexSelected(e)),i.prototype.updateRenderer.call(this,t,e,n)},n.prototype.itemToLabel=function(t){if(null!=this._labelFunction)return this._labelFunction(t);if("string"==typeof t)return t;if(t instanceof Object)try{null!=t[this.labelField]&&(t=t[this.labelField])}catch(e){}if("string"==typeof t)return t;try{if(null!==t)return t.toString()}catch(e){}return" "},n.prototype.itemSelected=function(t,e){if(this.dataGroup){var i=this.dataGroup.getElementAt(t);null!=i&&(i.selected=e)}},n.prototype._isItemIndexSelected=function(t){return t==this.selectedIndex},n.prototype.commitSelection=function(t){void 0===t&&(t=!0);var i=this.dataProvider?this.dataProvider.length-1:-1,r=this._selectedIndex;if((!this._allowCustomSelectedItem||this._proposedSelectedIndex!=n.CUSTOM_SELECTED_ITEM)&&(this._proposedSelectedIndex<n.NO_SELECTION&&(this._proposedSelectedIndex=n.NO_SELECTION),this._proposedSelectedIndex>i&&(this._proposedSelectedIndex=i),this.requireSelection&&this._proposedSelectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0))return this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1;var o=this._proposedSelectedIndex;if(this._dispatchChangeAfterSelection){var s=e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGING,this._selectedIndex,this._proposedSelectedIndex,!0);if(!s)return this.itemSelected(this._proposedSelectedIndex,!1),this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1}return this._selectedIndex=o,this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,r!=n.NO_SELECTION&&this.itemSelected(r,!1),this._selectedIndex!=n.NO_SELECTION&&this.itemSelected(this._selectedIndex,!0),t&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,r,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),!0},n.prototype.adjustSelection=function(t,e){void 0===e&&(e=!1),this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex=t:this._selectedIndex=t,this.selectedIndexAdjusted=!0,this.invalidateProperties()},n.prototype.itemAdded=function(t){this._doingWholesaleChanges||(this.selectedIndex==n.NO_SELECTION?this.requireSelection&&this.adjustSelection(t,!0):t<=this.selectedIndex&&this.adjustSelection(this.selectedIndex+1,!0))},n.prototype.itemRemoved=function(t){this.selectedIndex==n.NO_SELECTION||this._doingWholesaleChanges||(t==this.selectedIndex?this.requireSelection&&this.dataProvider&&this.dataProvider.length>0?0==t?(this._proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this.adjustSelection(-1,!1):t<this.selectedIndex&&this.adjustSelection(this.selectedIndex-1,!1))},n.prototype.dataGroup_rendererAddHandler=function(e){var i=e.renderer;null!=i&&(i.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},n.prototype.dataGroup_rendererRemoveHandler=function(e){var i=e.renderer;null!=i&&(i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},n.prototype.item_mouseEventHandler=function(t){var e=t.type;if(e=n.TYPE_MAP[e],this.hasEventListener(e)){var i=t.currentTarget;this._dispatchListEvent(t,e,i)}},n.prototype._dispatchListEvent=function(t,i,n){var r=-1;r=n?n.itemIndex:this.dataGroup.getElementIndex(t.currentTarget);var o=this.dataProvider.getItemAt(r);e.ListEvent.dispatchListEvent(this,i,t,r,o,n)},n.prototype.dataProvider_collectionChangeHandler=function(t){var i=t.items;if(t.kind==e.CollectionEventKind.ADD)for(var r=i.length,o=0;r>o;o++)this.itemAdded(t.location+o);else if(t.kind==e.CollectionEventKind.REMOVE)for(var s=i.length,o=s-1;o>=0;o--)this.itemRemoved(t.location+o);else t.kind==e.CollectionEventKind.MOVE?(this.itemRemoved(t.oldLocation),this.itemAdded(t.location)):t.kind==e.CollectionEventKind.RESET?0==this.dataProvider.length?this._setSelectedIndex(n.NO_SELECTION,!1):(this.dataProviderChanged=!0,this.invalidateProperties()):t.kind==e.CollectionEventKind.REFRESH&&this.dataProviderRefreshed()},n.prototype.dataProviderRefreshed=function(){this._setSelectedIndex(n.NO_SELECTION,!1)},n}(e.SkinnableDataContainer);i.NO_SELECTION=-1,i.NO_PROPOSED_SELECTION=-2,i.CUSTOM_SELECTED_ITEM=-3,i.TYPE_MAP={rollOver:"itemRollOver",rollOut:"itemRollOut"},e.ListBase=i,__reflect(i.prototype,"egret.gui.ListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._downEventFired=!1,t.autoRepeatTimer=null,t.labelDisplay=null,t._autoRepeat=!1,t._repeatDelay=35,t._repeatInterval=35,t._hovered=!1,t._keepDown=!1,t._label="",t._mouseCaptured=!1,t._stickyHighlighting=!1,t.touchChildren=!1,t.addHandlers(),t}return __extends(n,i),Object.defineProperty(n.prototype,"autoRepeat",{get:function(){return this._autoRepeat},set:function(t){t!=this._autoRepeat&&(this._autoRepeat=t,this.checkAutoRepeatTimerConditions(this.isDown()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatInterval",{get:function(){return this._repeatInterval},set:function(t){this._repeatInterval=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hovered",{get:function(){return this._hovered},set:function(t){t!=this._hovered&&(this._hovered=t,this.invalidateSkinState(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),n.prototype._setKeepDown=function(t){this._keepDown!=t&&(this._keepDown=t,this.invalidateSkinState())},Object.defineProperty(n.prototype,"label",{get:function(){return this._getLabel()},set:function(t){this._setLabel(t)},enumerable:!0,configurable:!0}),n.prototype._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label},n.prototype._setLabel=function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},Object.defineProperty(n.prototype,"mouseCaptured",{get:function(){return this._mouseCaptured},set:function(t){t!=this._mouseCaptured&&(this._mouseCaptured=t,this.invalidateSkinState(),t||this.removeStageMouseHandlers(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stickyHighlighting",{get:function(){return this._stickyHighlighting},set:function(t){t!=this._stickyHighlighting&&(this._stickyHighlighting=t,this.invalidateSkinState(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0}),n.prototype.checkButtonDownConditions=function(){var t=this.isDown();this._downEventFired!=t&&(t&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN),this._downEventFired=t,this.checkAutoRepeatTimerConditions(t))},n.prototype.addHandlers=function(){this.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_END,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)},n.prototype.addStageMouseHandlers=function(){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},n.prototype.removeStageMouseHandlers=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},n.prototype.isDown=function(){return this.enabled&&this.mouseCaptured&&(this.hovered||this.stickyHighlighting)?!0:!1},n.prototype.checkAutoRepeatTimerConditions=function(t){var e=this.autoRepeat&&t,i=null!=this.autoRepeatTimer;e!=i&&(e?this.startTimer():this.stopTimer())},n.prototype.startTimer=function(){this.autoRepeatTimer=new t.Timer(1),this.autoRepeatTimer.delay=this._repeatDelay,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.start()},n.prototype.stopTimer=function(){this.autoRepeatTimer.stop(),this.autoRepeatTimer=null},n.prototype.mouseEventHandler=function(e){switch(e.type){case t.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers(),this.mouseCaptured=!0,this.hovered=!0;break;case t.TouchEvent.TOUCH_END:e.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case t.TouchEvent.TOUCH_TAP:return void(this.enabled?this.clickHandler(e):e.stopImmediatePropagation())}},n.prototype.buttonReleased=function(){},n.prototype.clickHandler=function(t){},n.prototype.stage_mouseUpHandler=function(t){t.target!=this&&(this.mouseCaptured=!1,this.hovered=!1)},n.prototype.autoRepeat_timerDelayHandler=function(e){this.autoRepeatTimer.reset(),this.autoRepeatTimer.removeEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.delay=this._repeatInterval,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerHandler,this),this.autoRepeatTimer.start()},n.prototype.autoRepeat_timerHandler=function(t){e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN)},n.prototype.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":"up":i.prototype.getCurrentSkinState.call(this)},n.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.labelDisplay&&(this.labelDisplay.text=this._label)},n}(e.SkinnableComponent);e.ButtonBase=i,__reflect(i.prototype,"egret.gui.ButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;return e._slideDuration=300,e.thumb=null,e.track=null,e._clickOffsetX=0/0,e._clickOffsetY=0/0,e.needUpdateValue=!1,e._moveStageX=0/0,e._moveStageY=0/0,e.mouseDownTarget=null,e.addEventListener(t.Event.ADDED_TO_STAGE,e.addedToStageHandler,e),e.addEventListener(t.TouchEvent.TOUCH_BEGIN,e.mouseDownHandler,e),e}return __extends(n,i),Object.defineProperty(n.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(t){this._slideDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!=this._maximum&&(this._setMaximun(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!=this._minimum&&(this._setMinimun(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._getValue()},set:function(t){t!=this._getValue()&&(this._setValue(t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},n.prototype.pointToValue=function(t,e){return this.minimum},n.prototype.changeValueByStep=function(e){void 0===e&&(e=!0);var n=this.value;i.prototype.changeValueByStep.call(this,e),this.value!=n&&this.dispatchEventWith(t.Event.CHANGE)},n.prototype.partAdded=function(n,r){i.prototype.partAdded.call(this,n,r),r==this.thumb?(this.thumb.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.addEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):r==this.track&&(this.track.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},n.prototype.partRemoved=function(n,r){i.prototype.partRemoved.call(this,n,r),r==this.thumb?(this.thumb.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):r==this.track&&(this.track.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},n.prototype.updateSkinDisplayList=function(){},n.prototype.addedToStageHandler=function(t){this.updateSkinDisplayList()
},n.prototype.track_resizeHandler=function(t){this.updateSkinDisplayList()},n.prototype.thumb_resizeHandler=function(t){this.updateSkinDisplayList()},n.prototype.thumb_updateCompleteHandler=function(t){this.updateSkinDisplayList(),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)},n.prototype.thumb_mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.addEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this);var n=this.thumb.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._clickOffsetX=n.x,this._clickOffsetY=n.y,e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_PRESS),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},n.prototype.onEnterFrame=function(t){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)},n.prototype.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.value&&(this.setValue(n),this.validateDisplayList(),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(t.Event.CHANGE))}},n.prototype.stage_mouseMoveHandler=function(t){this._moveStageX=t.stageX,this._moveStageY=t.stageY,this.needUpdateValue||(this.needUpdateValue=!0)},n.prototype.stage_mouseUpHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.removeEventListener(t.Event.ENTER_FRAME,this.updateWhenMouseMove,this),this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_RELEASE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},n.prototype.track_mouseDownHandler=function(t){},n.prototype.mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget=i.target},n.prototype.stage_mouseUpSomewhereHandler=function(i){if(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget!=i.target&&i instanceof t.TouchEvent&&this.contains(i.target)){var n=i,r=i.target.localToGlobal(n.localX,n.localY);t.TouchEvent.dispatchTouchEvent(this,t.TouchEvent.TOUCH_TAP,!1,!1,r.x,r.y,n.touchPointID,n.touchDown)}this.mouseDownTarget=null},n}(e.Range);e.TrackBase=i,__reflect(i.prototype,"egret.gui.TrackBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.dataChangedFlag=!1,e._data=null,e._selected=!1,e._itemIndex=-1,e.touchChildren=!0,e}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),e.prototype.dataChanged=function(){},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,this.invalidateSkinState())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(t){this._itemIndex=t},enumerable:!0,configurable:!0}),e.prototype.commitProperties=function(){t.prototype.commitProperties.call(this),this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())},e.prototype.getCurrentSkinState=function(){return this._selected?"down":t.prototype.getCurrentSkinState.call(this)},e}(t.ButtonBase);t.ItemRenderer=e,__reflect(e.prototype,"egret.gui.ItemRenderer",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.trackHighlight=null,t._showTrackHighlight=!0,t.animator=null,t._pendingValue=0,t.slideToValue=0/0,t._liveDragging=!0,t.maximum=10,t}return __extends(n,i),Object.defineProperty(n.prototype,"showTrackHighlight",{get:function(){return this._showTrackHighlight},set:function(t){this._showTrackHighlight!=t&&(this._showTrackHighlight=t,this.trackHighlight&&(this.trackHighlight.visible=t),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pendingValue",{get:function(){return this._pendingValue},set:function(t){t!=this._pendingValue&&(this._pendingValue=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.setValue=function(t){this._pendingValue=t,i.prototype.setValue.call(this,t)},n.prototype._animationUpdateHandler=function(t){this.pendingValue=t.currentValue.value},n.prototype.animationEndHandler=function(i){this.setValue(this.slideToValue),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},n.prototype.stopAnimation=function(){this.animator.stop(),this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval)),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},n.prototype.thumb_mouseDownHandler=function(t){this.animator&&this.animator.isPlaying&&this.stopAnimation(),i.prototype.thumb_mouseDownHandler.call(this,t)},Object.defineProperty(n.prototype,"liveDragging",{get:function(){return this._liveDragging},set:function(t){this._liveDragging=t},enumerable:!0,configurable:!0}),n.prototype.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.pendingValue&&(e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),1==this.liveDragging?(this.setValue(n),this.dispatchEventWith(t.Event.CHANGE)):this.pendingValue=n)}},n.prototype.stage_mouseUpHandler=function(e){i.prototype.stage_mouseUpHandler.call(this,e),0==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(t.Event.CHANGE))},n.prototype.track_mouseDownHandler=function(i){if(this.enabled){var n=this.thumb?this.thumb.width:0,r=this.thumb?this.thumb.height:0,o=i.stageX-n/2,s=i.stageY-r/2,a=this.track.globalToLocal(o,s,t.$TempPoint),h=this.pointToValue(a.x,a.y);h=this.nearestValidValue(h,this.snapInterval),h!=this.pendingValue&&(0!=this.slideDuration?(this.animator||(this.animator=new e.Animation(this._animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=h,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[new e.SimpleMotionPath("value",this.pendingValue,this.slideToValue)],e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(h),this.dispatchEventWith(t.Event.CHANGE)))}},n.prototype.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof t.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)},n}(e.TrackBase);e.SliderBase=i,__reflect(i.prototype,"egret.gui.SliderBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._contentWidth=0,t._contentHeight=0,t._layout=null,t._clipAndEnableScrolling=!1,t._autoLayout=!0,t._horizontalScrollPosition=0,t._verticalScrollPosition=0,t._layoutInvalidateDisplayListFlag=!1,t._layoutInvalidateSizeFlag=!1,t.touchEnabled=!1,t}return __extends(n,i),n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this._layout||(this.layout=new e.BasicLayout)},Object.defineProperty(n.prototype,"contentWidth",{get:function(){return this._contentWidth},enumerable:!0,configurable:!0}),n.prototype.setContentWidth=function(t){if(t!=this._contentWidth){var i=this._contentWidth;this._contentWidth=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentWidth",i,t,this)}},Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0}),n.prototype.setContentHeight=function(t){if(t!=this._contentHeight){var i=this._contentHeight;this._contentHeight=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentHeight",i,t,this)}},n.prototype.setContentSize=function(t,e){(t!=this._contentWidth||e!=this._contentHeight)&&(this.setContentWidth(t),this.setContentHeight(e))},Object.defineProperty(n.prototype,"layout",{get:function(){return this._layout},set:function(t){this._setLayout(t)},enumerable:!0,configurable:!0}),n.prototype._setLayout=function(t){this._layout!=t&&(this._layout&&(this._layout.target=null),this._layout=t,this._layout&&(this._layout.target=this),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEventWith("layoutChanged"))},Object.defineProperty(n.prototype,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(e){e!=this._clipAndEnableScrolling&&(this._clipAndEnableScrolling=e,this._clipAndEnableScrolling?this.scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,400,800):this.scrollRect=null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoLayout",{get:function(){return this._autoLayout},set:function(t){this._autoLayout!=t&&(this._autoLayout=t,t&&(this.invalidateSize(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(t){if(t!=this._horizontalScrollPosition){var i=this._horizontalScrollPosition;this._horizontalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",i,t,this)}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalScrollPosition",{get:function(){return this._verticalScrollPosition},set:function(t){if(t!=this._verticalScrollPosition){var i=this._verticalScrollPosition;this._verticalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",i,t,this)}},enumerable:!0,configurable:!0}),n.prototype.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),this._layout&&this._layout.scrollPositionChanged())},n.prototype.updateScrollRect=function(e,i){var n=this.scrollRect;this._clipAndEnableScrolling?n?(n.x=this._horizontalScrollPosition,n.y=this._verticalScrollPosition,n.width=e,n.height=i,this.scrollRect=n):this.scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,e,i):n&&(this.scrollRect=null)},n.prototype.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(i.prototype.measure.call(this),this._layout.measure())},n.prototype._invalidateDisplayListExceptLayout=function(){i.prototype.invalidateDisplayList.call(this)},n.prototype.invalidateDisplayList=function(){i.prototype.invalidateDisplayList.call(this),this._layoutInvalidateDisplayListFlag=!0},n.prototype._childXYChanged=function(){this.autoLayout&&(this.invalidateSize(),this.invalidateDisplayList())},n.prototype._invalidateSizeExceptLayout=function(){i.prototype.invalidateSize.call(this)},n.prototype.invalidateSize=function(){i.prototype.invalidateSize.call(this),this._layoutInvalidateSizeFlag=!0},n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._layoutInvalidateDisplayListFlag&&(this._layoutInvalidateDisplayListFlag=!1,this.autoLayout&&this._layout&&this._layout.updateDisplayList(t,e),this._layout&&this.updateScrollRect(t,e))},Object.defineProperty(n.prototype,"numElements",{get:function(){return-1},enumerable:!0,configurable:!0}),n.prototype.getElementAt=function(t){return null},n.prototype.getElementIndex=function(t){return-1},n.prototype.getElementIndicesInView=function(){var e,i=[];if(this.scrollRect)for(e=0;e<this.numChildren;e++){var n=this.getChildAt(e);if(n){var r=new t.Rectangle;r.x=n.layoutBoundsX,r.y=n.layoutBoundsY,r.width=n.layoutBoundsWidth,r.height=n.layoutBoundsHeight,this.scrollRect.intersects(r)&&i.push(e)}}else for(e=0;e<this.numChildren;e++)i.push(e);return i},n.prototype.setVirtualElementIndicesInView=function(t,e){},n.prototype.getVirtualElementAt=function(t){return this.getElementAt(t)},n}(e.UIComponent);e.GroupBase=i,__reflect(i.prototype,"egret.gui.GroupBase",["egret.gui.IViewport"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.titleDisplay=null,e._title="",e.titleChanged=!1,e.touchEnabled=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.titleDisplay&&(this.titleDisplay.text=this.title)},enumerable:!0,configurable:!0}),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.titleDisplay&&(this.titleDisplay.text=this.title)},e}(t.SkinnableContainer);t.Panel=e,__reflect(e.prototype,"egret.gui.Panel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.numUpdateListeners=0,n._interpolator=null,n._repeatBehavior=t.RepeatBehavior.LOOP,n._disableLayout=!1,n.instanceClass=t.AnimateInstance,n}return __extends(i,e),Object.defineProperty(i.prototype,"motionPaths",{get:function(){return this._motionPaths},set:function(t){this._motionPaths=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"easer",{get:function(){return this._easer},set:function(t){this._easer=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"interpolator",{get:function(){return this._interpolator},set:function(t){this._interpolator=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatBehavior",{get:function(){return this._repeatBehavior},set:function(t){this._repeatBehavior=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disableLayout",{get:function(){return this._disableLayout},set:function(t){this._disableLayout=t},enumerable:!0,configurable:!0}),i.prototype._initInstance=function(i){e.prototype._initInstance.call(this,i);var n=i;if(n.addEventListener(t.EffectEvent.EFFECT_REPEAT,this.animationEventHandler,this),this.numUpdateListeners>0&&n.addEventListener(t.EffectEvent.EFFECT_UPDATE,this.animationEventHandler,this),n.easer=this.easer,this.interpolator&&(n.interpolator=this.interpolator),isNaN(this.repeatCount)&&(n.repeatCount=this.repeatCount),n.repeatBehavior=this.repeatBehavior,n.disableLayout=this.disableLayout,this.motionPaths){n.motionPaths=new Array;for(var r=0;r<this.motionPaths.length;++r)n.motionPaths[r]=this.motionPaths[r].clone()}},i.prototype.addEventListener=function(i,n,r,o,s){void 0===o&&(o=!1),void 0===s&&(s=0),e.prototype.addEventListener.call(this,i,n,r,o,s),i==t.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},i.prototype.removeEventListener=function(i,n,r){void 0===r&&(r=!1),e.prototype.removeEventListener.call(this,i,n,this,r),i==t.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},i.prototype.animationEventHandler=function(t){this.dispatchEvent(t)},i}(t.Effect);t.Animate=e,__reflect(e.prototype,"egret.gui.Animate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._easeInFraction=0,this._easeOutFraction=0,this.easeInFraction=t,this.easeOutFraction=e}return Object.defineProperty(t.prototype,"easeInFraction",{get:function(){return this._easeInFraction},set:function(t){this._easeInFraction=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"easeOutFraction",{get:function(){return this._easeOutFraction},set:function(t){this._easeOutFraction=t},enumerable:!0,configurable:!0}),t.prototype.ease=function(t){if(0==this.easeInFraction&&0==this.easeOutFraction)return t;var e=1/(1-this.easeInFraction/2-this.easeOutFraction/2);if(t<this.easeInFraction)return t*e*(t/this.easeInFraction)/2;if(t>1-this.easeOutFraction){var i=t-(1-this.easeOutFraction),n=i/this.easeOutFraction;return e*(1-this.easeInFraction/2-this.easeOutFraction+i*(2-n)/2)}return e*(t-this.easeInFraction/2)},t}();t.Linear=e,__reflect(e.prototype,"egret.gui.Linear",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._allowMultipleSelection=!1,t._selectedIndices=[],t.isValidIndex=function(e,i,n){return t.dataProvider&&e>=0&&e<t.dataProvider.length},t._captureItemRenderer=!0,t._mouseDownItemRenderer=null,t.useVirtualLayout=!0,t}return __extends(n,i),n.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=e.DataGroup.defaultRendererFactory),i.prototype.createChildren.call(this)},Object.defineProperty(n.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(t){this._setUseVirtualLayout(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"allowMultipleSelection",{get:function(){return this._allowMultipleSelection},set:function(t){this._allowMultipleSelection=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndices",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},set:function(t){this._setSelectedIndices(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1:this._getSelectedIndex()},set:function(t){this._setSelectedIndex(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedItems",{get:function(){var t=[],e=this.selectedIndices;if(e)for(var i=e.length,n=0;i>n;n++)t[n]=this.dataProvider.getItemAt(e[n]);return t},set:function(t){var e=[];if(t)for(var i=t.length,n=0;i>n;n++){var r=this.dataProvider.getItemIndex(t[n]);if(-1!=r&&e.splice(0,0,r),-1==r){e=[];break}}this._setSelectedIndices(e,!1)},enumerable:!0,configurable:!0}),n.prototype._setSelectedIndices=function(t,e){void 0===e&&(e=!1),e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),t?this._proposedSelectedIndices=t:this._proposedSelectedIndices=[],this.invalidateProperties()},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this._proposedSelectedIndices&&this.commitSelection()},n.prototype.commitSelection=function(t){void 0===t&&(t=!0);var n=this._selectedIndex;if(this._proposedSelectedIndices){if(this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex),!this.allowMultipleSelection&&this._proposedSelectedIndices.length>0){var r=[];r.push(this._proposedSelectedIndices[0]),this._proposedSelectedIndices=r}this._proposedSelectedIndices.length>0?this._proposedSelectedIndex=this._proposedSelectedIndices[0]:this._proposedSelectedIndex=-1}var o=i.prototype.commitSelection.call(this,!1);return o?(this.selectedIndex>e.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(this.selectedIndex)&&this._proposedSelectedIndices.push(this.selectedIndex):this._proposedSelectedIndices=[this.selectedIndex]),this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(n)&&this.itemSelected(n,!0),this.commitMultipleSelection()),t&&o&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,n,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),o):(this._proposedSelectedIndices=null,!1)},n.prototype.commitMultipleSelection=function(){var t,e,i=[],n=[];if(this._selectedIndices.length>0&&this._proposedSelectedIndices.length>0){for(e=this._proposedSelectedIndices.length,t=0;e>t;t++)-1==this._selectedIndices.indexOf(this._proposedSelectedIndices[t])&&n.push(this._proposedSelectedIndices[t]);for(e=this._selectedIndices.length,t=0;e>t;t++)-1==this._proposedSelectedIndices.indexOf(this._selectedIndices[t])&&i.push(this._selectedIndices[t])}else this._selectedIndices.length>0?i=this._selectedIndices:this._proposedSelectedIndices.length>0&&(n=this._proposedSelectedIndices);if(this._selectedIndices=this._proposedSelectedIndices,i.length>0)for(e=i.length,t=0;e>t;t++)this.itemSelected(i[t],!1);if(n.length>0)for(e=n.length,t=0;e>t;t++)this.itemSelected(n[t],!0);this._proposedSelectedIndices=null},n.prototype._isItemIndexSelected=function(t){return this._allowMultipleSelection?-1!=this._selectedIndices.indexOf(t):i.prototype._isItemIndexSelected.call(this,t)},n.prototype.dataGroup_rendererAddHandler=function(e){i.prototype.dataGroup_rendererAddHandler.call(this,e);var n=e.renderer;null!=n&&(n.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.addEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},n.prototype.dataProviderRefreshed=function(){this._allowMultipleSelection||i.prototype.dataProviderRefreshed.call(this)},n.prototype.dataGroup_rendererRemoveHandler=function(e){i.prototype.dataGroup_rendererRemoveHandler.call(this,e);var n=e.renderer;null!=n&&(n.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.removeEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},n.prototype._item_touchBeginHandler=function(i){if(!i.$isDefaultPrevented){var n=i.currentTarget;this._mouseDownItemRenderer=n,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this)}},n.prototype.calculateSelectedIndices=function(t){var e=[];if(this._selectedIndices.length>0){if(1==this._selectedIndices.length&&this._selectedIndices[0]==t)return this.requireSelection?(e.splice(0,0,this._selectedIndices[0]),e):e;for(var i=!1,n=0;n<this._selectedIndices.length;n++)this._selectedIndices[n]==t?i=!0:this._selectedIndices[n]!=t&&e.splice(0,0,this._selectedIndices[n]);return i||e.splice(0,0,t),e}return e.splice(0,0,t),e},n.prototype._item_touchEndHandler=function(t){var i=t.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(t.currentTarget),this._allowMultipleSelection?this._setSelectedIndices(this.calculateSelectedIndices(n),!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(t,e.ListEvent.ITEM_CLICK,i)}},n.prototype.stage_touchEndHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this),this._mouseDownItemRenderer=null},n}(e.ListBase);e.List=i,__reflect(i.prototype,"egret.gui.List")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){var e=i.call(this)||this;return e.delayStartTime=0,e.delayElapsedTime=0,e.durationExplicitlySet=!1,e._playCount=0,e._stopRepeat=!1,e._duration=500,e._repeatCount=0,e._repeatDelay=0,e._startDelay=0,e.target=t,e}return __extends(n,i),Object.defineProperty(n.prototype,"_actualDuration",{get:function(){var t=0/0;return this.repeatCount>0&&(t=this.duration*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"duration",{get:function(){return!this.durationExplicitlySet&&this.parentCompositeEffectInstance?this.parentCompositeEffectInstance.duration:this._duration},set:function(t){this.durationExplicitlySet=!0,this._duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"playheadTime",{get:function(){return Math.max(this._playCount-1,0)*(this.duration+this.repeatDelay)+(this.playReversed?0:this.startDelay)},set:function(t){this._setPlayheadTime(t)},enumerable:!0,configurable:!0}),n.prototype._setPlayheadTime=function(e){this._delayTimer&&this._delayTimer.running&&(this._delayTimer.reset(),e<this.startDelay?(this._delayTimer=new t.Timer(this.startDelay-e,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):(this._playCount=0,this.play()))},Object.defineProperty(n.prototype,"playReversed",{get:function(){return this._playReversed},set:function(t){this._setPlayReversed(t)},enumerable:!0,configurable:!0}),n.prototype._setPlayReversed=function(t){this._playReversed=t},Object.defineProperty(n.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startDelay",{get:function(){return this._startDelay},set:function(t){this._startDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),n.prototype.startEffect=function(){this.startDelay>0&&!this.playReversed?(this._delayTimer=new t.Timer(this.startDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play()},n.prototype.play=function(){this._playCount++,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this))},n.prototype.pause=function(){this._delayTimer&&this._delayTimer.running&&!isNaN(this.delayStartTime)&&(this._delayTimer.stop(),this.delayElapsedTime=t.getTimer()-this.delayStartTime)},n.prototype.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.finishEffect()},n.prototype.resume=function(){!this._delayTimer||this._delayTimer.running||isNaN(this.delayElapsedTime)||(this._delayTimer.delay=this.playReversed?this.delayElapsedTime:this._delayTimer.delay-this.delayElapsedTime,this.delayStartTime=t.getTimer(),this._delayTimer.start())},n.prototype.reverse=function(){this.repeatCount>0&&(this._playCount=this.repeatCount-this._playCount+1)},n.prototype.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},n.prototype.finishEffect=function(){this._playCount=0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this))},n.prototype.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this.repeatCount||0==this.repeatCount)?this.repeatDelay>0?(this._delayTimer=new t.Timer(this.repeatDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play():this.finishEffect()},n.prototype._playWithNoDuration=function(){this.duration=0,this.repeatCount=1,this.repeatDelay=0,this.startDelay=0,this.startEffect()},n.prototype.delayTimerHandler=function(t){this._delayTimer.reset(),this.delayStartTime=0/0,this.delayElapsedTime=0/0,this.play()},n}(t.EventDispatcher);e.EffectInstance=i,__reflect(i.prototype,"egret.gui.EffectInstance",["egret.gui.IEffectInstance"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(t){void 0===t&&(t=.5),this._easeInFraction=.5,this.easeInFraction=t}return Object.defineProperty(t.prototype,"easeInFraction",{get:function(){return this._easeInFraction},set:function(t){this._easeInFraction=t},enumerable:!0,configurable:!0}),t.prototype.ease=function(t){var e=1-this._easeInFraction;return t<=this._easeInFraction&&this._easeInFraction>0?this._easeInFraction*this._easeIn(t/this._easeInFraction):this._easeInFraction+e*this._easeOut((t-this._easeInFraction)/e)},t.prototype._easeIn=function(t){return t},t.prototype._easeOut=function(t){return t},t}();t.EaseInOutBase=e,__reflect(e.prototype,"egret.gui.EaseInOutBase",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=n?t/n*i:0)},i.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,i=this.maximum-this.minimum,n=i>0?(this.pendingValue-this.minimum)/i*e:0,r=this.track.localToGlobal(n,0),o=r.x,s=r.y,a=this.thumb.parent.globalToLocal(o,s,t.$TempPoint).x;if(this.thumb.setLayoutBoundsPosition(Math.round(a),this.thumb.layoutBoundsY),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent){var h=this.trackHighlight.parent.globalToLocal(o,s,t.$TempPoint).x-n;this.trackHighlight.x=Math.round(h),this.trackHighlight.width=Math.round(n)}}},i}(e.SliderBase);e.HSlider=i,__reflect(i.prototype,"egret.gui.HSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.generator=null,i.generator=e,i}return __extends(e,t),e.prototype.newInstance=function(){var t=new this.generator;return t},e}(t.HashObject);e.ClassFactory=i,__reflect(i.prototype,"egret.gui.ClassFactory",["egret.gui.IFactory"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._focusEnabled=!0,t.isFocus=!1,t.textDisplay=null,t.textDisplayProperties={},t.promptDisplay=null,t._prompt=null,t.focusEnabled=!0,t}return __extends(n,i),Object.defineProperty(n.prototype,"focusEnabled",{get:function(){return this._focusEnabled},set:function(t){this._focusEnabled=t},enumerable:!0,configurable:!0}),n.prototype.focusInHandler=function(t){return this.isFocus=!0,t.target==this?void this.setFocus():void this.invalidateSkinState()
},n.prototype.focusOutHandler=function(t){this.isFocus=!1,t.target!=this&&this.invalidateSkinState()},Object.defineProperty(n.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this.promptDisplay&&(this.promptDisplay.text=t),this.invalidateProperties(),this.invalidateSkinState())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){if(this.textDisplay)return this.textDisplay.maxWidth;var t=this.textDisplayProperties.maxWidth;return void 0===t?i.prototype._getMaxWidth.call(this):t},set:function(t){this.textDisplay?(this.textDisplay.maxWidth=t,this.textDisplayProperties.maxWidth=!0):this.textDisplayProperties.maxWidth=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textColor",{get:function(){if(this.textDisplay)return this.textDisplay.textColor;var t=this.textDisplayProperties.textColor;return void 0===t?0:t},set:function(t){this.textDisplay?(this.textDisplay.textColor=t,this.textDisplayProperties.textColor=!0):this.textDisplayProperties.textColor=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayAsPassword",{get:function(){if(this.textDisplay)return this.textDisplay.displayAsPassword;var t=this.textDisplayProperties.displayAsPassword;return void 0===t?!1:t},set:function(t){this.textDisplay?(this.textDisplay.displayAsPassword=t,this.textDisplayProperties.displayAsPassword=!0):this.textDisplayProperties.displayAsPassword=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editable",{get:function(){if(this.textDisplay)return this.textDisplay.editable;var t=this.textDisplayProperties.editable;return void 0===t?!0:t},set:function(t){this.textDisplay?(this.textDisplay.editable=t,this.textDisplayProperties.editable=!0):this.textDisplayProperties.editable=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxChars",{get:function(){if(this.textDisplay)return this.textDisplay.maxChars;var t=this.textDisplayProperties.maxChars;return void 0===t?0:t},set:function(t){this.textDisplay?(this.textDisplay.maxChars=t,this.textDisplayProperties.maxChars=!0):this.textDisplayProperties.maxChars=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"restrict",{get:function(){if(this.textDisplay)return this.textDisplay.restrict;var t=this.textDisplayProperties.restrict;return void 0===t?null:t},set:function(t){this.textDisplay?(this.textDisplay.restrict=t,this.textDisplayProperties.restrict=!0):this.textDisplayProperties.restrict=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectable",{get:function(){if(this.textDisplay)return this.textDisplay.selectable;var t=this.textDisplayProperties.selectable;return void 0===t?!0:t},set:function(t){this.textDisplay?(this.textDisplay.selectable=t,this.textDisplayProperties.selectable=!0):this.textDisplayProperties.selectable=t,this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionBeginIndex",{get:function(){return this.textDisplay?this.textDisplay.selectionBeginIndex:void 0===this.textDisplayProperties.selectionBeginIndex?-1:this.textDisplayProperties.selectionBeginIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionEndIndex",{get:function(){return this.textDisplay?this.textDisplay.selectionEndIndex:void 0===this.textDisplayProperties.selectionEndIndex?-1:this.textDisplayProperties.selectionEndIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caretIndex",{get:function(){return this.textDisplay?this.textDisplay.caretIndex:0},enumerable:!0,configurable:!0}),n.prototype.setSelection=function(t,e){void 0===e&&(e=0),this.textDisplay?this.textDisplay.setSelection(t,e):(this.textDisplayProperties.selectionBeginIndex=t,this.textDisplayProperties.selectionEndIndex=e)},n.prototype.selectAll=function(){this.textDisplay?this.textDisplay.selectAll():void 0!==this.textDisplayProperties.text&&this.setSelection(0,this.textDisplayProperties.text.length-1)},Object.defineProperty(n.prototype,"text",{get:function(){return this._getText()},set:function(t){this._setText(t)},enumerable:!0,configurable:!0}),n.prototype._getText=function(){if(this.textDisplay)return this.textDisplay.text;var t=this.textDisplayProperties.text;return void 0===t?"":t},n.prototype._setText=function(t){this.textDisplay?(this.textDisplay.text=t,this.textDisplayProperties.text=!0):(this.textDisplayProperties.text=t,this.textDisplayProperties.selectionBeginIndex=0,this.textDisplayProperties.selectionEndIndex=0),this.invalidateProperties(),this.invalidateSkinState()},n.prototype._getWidthInChars=function(){var t=this.textDisplay;if(t)return t.widthInChars;var e=this.textDisplay?void 0:this.textDisplayProperties.widthInChars;return void 0===e?0/0:e},n.prototype._setWidthInChars=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.widthInChars=t),this.textDisplayProperties.widthInChars=!0}else this.textDisplayProperties.widthInChars=t;this.invalidateProperties()},n.prototype._getHeightInLines=function(){var t=this.textDisplay;if(t)return t.heightInLines;var e=this.textDisplay?void 0:this.textDisplayProperties.heightInLines;return void 0===e?0/0:e},n.prototype._setHeightInLines=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.heightInLines=t),this.textDisplayProperties.heightInLines=!0}else this.textDisplayProperties.heightInLines=t;this.invalidateProperties()},n.prototype.getCurrentSkinState=function(){var t=this.skin;if(this._prompt&&!this.isFocus&&""==this.text){if(this.enabled&&t.hasState("normalWithPrompt"))return"normalWithPrompt";if(!this.enabled&&t.hasState("disabledWithPrompt"))return"disabledWithPrompt"}return i.prototype.getCurrentSkinState.call(this)},n.prototype.partAdded=function(n,r){i.prototype.partAdded.call(this,n,r),r==this.textDisplay?(this.textDisplayAdded(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.addEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.addEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this)):r==this.promptDisplay&&(this.promptDisplay.text=this._prompt)},n.prototype.partRemoved=function(n,r){i.prototype.partRemoved.call(this,n,r),r==this.textDisplay&&(this.textDisplayRemoved(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.removeEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.removeEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this))},n.prototype.setFocus=function(){0!=this._focusEnabled&&this.textDisplay&&this.textDisplay.setFocus()},n.prototype._createTextDisplay=function(){},n.prototype._removeSkinParts=function(){this.textDisplay&&(this.partRemoved("textDisplay",this.textDisplay),this._removeFromDisplayList(this.textDisplay),this.textDisplay=null)},n.prototype.textDisplayAdded=function(){var t={},e=this.textDisplay;void 0!==this.textDisplayProperties.displayAsPassword&&(this.textDisplay.displayAsPassword=this.textDisplayProperties.displayAsPassword,t.displayAsPassword=!0),void 0!==this.textDisplayProperties.textColor&&(this.textDisplay.textColor=this.textDisplayProperties.textColor,t.textColor=!0),void 0!==this.textDisplayProperties.editable&&(this.textDisplay.editable=this.textDisplayProperties.editable,t.editable=!0),void 0!==this.textDisplayProperties.maxChars&&(this.textDisplay.maxChars=this.textDisplayProperties.maxChars,t.maxChars=!0),void 0!==this.textDisplayProperties.maxHeight&&(this.textDisplay.maxHeight=this.textDisplayProperties.maxHeight,t.maxHeight=!0),void 0!==this.textDisplayProperties.maxWidth&&(this.textDisplay.maxWidth=this.textDisplayProperties.maxWidth,t.maxWidth=!0),void 0!==this.textDisplayProperties.restrict&&(this.textDisplay.restrict=this.textDisplayProperties.restrict,t.restrict=!0),void 0!==this.textDisplayProperties.selectable&&(this.textDisplay.selectable=this.textDisplayProperties.selectable,t.selectable=!0),void 0!==this.textDisplayProperties.text&&(this.textDisplay.text=this.textDisplayProperties.text,t.text=!0),void 0!==this.textDisplayProperties.selectionBeginIndex&&this.textDisplay.setSelection(this.textDisplayProperties.selectionBeginIndex,this.textDisplayProperties.selectionEndIndex),void 0!==this.textDisplayProperties.widthInChars&&e&&(e.widthInChars=this.textDisplayProperties.widthInChars,t.widthInChars=!0),void 0!==this.textDisplayProperties.heightInLines&&e&&(e.heightInLines=this.textDisplayProperties.heightInLines,t.heightInLines=!0),this.textDisplayProperties=t},n.prototype.textDisplayRemoved=function(){var t={},e=this.textDisplay;this.textDisplayProperties.displayAsPassword&&(t.displayAsPassword=this.textDisplay.displayAsPassword),this.textDisplayProperties.textColor&&(t.textColor=this.textDisplay.textColor),this.textDisplayProperties.editable&&(t.editable=this.textDisplay.editable),this.textDisplayProperties.maxChars&&(t.maxChars=this.textDisplay.maxChars),this.textDisplayProperties.maxHeight&&(t.maxHeight=this.textDisplay.maxHeight),this.textDisplayProperties.maxWidth&&(t.maxWidth=this.textDisplay.maxWidth),this.textDisplayProperties.restrict&&(t.restrict=this.textDisplay.restrict),this.textDisplayProperties.selectable&&(t.selectable=this.textDisplay.selectable),this.textDisplayProperties.text&&(t.text=this.textDisplay.text),this.textDisplayProperties.heightInLines&&e&&(t.heightInLines=e.heightInLines),this.textDisplayProperties.widthInChars&&e&&(t.widthInChars=e.widthInChars),this.textDisplayProperties=t},n.prototype.textDisplay_changeHandler=function(t){this.invalidateDisplayList(),this.dispatchEvent(t)},n.prototype.textDisplay_changingHandler=function(e){var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.SkinnableComponent);e.SkinnableTextBase=i,__reflect(i.prototype,"egret.gui.SkinnableTextBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initialize=function(t){},e.prototype.apply=function(t){},e.prototype.remove=function(t){},e.prototype.initializeFromObject=function(t){for(var e in t)this[e]=t[e];return this},e}(t.HashObject);e.OverrideBase=i,__reflect(i.prototype,"egret.gui.OverrideBase",["egret.gui.IOverride"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;return e._textField=null,e.allStyleChanged=!1,e.fontFamilyChanged=!1,e._fontFamily="SimSun",e._sizeChanged=!1,e._size=30,e._focusEnabled=!0,e.boldChanged=!1,e._bold=!1,e.italicChanged=!1,e._italic=!1,e.textAlignChanged=!1,e._textAlign=t.HorizontalAlign.LEFT,e.verticalAlignChanged=!1,e._verticalAlign=t.VerticalAlign.TOP,e.lineSpacingChanged=!1,e._lineSpacing=0,e.textColorChanged=!1,e._textColor=16777215,e._textChanged=!1,e._text="",e._textFlow=null,e._textFlowChanged=!1,e._UIC_Props_._hasNoStyleChild=!0,e}return __extends(n,i),n.prototype.styleChanged=function(t){if(!this.allStyleChanged){if(t)switch(t){case"textColor":this.textColorChanged=!0;break;case"fontFamily":this.fontFamilyChanged=!0;break;case"size":this._sizeChanged=!0;break;case"bold":this.boldChanged=!0;break;case"italic":this.italicChanged=!0;break;case"textAlign":this.textAlignChanged=!0;break;case"verticalAlign":this.verticalAlignChanged=!0}else this.allStyleChanged=!0;this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}},Object.defineProperty(n.prototype,"fontFamily",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.fontFamily?t.fontFamily:this._fontFamily},set:function(t){this.setStyle("fontFamily",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.size?t.size:this._size},set:function(t){void 0===t&&(t=0),this.setStyle("size",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"focusEnabled",{get:function(){return this._focusEnabled},set:function(t){this._focusEnabled=t},enumerable:!0,configurable:!0}),n.prototype.setFocus=function(){0!=this._focusEnabled&&this._textField&&this._textField.setFocus()},Object.defineProperty(n.prototype,"bold",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.bold?t.bold:this._bold},set:function(t){this.setStyle("bold",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"italic",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.italic?t.italic:this._italic},set:function(t){this.setStyle("italic",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textAlign",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textAlign?t.textAlign:this._textAlign},set:function(t){this.setStyle("textAlign",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalAlign",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.verticalAlign?t.verticalAlign:this._verticalAlign},set:function(t){this.setStyle("verticalAlign",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return this._getLineSpacing()},set:function(t){this._setLineSpacing(t)},enumerable:!0,configurable:!0}),n.prototype._getLineSpacing=function(){return this._lineSpacing},n.prototype._setLineSpacing=function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},Object.defineProperty(n.prototype,"textColor",{get:function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textColor?t.textColor:this._textColor},set:function(t){this.setStyle("textColor",t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._textFlowChanged=!1,this._textFlow=[],this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textFlow",{get:function(){return this._textFlow},set:function(t){this._textFlow=t||[],this._textFlowChanged=!0,this._textChanged=!1,this._text="",this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return null==this._textField?0:this._textField.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textWidth",{get:function(){return null==this._textField?0:this._textField.textWidth},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this._textField||this.checkTextField()},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this._textField||this.checkTextField(),this.allStyleChanged&&(this.allStyleChanged=!1,this.textColorChanged=!0,this.fontFamilyChanged=!0,this._sizeChanged=!0,this.boldChanged=!0,this.italicChanged=!0,this.textAlignChanged=!0,this.verticalAlignChanged=!0),this.fontFamilyChanged&&(this._textField.fontFamily=this.fontFamily,this.fontFamilyChanged=!1),this._sizeChanged&&(this._textField.size=this.size,this._sizeChanged=!1),this.boldChanged&&(this._textField.bold=this.bold,this.boldChanged=!1),this.italic&&(this._textField.italic=this.italic,this.italicChanged=!1),this.textAlignChanged&&(this._textField.textAlign=this.textAlign,this.textAlignChanged=!1),this.verticalAlignChanged&&(this._textField.verticalAlign=this.verticalAlign,this.verticalAlignChanged=!1),this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1),this.textColorChanged&&(this._textField.textColor=this.textColor,this.textColorChanged=!1),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),(this._textChanged||this._textFlowChanged)&&(this._text=this._textField.text,this._textFlow=this._textField.textFlow,this._textChanged=!1,this._textFlowChanged=!1)},n.prototype.checkTextField=function(){this._textField||(this._createTextField(),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),this.invalidateProperties())},n.prototype._createTextField=function(){this._textField=new t.TextField,this._textField.fontFamily=this.fontFamily,this._textField.size=this.size,this._textField.textAlign=this.textAlign,this._textField.verticalAlign=this.verticalAlign,this._textField.lineSpacing=this._lineSpacing,this._textField.textColor=this.textColor,this._textField.multiline=!0,this._addToDisplayList(this._textField)},n.prototype._textFieldChanged=function(){this._text=this._textField.text,this._textFlow=this._textField.textFlow},n.prototype.measure=function(){i.prototype.measure.call(this),this.measuredWidth=n.DEFAULT_MEASURED_WIDTH,this.measuredHeight=n.DEFAULT_MEASURED_HEIGHT},n.prototype.$updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e)},n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._textField.width=t,this._textField.height=e},n.prototype.dispatchPropertyChangeEvent=function(t,i,n){this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,t,i,n,this)},n}(e.UIComponent);i.DEFAULT_MEASURED_WIDTH=160,i.DEFAULT_MEASURED_HEIGHT=22,e.TextBase=i,__reflect(i.prototype,"egret.gui.TextBase",["egret.gui.IDisplayText"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._selected=!1,t._autoSelected=!0,t}return __extends(n,i),Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected},set:function(t){this._setSelected(t)},enumerable:!0,configurable:!0}),n.prototype._setSelected=function(t){t!=this._selected&&(this._selected=t,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.invalidateSkinState())},n.prototype.getCurrentSkinState=function(){var t=i.prototype.getCurrentSkinState.call(this);if(this.selected){var e=t+"AndSelected",n=this.skin;return n&&n.hasState(e)?e:"disabled"==t?"disabled":"down"}return t},n.prototype.buttonReleased=function(){i.prototype.buttonReleased.call(this),this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(t.Event.CHANGE))},n}(e.ButtonBase);e.ToggleButtonBase=i,__reflect(i.prototype,"egret.gui.ToggleButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.createChildrenCalled=!1,t.elementsContentChanged=!1,t._elementsContent=[],t}return __extends(n,i),n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this.createChildrenCalled=!0,this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))},n.prototype._getElementsContent=function(){return this._elementsContent},Object.defineProperty(n.prototype,"elementsContent",{set:function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(t);else{this.elementsContentChanged=!0;for(var e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t}},enumerable:!0,configurable:!0}),n.prototype.setElementsContent=function(t){var e;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}},Object.defineProperty(n.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0}),n.prototype.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},n.prototype.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},n.prototype.addElement=function(t){var e=this.numElements;return t.parent==this&&(e=this.numElements-1),this.addElementAt(t,e)},n.prototype.addElementAt=function(t,e){if(t==this)return t;this.checkForRangeError(e,!0);var i=t.owner;return i==this||t.parent==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&t.owner.removeElement(t),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e),t)},n.prototype.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},n.prototype.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this.elementsContentChanged||this._elementRemoved(e,t),this._elementsContent.splice(t,1),e},n.prototype.removeAllElements=function(){for(var t=this.numElements-1;t>=0;t--)this.removeElementAt(t)},n.prototype.getElementIndex=function(t){return this._elementsContent.indexOf(t)},n.prototype.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this.elementsContentChanged||this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e,!1))},n.prototype.swapElements=function(t,e){this.swapElementsAt(this.getElementIndex(t),this.getElementIndex(e))},n.prototype.swapElementsAt=function(t,e){if(this.checkForRangeError(t),this.checkForRangeError(e),t>e){var i=e;e=t,t=i}else if(t==e)return;var n=this._elementsContent,r=n[t],o=n[e];this.elementsContentChanged||(this._elementRemoved(r,t,!1),this._elementRemoved(o,e,!1)),n[t]=o,n[e]=r,this.elementsContentChanged||(this._elementAdded(o,t,!1),this._elementAdded(r,e,!1))},n.prototype._elementAdded=function(i,n,r){if(void 0===r&&(r=!0),i instanceof t.DisplayObject){var o=i;this._addToDisplayListAt(o,n,r)}r&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this.invalidateSize(),this.invalidateDisplayList()},n.prototype._elementRemoved=function(i,n,r){if(void 0===r&&(r=!0),r&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this){var o=i;this._removeFromDisplayList(o,r)}this.invalidateSize(),this.invalidateDisplayList()},n.prototype.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},n.prototype.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},n.prototype.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},n.prototype.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},n.prototype.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},n.prototype.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},n.prototype.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n}(e.GroupBase);e.Group=i,__reflect(i.prototype,"egret.gui.Group",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;return e.closeButton=null,e.moveArea=null,e._showCloseButton=!0,e._autoBackToStage=!0,e._offsetPointX=0/0,e._offsetPointY=0/0,e.addEventListener(t.TouchEvent.TOUCH_BEGIN,e.onWindowMouseDown,e,!0,100),e}return __extends(n,i),n.prototype.onWindowMouseDown=function(t){this.enabled&&this.isPopUp&&t.target!=this.closeButton&&e.PopUpManager.bringToFront(this)},Object.defineProperty(n.prototype,"showCloseButton",{get:function(){return this._showCloseButton},set:function(t){this._showCloseButton!=t&&(this._showCloseButton=t,this.closeButton&&(this.closeButton.visible=this._showCloseButton))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoBackToStage",{get:function(){return this._autoBackToStage},set:function(t){this._autoBackToStage=t},enumerable:!0,configurable:!0}),n.prototype.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.moveArea?this.moveArea.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&(this.closeButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this),this.closeButton.visible=this._showCloseButton)},n.prototype.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.moveArea?this.moveArea.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&this.closeButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this)},n.prototype.closeButton_clickHandler=function(t){e.CloseEvent.dispatchCloseEvent(this,e.CloseEvent.CLOSE)},n.prototype.moveArea_mouseDownHandler=function(i){if(this.enabled&&this.isPopUp){var n=this.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._offsetPointX=n.x,this._offsetPointY=n.y,this._UIC_Props_._includeInLayout=!1,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this)}},n.prototype.moveArea_mouseMoveHandler=function(e){var i=this.globalToLocal(e.stageX,e.stageY,t.$TempPoint);this.x+=i.x-this._offsetPointX,this.y+=i.y-this._offsetPointY},n.prototype.moveArea_mouseUpHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this),this._autoBackToStage&&this.adjustPosForStage(),e.LayoutUtil.adjustRelativeByXY(this),this.includeInLayout=!0},n.prototype.adjustPosForStage=function(){if(this.moveArea&&this.stage){var t=this.moveArea.localToGlobal(0,0),e=t.x,i=t.y;t.x+this.moveArea.width<35&&(e=35-this.moveArea.width),t.x>this.stage.stageWidth-20&&(e=this.stage.stageWidth-20),t.y+this.moveArea.height<20&&(i=20-this.moveArea.height),t.y>this.stage.stageHeight-20&&(i=this.stage.stageHeight-20),this.x+=e-t.x,this.y+=i-t.y}},n}(e.Panel);e.TitleWindow=i,__reflect(i.prototype,"egret.gui.TitleWindow")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;return e.iconDisplay=null,e.disclosureButton=null,e.contentGroup=null,e._indentation=17,e._iconSkinName=null,e._depth=0,e._hasChildren=!1,e._isOpen=!1,e.addEventListener(t.TouchEvent.TOUCH_BEGIN,e.onItemMouseDown,e,!1,1e3),e}return __extends(n,i),n.prototype.onItemMouseDown=function(t){t.target==this.disclosureButton&&t.stopImmediatePropagation()},Object.defineProperty(n.prototype,"indentation",{get:function(){return this._indentation},set:function(t){this._indentation=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iconSkinName",{get:function(){return this._iconSkinName},set:function(t){this._iconSkinName!=t&&(this._iconSkinName=t,this.iconDisplay&&(this.iconDisplay.source=this._iconSkinName))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){return this._depth},set:function(t){t!=this._depth&&(this._depth=t,this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasChildren",{get:function(){return this._hasChildren},set:function(t){this._hasChildren!=t&&(this._hasChildren=t,this.disclosureButton&&(this.disclosureButton.visible=this._hasChildren))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"opened",{get:function(){return this._isOpen},set:function(t){this._isOpen!=t&&(this._isOpen=t,this.disclosureButton&&(this.disclosureButton.selected=this._isOpen))},enumerable:!0,configurable:!0}),n.prototype.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=this._iconSkinName:n==this.disclosureButton?(this.disclosureButton.visible=this._hasChildren,this.disclosureButton.selected=this._isOpen,this.disclosureButton._autoSelected=!1,this.disclosureButton.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this)):n==this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation)},n.prototype.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=null:n==this.disclosureButton&&(this.disclosureButton.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this),this.disclosureButton._autoSelected=!0,this.disclosureButton.visible=!0)},n.prototype.disclosureButton_mouseDownHandler=function(t){e.TreeEvent.dispatchTreeEvent(this,e.TreeEvent.ITEM_OPENING,this.itemIndex,this.data,this,!this._isOpen,!1,!0)},n}(e.ItemRenderer);e.TreeItemRenderer=i,__reflect(i.prototype,"egret.gui.TreeItemRenderer",["egret.gui.ITreeItemRenderer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?(n-e)/n*i:0)},i.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.thumb.layoutBoundsHeight,i=this.track.layoutBoundsHeight-e,n=this.maximum-this.minimum,r=n>0?i-(this.pendingValue-this.minimum)/n*i:0,o=this.track.localToGlobal(0,r),s=o.x,a=o.y,h=this.thumb.parent.globalToLocal(s,a,t.$TempPoint).y;if(this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(h)),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.$parent){var l=this.trackHighlight.$parent.globalToLocal(s,a,t.$TempPoint).y;this.trackHighlight.y=Math.round(l+e),this.trackHighlight.height=Math.round(i-l)}}},i}(e.SliderBase);e.VSlider=i,__reflect(i.prototype,"egret.gui.VSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null);var n=i.call(this,t)||this;return n.autoCenterTransform=!1,n.instanceClass=e.AnimateTransformInstance,n}return __extends(n,i),n.prototype.getOwningParallelEffect=function(){for(var t=null,i=this._parentCompositeEffect;i&&!(i instanceof e.Sequence);)t=i,i=i._parentCompositeEffect;return t},n.prototype.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var e=null,r=this.getOwningParallelEffect();if(null!=r&&(e=n.getSharedInstance(r,t)),e)return this._initInstance(e),null;var o=i.prototype.createInstance.call(this,t);return r&&n.storeSharedInstance(r,t,o),o},n.prototype._effectStartHandler=function(t){i.prototype._effectStartHandler.call(this,t);var e=this.getOwningParallelEffect();null!=e&&n.removeSharedInstance(e,t.effectInstance.target)},n.prototype.computeTransformCenterForTarget=function(e,i){void 0===i&&(i=null);
var n;if(this.autoCenterTransform){var r=null!=i&&void 0!==i.width?i.width:e.width,o=null!=i&&void 0!==i.height?i.height:e.height;n=new t.Point(r/2,o/2)}else n=new t.Point(0,0),isNaN(this.transformX)||(n.x=this.transformX),isNaN(this.transformY)||(n.y=this.transformY);return n},n.prototype.insertKeyframe=function(t,e){for(var i=0;i<t.length;i++)if(t[i].time>e.time)return void t.splice(i,0,e);t.push(e)},n.prototype._addMotionPath=function(t,i,n,r){void 0===i&&(i=0/0),void 0===n&&(n=0/0),void 0===r&&(r=0/0),isNaN(i)&&(isNaN(n)||isNaN(r)||(i=n-r));var o=new e.MotionPath(t);if(o.keyframes=[new e.Keyframe(0,i),new e.Keyframe(this.duration,n,r)],o.keyframes[1].easer=this.easer,this.motionPaths)for(var s=this.motionPaths.length,a=0;s>a;a++){var h=this.motionPaths[a];if(h.property==o.property){for(var l=0;l<o.keyframes.length;l++)this.insertKeyframe(h.keyframes,o.keyframes[l]);return}}else this.motionPaths=new Array;this.motionPaths.push(o)},n.prototype._initInstance=function(e){var r=0,o=this.duration,s=e;if(this.motionPaths){var a=[];for(r=0;r<this.motionPaths.length;++r){a[r]=this.motionPaths[r].clone();var h=a[r];if(h.keyframes){for(var l=0;l<h.keyframes.length;++l){var p=h.keyframes[l];isNaN(p.time)&&(p.time=this.duration),0!=this.startDelay&&(p.time+=this.startDelay)}o=Math.max(o,h.keyframes[h.keyframes.length-1].time)}}var u=this.getGlobalStartTime();for(r=0;r<a.length;++r)s.addMotionPath(a[r],u)}if(!s.initialized){s.initialized=!0,this.autoCenterTransform||(s.transformCenter=this.computeTransformCenterForTarget(e.target)),s.autoCenterTransform=this.autoCenterTransform;var d=this.startDelay;this.startDelay=0;var c=this.motionPaths;this.motionPaths=null,i.prototype._initInstance.call(this,e),this.startDelay=d,this.motionPaths=c,s.duration=Math.max(this.duration,o),t.getQualifiedClassName(this)!=t.getQualifiedClassName(n)&&(s.easer=n.linearEaser)}},n.prototype.getGlobalStartTime=function(){for(var t=0,i=this._parentCompositeEffect;i;){if(t+=i.startDelay,i instanceof e.Sequence)for(var n=i,r=0;r<n.children.length;++r){var o=n.children[r];if(o==this)break;t+=o instanceof e.CompositeEffect?o.compositeDuration:o.startDelay+o.duration*o.repeatCount+(o.repeatDelay+(o.repeatCount-1))}i=i._parentCompositeEffect}return t},n.getSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(null!=i)return i[e.hashCode]}return null},n.removeSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(!i)return;i[e.hashCode]&&(delete i[e.hashCode],n.sharedObjectRefcounts[t.hashCode]-=1,n.sharedObjectRefcounts[t.hashCode]<=0&&(delete n.sharedObjectMaps[t.hashCode],delete n.sharedObjectRefcounts[t.hashCode]))}},n.storeSharedInstance=function(t,e,i){if(null!=t){var r=n.sharedObjectMaps[t.hashCode];r||(r={},n.sharedObjectMaps[t.hashCode]=r),r[e.hashCode]||(n.sharedObjectRefcounts[t.hashCode]?n.sharedObjectRefcounts[t.hashCode]+=1:n.sharedObjectRefcounts[t.hashCode]=1),r[e.hashCode]=i}},n}(e.Animate);i.linearEaser=new e.Linear,i.sharedObjectMaps={},i.sharedObjectRefcounts={},e.AnimateTransform=i,__reflect(i.prototype,"egret.gui.AnimateTransform")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n._children=[],n.instanceClass=t.CompositeEffectInstance,n}return __extends(i,e),Object.defineProperty(i.prototype,"children",{get:function(){return this._children},set:function(t){var e=0;if(this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=null);if(this._children=t,this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"compositeDuration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),i.prototype.createInstance=function(t){void 0===t&&(t=null),this.childTargets||(this.childTargets=[t]);var i=e.prototype.createInstance.call(this,t);return this.childTargets=null,i},i.prototype.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets),this.childTargets=t;var e=this.createInstance();return this.childTargets=null,e?[e]:[]},i.prototype._initInstance=function(t){e.prototype._initInstance.call(this,t);var i=t,n=this.childTargets;if(n instanceof Array||(n=[n]),this.children)for(var r=this.children.length,o=0;r>o;o++){var s=this.children[o];0==s.targets.length?i.addChildSet(this.children[o].createInstances(n)):i.addChildSet(this.children[o].createInstances(s.targets))}},i.prototype.addChild=function(t){this.children.push(t),t._parentCompositeEffect=this},i}(t.Effect);t.CompositeEffect=e,__reflect(e.prototype,"egret.gui.CompositeEffect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null);var n=i.call(this)||this;return n.scrollBeginThreshold=10,n.scrollSpeed=1,n._content=null,n.delayTouchBeginEvent=null,n.touchBeginTimer=null,n.touchEnabled=!0,n._ScrV_Props_=new e.ScrollerViewProperties,t&&n.setContent(t),n}return __extends(n,i),Object.defineProperty(n.prototype,"bounces",{get:function(){return this._ScrV_Props_._bounces},set:function(t){this._ScrV_Props_._bounces=!!t},enumerable:!0,configurable:!0}),n.prototype.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,i.prototype.addChild.call(this,t),this._addEvents()))},n.prototype.removeContent=function(){this._content&&(this._removeEvents(),i.prototype.removeChildAt.call(this,0)),this._content=null},Object.defineProperty(n.prototype,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())},enumerable:!0,configurable:!0}),n.prototype.setScrollPosition=function(t,e,i){if(void 0===i&&(i=!1),(!i||0!=t||0!=e)&&(i||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){var n=this._ScrV_Props_._scrollTop,r=this._ScrV_Props_._scrollLeft;if(i){var o=this.getMaxScrollLeft(),s=this.getMaxScrollTop();(0>=n||n>=s)&&(t/=2),(0>=r||r>=o)&&(e/=2);var a=n+t,h=r+e,l=this._ScrV_Props_._bounces;l||((0>=a||a>=s)&&(a=Math.max(0,Math.min(a,s))),(0>=h||h>=o)&&(h=Math.max(0,Math.min(h,o)))),this._ScrV_Props_._scrollTop=a,this._ScrV_Props_._scrollLeft=h}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},n.prototype._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,n=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,n>i?n-i/2:i/2)}if(e){var r=this.width,o=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-r)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,o>r?o-r/2:r/2)}},n.prototype.$setWidth=function(t){if(this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return this._updateContentPosition(),e},n.prototype.$setHeight=function(t){if(this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return this._updateContentPosition(),e},n.prototype._updateContentPosition=function(){var e=this.height,i=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),i,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n.prototype._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var i=this._ScrV_Props_._verticalScrollPolicy,n=this.__checkScrollPolicy(i,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=n,e||n},n.prototype.__checkScrollPolicy=function(t,e,i){return"on"==t?!0:"off"==t?!1:e>i},n.prototype._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},n.prototype._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},n.prototype._onTouchBegin=function(e){if(!e.$isDefaultPrevented){var i=this._checkScrollPolicy();i&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},n.prototype._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var n=e.target;n!=this;){if("_checkScrollPolicy"in n&&(i=n._checkScrollPolicy()))return;n=n.parent}e.stopPropagation();var r=this.cloneTouchEvent(e);this.delayTouchBeginEvent=r,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},n.prototype._onTouchEndCapture=function(e){var i=this;if(this.delayTouchBeginEvent){this._onTouchBeginTimer(),e.stopPropagation();var n=this.cloneTouchEvent(e);t.callLater(function(){i.stage&&i.dispatchPropagationEvent(n)},this)}},n.prototype._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},n.prototype.dispatchPropagationEvent=function(e){for(var i=e.$target,n=this.$getPropagationList(i),r=n.length,o=.5*n.length,s=-1,a=0;r>a;a++)if(n[a]===this._content){s=a;break}n.splice(0,s+1),o-=s+1,this.$dispatchPropagationEvent(e,n,o),t.Event.release(e)},n.prototype._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y,n=Math.sqrt(e*e+i*i);if(n<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var r=this._getPointChange(t);this.setScrollPosition(r.y,r.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},n.prototype._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},n.prototype._onEnterFrame=function(e){var i=t.getTimer();i-this._ScrV_Props_._lastTouchTime>100&&i-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},n.prototype._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},n.prototype._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},n.prototype._calcVelocitys=function(e){var i=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=i);var n=this._getPointChange(e),r=i-this._ScrV_Props_._lastTouchTime;n.x/=r,n.y/=r,this._ScrV_Props_._velocitys.push(n),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},n.prototype._getContentWidth=function(){return this._content.$getExplicitWidth()||this._content.width},n.prototype._getContentHeight=function(){return this._content.$getExplicitHeight()||this._content.height},n.prototype.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},n.prototype.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},n.prototype._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,i=0;i<this._ScrV_Props_._velocitys.length;i++){var r=this._ScrV_Props_._velocitys[i],o=n.weight[i];t.x+=r.x*o,t.y+=r.y*o,e+=o}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var s=t.x/e*this.scrollSpeed,a=t.y/e*this.scrollSpeed,h=Math.abs(s),l=Math.abs(a),p=this.getMaxScrollLeft(),u=this.getMaxScrollTop(),d=h>.02?this.getAnimationDatas(s,this._ScrV_Props_._scrollLeft,p):{position:this._ScrV_Props_._scrollLeft,duration:1},c=l>.02?this.getAnimationDatas(a,this._ScrV_Props_._scrollTop,u):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(d.position,d.duration),this.setScrollTop(c.position,c.duration)}},n.prototype.onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},n.prototype._onScrollStarted=function(){},n.prototype._onScrollFinished=function(){e.ScrollerTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},n.prototype.setScrollTop=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollTop(),Math.max(t,0));if(0==i)return void(this.scrollTop=n);0==this._ScrV_Props_._bounces&&(t=n);var r=e.ScrollerTween.get(this).to({scrollTop:t},i,e.ScrollerEase.quartOut);n!=t&&r.to({scrollTop:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=r,r.call(this.onTweenFinished,this,[r]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},n.prototype.setScrollLeft=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollLeft(),Math.max(t,0));if(0==i)return void(this.scrollLeft=n);0==this._ScrV_Props_._bounces&&(t=n);var r=e.ScrollerTween.get(this).to({scrollLeft:t},i,e.ScrollerEase.quartOut);n!=t&&r.to({scrollLeft:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=r,r.call(this.onTweenFinished,this,[r]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},n.prototype.getAnimationDatas=function(t,e,i){var n=Math.abs(t),r=.95,o=0,s=.998,a=.02,h=e+500*t;if(0>h||h>i)for(h=e;Math.abs(t)!=1/0&&Math.abs(t)>a;)h+=t,t*=0>h||h>i?s*r:s,o++;else o=500*-Math.log(a/n);var l={position:Math.min(i+50,Math.max(h,-50)),duration:o};return l},n.prototype.cloneTouchEvent=function(e){var i=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i.$stageX=e.stageX,i.$stageY=e.stageY,i.touchDown=e.touchDown,i.$isDefaultPrevented=!1,i.$target=e.target,i},n.prototype.throwNotSupportedError=function(){t.$error(1023)},n.prototype.addChild=function(t){return this.throwNotSupportedError(),null},n.prototype.addChildAt=function(t,e){return this.throwNotSupportedError(),null},n.prototype.removeChild=function(t){return this.throwNotSupportedError(),null},n.prototype.removeChildAt=function(t){return this.throwNotSupportedError(),null},n.prototype.setChildIndex=function(t,e){this.throwNotSupportedError()},n.prototype.swapChildren=function(t,e){this.throwNotSupportedError()},n.prototype.swapChildrenAt=function(t,e){this.throwNotSupportedError()},n.prototype.$measureContentBounds=function(t){t.setTo(0,0,this.width,this.height)},n.prototype.$hitTest=function(t,e){var n=i.prototype.$hitTest.call(this,t,e);if(n)return n;if(!this.$visible)return null;var r=this.$getInvertedConcatenatedMatrix(),o=this.$getContentBounds(),s=r.a*t+r.c*e+r.tx,a=r.b*t+r.d*e+r.ty;if(o.contains(s,a)){if(!this.$children){var h=this.$scrollRect?this.$scrollRect:this.$maskRect;if(h&&!h.contains(s,a))return null;if(this.$mask&&!this.$mask.$hitTest(t,e))return null}return this}return null},n}(t.DisplayObjectContainer);i.weight=[1,1.33,1.66,2,2.33],e.ScrollerView=i,__reflect(i.prototype,"egret.gui.ScrollerView")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.dropDown=null,i.openButton=null,i._labelChanged=!1,i._dropDownController=null,i._userProposedSelectedIndex=t.ListBase.NO_SELECTION,i._captureItemRenderer=!1,i.dropDownController=new t.DropDownController,i}return __extends(i,e),i.prototype._setDataProvider=function(t){this.dataProvider!==t&&(e.prototype._setDataProvider.call(this,t),this._labelChanged=!0,this.invalidateProperties())},i.prototype._setLabelField=function(t){this.labelField!=t&&(e.prototype._setLabelField.call(this,t),this._labelChanged=!0,this.invalidateProperties())},i.prototype._setLabelFunction=function(t){this.labelFunction!=t&&(e.prototype._setLabelFunction.call(this,t),this._labelChanged=!0,this.invalidateProperties())},Object.defineProperty(i.prototype,"dropDownController",{get:function(){return this._dropDownController},set:function(e){this._dropDownController!=e&&(this._dropDownController=e,this._dropDownController.addEventListener(t.UIEvent.OPEN,this._dropDownController_openHandler,this),this._dropDownController.addEventListener(t.UIEvent.CLOSE,this.dropDownController_closeHandler,this),this.openButton&&(this._dropDownController.openButton=this.openButton),this.dropDown&&(this._dropDownController.dropDown=this.dropDown))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDropDownOpen",{get:function(){return this.dropDownController?this.dropDownController.isOpen:!1},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){e.prototype.commitProperties.call(this),this._labelChanged&&(this._labelChanged=!1,this.updateLabelDisplay())},i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.openButton?this.dropDownController&&(this.dropDownController.openButton=this.openButton):i==this.dropDown&&this.dropDownController&&(this.dropDownController.dropDown=this.dropDown)},i.prototype.partRemoved=function(t,i){this.dropDownController&&(i==this.openButton&&(this.dropDownController.openButton=null),i==this.dropDown&&(this.dropDownController.dropDown=null)),e.prototype.partRemoved.call(this,t,i)},i.prototype.getCurrentSkinState=function(){return this.enabled?this.isDropDownOpen?"open":"normal":"disabled"},i.prototype.commitSelection=function(t){void 0===t&&(t=!0);var i=e.prototype.commitSelection.call(this,t);return this.updateLabelDisplay(),i},i.prototype._isItemIndexSelected=function(t){return this._userProposedSelectedIndex==t},i.prototype.openDropDown=function(){this.dropDownController.openDropDown()},i.prototype.closeDropDown=function(t){this.dropDownController.closeDropDown(t)},i.prototype.updateLabelDisplay=function(t){void 0===t&&(t=void 0)},i.prototype._changeHighlightedSelection=function(t,e){void 0===e&&(e=!1),this.itemSelected(this._userProposedSelectedIndex,!1),this._userProposedSelectedIndex=t,this.itemSelected(this._userProposedSelectedIndex,!0)},i.prototype.dataProvider_collectionChangeHandler=function(t){e.prototype.dataProvider_collectionChangeHandler.call(this,t),this._labelChanged=!0,this.invalidateProperties()},i.prototype._item_touchEndHandler=function(i){e.prototype._item_touchEndHandler.call(this,i);var n=i.currentTarget;n==this._mouseDownItemRenderer&&(this._dispatchListEvent(i,t.ListEvent.ITEM_CLICK,n),this._userProposedSelectedIndex=this.selectedIndex,this.closeDropDown(!0))},i.prototype._dropDownController_openHandler=function(e){this.addEventListener(t.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),this._userProposedSelectedIndex=this.selectedIndex,this.invalidateSkinState()},i.prototype._open_updateCompleteHandler=function(e){this.removeEventListener(t.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),t.UIEvent.dispatchUIEvent(this,t.UIEvent.OPEN)},i.prototype.dropDownController_closeHandler=function(e){this.addEventListener(t.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),this.invalidateSkinState(),e.isDefaultPrevented()?this._changeHighlightedSelection(this.selectedIndex):this._setSelectedIndex(this._userProposedSelectedIndex,!0)},i.prototype.close_updateCompleteHandler=function(e){this.removeEventListener(t.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CLOSE)},i}(t.List);e.PAGE_SIZE=5,t.DropDownListBase=e,__reflect(e.prototype,"egret.gui.DropDownListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(e){return void 0===e&&(e=.5),t.call(this,e)||this}return __extends(e,t),e.prototype._easeIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.prototype._easeOut=function(t){return Math.sin(t*Math.PI/2)},e}(t.EaseInOutBase);t.Sine=e,__reflect(e.prototype,"egret.gui.Sine")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function e(e){void 0===e&&(e=null),this.interpolator=t.NumberInterpolator.getInstance(),this.property=e}return e.prototype.clone=function(){var t=new e(this.property);if(t.interpolator=this.interpolator,null!==this.keyframes){t.keyframes=new Array;for(var i=0;i<this.keyframes.length;++i)t.keyframes[i]=this.keyframes[i].clone()}return t},e.prototype._scaleKeyframes=function(t){for(var e=this.keyframes.length,i=0;e>i;++i){var n=this.keyframes[i];n._timeFraction=n.time/t}},e.prototype.getValue=function(t){if(!this.keyframes)return null;var e=this.keyframes.length;if(2==e&&1==this.keyframes[1]._timeFraction){var i=null!=this.keyframes[1].easer?this.keyframes[1].easer.ease(t):t;return this.interpolator.interpolate(i,this.keyframes[0].value,this.keyframes[1].value)}isNaN(this.keyframes[0]._timeFraction)&&this._scaleKeyframes(this.keyframes[this.keyframes.length-1].time);for(var n=0,r=this.keyframes[0].value,o=1;e>o;++o){var s=this.keyframes[o];if(t>=n&&t<s._timeFraction){var a=(t-n)/(s._timeFraction-n),h=null!=s.easer?s.easer.ease(a):a;return this.interpolator.interpolate(h,r,s.value)}n=s._timeFraction,r=s.value}return this.keyframes[e-1].value},e}();t.MotionPath=e,__reflect(e.prototype,"egret.gui.MotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.maxWidth=1e4,t.minWidth=0,t.maxHeight=1e4,t.minHeight=0,t._hasWidthSet=!1,t._width=0/0,t._hasHeightSet=!1,t._height=0/0,t._measuredWidth=0,t.measuredHeight=0,t._initialized=!1,t._hostComponent=null,t._elementsContent=[],t.skinLayout=null,t._states=[],t.playStateTransition=!0,t.currentStateChanged=!1,t._currentState=null,t.requestedCurrentState=null,t.initialized=!1,t.skinLayout=new e.SkinBasicLayout,t.skinLayout.target=t,t}return __extends(n,i),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width!=e&&(this._width=e,this._hasWidthSet=t.NumberUtils.isNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height!=e&&(this._height=e,this._hasHeightSet=t.NumberUtils.isNumber(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuredWidth",{get:function(){return this._measuredWidth},set:function(t){this._measuredWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preferredWidth",{get:function(){return this._hasWidthSet?this._width:this.measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"preferredHeight",{get:function(){return this._hasHeightSet?this._height:this.measuredHeight},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){},Object.defineProperty(n.prototype,"hostComponent",{get:function(){return this._hostComponent},set:function(t){this._setHostComponent(t)},enumerable:!0,configurable:!0}),n.prototype._setHostComponent=function(t){if(this._hostComponent!=t){var e;if(this._hostComponent)for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);if(this._hostComponent=t,this._initialized||(this._initialized=!0,this.createChildren()),this._hostComponent){var i=this._elementsContent.length;for(e=0;i>e;e++)this._elementAdded(this._elementsContent[e],e);this.initializeStates(),this.currentStateChanged&&this.commitCurrentState()}}},n.prototype._getElementsContent=function(){return this._elementsContent},Object.defineProperty(n.prototype,"elementsContent",{set:function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this._hostComponent){var e=void 0;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}}else this._elementsContent=t.concat()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0}),n.prototype.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},n.prototype.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},n.prototype.addElement=function(t){var e=this.numElements;return t.owner==this&&(e=this.numElements-1),this.addElementAt(t,e)},n.prototype.addElementAt=function(t,e){this.checkForRangeError(e,!0);var i=t.owner;return i==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&i.removeElement(t),this._elementsContent.splice(e,0,t),this._hostComponent?this._elementAdded(t,e):t.ownerChanged(this),t)},n.prototype.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},n.prototype.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this._hostComponent?this._elementRemoved(e,t):e.ownerChanged(null),this._elementsContent.splice(t,1),e},n.prototype.getElementIndex=function(t){return this._elementsContent.indexOf(t)},n.prototype.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this._hostComponent&&this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this._hostComponent&&this._elementAdded(t,e,!1))},n.prototype._elementAdded=function(i,n,r){if(void 0===r&&(r=!0),i.ownerChanged(this),i instanceof t.DisplayObject){var o=i;this._hostComponent._addToDisplayListAt(o,n,r)}r&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},n.prototype._elementRemoved=function(i,n,r){if(void 0===r&&(r=!0),r&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this._hostComponent){var o=i;this._hostComponent._removeFromDisplayList(o,r)}i.ownerChanged(null),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},n.prototype.measure=function(){this.skinLayout.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)},n.prototype.updateDisplayList=function(t,e){this.skinLayout.updateDisplayList(t,e)},Object.defineProperty(n.prototype,"states",{get:function(){return this._states},set:function(t){this._setStates(t)},enumerable:!0,configurable:!0}),n.prototype._setStates=function(t){if(t||(t=[]),"string"==typeof t[0])for(var i=t.length,n=0;i>n;n++){var r=new e.State(t[n],[]);t[n]=r}this._states=t,this.currentStateChanged=!0,this.requestedCurrentState=this._currentState,this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())},Object.defineProperty(n.prototype,"transitions",{get:function(){return this._transitions},set:function(t){this._transitions=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentState",{get:function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:this.getDefaultState()},set:function(t){t||(t=this.getDefaultState()),t!=this.currentState&&t&&this.currentState&&(this.requestedCurrentState=t,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())},enumerable:!0,configurable:!0}),n.prototype.hasState=function(t){return null!=this.getState(t)},n.prototype.getDefaultState=function(){return this._states.length>0?this._states[0].name:null},n.prototype.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=!1;var t=this.getState(this.requestedCurrentState);t||(this.requestedCurrentState=this.getDefaultState());var i;this.playStateTransition&&(i=this.getTransition(this._currentState,this.requestedCurrentState));var n,r;this._currentTransition&&(this._currentTransition.effect.removeEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i&&this._currentTransition.interruptionBehavior==e.InterruptionBehavior.STOP?(r=this._currentTransition.effect,r.stop()):(this._currentTransition.autoReverse&&this.transitionFromState==this.requestedCurrentState&&this.transitionToState==this._currentState&&(n=0==this._currentTransition.effect.duration?0:this._currentTransition.effect.playheadTime/this.getTotalDuration(this._currentTransition.effect)),this._currentTransition.effect.end()),this._currentTransition=null);var o=this._currentState?this._currentState:"";if(this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGING)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGING,o,this.requestedCurrentState?this.requestedCurrentState:""),this.removeState(this._currentState),this._currentState=this.requestedCurrentState,this._currentState&&this.applyState(this._currentState),this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGE,o,this._currentState?this._currentState:""),i){var s=i&&i.autoReverse&&(i.toState==o||i.fromState==this._currentState);
e.UIGlobals._layoutManager.validateNow(),this._currentTransition=i,this.transitionFromState=o,this.transitionToState=this._currentState,i.effect.addEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i.effect.play(null,s),isNaN(n)||0==i.effect.duration||(i.effect.playheadTime=(1-n)*this.getTotalDuration(i.effect))}else this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,o,this._currentState)}},n.prototype.transition_effectEndHandler=function(t){this._currentTransition=null,this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,this.transitionFromState,this.transitionToState)},n.prototype.getState=function(t){if(!t)return null;for(var e=this._states,i=e.length,n=0;i>n;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.removeState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length-1;n>=0;n--)i[n].remove(this)},n.prototype.applyState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length,r=0;n>r;r++)i[r].apply(this)},n.prototype.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var t=this._states,e=t.length,i=0;e>i;i++){var n=t[i];n.initialize(this)}}},n.prototype.getTransition=function(t,e){var i=null,n=0;if(!this.transitions)return null;t||(t=""),e||(e="");for(var r=0;r<this.transitions.length;r++){var o=this.transitions[r];if("*"==o.fromState&&"*"==o.toState&&1>n)i=o,n=1;else if(o.toState==t&&"*"==o.fromState&&o.autoReverse&&2>n)i=o,n=2;else if("*"==o.toState&&o.fromState==e&&o.autoReverse&&3>n)i=o,n=3;else if(o.toState==t&&o.fromState==e&&o.autoReverse&&4>n)i=o,n=4;else if(o.fromState==t&&"*"==o.toState&&5>n)i=o,n=5;else if("*"==o.fromState&&o.toState==e&&6>n)i=o,n=6;else if(o.fromState==t&&o.toState==e&&7>n){i=o,n=7;break}}return i&&!i.effect&&(i=null),i},n.prototype.getTotalDuration=function(t){var i=0,n=t;i=t instanceof e.CompositeEffect?n.compositeDuration:t.duration;var r="repeatDelay"in t?n.repeatDelay:0,o="repeatCount"in t?n.repeatCount:0,s="startDelay"in t?n.startDelay:0;return i=i*o+r*(o-1)+s},n}(t.EventDispatcher);e.Skin=i,__reflect(i.prototype,"egret.gui.Skin",["egret.gui.IStateClient","egret.IEventDispatcher","egret.gui.ISkin","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){var e=i.call(this,t)||this;return e.isStyleMap={},e._seekTime=0,e.numUpdateListeners=0,e}return __extends(n,i),Object.defineProperty(n.prototype,"motionPaths",{get:function(){return this._motionPaths},set:function(t){this._motionPaths||(this._motionPaths=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"easer",{get:function(){return this._easer},set:function(t){this._easer=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"interpolator",{get:function(){return this._interpolator},set:function(t){this._interpolator=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"repeatBehavior",{get:function(){return this._repeatBehavior},set:function(t){this._repeatBehavior=t},enumerable:!0,configurable:!0}),n.prototype._setPlayReversed=function(t){i.prototype._setPlayReversed.call(this,t),t&&this.animation&&this.animation.reverse(),this.reverseAnimation=t},Object.defineProperty(n.prototype,"playheadTime",{get:function(){return this.animation?this.animation.playheadTime:this._seekTime},set:function(t){this.animation&&(this.animation.playheadTime=t),this._seekTime=t},enumerable:!0,configurable:!0}),n.prototype.pause=function(){i.prototype.pause.call(this),this.animation&&this.animation.pause()},n.prototype.stop=function(){i.prototype.stop.call(this),this.animation&&this.animation.stop()},n.prototype.resume=function(){i.prototype.resume.call(this),this.animation&&this.animation.resume()},n.prototype.reverse=function(){i.prototype.reverse.call(this),this.animation&&this.animation.reverse(),this.reverseAnimation=!this.reverseAnimation},n.prototype.end=function(){this.animation&&(this.animation.end(),this.animation=null),i.prototype.end.call(this)},n.prototype.startEffect=function(){this.play()},n.prototype.play=function(){if(i.prototype.play.call(this),!this.motionPaths||0==this.motionPaths.length){var n=new t.Timer(this.duration,1);return n.addEventListener(t.TimerEvent.TIMER,this.noopAnimationHandler,this),void n.start()}this.isStyleMap=new Array(this.motionPaths.length);var r,o,s=0,a=0;for(s=0;s<this.motionPaths.length;++s){var h=this.motionPaths[s],l=h.keyframes;if(l&&(this.interpolator&&(h.interpolator=this.interpolator),this.duration>0))for(a=0;a<l.length;++a)isNaN(l[a].time)||(this.duration=Math.max(this.duration,l[a].time))}r&&this.motionPaths.push(new e.SimpleMotionPath("width")),o&&this.motionPaths.push(new e.SimpleMotionPath("height")),this.animation=new e.Animation(this.animationUpdate,this),this.animation.duration=this.duration,this.animation.startFunction=this.animationStart,this.animation.endFunction=this.animationEnd,this.animation.stopFunction=this.animationStop,this.animation.repeatFunction=this.animationRepeat,this.animation.motionPaths=this.motionPaths,this.reverseAnimation&&(this.animation.playReversed=!0),this.animation.interpolator=this.interpolator,this.animation.repeatCount=this.repeatCount,this.animation.repeatDelay=this.repeatDelay,this.animation.repeatBehavior=this.repeatBehavior,this.animation.easer=this.easer,this.animation.startDelay=this.startDelay,this.animation.play(),this._seekTime>0&&(this.animation.playheadTime=this._seekTime)},n.prototype.applyValues=function(t){for(var e=0;e<this.motionPaths.length;++e){var i=this.motionPaths[e].property;this.setValue(i,t.currentValue[i])}},n.prototype._isValidValue=function(t){return"number"==typeof t&&!isNaN(t)||!("number"==typeof t)&&null!==t},n.prototype.finalizeValues=function(){for(var t,e=0,i=0;i<this.motionPaths.length;++i){var n=this.motionPaths[i],r=n.keyframes;if(r&&0!=r.length)for(this._isValidValue(r[0].value)||(r.length>0&&this._isValidValue(r[1].valueBy)&&this._isValidValue(r[1].value)?r[0].value=n.interpolator.decrement(r[1].value,r[1].valueBy):r[0].value=this.getCurrentValue(n.property)),t=r[0].value,e=1;e<r.length;++e){var o=r[e];this._isValidValue(o.value)||(this._isValidValue(o.valueBy)?o.value=n.interpolator.increment(t,o.valueBy):e<=r.length-2&&this._isValidValue(r[e+1].value)&&this._isValidValue(r[e+1].valueBy)?o.value=n.interpolator.decrement(r[e+1].value,r[e+1].valueBy):o.value=t),t=o.value}}},n.prototype.animationStart=function(t){if(this.disableLayout)this.setupParentLayout(!1),this.cacheConstraints();else if(this.disabledConstraintsMap){for(var e in this.disabledConstraintsMap)this.cacheConstraint(e);this.disabledConstraintsMap=null}this.finalizeValues()},n.prototype.animationUpdate=function(t){if(this.applyValues(t),this.numUpdateListeners>0){var i=new e.EffectEvent(e.EffectEvent.EFFECT_UPDATE);i.effectInstance=this,this.dispatchEvent(i)}},n.prototype.animationRepeat=function(t){var i=new e.EffectEvent(e.EffectEvent.EFFECT_REPEAT);i.effectInstance=this,this.dispatchEvent(i)},n.prototype.animationCleanup=function(){this.disableLayout&&(this.reenableConstraints(),this.setupParentLayout(!0))},n.prototype.animationEnd=function(t){this.animationCleanup(),this.finishEffect()},n.prototype.animationStop=function(t){this.animationCleanup()},n.prototype.noopAnimationHandler=function(t){this.finishEffect()},n.prototype.addEventListener=function(t,n,r,o,s){void 0===o&&(o=!1),void 0===s&&(s=0),i.prototype.addEventListener.call(this,t,n,r,o,s),t==e.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},n.prototype.removeEventListener=function(t,n,r){void 0===r&&(r=!1),i.prototype.removeEventListener.call(this,t,n,this,r),t==e.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},n.prototype.reenableConstraint=function(t){var e=this.constraintsHolder[t];return void 0!==e&&(t in this.target?this.target[t]=e:this.target.setStyle(t,e),delete this.constraintsHolder[t]),e},n.prototype.reenableConstraints=function(){if(this.constraintsHolder){var t=this.reenableConstraint("left"),e=this.reenableConstraint("right"),i=this.reenableConstraint("top"),n=this.reenableConstraint("bottom");this.reenableConstraint("horizontalCenter"),this.reenableConstraint("verticalCenter"),this.constraintsHolder=null,void 0!=t&&void 0!=e&&"explicitWidth"in this.target&&(this.target.width=this.oldWidth),void 0!=i&&void 0!=n&&"explicitHeight"in this.target&&(this.target.height=this.oldHeight)}},n.prototype.cacheConstraint=function(t){var e,i=t in this.target;return e=i?this.target[t]:this.target.getStyle(t),isNaN(e)||null==e||(this.constraintsHolder||(this.constraintsHolder={}),this.constraintsHolder[t]=e,i?this.target[t]=0/0:"setStyle"in this.target&&this.target.setStyle(t,void 0)),e},n.prototype.cacheConstraints=function(){var t=this.cacheConstraint("left"),e=this.cacheConstraint("right"),i=this.cacheConstraint("top"),n=this.cacheConstraint("bottom");if(this.cacheConstraint("verticalCenter"),this.cacheConstraint("horizontalCenter"),void 0!=t&&void 0!=e&&"explicitWidth"in this.target){var r=this.target.width;this.oldWidth=this.target.explicitWidth,this.target.width=r}if(void 0!=i&&void 0!=n&&"explicitHeight"in this.target){var o=this.target.height;this.oldHeight=this.target.explicitHeight,this.target.height=o}},n.prototype.setupParentLayout=function(t){var e=null;"parent"in this.target&&this.target.parent&&(e=this.target.parent),e&&"autoLayout"in e&&(e.autoLayout=t)},n.prototype._setupStyleMapEntry=function(t){if(void 0==this.isStyleMap[t])if(t in this.target)this.isStyleMap[t]=!1;else try{this.target.getStyle(t),this.isStyleMap[t]=!0}catch(e){throw new Error("propNotPropOrStyle")}},n.prototype.setValue=function(t,e){this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.setStyle(t,e):this.target[t]=e},n.prototype.getCurrentValue=function(t){return this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.getStyle(t):this.target[t]},n}(e.EffectInstance);e.AnimateInstance=i,__reflect(i.prototype,"egret.gui.AnimateInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i._activeEffectQueue=[],i._playheadTime=0,i._childSets=[],i}return __extends(i,e),Object.defineProperty(i.prototype,"_actualDuration",{get:function(){var t=0/0;return this.repeatCount>0&&(t=this._durationWithoutRepeat*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playheadTime",{get:function(){return this._playheadTime},enumerable:!0,configurable:!0}),i.prototype._setPlayheadTime=function(t){this._timerAnimation?this._timerAnimation.playheadTime=t:this._playheadTime=t,e.prototype._setPlayheadTime.call(this,t)},Object.defineProperty(i.prototype,"_durationWithoutRepeat",{get:function(){return 0},enumerable:!0,configurable:!0}),i.prototype.play=function(){this._timerAnimation=new t.Animation(this.animationUpdate,this),this._timerAnimation.duration=this._durationWithoutRepeat,this._timerAnimation.motionPaths=[new t.SimpleMotionPath("timer",0,0)],this._timerAnimation.endFunction=this.animationEnd,this._timerAnimation.play(),e.prototype.play.call(this)},i.prototype.pause=function(){e.prototype.pause.call(this),this._timerAnimation&&this._timerAnimation.pause()},i.prototype.stop=function(){e.prototype.stop.call(this),this._timerAnimation&&this._timerAnimation.stop()},i.prototype.end=function(){e.prototype.end.call(this),this._timerAnimation&&this._timerAnimation.end()},i.prototype.resume=function(){e.prototype.resume.call(this),this._timerAnimation&&this._timerAnimation.resume()},i.prototype.reverse=function(){e.prototype.reverse.call(this),this._setPlayReversed(!this.playReversed),this._timerAnimation&&this._timerAnimation.reverse()},i.prototype.finishEffect=function(){this._activeEffectQueue=null,e.prototype.finishEffect.call(this)},i.prototype.addChildSet=function(e){if(e){var i=e.length;if(i>0){this._childSets?this._childSets.push(e):this._childSets=[e];for(var n=0;i>n;n++)e[n].addEventListener(t.EffectEvent.EFFECT_END,this._effectEndHandler,this),e[n].parentCompositeEffectInstance=this}}},i.prototype._playWithNoDuration=function(){e.prototype._playWithNoDuration.call(this),this.end()},i.prototype.animationUpdate=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},i.prototype.animationEnd=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},i.prototype._onEffectEnd=function(t){},i.prototype._effectEndHandler=function(t){this._onEffectEnd(t.effectInstance)},i}(t.EffectInstance);t.CompositeEffectInstance=e,__reflect(e.prototype,"egret.gui.CompositeEffectInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){var e=t.call(this)||this;return e._target=null,e._useVirtualLayout=!1,e._typicalLayoutRect=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target!=t&&(this._target=t,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useVirtualLayout",{get:function(){return this._useVirtualLayout},set:function(t){this._useVirtualLayout!=t&&(this._useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this._useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typicalLayoutRect",{get:function(){return this._typicalLayoutRect},set:function(t){this._typicalLayoutRect!=t&&(this._typicalLayoutRect=t,this.target&&this.target.invalidateSize())},enumerable:!0,configurable:!0}),e.prototype.scrollPositionChanged=function(){},e.prototype.clearVirtualLayoutCache=function(){},e.prototype.elementAdded=function(t){},e.prototype.elementRemoved=function(t){},e.prototype.measure=function(){},e.prototype.updateDisplayList=function(t,e){},e}(t.EventDispatcher);e.LayoutBase=i,__reflect(i.prototype,"egret.gui.LayoutBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.horizontalScrollPolicyChanged=!1,t._horizontalScrollPolicy=null,t.verticalScrollPolicyChanged=!1,t._verticalScrollPolicy=null,t.scroller=null,t}return __extends(n,i),Object.defineProperty(n.prototype,"widthInChars",{get:function(){return this._getWidthInChars()},set:function(t){this._setWidthInChars(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"heightInLines",{get:function(){return this._getHeightInLines()},set:function(t){this._setHeightInLines(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScrollPolicy",{get:function(){return this._horizontalScrollPolicy},set:function(t){this._horizontalScrollPolicy!=t&&(this._horizontalScrollPolicy=t,this.horizontalScrollPolicyChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalScrollPolicy",{get:function(){return this._verticalScrollPolicy},set:function(t){this._verticalScrollPolicy!=t&&(this._verticalScrollPolicy=t,this.verticalScrollPolicyChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),n.prototype._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this.horizontalScrollPolicyChanged&&(this.scroller&&(this.scroller.horizontalScrollPolicy=this.horizontalScrollPolicy),this.horizontalScrollPolicyChanged=!1),this.verticalScrollPolicyChanged&&(this.scroller&&(this.scroller.verticalScrollPolicy=this.verticalScrollPolicy),this.verticalScrollPolicyChanged=!1)},n.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay?this.textDisplay.multiline=!0:e==this.scroller},n.prototype.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=15,this.textDisplay.heightInLines=10,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextArea=i,__reflect(i.prototype,"egret.gui.TextArea")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){return i.call(this)||this}return __extends(n,i),Object.defineProperty(n.prototype,"widthInChars",{get:function(){return i.prototype._getWidthInChars.call(this)},set:function(t){i.prototype._setWidthInChars.call(this,t)},enumerable:!0,configurable:!0}),n.prototype._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay&&(this.textDisplay.multiline=!1)},n.prototype.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=10,this.textDisplay.multiline=!1,this.textDisplay.left=1,this.textDisplay.right=1,this.textDisplay.top=1,this.textDisplay.bottom=1,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextInput=i,__reflect(i.prototype,"egret.gui.TextInput")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.labelDisplay=null,e._prompt="",e}return __extends(e,t),Object.defineProperty(e.prototype,"prompt",{get:function(){return this._prompt},set:function(t){this._prompt!=t&&(this._prompt=t,this._labelChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.labelDisplay&&(this._labelChanged=!0,this.invalidateProperties())},e.prototype.updateLabelDisplay=function(t){void 0===t&&(t=void 0),this.labelDisplay&&(void 0==t&&(t=this.selectedItem),null!=t&&void 0!=t?this.labelDisplay.text=this.itemToLabel(t):this.labelDisplay.text=this._prompt)},e}(t.DropDownListBase);t.DropDownList=e,__reflect(e.prototype,"egret.gui.DropDownList")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.iconDisplay=null,e._icon=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return this._getIcon()},set:function(t){this._setIcon(t)},enumerable:!0,configurable:!0}),e.prototype._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},e.prototype._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(t.ToggleButtonBase);t.ToggleButton=e,__reflect(e.prototype,"egret.gui.ToggleButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButtonBase);t.ToggleSwitch=e,__reflect(e.prototype,"egret.gui.ToggleSwitch")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._selectable=!0,t._displayAsPassword=!1,t.displayAsPasswordChanged=!0,t.pendingEditable=!0,t._editable=!0,t.editableChanged=!1,t._maxChars=0,t.maxCharsChanged=!1,t._multiline=!1,t.multilineChanged=!1,t._restrict=null,t.restrictChanged=!1,t._heightInLines=0/0,t.heightInLinesChanged=!1,t._widthInChars=0/0,t.widthInCharsChanged=!1,t._contentWidth=0,t._contentHeight=0,t._horizontalScrollPosition=0,t._verticalScrollPosition=0,t._clipAndEnableScrolling=!1,t.defaultHeight=0/0,t.defaultWidth=0/0,t.isValidating=!1,t.selectable=!0,t}return __extends(n,i),Object.defineProperty(n.prototype,"selectable",{get:function(){return this._selectable},set:function(t){this._selectable=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayAsPassword",{get:function(){return this._displayAsPassword},set:function(t){t!=this._displayAsPassword&&(this._displayAsPassword=t,this.displayAsPasswordChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editable",{get:function(){return this._UIC_Props_._enabled?this._editable:this.pendingEditable},set:function(t){this._editable!=t&&(this._UIC_Props_._enabled?(this._editable=t,this.editableChanged=!0,this.invalidateProperties()):this.pendingEditable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._editable},set:function(t){t!=this._UIC_Props_._enabled&&(this._UIC_Props_._enabled=t,this._UIC_Props_._enabled?(this._editable!=this.pendingEditable&&(this.editableChanged=!0),this._editable=this.pendingEditable):(this.editable&&(this.editableChanged=!0),this.pendingEditable=this._editable,this._editable=!1),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxChars",{get:function(){return this._maxChars},set:function(t){void 0===t&&(t=0),t!=this._maxChars&&(this._maxChars=t,this.maxCharsChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiline",{get:function(){return this._multiline},set:function(t){t!=this.multiline&&(this._multiline=t,this.multilineChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"restrict",{get:function(){return this._restrict},set:function(t){t!=this._restrict&&(this._restrict=t,this.restrictChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),n.prototype.styleChanged=function(t){i.prototype.styleChanged.call(this,t),t&&"size"!=t||(this.heightInLinesChanged=!0,this.widthInCharsChanged=!0)},n.prototype._setLineSpacing=function(t){this._lineSpacing!=t&&(i.prototype._setLineSpacing.call(this,t),this.heightInLinesChanged=!0)},Object.defineProperty(n.prototype,"heightInLines",{get:function(){return this._heightInLines},set:function(t){this._heightInLines!=t&&(this._heightInLines=t,this.heightInLinesChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"widthInChars",{get:function(){return this._widthInChars},set:function(t){this._widthInChars!=t&&(this._widthInChars=t,this.widthInCharsChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentWidth",{get:function(){return this._contentWidth},enumerable:!0,configurable:!0}),n.prototype.setContentWidth=function(t){if(t!=this._contentWidth){var e=this._contentWidth;this._contentWidth=t,this.dispatchPropertyChangeEvent("contentWidth",e,t)}},Object.defineProperty(n.prototype,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0}),n.prototype.setContentHeight=function(t){if(t!=this._contentHeight){var e=this._contentHeight;this._contentHeight=t,this.dispatchPropertyChangeEvent("contentHeight",e,t)}},Object.defineProperty(n.prototype,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(t){this._horizontalScrollPosition!=t&&(this._horizontalScrollPosition=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalScrollPosition",{get:function(){return this._verticalScrollPosition},set:function(t){this._verticalScrollPosition!=t&&(t=Math.round(t),this._verticalScrollPosition=t)},enumerable:!0,configurable:!0}),n.prototype.getScrollVByVertitcalPos=function(t){if(0==this._textField.numLines)return 1;var e=this._textField.$getLineHeight(),i=(this.height-4)%e;return this._textField.height+i-this.height==t?this._textField.maxScrollV:parseInt((t-2)/e)+1},n.prototype.getVerticalPosByScrollV=function(t){if(void 0===t&&(t=0),1==t||0==this._textField.numLines)return 0;var e=this._textField.$getLineHeight();if(t==this._textField.maxScrollV){var i=(this.height-4)%e;return this._textField.height+i-this.height}return e*(t-1)+2},n.prototype.getHorizontalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentWidth-this._horizontalScrollPosition-this.width,r=-this._horizontalScrollPosition;switch(t){case e.NavigationUnit.LEFT:i=this._horizontalScrollPosition<=0?0:Math.max(r,-this.size);break;case e.NavigationUnit.RIGHT:i=this._horizontalScrollPosition+this.width>=this.contentWidth?0:Math.min(n,this.size);break;case e.NavigationUnit.PAGE_LEFT:i=Math.max(r,-this.width);break;case e.NavigationUnit.PAGE_RIGHT:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=r;break;case e.NavigationUnit.END:i=n}return i},n.prototype.getVerticalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentHeight-this._verticalScrollPosition-this.height,r=-this._verticalScrollPosition;switch(t){case e.NavigationUnit.UP:i=this.getVScrollDelta(-1);break;case e.NavigationUnit.DOWN:i=this.getVScrollDelta(1);break;case e.NavigationUnit.PAGE_UP:i=Math.max(r,-this.width);break;case e.NavigationUnit.PAGE_DOWN:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=r;break;case e.NavigationUnit.END:i=n}return i},n.prototype.getVScrollDelta=function(t){if(void 0===t&&(t=0),!this._textField)return 0;var e=this.getScrollVByVertitcalPos(this._verticalScrollPosition),i=e+t;i=Math.max(1,Math.min(this._textField.maxScrollV,i));var n=this.getVerticalPosByScrollV(i),r=n-this._verticalScrollPosition;return r},Object.defineProperty(n.prototype,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(t){this._clipAndEnableScrolling!=t&&(this._clipAndEnableScrolling=t)},enumerable:!0,configurable:!0}),n.prototype.commitProperties=function(){if(this._textField||(this.editableChanged=!0,this.displayAsPasswordChanged=!0,this.maxCharsChanged=!0,this.multilineChanged=!0,this.restrictChanged=!0),i.prototype.commitProperties.call(this),this.editableChanged&&(this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this.editableChanged=!1),this.displayAsPasswordChanged&&(this._textField.displayAsPassword=this._displayAsPassword,this.displayAsPasswordChanged=!1),this.maxCharsChanged&&(this._textField.maxChars=this._maxChars,this.maxCharsChanged=!1),this.multilineChanged&&(this._textField.multiline=this._multiline,this.multilineChanged=!1),this.restrictChanged&&(this.restrictChanged=!1),this.heightInLinesChanged)if(this.heightInLinesChanged=!1,isNaN(this._heightInLines))this.defaultHeight=0/0;else{var e=parseInt(this.heightInLines),n=22;this._textField.$getText().length>0?n=this._textField.$getLineHeight():(this._textField.$setText("M"),n=this._textField.$getLineHeight(),this._textField.$setText("")),this.defaultHeight=e*n+4}if(this.widthInCharsChanged)if(this.widthInCharsChanged=!1,isNaN(this._widthInChars))this.defaultWidth=0/0;else{var r=parseInt(this._widthInChars);this.defaultWidth=this.size*r+5}},n.prototype.updateDisplayList=function(t,e){this.isValidating=!0,i.prototype.updateDisplayList.call(this,t,e),this.updateContentSize(),this.isValidating=!1},n.prototype.updateContentSize=function(){if(this.clipAndEnableScrolling){this.setContentWidth(this._textField.width);var t=0,e=this._textField.numLines;if(0==e)t=4;else{var i=this._textField.$getLineHeight(),n=(this.height-4)%i;t=this._textField.height+n}this.setContentHeight(t)}},Object.defineProperty(n.prototype,"selectionBeginIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.selectionBeginIndex:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionEndIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.selectionEndIndex:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caretIndex",{get:function(){return this.validateProperties(),this._textField?this._textField.caretIndex:0},enumerable:!0,configurable:!0}),n.prototype.setSelection=function(t,e){void 0===e&&(e=0),this.validateProperties(),this._textField&&this._textField.$setSelection(t,e)},n.prototype.selectAll=function(){this.validateProperties(),this._textField&&this._textField.$setSelection(0,this._textField.text.length)},n.prototype.measure=function(){this.measuredWidth=isNaN(this.defaultWidth)?e.TextBase.DEFAULT_MEASURED_WIDTH:this.defaultWidth,0!=this._maxChars&&(this.measuredWidth=Math.min(this.measuredWidth,this._textField.width)),this._multiline?this.measuredHeight=isNaN(this.defaultHeight)?2*e.TextBase.DEFAULT_MEASURED_HEIGHT:this.defaultHeight:this.measuredHeight=this._textField.height},n.prototype._createTextField=function(){i.prototype._createTextField.call(this),this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this._textField.multiline=this._multiline,this._textField.addEventListener(t.Event.CHANGE,this.textField_changeHandler,this),this._textField.addEventListener("scroll",this.textField_scrollHandler,this),this._textField.addEventListener("input",this.textField_textInputHandler,this)},n.prototype.textField_changeHandler=function(e){this._textFieldChanged(),e.stopImmediatePropagation(),this.dispatchEvent(new t.Event(t.Event.CHANGE)),this.invalidateSize(),this.invalidateDisplayList(),this.updateContentSize()},n.prototype.textField_scrollHandler=function(t){},n.prototype.textField_textInputHandler=function(e){e.stopImmediatePropagation();var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.TextBase);e.EditableText=i,__reflect(i.prototype,"egret.gui.EditableText",["egret.gui.IEditableText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IViewport"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.iconFieldOrFunctionChanged=!1,t._iconField=null,t._iconFunction=null,t}return __extends(i,e),i.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=i.defaultTreeRendererFactory),e.prototype.createChildren.call(this)},i.prototype.updateRenderer=function(t,i,n){if("hasChildren"in t&&"hasChildren"in this.dataProvider){var r=this.dataProvider,o=t;o.hasChildren=r.hasChildren(n),o.opened=r.isItemOpen(n),o.depth=r.getDepth(n),o.iconSkinName=this.itemToIcon(n)}return e.prototype.updateRenderer.call(this,t,i,n)},i.prototype.itemToIcon=function(t){if(!t)return null;if(null!=this._iconFunction)return this._iconFunction(t);var e;if(t instanceof Object)try{t[this.iconField]&&(e=t[this.iconField])}catch(i){}return e},i.prototype.dataGroup_rendererAddHandler=function(i){e.prototype.dataGroup_rendererAddHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.addEventListener(t.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},i.prototype.onItemOpening=function(e){var i=e.itemRenderer,n=e.item,r=this._getDataProvider();if(i&&r&&"hasChildren"in r&&this.dispatchEvent(e)){var o=!i.opened;r.expandItem(n,o);var s=o?t.TreeEvent.ITEM_OPEN:t.TreeEvent.ITEM_CLOSE;t.TreeEvent.dispatchTreeEvent(this,s,i.itemIndex,n,i)}},i.prototype.dataGroup_rendererRemoveHandler=function(i){e.prototype.dataGroup_rendererRemoveHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.removeEventListener(t.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},Object.defineProperty(i.prototype,"iconField",{get:function(){return this._iconField},set:function(t){this._iconField!=t&&(this._iconField=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"iconFunction",{get:function(){return this._iconFunction
},set:function(t){this._iconFunction!=t&&(this._iconFunction=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.expandItem=function(t,e){void 0===e&&(e=!0);var i=this._getDataProvider();i&&"hasChildren"in i&&i.expandItem(t,e)},i.prototype.isItemOpen=function(t){var e=this._getDataProvider();return e&&"hasChildren"in e?e.isItemOpen(t):!1},i.prototype.dataProvider_collectionChangeHandler=function(i){if(e.prototype.dataProvider_collectionChangeHandler.call(this,i),i.kind==t.CollectionEventKind.OPEN||i.kind==t.CollectionEventKind.CLOSE){var n=this.dataGroup?this.dataGroup.getElementAt(i.location):null;n&&(this.updateRenderer(n,i.location,i.items[0]),i.kind==t.CollectionEventKind.CLOSE&&this.layout&&this.layout.useVirtualLayout&&(this.layout.clearVirtualLayoutCache(),this.invalidateSize()))}},i.prototype.commitProperties=function(){if(e.prototype.commitProperties.call(this),this.iconFieldOrFunctionChanged){if(null!=this.dataGroup){var t=void 0;if(this.layout&&this.layout.useVirtualLayout)for(var i=this.dataGroup.getElementIndicesInView(),n=i.length,r=0;n>r;r++){var o=i[r];this.updateRendererIconProperty(o)}else{var s=this.dataGroup.numElements;for(t=0;s>t;t++)this.updateRendererIconProperty(t)}}this.iconFieldOrFunctionChanged=!1}},i.prototype.updateRendererIconProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.iconSkinName=this.itemToIcon(e.data))},i}(t.List);e.defaultTreeRendererFactory=new t.ClassFactory(t.TreeItemRenderer),t.Tree=e,__reflect(e.prototype,"egret.gui.Tree")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n){void 0===n&&(n=!0);var r=i.call(this)||this;return r.scale9Grid=null,r.fillMode="scale",r.sourceChanged=!1,r._source=null,r._content=null,r._contentIsTexture=!1,r.createChildrenCalled=!1,r.contentReused=!1,r.autoScale=!0,r.$smoothing=t.Bitmap.defaultSmoothing,r.touchChildren=!1,e&&(r.source=e),r.$renderNode=new t.sys.BitmapNode,r.autoScale=n,r}return __extends(n,i),Object.defineProperty(n.prototype,"source",{get:function(){return this._source},set:function(t){this._source!=t&&(this._source=t,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0,this.$invalidateContentBounds())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this.sourceChanged&&this.parseSource(),this.createChildrenCalled=!0},n.prototype.parseSource=function(){this.sourceChanged=!1;var t=n.assetAdapter;if(t||(t=this.getAdapter()),this._source){var e=this.contentReused?null:this._content;this.contentReused=!0,t.getAsset(this._source,this.contentChanged,this,e)}else this.contentChanged(null,null)},n.prototype.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},n.prototype.contentChanged=function(i,n){if(n===this._source){var r=this._content;this._content=i,this._content instanceof t.Texture?this._contentIsTexture=!0:this._contentIsTexture=!1,r!==i&&(r instanceof t.DisplayObject&&r.parent==this&&this._removeFromDisplayList(r),i instanceof t.DisplayObject&&this._addToDisplayListAt(i,0)),this.invalidateSize(),this.invalidateDisplayList(),this.contentReused=!1,this.hasEventListener(e.UIEvent.CONTENT_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.CONTENT_CHANGED)}},n.prototype.measure=function(){i.prototype.measure.call(this);var e=this._content;if(e instanceof t.DisplayObject)if("preferredWidth"in e)this.measuredWidth=e.preferredWidth,this.measuredHeight=e.preferredHeight;else{var n=e.explicitWidth,r=e.explicitHeight;e.width=0/0,e.height=0/0,this.measuredWidth=e.measuredWidth*e.scaleX,this.measuredHeight=e.measuredHeight*e.scaleY,e.width=n,e.height=r}else this._contentIsTexture&&(this.measuredWidth=e.$getTextureWidth(),this.measuredHeight=e.$getTextureHeight())},n.prototype.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var r=this._content;this.autoScale&&r instanceof t.DisplayObject&&("setLayoutBoundsSize"in r?r.setLayoutBoundsSize(e,n):(r.width=e/r.scaleX,r.height=n/r.scaleY)),this.$invalidateContentBounds()},Object.defineProperty(n.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){t=!!t,t!=this.$smoothing&&(this.$smoothing=t,this.$invalidate())},enumerable:!0,configurable:!0}),n.prototype.$render=function(){if(this._contentIsTexture){var e=this._content,n=void 0,r=void 0;this.autoScale?(n=this._UIC_Props_._uiWidth,r=this._UIC_Props_._uiHeight):(n=e.$getTextureWidth(),r=e.$getTextureHeight()),t.sys.BitmapNode.$updateTextureData(this.$renderNode,e._bitmapData,e._bitmapX,e._bitmapY,e._bitmapWidth,e._bitmapHeight,e._offsetX,e._offsetY,e.$getTextureWidth(),e.$getTextureHeight(),n,r,e._sourceWidth,e._sourceHeight,this.scale9Grid||e.scale9Grid,this.fillMode,this.$smoothing)}i.prototype.$render.call(this)},n.prototype.$measureContentBounds=function(t){if(this._contentIsTexture){var e=this._content,n=0/0,r=0/0;this.autoScale&&(n=1e4==this._UIC_Props_._uiWidth?this.$getExplicitWidth():this._UIC_Props_._uiWidth,r=1e4==this._UIC_Props_._uiHeight?this.$getExplicitHeight():this._UIC_Props_._uiHeight),isNaN(n)&&(n=e.$getTextureWidth()),isNaN(r)&&(r=e.$getTextureHeight()),t.setTo(0,0,n,r)}else i.prototype.$measureContentBounds.call(this,t)},n.prototype.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},n.prototype.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},n.prototype.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},n.prototype.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},n.prototype.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},n.prototype.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},n.prototype.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n}(e.UIComponent);i.assetAdapter=null,e.UIAsset=i,__reflect(i.prototype,"egret.gui.UIAsset")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t._thumbLengthRatio=1,t}return __extends(i,e),i.prototype._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._thumbLengthRatio=t>=e?1:t/e,this._setMaximun(i),this._setMinimun(0)},Object.defineProperty(i.prototype,"trackAlpha",{get:function(){return 1},set:function(e){t.$warn(1016,"VScrollBar.trackAlpha")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"thumbAlpha",{get:function(){return 1},set:function(e){t.$warn(1016,"VScrollBar.thumbAlpha")},enumerable:!0,configurable:!0}),i.prototype.setPosition=function(t){this._setValue(t)},i.prototype.getPosition=function(){return this._getValue()},i.prototype._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},i.prototype.setValue=function(t){e.prototype.setValue.call(this,t)},i.prototype._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},i.prototype.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?e/n*i:0)},i.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsHeight*this._thumbLengthRatio,i=this.thumb.layoutBoundsHeight,n=this.track.layoutBoundsHeight-e,r=this.maximum-this.minimum,o=r>0?(this.pendingValue-this.minimum)/r*n:0,s=this.track.localToGlobal(0,o),a=s.x,h=s.y,l=this.thumb.parent.globalToLocal(a,h,t.$TempPoint).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(l)),e!=i&&this.thumb.setLayoutBoundsSize(this.thumb.layoutBoundsWidth,e)}},i}(e.VSlider);e.VScrollBar=i,__reflect(i.prototype,"egret.gui.VScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e,i){void 0===e&&(e="children"),void 0===i&&(i="parent");var n=t.call(this)||this;return n.childrenKey="children",n.parentKey="parent",n._source=null,n.nodeList=[],n._openNodes=[],n._showRoot=!1,n.childrenKey=e,n.parentKey=i,n}return __extends(i,t),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,this._openNodes=[],this.nodeList=[],this._source&&(this._showRoot?this.nodeList.push(this._source):(this._openNodes=[this._source],this.addChildren(this._source,this.nodeList))),this.dispatchCoEvent(e.CollectionEventKind.RESET)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openNodes",{get:function(){return this._openNodes.concat()},set:function(t){this._openNodes=t?t.concat():[],this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this.nodeList.length},enumerable:!0,configurable:!0}),i.prototype.getItemAt=function(t){return this.nodeList[t]},i.prototype.getItemIndex=function(t){for(var e=this.nodeList.length,i=0;e>i;i++)if(this.nodeList[i]===t)return i;return-1},i.prototype.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},i.prototype.removeItem=function(t){if(this.isItemOpen(t)&&this.closeNode(t),t){var i=t[this.parentKey];if(i){var n=i[this.childrenKey];if(n){var r=n.indexOf(t);-1!=r&&n.splice(r,1),t[this.parentKey]=null,r=this.nodeList.indexOf(t),-1!=r&&(this.nodeList.splice(r,1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,r,-1,[t]))}}}},Object.defineProperty(i.prototype,"showRoot",{get:function(){return this._showRoot},set:function(t){this._showRoot!=t&&(this._showRoot=t,this._source&&(this._showRoot?this.nodeList.splice(0,0,this._source):(this.nodeList.shift(),-1==this.openNodes.indexOf(this._source)&&this.openNodes.push(this._source)),this.refresh()))},enumerable:!0,configurable:!0}),i.prototype.addChildren=function(t,e){if(t.hasOwnProperty(this.childrenKey)&&-1!=this._openNodes.indexOf(t))for(var i=t[this.childrenKey],n=i.length,r=0;n>r;r++){var o=i[r];e.push(o),this.addChildren(o,e)}},i.prototype.hasChildren=function(t){return t.hasOwnProperty(this.childrenKey)?t[this.childrenKey].length>0:!1},i.prototype.isItemOpen=function(t){return-1!=this._openNodes.indexOf(t)},i.prototype.expandItem=function(t,e){void 0===e&&(e=!0),e?this.openNode(t):this.closeNode(t)},i.prototype.openNode=function(t){if(-1==this._openNodes.indexOf(t)){this._openNodes.push(t);var i=this.nodeList.indexOf(t);if(-1!=i){var n=[];this.addChildren(t,n);for(var r=i;n.length;){r++;var o=n.shift();this.nodeList.splice(r,0,o),this.dispatchCoEvent(e.CollectionEventKind.ADD,r,-1,[o])}this.dispatchCoEvent("open",i,i,[t])}}},i.prototype.closeNode=function(t){var i=this._openNodes.indexOf(t);if(-1!=i){var n=[];if(this.addChildren(t,n),this._openNodes.splice(i,1),i=this.nodeList.indexOf(t),-1!=i){for(i++;n.length;){var r=this.nodeList.splice(i,1)[0];this.dispatchCoEvent(e.CollectionEventKind.REMOVE,i,-1,[r]),n.shift()}i--,this.dispatchCoEvent(e.CollectionEventKind.CLOSE,i,i,[t])}}},i.prototype.getDepth=function(t){for(var e=0,i=t[this.parentKey];i;)e++,i=i[this.parentKey];return e>0&&!this._showRoot&&e--,e},i.prototype.refresh=function(){this.nodeList=[],this._source&&(this._showRoot&&this.nodeList.push(this._source),this.addChildren(this._source,this.nodeList)),this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},i.prototype.dispatchCoEvent=function(t,i,n,r,o){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===r&&(r=null),void 0===o&&(o=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,r,o)},i.assignParent=function(t,e,n){if(void 0===e&&(e="children"),void 0===n&&(n="parent"),t.hasOwnProperty(e))for(var r=t[e],o=r.length,s=0;o>s;s++){var a=r[s];try{a[n]=t}catch(h){}i.assignParent(a,e,n)}},i}(t.EventDispatcher);e.ObjectCollection=i,__reflect(i.prototype,"egret.gui.ObjectCollection",["egret.gui.ICollection","egret.IEventDispatcher","egret.gui.ITreeCollection"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._createAllChildren=!1,t._selectedChild=null,t.proposedSelectedIndex=n.NO_PROPOSED_SELECTION,t._selectedIndex=-1,t.notifyTabBar=!1,t.childOrderingChanged=!1,t._setLayout(new e.BasicLayout),t}return __extends(n,i),Object.defineProperty(n.prototype,"layout",{get:function(){return this._layout},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createAllChildren",{get:function(){return this._createAllChildren},set:function(e){if(this._createAllChildren!=e&&(this._createAllChildren=e,this._createAllChildren)){for(var i=this._getElementsContent(),n=i.length,r=0;n>r;r++){var o=i[r];o instanceof t.DisplayObject&&o.parent!=this&&(this.childOrderingChanged=!0,this._addToDisplayList(o))}this.childOrderingChanged&&this.invalidateProperties()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedChild",{get:function(){var t=this.selectedIndex;return t>=0&&t<this.numElements?this.getElementAt(t):null},set:function(t){var e=this.getElementIndex(t);e>=0&&e<this.numElements&&this._setSelectedIndex(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},set:function(t){this._setSelectedIndex(t)},enumerable:!0,configurable:!0}),n.prototype._setSelectedIndex=function(t,i){void 0===i&&(i=!0),t!=this.selectedIndex&&(this.proposedSelectedIndex=t,this.invalidateProperties(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.notifyTabBar=this.notifyTabBar||i)},n.prototype._elementAdded=function(i,n,r){if(void 0===r&&(r=!0),this._createAllChildren&&i instanceof t.DisplayObject){var o=i;this._addToDisplayListAt(o,n,r)}r&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),i.visible=!1,i.includeInLayout=!1,-1==this.selectedIndex?this._setSelectedIndex(n,!1):n<=this.selectedIndex&&this.initialized&&this._setSelectedIndex(this.selectedIndex+1),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i.name])},n.prototype._elementRemoved=function(t,n,r){void 0===r&&(r=!0),i.prototype._elementRemoved.call(this,t,n,r),t.visible=!0,t.includeInLayout=!0,n==this.selectedIndex?this.numElements>0?0==n?(this.proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this._setSelectedIndex(-1):n<this.selectedIndex&&this._setSelectedIndex(this.selectedIndex-1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,n,-1,[t.name])},n.prototype.commitProperties=function(){if(i.prototype.commitProperties.call(this),this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=n.NO_PROPOSED_SELECTION),this.childOrderingChanged){this.childOrderingChanged=!1;for(var e=this._getElementsContent(),r=e.length,o=0;r>o;o++){var s=e[o];s instanceof t.DisplayObject&&s.parent==this&&this._addToDisplayList(s)}}this.notifyTabBar&&(this.notifyTabBar=!0,this.dispatchEventWith("IndexChanged"))},n.prototype.commitSelection=function(e){this._selectedIndex;e>=0&&e<this.numElements?(this._selectedIndex=e,this._selectedChild&&this._selectedChild.parent==this&&(this._selectedChild.visible=!1,this._selectedChild.includeInLayout=!1),this._selectedChild=this.getElementAt(this._selectedIndex),this._selectedChild.visible=!0,this._selectedChild.includeInLayout=!0,this._selectedChild.parent!=this&&this._selectedChild instanceof t.DisplayObject&&(this._addToDisplayList(this._selectedChild),this.childOrderingChanged||(this.childOrderingChanged=!0))):(this._selectedChild=null,this._selectedIndex=-1),this.invalidateSize(),this.invalidateDisplayList()},Object.defineProperty(n.prototype,"length",{get:function(){return this.numElements},enumerable:!0,configurable:!0}),n.prototype.getItemAt=function(t){var e=this.getElementAt(t);return e?e.name:""},n.prototype.getItemIndex=function(t){for(var e=this._getElementsContent(),i=e.length,n=0;i>n;n++)if(e[n].name===t)return n;return-1},n.prototype.dispatchCoEvent=function(t,i,n,r,o){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===r&&(r=null),void 0===o&&(o=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,r,o)},n}(e.Group);i.NO_PROPOSED_SELECTION=-2,e.ViewStack=i,__reflect(i.prototype,"egret.gui.ViewStack",["egret.gui.IViewStack","egret.gui.ICollection"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e,i,n){for(var l=[],p=3;p<arguments.length;p++)l[p-3]=arguments[p];var u={listener:e,thisObject:i,delay:n,params:l};return a++,1==a&&t.sys.$ticker&&(h=t.getTimer(),t.sys.$ticker.$startTick(r,null)),s++,o[s]=u,s}function n(e){o[e]&&(a--,delete o[e],0==a&&t.sys.$ticker&&t.sys.$ticker.$stopTick(r,null))}function r(t){var e=t-h;h=t;for(var i in o){var r=i,s=o[r];s.delay-=e,s.delay<=0&&(s.listener.apply(s.thisObject,s.params),n(r))}return!1}var o={},s=0,a=0,h=0;e.$addTimer=i,e.$clearTimer=n}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e}();i.quintOut=i.getPowOut(5),i.quartOut=i.getPowOut(4),e.ScrollerEase=i,__reflect(i.prototype,"egret.gui.ScrollerEase");var n=function(e){function i(t,i,n){var r=e.call(this)||this;return r._target=null,r._useTicks=!1,r.ignoreGlobalPause=!1,r.loop=!1,r.pluginData=null,r._steps=null,r._actions=null,r.paused=!1,r.duration=0,r._prevPos=-1,r.position=null,r._prevPosition=0,r._stepPosition=0,r.passive=!1,r.initialize(t,i,n),r}return __extends(i,e),i.get=function(t,e,n,r){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=!1),r&&i.removeTweens(t),new i(t,e,n)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,n=e.length-1;n>=0;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},i.tick=function(t,e){void 0===e&&(e=!1);var n=t-i._lastTime;i._lastTime=t;for(var r=i._tweens.concat(),o=r.length-1;o>=0;o--){var s=r[o];e&&!s.ignoreGlobalPause||s.paused||s.tick(s._useTicks?1:n)}return!1},i._register=function(e,n){var r=e._target,o=i._tweens;if(n)r&&(r.tween_count=r.tween_count>0?r.tween_count+1:1),o.push(e),i._inited||(i._lastTime=t.getTimer(),t.sys.$ticker.$startTick(i.tick,null),i._inited=!0);else{r&&r.tween_count--;for(var s=o.length;s--;)if(o[s]==e)return void o.splice(s,1)}},i.prototype.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position)},i.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var r=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){var o=void 0,s=this._steps.length;for(o=0;s>o&&!(this._steps[o].t>i);o++);var a=this._steps[o-1];this._updateTargetProps(a,(this._stepPosition=i-a.t)/a.d)}return n&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&r>i?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,i,!0)):this._runActions(r,i)),this.dispatchEventWith("change"),n},i.prototype._runActions=function(t,e,i){void 0===i&&(i=!1);var n=t,r=e,o=-1,s=this._actions.length,a=1;for(t>e&&(n=e,r=t,o=s,s=a=-1);(o+=a)!=s;){var h=this._actions[o],l=h.t;(l==r||l>n&&r>l||i&&l==t)&&h.f.apply(h.o,h.p)}},i.prototype._updateTargetProps=function(t,e){var n,r,o,s,a,h;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,r=t.p1}else this.passive=!1,n=r=this._curQueueProps;for(var l in this._initQueueProps){null==(s=n[l])&&(n[l]=s=this._initQueueProps[l]),null==(a=r[l])&&(r[l]=a=s),o=s==a||0==e||1==e||"number"!=typeof s?1==e?a:s:s+(a-s)*e;var p=!1;if(h=i._plugins[l])for(var u=0,d=h.length;d>u;u++){var c=h[u].tween(this,l,o,n,r,e,!!t&&n==r,!t);c==i.IGNORE?p=!0:o=c}p||(this._target[l]=o)}},i.prototype.setPaused=function(t){return this.paused=t,i._register(this,!t),this},i.prototype._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},i.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},i.prototype._appendQueueProps=function(t){var e,n,r,o,s;for(var a in t)if(void 0===this._initQueueProps[a]){if(n=this._target[a],e=i._plugins[a])for(r=0,o=e.length;o>r;r++)n=e[r].init(this,a,n);this._initQueueProps[a]=this._curQueueProps[a]=void 0===n?null:n}else n=this._curQueueProps[a];for(var a in t){if(n=this._curQueueProps[a],e=i._plugins[a])for(s=s||{},r=0,o=e.length;o>r;r++)e[r].step&&e[r].step(this,a,n,t[a],s);this._curQueueProps[a]=t[a]}return s&&this._appendQueueProps(s),this._curQueueProps},i.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},i.prototype.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},i.prototype.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},i.prototype.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i}(t.EventDispatcher);n._tweens=[],n.IGNORE={},n._plugins={},n._inited=!1,n._lastTime=0,e.ScrollerTween=n,__reflect(n.prototype,"egret.gui.ScrollerTween")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}return e}();e.ScrollerViewProperties=i,__reflect(i.prototype,"egret.gui.ScrollerViewProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._thumbLengthRatio=1,t}return __extends(i,e),i.prototype._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._setMaximun(i),this._setMinimun(0),this._thumbLengthRatio=e>t?t/e:1},Object.defineProperty(i.prototype,"trackAlpha",{get:function(){return 1},set:function(e){t.$warn(1016,"HScrollBar.trackAlpha")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"thumbAlpha",{get:function(){return 1},set:function(e){t.$warn(1016,"HScrollBar.thumbAlpha")},enumerable:!0,configurable:!0}),i.prototype.setPosition=function(t){this._setValue(t)},i.prototype.getPosition=function(){return this._getValue()},i.prototype._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},i.prototype.setValue=function(t){e.prototype.setValue.call(this,t)},i.prototype._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},i.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth*this._thumbLengthRatio,i=this.thumb.layoutBoundsWidth,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,r=this.maximum-this.minimum,o=r>0?(this.pendingValue-this.minimum)/r*n:0,s=this.track.localToGlobal(o,0),a=s.x,h=s.y,l=this.thumb.parent.globalToLocal(a,h,t.$TempPoint).x;this.thumb.setLayoutBoundsPosition(Math.round(l),this.thumb.layoutBoundsY),e!=i&&this.thumb.setLayoutBoundsSize(e,this.thumb.layoutBoundsHeight)}},i}(e.HSlider);e.HScrollBar=i,__reflect(i.prototype,"egret.gui.HScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}return e.prototype.getAsset=function(e,i,n,r){var o=e;if(e.prototype&&(o=new e),o instanceof t.DisplayObject||o instanceof t.Texture)i.call(n,o,e);else if("string"==typeof e){var s=e,a=new t.ImageLoader;a.addEventListener(t.Event.COMPLETE,function(r){o=new t.Texture,o._setBitmapData(a.data),i.call(n,o,e)},this),a.load(s)}else i.call(n,o,e)},e.prototype.getTheme=function(e,i,n,r){function o(t){var e=t.target;i.call(r,e.response)}var s=new t.HttpRequest;s.addEventListener(t.Event.COMPLETE,o,r),s.addEventListener(t.IOErrorEvent.IO_ERROR,n,r),s.responseType=t.HttpResponseType.TEXT,s.open(e),s.send()},e}();e.DefaultAssetAdapter=i,__reflect(i.prototype,"egret.gui.DefaultAssetAdapter",["egret.gui.IAssetAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}return e.prototype.getSkin=function(e,i){if(!e)return null;if(e.prototype)return new e;if("string"==typeof e){var n=t.getDefinitionByName(e);return n?new n:null}return e},e}();e.DefaultSkinAdapter=i,__reflect(i.prototype,"egret.gui.DefaultSkinAdapter",["egret.gui.ISkinAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}return e.prototype.getTheme=function(e,i,n,r){function o(t){var e=t.target;i.call(r,e.response)}var s=new t.HttpRequest;s.addEventListener(t.Event.COMPLETE,o,r),s.addEventListener(t.IOErrorEvent.IO_ERROR,n,r),s.responseType=t.HttpResponseType.TEXT,s.open(e),s.send()},e}();e.DefaultThemeAdapter=i,__reflect(i.prototype,"egret.gui.DefaultThemeAdapter",["egret.gui.IThemeAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.mouseIsDown=!1,t._openButton=null,t._dropDown=null,t._isOpen=!1,t._closeOnResize=!0,t._rollOverOpenDelay=0/0,t.rollOverOpenDelayTimer=null,t}return __extends(n,i),Object.defineProperty(n.prototype,"openButton",{get:function(){return this._openButton},set:function(t){this._openButton!==t&&(this.removeOpenTriggers(),this._openButton=t,this.addOpenTriggers())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dropDown",{get:function(){return this._dropDown},set:function(t){this._dropDown!==t&&(this._dropDown=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"closeOnResize",{get:function(){return this._closeOnResize},set:function(t){this._closeOnResize!=t&&(this.isOpen&&this.removeCloseOnResizeTrigger(),this._closeOnResize=t,this.addCloseOnResizeTrigger())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rollOverOpenDelay",{get:function(){return this._rollOverOpenDelay},set:function(t){this._rollOverOpenDelay!=t&&(this.removeOpenTriggers(),this._rollOverOpenDelay=t,this.addOpenTriggers())},enumerable:!0,configurable:!0}),n.prototype.addOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.addEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},n.prototype.removeOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.removeEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},n.prototype.addCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),this.addCloseOnResizeTrigger())},n.prototype.removeCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)),this.removeCloseOnResizeTrigger())},n.prototype.addCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.addEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},n.prototype.removeCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.removeEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},n.prototype.isTargetOverDropDownOrOpenButton=function(e){if(e){if(this.openButton&&this.openButton.contains(e))return!0;if(null!=this.hitAreaAdditions)for(var i=0;i<this.hitAreaAdditions.length;i++)if(this.hitAreaAdditions[i]==e||this.hitAreaAdditions[i]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[i].contains(e))return!0;if(this.dropDown instanceof t.DisplayObjectContainer){if(this.dropDown.contains(e))return!0}else if(e==this.dropDown)return!0}return!1},n.prototype.openDropDown=function(){this.openDropDownHelper()},n.prototype.openDropDownHelper=function(){this.isOpen||(this.addCloseTriggers(),this._isOpen=!0,this.openButton&&this.openButton._setKeepDown(!0),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN))},n.prototype.closeDropDown=function(t){if(this.isOpen){this._isOpen=!1,this.openButton&&this.openButton._setKeepDown(!1);var i=new e.UIEvent(e.UIEvent.CLOSE,!1,!0);t||i.preventDefault(),this.dispatchEvent(i),this.removeCloseTriggers()}},n.prototype._openButton_buttonDownHandler=function(t){this.isOpen?this.closeDropDown(!0):(this.mouseIsDown=!0,this.openDropDownHelper())},n.prototype._openButton_rollOverHandler=function(e){0==this.rollOverOpenDelay?this.openDropDownHelper():(this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=new t.Timer(this.rollOverOpenDelay,1),this.rollOverOpenDelayTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this.rollOverDelay_timerCompleteHandler,this),this.rollOverOpenDelayTimer.start())},n.prototype.openButton_rollOutHandler=function(e){this.rollOverOpenDelayTimer&&this.rollOverOpenDelayTimer.running&&(this.rollOverOpenDelayTimer.stop(),this.rollOverOpenDelayTimer=null),this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this)},n.prototype.rollOverDelay_timerCompleteHandler=function(e){this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=null,this.openDropDownHelper()},n.prototype.stage_mouseDownHandler=function(e){if(this.mouseIsDown)return void(this.mouseIsDown=!1);if(!this.dropDown||this.dropDown&&(e.target==this.dropDown||this.dropDown instanceof t.DisplayObjectContainer&&!this.dropDown.contains(e.target))){var i=e.target;if(this.openButton&&i&&this.openButton.contains(i))return;if(null!=this.hitAreaAdditions)for(var n=0;n<this.hitAreaAdditions.length;n++)if(this.hitAreaAdditions[n]==e.target||this.hitAreaAdditions[n]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[n].contains(e.target))return;
this.closeDropDown(!0)}},n.prototype.stage_mouseMoveHandler=function(i){var n=i.target,r=this.isTargetOverDropDownOrOpenButton(n);return r?void 0:i instanceof t.TouchEvent&&i.touchDown?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},n.prototype.stage_mouseUpHandler_noRollOverOpenDelay=function(t){return this.mouseIsDown?void(this.mouseIsDown=!1):void 0},n.prototype.stage_mouseUpHandler=function(i){var n=i.target,r=this.isTargetOverDropDownOrOpenButton(n);return r?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},n.prototype.stage_resizeHandler=function(t){this.closeDropDown(!0)},n.prototype.stage_mouseWheelHandler=function(t){!this.dropDown||this.dropDown.contains(t.target)&&t.isDefaultPrevented()||this.closeDropDown(!1)},n}(t.EventDispatcher);e.DropDownController=i,__reflect(i.prototype,"egret.gui.DropDownController")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._firstButtonLabel="",t._secondButtonLabel="",t._contentText="",t.closeHandler=null,t.contentDisplay=null,t.firstButton=null,t.secondButton=null,t}return __extends(n,i),n.show=function(t,i,r,o,s,a,h,l){void 0===t&&(t=""),void 0===i&&(i=""),void 0===r&&(r=null),void 0===o&&(o="OK"),void 0===s&&(s=""),void 0===a&&(a=!0),void 0===h&&(h=!0);var p=new n;return p.contentText=t,p.title=i,p._firstButtonLabel=o,p._secondButtonLabel=s,p.closeHandler=r,p.thisObject=l,e.PopUpManager.addPopUp(p,a,h),p},Object.defineProperty(n.prototype,"firstButtonLabel",{get:function(){return this._firstButtonLabel},set:function(t){this._firstButtonLabel!=t&&(this._firstButtonLabel=t,this.firstButton&&(this.firstButton.label=t))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"secondButtonLabel",{get:function(){return this._secondButtonLabel},set:function(t){this._secondButtonLabel!=t&&(this._secondButtonLabel=t,this.secondButton&&(null==t||""==t)&&(this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"contentText",{get:function(){return this._contentText},set:function(t){this._contentText!=t&&(this._contentText=t,this.contentDisplay&&(this.contentDisplay.text=t))},enumerable:!0,configurable:!0}),n.prototype.onClose=function(t){if(e.PopUpManager.removePopUp(this),null!=this.closeHandler){var i=new e.CloseEvent(e.CloseEvent.CLOSE);switch(t.currentTarget){case this.firstButton:i.detail=n.FIRST_BUTTON;break;case this.secondButton:i.detail=n.SECOND_BUTTON}this.callCloseHandler(i)}},n.prototype.closeButton_clickHandler=function(t){i.prototype.closeButton_clickHandler.call(this,t),e.PopUpManager.removePopUp(this);var r=new e.CloseEvent(e.CloseEvent.CLOSE,!1,!1,n.CLOSE_BUTTON);this.callCloseHandler(r)},n.prototype.callCloseHandler=function(t){if(null!=this.closeHandler){var e=this.thisObject||this;this.closeHandler.call(e,t)}},n.prototype.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.contentDisplay?this.contentDisplay.text=this._contentText:n==this.firstButton?(this.firstButton.label=this._firstButtonLabel,this.firstButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)):n==this.secondButton&&(this.secondButton.label=this._secondButtonLabel,this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel,this.secondButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this))},n.prototype.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.firstButton?this.firstButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this):n==this.secondButton&&this.secondButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)},n}(e.TitleWindow);i.FIRST_BUTTON="firstButton",i.SECOND_BUTTON="secondButton",i.CLOSE_BUTTON="closeButton",e.Alert=i,__reflect(i.prototype,"egret.gui.Alert")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){var e=t.call(this)||this;return e._target=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),e.prototype.measure=function(){if(null!=this.target){for(var t=0,e=0,i=this._target,n=i.numElements,r=0;n>r;r++){var o=i.getElementAt(r);if(o&&o.includeInLayout){var s=o.horizontalCenter,a=o.verticalCenter,h=o.left,l=o.right,p=o.top,u=o.bottom,d=void 0,c=void 0;isNaN(h)||isNaN(l)?isNaN(s)?isNaN(h)&&isNaN(l)?d=o.preferredX:(d=isNaN(h)?0:h,d+=isNaN(l)?0:l):d=2*Math.abs(s):d=h+l,isNaN(p)||isNaN(u)?isNaN(a)?isNaN(p)&&isNaN(u)?c=o.preferredY:(c=isNaN(p)?0:p,c+=isNaN(u)?0:u):c=2*Math.abs(a):c=p+u;var _=o.preferredWidth,g=o.preferredHeight;t=Math.ceil(Math.max(t,d+_)),e=Math.ceil(Math.max(e,c+g))}}this.target.measuredWidth=t,this.target.measuredHeight=e}},e.prototype.updateDisplayList=function(t,e){if(null!=this.target)for(var i=this.target.numElements,n=0;i>n;n++){var r=this.target.getElementAt(n);if(null!=r&&r.includeInLayout){var o=r.horizontalCenter,s=r.verticalCenter,a=r.left,h=r.right,l=r.top,p=r.bottom,u=r.percentWidth,d=r.percentHeight,c=0/0,_=0/0;isNaN(a)||isNaN(h)?isNaN(u)||(c=Math.round(t*Math.min(.01*u,1))):c=t-h-a,isNaN(l)||isNaN(p)?isNaN(d)||(_=Math.round(e*Math.min(.01*d,1))):_=e-p-l,r.setLayoutBoundsSize(c,_);var g=r.layoutBoundsWidth,f=r.layoutBoundsHeight,v=0/0,y=0/0;v=isNaN(o)?isNaN(a)?isNaN(h)?r.layoutBoundsX:t-g-h:a:Math.round((t-g)/2+o),y=isNaN(s)?isNaN(l)?isNaN(p)?r.layoutBoundsY:e-f-p:l:Math.round((e-f)/2+s),r.setLayoutBoundsPosition(v,y)}}},e}(t.HashObject);e.SkinBasicLayout=i,__reflect(i.prototype,"egret.gui.SkinBasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._maxDisplayedLines=0,i.lastUnscaledWidth=0/0,i.strokeColorChanged=!1,i._strokeColor=0,i._stroke=0,i.strokeChanged=!1,i._padding=0,i._paddingLeft=0/0,i._paddingRight=0/0,i._paddingTop=0/0,i._paddingBottom=0/0,i.addEventListener(t.UIEvent.UPDATE_COMPLETE,i.updateCompleteHandler,i),i}return __extends(i,e),i.prototype.updateCompleteHandler=function(t){this.lastUnscaledWidth=0/0},Object.defineProperty(i.prototype,"maxDisplayedLines",{get:function(){return this._maxDisplayedLines},set:function(t){this._maxDisplayedLines!=t&&(this._maxDisplayedLines=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._setStrokeColor(t)},enumerable:!0,configurable:!0}),i.prototype._setStrokeColor=function(t){this._strokeColor!=t&&(this._strokeColor=t,this.strokeColorChanged=!0,this.invalidateProperties())},Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke!=t&&(this._stroke=t,this.strokeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){e.prototype.commitProperties.call(this),this.strokeColorChanged&&(this._textField.strokeColor=this._strokeColor,this.strokeColorChanged=!1),this.strokeChanged&&(this._textField.stroke=this._stroke,this.strokeChanged=!1)},i.prototype.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},i.prototype.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitHeight())&&isNaN(this.percentHeight)},i.prototype.measureUsingWidth=function(t){this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,r=isNaN(this._paddingTop)?e:this._paddingTop,o=isNaN(this._paddingBottom)?e:this._paddingBottom;if(this._textField.width=0/0,this._textField.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)):(this._textField.width=t-i-n,this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)),this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var s=this._textField.size,a=this._textField.lineSpacing;this.measuredHeight=(s+a)*this._maxDisplayedLines-a}this.measuredWidth+=i+n,this.measuredHeight+=r+o},i.prototype.updateDisplayList=function(t,e){this.$updateDisplayList(t,e);var i=isNaN(this._padding)?0:this._padding,n=isNaN(this._paddingLeft)?i:this._paddingLeft,r=isNaN(this._paddingRight)?i:this._paddingRight,o=isNaN(this._paddingTop)?i:this._paddingTop,s=isNaN(this._paddingBottom)?i:this._paddingBottom;if(this._textField.x=n,this._textField.y=o,this.isSpecialCase()){var a=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,a)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._textField.visible||(this._textField.visible=!0),this._textField.width=t-n-r;var h=e-o-s;if(this._textField.height=h,this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var l=this._textField.size,p=this._textField.lineSpacing,u=(l+p)*this._maxDisplayedLines-p;this._textField.height=Math.min(h,u)}},i}(t.TextBase);t.Label=e,__reflect(e.prototype,"egret.gui.Label")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var n=i.call(this)||this;return n._bitmapText=null,n._textChanged=!1,n._text="",n.fontChanged=!1,n._isLetterSpacingChanged=!1,n._letterSpacing=0,n._isSmoothingChanged=!1,n._isLineSpacingChanged=!1,n._lineSpacing=0,n.createChildrenCalled=!1,n.lastUnscaledWidth=0/0,n._padding=0,n._paddingLeft=0/0,n._paddingRight=0/0,n._paddingTop=0/0,n._paddingBottom=0/0,n._smoothing=t.Bitmap.defaultSmoothing,n.addEventListener(e.UIEvent.UPDATE_COMPLETE,n.updateCompleteHandler,n),n}return __extends(n,i),n.prototype.updateCompleteHandler=function(t){this.lastUnscaledWidth=0/0},Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this._textChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.createChildrenCalled?this.parseFont():this.fontChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._setLetterSpacing(t)},enumerable:!0,configurable:!0}),n.prototype._setLetterSpacing=function(t){this._letterSpacing=t,this._isLetterSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},Object.defineProperty(n.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._setSmoothing(t)},enumerable:!0,configurable:!0}),n.prototype._setSmoothing=function(t){this._smoothing=t,this._isSmoothingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){this._setLineSpacing(t)},enumerable:!0,configurable:!0}),n.prototype._setLineSpacing=function(t){this._lineSpacing=t,this._isLineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this._bitmapText||this.checkBitmapText(),this.fontChanged&&this.parseFont(),this.createChildrenCalled=!0},n.prototype.parseFont=function(){this.fontChanged=!1;var t=n.assetAdapter;t||(t=this.getAdapter()),this._font?t.getAsset(this._font,this.onFontChanged,this,null):this.onFontChanged(null,null)},n.prototype.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},n.prototype.onFontChanged=function(t,e){e===this._font&&(this._bitmapText.font=t,this.invalidateSize(),this.invalidateDisplayList())},Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},n.prototype.isSpecialCase=function(){return(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitWidth())&&isNaN(this.percentHeight)},n.prototype.measureUsingWidth=function(t){this._textChanged&&(this._bitmapText.text=this._text),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,r=isNaN(this._paddingTop)?e:this._paddingTop,o=isNaN(this._paddingBottom)?e:this._paddingBottom;this._bitmapText.width=0/0,this._bitmapText.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)):(this._bitmapText.width=t-i-n,this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)),this.measuredWidth+=i+n,this.measuredHeight+=r+o},n.prototype.updateDisplayList=function(t,e){if(i.prototype.updateDisplayList.call(this,t,e),this._bitmapText){var n=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?n:this._paddingLeft,o=isNaN(this._paddingRight)?n:this._paddingRight,s=isNaN(this._paddingTop)?n:this._paddingTop,a=isNaN(this._paddingBottom)?n:this._paddingBottom;if(this._bitmapText.x=r,this._bitmapText.y=s,this.isSpecialCase()){var h=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,h)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._bitmapText.visible||(this._bitmapText.visible=!0),this._bitmapText.width=t-r-o;var l=e-s-a;this._bitmapText.height=l}},n.prototype.checkBitmapText=function(){this._bitmapText||(this._bitmapText=new t.BitmapText,this._bitmapText.text=this._text,this._bitmapText.letterSpacing=this._letterSpacing,this._bitmapText.lineSpacing=this._lineSpacing,this._bitmapText.smoothing=this._smoothing,this._textChanged=!1,this._isLetterSpacingChanged=!1,this._isLineSpacingChanged=!1,this._isSmoothingChanged=!1,this._addToDisplayList(this._bitmapText))},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this._bitmapText||this.checkBitmapText(),this._textChanged&&(this._bitmapText.text=this._text,this._textChanged=!1),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing,this._isLetterSpacingChanged=!1),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing,this._isLineSpacingChanged=!1),this._isSmoothingChanged&&(this._bitmapText.smoothing=this._smoothing,this._isSmoothingChanged=!1)},n}(e.UIComponent);e.BitmapLabel=i,__reflect(i.prototype,"egret.gui.BitmapLabel",["egret.gui.IDisplayText"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.iconDisplay=null,e._icon=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"icon",{get:function(){return this._getIcon()},set:function(t){this._setIcon(t)},enumerable:!0,configurable:!0}),e.prototype._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},e.prototype._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(t.ButtonBase);t.Button=e,__reflect(e.prototype,"egret.gui.Button")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t){this.skinMap={},this.delyList=[],this.loadConfig(t)}return i.load=function(t){this.initialized||(this.initialized=!0,e.SkinnableComponent._defaultTheme=new i(t))},i.prototype.loadConfig=function(t){this._configURL=t;var i;try{i=e.$getAdapter("egret.gui.IThemeAdapter")}catch(n){i=new e.DefaultThemeAdapter}i.getTheme(t,this.onLoadComplete,this.onLoadError,this)},i.prototype.onLoadComplete=function(e){try{var i=JSON.parse(e);this.skinMap=i.skins}catch(n){t.$warn(1017,this._configURL,e)}this.handleDelyList()},i.prototype.onLoadError=function(e){e.target;t.$warn(3e3,this._configURL),this.handleDelyList()},i.prototype.handleDelyList=function(){if(!this.skinMap)return this.skinMap={},void(this.delyList=[]);var t=this.delyList;this.delyList=[];for(var e=t.length,i=0;e>i;i++){var n=t[i];if(!n._skin){var r=this.getDefaultSkin(n);n._setSkin(r)}}},i.prototype.getDefaultSkin=function(e){var i=this.skinMap;if(!i)return-1==this.delyList.indexOf(e)&&this.delyList.push(e),null;var n,r=e.hostComponentKey;if(r)n=i[r];else for(var o=e;o&&(r=t.getQualifiedClassName(o),!(n=i[r]));)o=t.getDefinitionByName(t.getQualifiedSuperclassName(o));if(!n)return null;var s=t.getDefinitionByName(n);return s?new s:(t.$warn(3001,n),null)},i}();i.initialized=!1,e.Theme=i,__reflect(i.prototype,"egret.gui.Theme")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var n=i.call(this)||this;return n.popUpIsDisplayed=!1,n.addedToStage=!1,n._popUpHeightMatchesAnchorHeight=!1,n._popUpWidthMatchesAnchorWidth=!1,n._displayPopUp=!1,n._popUp=null,n._relativeToStage=!1,n._popUpPosition=e.PopUpPosition.TOP_LEFT,n.inAnimation=!1,n.animator=null,n._openDuration=250,n._closeDuration=150,n.valueRange=1,n.addEventListener(t.Event.ADDED_TO_STAGE,n.addedToStageHandler,n),n.addEventListener(t.Event.REMOVED_FROM_STAGE,n.removedFromStageHandler,n),n}return __extends(n,i),Object.defineProperty(n.prototype,"popUpHeightMatchesAnchorHeight",{get:function(){return this._popUpHeightMatchesAnchorHeight},set:function(t){this._popUpHeightMatchesAnchorHeight!=t&&(this._popUpHeightMatchesAnchorHeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"popUpWidthMatchesAnchorWidth",{get:function(){return this._popUpWidthMatchesAnchorWidth},set:function(t){this._popUpWidthMatchesAnchorWidth!=t&&(this._popUpWidthMatchesAnchorWidth=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayPopUp",{get:function(){return this._displayPopUp},set:function(t){this._displayPopUp!=t&&(this._displayPopUp=t,this.addOrRemovePopUp())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"popUp",{get:function(){return this._popUp},set:function(t){this._popUp!=t&&(this._popUp=t,this.dispatchEventWith("popUpChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"popUpPosition",{get:function(){return this._popUpPosition},set:function(t){this._popUpPosition!=t&&(this._relativeToStage=t==e.PopUpPosition.SCREEN_CENTER,this._popUpPosition=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.applyPopUpTransform(t,e)},n.prototype.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)},n.prototype.calculatePopUpPosition=function(){var i=t.$TempPoint;switch(this._popUpPosition){case e.PopUpPosition.SCREEN_CENTER:break;case e.PopUpPosition.BELOW:i.x=0,i.y=this.height;break;case e.PopUpPosition.ABOVE:i.x=0,i.y=-this.popUp.layoutBoundsHeight;break;case e.PopUpPosition.LEFT:i.x=-this.popUp.layoutBoundsWidth,i.y=0;break;case e.PopUpPosition.RIGHT:i.x=this.width,i.y=0;break;case e.PopUpPosition.CENTER:i.x=.5*(this.width-this.popUp.layoutBoundsWidth),i.y=.5*(this.height-this.popUp.layoutBoundsHeight);break;case e.PopUpPosition.TOP_LEFT:}return i=this.localToGlobal(i.x,i.y,i),i=this.popUp.parent.globalToLocal(i.x,i.y,i)},Object.defineProperty(n.prototype,"openDuration",{get:function(){return this._openDuration},set:function(t){this._openDuration=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"closeDuration",{get:function(){return this._closeDuration},set:function(t){this._closeDuration=t},enumerable:!0,configurable:!0}),n.prototype.animationStartHandler=function(t){this.inAnimation=!0,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)},n.prototype.animationUpdateHandler=function(e){var i=this.popUp.scrollRect,n=Math.round(e.currentValue.x),r=Math.round(e.currentValue.y);i?(i.x=n,i.y=r,i.width=this.popUp.width,i.height=this.popUp.height,this.popUp.scrollRect=i):this.popUp.scrollRect=new t.Rectangle(n,r,this.popUp.width,this.popUp.height)},n.prototype.animationEndHandler=function(t){this.inAnimation=!1,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0),this.popUp.scrollRect=null,this.popUpIsDisplayed||(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},n.prototype.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?(e.PopUpManager.addPopUp(this.popUp,this._relativeToStage,this._relativeToStage),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),this._openDuration>0&&this.startAnimation()):t.callLater(function(){this.openDuration>0&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())},n.prototype.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end(),this.popUpIsDisplayed=!1,this._closeDuration>0?this.startAnimation():(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},n.prototype.applyPopUpTransform=function(t,e){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=t),this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=e),"validateNow"in this.popUp&&this.popUp.validateNow();var i=this.calculatePopUpPosition();this.popUp.x=i.x,this.popUp.y=i.y}},n.prototype.startAnimation=function(){this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler),this.animator.motionPaths=this.createMotionPath(),this.popUpIsDisplayed?this.animator.duration=this._openDuration:this.animator.duration=this._closeDuration,this.animator.play()},n.prototype.createMotionPath=function(){var t=new e.SimpleMotionPath("x"),i=new e.SimpleMotionPath("y"),n=[t,i];switch(this._popUpPosition){case e.PopUpPosition.TOP_LEFT:case e.PopUpPosition.CENTER:case e.PopUpPosition.BELOW:t.valueFrom=t.valueTo=0,i.valueFrom=this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.ABOVE:t.valueFrom=t.valueTo=0,i.valueFrom=-this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.LEFT:i.valueFrom=i.valueTo=0,t.valueFrom=-this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;case e.PopUpPosition.RIGHT:i.valueFrom=i.valueTo=0,t.valueFrom=this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;default:this.valueRange=1}if(this.valueRange=Math.abs(this.valueRange),!this.popUpIsDisplayed){var r=t.valueFrom;t.valueFrom=t.valueTo,t.valueTo=r,r=i.valueFrom,i.valueFrom=i.valueTo,i.valueTo=r}return n},n.prototype.addedToStageHandler=function(e){this.addedToStage=!0,t.callLater(this.checkPopUpState,this)},n.prototype.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()},n.prototype.removedFromStageHandler=function(e){this.addedToStage=!1,t.callLater(this.checkPopUpState,this)},n}(e.UIComponent);e.PopUpAnchor=i,__reflect(i.prototype,"egret.gui.PopUpAnchor")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.thumb=null,t.track=null,t.labelDisplay=null,t._labelFunction=null,t._slideDuration=500,t._direction=e.ProgressBarDirection.LEFT_TO_RIGHT,t.animator=null,t.slideToValue=0/0,t.animationValue=0,t.trackResizedOrMoved=!1,t}return __extends(n,i),Object.defineProperty(n.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(t){this._labelFunction!=t&&(this._labelFunction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.valueToLabel=function(t,e){return null!=this.labelFunction?this._labelFunction(t,e):t+" / "+e},Object.defineProperty(n.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(t){this._slideDuration!=t&&(this._slideDuration=t,this.animator&&this.animator.isPlaying&&(this.animator.stop(),this._setValue(this.slideToValue)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction!=t&&(this._direction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._getValue()},set:function(t){if(this._getValue()!=t)if(this._setValue(t),this._slideDuration>0&&this.stage){if(this.validateProperties(),this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this)),this.animator.isPlaying&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),this.animator.stop()),this.slideToValue=this.nearestValidValue(t,this.snapInterval),this.slideToValue==this.animationValue)return;var i=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(this.maximum-this.minimum));this.animator.duration=i===1/0?0:i,this.animator.motionPaths=[new e.SimpleMotionPath("value",this.animationValue,this.slideToValue)],this.animator.play()}else this.animationValue=this._getValue()},enumerable:!0,configurable:!0}),n.prototype.animationUpdateHandler=function(t){var e=this.nearestValidValue(t.currentValue.value,this.snapInterval);this.animationValue=Math.min(this.maximum,Math.max(this.minimum,e)),this.invalidateDisplayList()},n.prototype.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},n.prototype.partAdded=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.addEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.addEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},n.prototype.partRemoved=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.removeEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.removeEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},n.prototype.onTrackResizeOrMove=function(t){this.trackResizedOrMoved=!0,this.invalidateProperties()},n.prototype.commitProperties=function(){i.prototype.commitProperties.call(this),this.trackResizedOrMoved&&(this.trackResizedOrMoved=!1,this.updateSkinDisplayList())},n.prototype.updateSkinDisplayList=function(){this.trackResizedOrMoved=!1;var i=this.value;this.animator&&this.animator.isPlaying?i=this.animationValue:(i=this.value,isNaN(i)&&(i=0));var n=isNaN(this.maximum)?0:this.maximum;if(this.thumb&&this.track){var r=isNaN(this.track.width)?0:this.track.width;r*=this.track.scaleX;var o=isNaN(this.track.height)?0:this.track.height;o*=this.track.scaleY;var s=Math.round(i/n*r);(isNaN(s)||0>s||s===1/0)&&(s=0);var a=Math.round(i/n*o);(isNaN(a)||0>a||a===1/0)&&(a=0);var h=this.track.localToGlobal(0,0),l=this.globalToLocal(h.x,h.y,t.$TempPoint),p=l.x,u=l.y;switch(this._direction){case e.ProgressBarDirection.LEFT_TO_RIGHT:this.thumb.width=s,this.thumb.height=o,this.thumb.x=p;break;case e.ProgressBarDirection.RIGHT_TO_LEFT:this.thumb.width=s,this.thumb.height=o,this.thumb.x=p+r-s;break;case e.ProgressBarDirection.TOP_TO_BOTTOM:this.thumb.width=r,this.thumb.height=a,this.thumb.y=u;break;case e.ProgressBarDirection.BOTTOM_TO_TOP:this.thumb.width=r,this.thumb.height=a,this.thumb.y=u+o-a}}this.labelDisplay&&(this.labelDisplay.text=this.valueToLabel(i,n))},n}(e.Range);e.ProgressBar=i,__reflect(i.prototype,"egret.gui.ProgressBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;
!function(t){var e=function(){function t(){}return t}();e.DOWN=40,e.END=35,e.HOME=36,e.LEFT=37,e.PAGE_DOWN=34,e.PAGE_LEFT=9111,e.PAGE_RIGHT=9112,e.PAGE_UP=33,e.RIGHT=39,e.UP=38,t.NavigationUnit=e,__reflect(e.prototype,"egret.gui.NavigationUnit")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.ABOVE="above",e.BELOW="below",e.CENTER="center",e.TOP_LEFT="topLeft",e.LEFT="left",e.RIGHT="right",e.SCREEN_CENTER="screenCenter",t.PopUpPosition=e,__reflect(e.prototype,"egret.gui.PopUpPosition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.AUTO="auto",e.OFF="off",e.ON="on",t.ScrollPolicy=e,__reflect(e.prototype,"egret.gui.ScrollPolicy")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.LEFT_TO_RIGHT="leftToRight",e.RIGHT_TO_LEFT="rightToLeft",e.TOP_TO_BOTTOM="topToBottom",e.BOTTOM_TO_TOP="bottomToTop",t.ProgressBarDirection=e,__reflect(e.prototype,"egret.gui.ProgressBarDirection")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this._id=null,this._isPopUp=!1,this._owner=null,this._updateCompletePendingFlag=!1,this._initialized=!1,this._nestLevel=0,this._enabled=!0,this._uiWidth=0,this._uiHeight=0,this._minWidth=0,this._maxWidth=1e4,this._minHeight=0,this._maxHeight=1e4,this._measuredWidth=0,this._measuredHeight=0,this._left=0/0,this._right=0/0,this._top=0/0,this._bottom=0/0,this._horizontalCenter=0/0,this._verticalCenter=0/0,this._percentWidth=0/0,this._percentHeight=0/0,this._includeInLayout=!0,this._oldWidth=0/0,this._oldHeight=0/0,this._oldX=0/0,this._oldY=0/0,this._invalidatePropertiesFlag=!1,this._invalidateSizeFlag=!1,this._oldPreferWidth=0/0,this._oldPreferHeight=0/0,this._invalidateDisplayListFlag=!1,this._validateNowFlag=!1,this._initializeCalled=!1,this._hasOwnStyleChain=!1,this._styleProtoChain=null,this._hasNoStyleChild=!1,this._layoutWidthExplicitlySet=!1,this._layoutHeightExplicitlySet=!1}return t}();t.UIComponentProperties=e,__reflect(e.prototype,"egret.gui.UIComponentProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"stage",{get:function(){return e._stage},enumerable:!0,configurable:!0}),e._initlize=function(i){e.initlized||(e._stage=i,e._layoutManager=new t.LayoutManager,e.initlized=!0)},Object.defineProperty(e,"uiStage",{get:function(){return e._uiStage},enumerable:!0,configurable:!0}),e}();e.initlized=!1,t.UIGlobals=e,__reflect(e.prototype,"egret.gui.UIGlobals")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(t,e,i){this.owner=null,this.lowerBoundReference=null,this.upperBoundReference=null,this.raw_getElementAt="raw_getElementAt",this.raw_addElementAt="raw_addElementAt",this.raw_getElementIndex="raw_getElementIndex",this.raw_removeElement="raw_removeElement",this.raw_removeElementAt="raw_removeElementAt",this.raw_setElementIndex="raw_setElementIndex",this.owner=t,this.lowerBoundReference=e,this.upperBoundReference=i}return Object.defineProperty(t.prototype,"numElements",{get:function(){return this.owner[this.upperBoundReference]-this.owner[this.lowerBoundReference]},enumerable:!0,configurable:!0}),t.prototype.getElementAt=function(t){var e=this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+t);return e},t.prototype.addElement=function(t){var e=this.owner[this.upperBoundReference];return t.parent===this.owner&&e--,this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,e),t.ownerChanged(this),t},t.prototype.addElementAt=function(t,e){return this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,this.owner[this.lowerBoundReference]+e),t.ownerChanged(this),t},t.prototype.removeElement=function(t){var e=this.owner[this.raw_getElementIndex](t);return this.owner[this.lowerBoundReference]<=e&&e<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](t),this.owner[this.upperBoundReference]--),t.ownerChanged(null),t},t.prototype.removeElementAt=function(t){t+=this.owner[this.lowerBoundReference];var e;return this.owner[this.lowerBoundReference]<=t&&t<this.owner[this.upperBoundReference]&&(e=this.owner[this.raw_removeElementAt](t),this.owner[this.upperBoundReference]--),e.ownerChanged(null),e},t.prototype.getElementIndex=function(t){var e=this.owner[this.raw_getElementIndex](t);return e-=this.owner[this.lowerBoundReference]},t.prototype.setElementIndex=function(t,e){this.owner[this.raw_setElementIndex](t,this.owner[this.lowerBoundReference]+e)},t}();t.UILayer=e,__reflect(e.prototype,"egret.gui.UILayer",["egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var e=i.call(this)||this;return e._autoResize=!0,e._popUpContainer=null,e._toolTipContainer=null,e._cursorContainer=null,e._noTopMostIndex=0,e._topMostIndex=0,e._toolTipIndex=0,e._cursorIndex=0,e.touchEnabled=!1,e.addEventListener(t.Event.ADDED_TO_STAGE,e.onAddToStage,e),e.addEventListener(t.Event.REMOVED_FROM_STAGE,e.onRemoveFromStage,e),e}return __extends(n,i),n.prototype.onAddToStage=function(i){void 0===i&&(i=null),e.UIGlobals._uiStage&&t.$error(3013),e.UIGlobals._uiStage=this,this._autoResize&&(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize())},n.prototype.onRemoveFromStage=function(i){e.UIGlobals._uiStage=null,this._autoResize&&this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)},n.prototype.onResize=function(t){void 0===t&&(t=null),this.$setWidth(this.stage.stageWidth),this.$setHeight(this.stage.stageHeight)},Object.defineProperty(n.prototype,"autoResize",{get:function(){return this._autoResize},set:function(e){this._autoResize!=e&&(this._autoResize=e,this.stage&&(this._autoResize?(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize()):this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.$getX()},set:function(t){this._autoResize||this.$setX(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.$getY()},set:function(t){this._autoResize||this.$setY(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._UIC_Props_._uiWidth},set:function(t){this._autoResize||this.$setWidth(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._UIC_Props_._uiHeight},set:function(t){this._autoResize||this.$setHeight(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleX",{get:function(){return this.$getScaleX()},set:function(t){this._autoResize||this.$setScaleX(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scaleY",{get:function(){return this.$getScaleY()},set:function(t){this._autoResize||this.$setScaleY(t)},enumerable:!0,configurable:!0}),n.prototype.setActualSize=function(t,e){this._autoResize||i.prototype.setActualSize.call(this,t,e)},n.prototype.setLayoutBoundsPosition=function(t,e){this._autoResize||i.prototype.setLayoutBoundsPosition.call(this,t,e)},n.prototype.setLayoutBoundsSize=function(t,e){this._autoResize||i.prototype.setLayoutBoundsSize.call(this,t,e)},Object.defineProperty(n.prototype,"layout",{get:function(){return this._layout},set:function(t){t instanceof e.BasicLayout&&this._setLayout(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"popUpContainer",{get:function(){return this._popUpContainer||(this._popUpContainer=new e.UILayer(this,"noTopMostIndex","topMostIndex")),this._popUpContainer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toolTipContainer",{get:function(){return this._toolTipContainer||(this._toolTipContainer=new e.UILayer(this,"topMostIndex","toolTipIndex")),this._toolTipContainer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cursorContainer",{get:function(){return this._cursorContainer||(this._cursorContainer=new e.UILayer(this,"toolTipIndex","cursorIndex")),this._cursorContainer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"noTopMostIndex",{get:function(){return this._noTopMostIndex},set:function(t){var e=t-this._noTopMostIndex;this._noTopMostIndex=t,this.topMostIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"topMostIndex",{get:function(){return this._topMostIndex},set:function(t){var e=t-this._topMostIndex;this._topMostIndex=t,this.toolTipIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toolTipIndex",{get:function(){return this._toolTipIndex},set:function(t){var e=t-this._toolTipIndex;this._toolTipIndex=t,this.cursorIndex+=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cursorIndex",{get:function(){return this._cursorIndex},set:function(t){t-this._cursorIndex;this._cursorIndex=t},enumerable:!0,configurable:!0}),n.prototype.addElement=function(t){var e=this._noTopMostIndex;return t.parent==this&&e--,this.addElementAt(t,e)},n.prototype.addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return e<=this._noTopMostIndex?this.noTopMostIndex++:e>this._noTopMostIndex&&e<=this._topMostIndex?this.topMostIndex++:e>this._topMostIndex&&e<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++,i.prototype.addElementAt.call(this,t,e)},n.prototype.removeElement=function(t){return this.removeElementAt(i.prototype.getElementIndex.call(this,t))},n.prototype.removeElementAt=function(t){var e=i.prototype.removeElementAt.call(this,t);return t<this._noTopMostIndex?this.noTopMostIndex--:t>=this._noTopMostIndex&&t<this._topMostIndex?this.topMostIndex--:t>=this._topMostIndex&&t<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--,e},n.prototype.removeAllElements=function(){for(;this._noTopMostIndex>0;)i.prototype.removeElementAt.call(this,0),this.noTopMostIndex--},n.prototype._elementRemoved=function(e,n,r){void 0===r&&(r=!0),r&&t.Event.dispatchEvent(e,"removeFromUIStage"),i.prototype._elementRemoved.call(this,e,n,r)},n.prototype.raw_getElementAt=function(t){return i.prototype.getElementAt.call(this,t)},n.prototype.raw_addElement=function(t){var e=this.numElements;return t.parent==this&&e--,this.raw_addElementAt(t,e)},n.prototype.raw_addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return i.prototype.addElementAt.call(this,t,e)},n.prototype.raw_removeElement=function(t){return i.prototype.removeElementAt.call(this,i.prototype.getElementIndex.call(this,t))},n.prototype.raw_removeElementAt=function(t){return i.prototype.removeElementAt.call(this,t)},n.prototype.raw_removeAllElements=function(){for(;this.numElements>0;)i.prototype.removeElementAt.call(this,0)},n.prototype.raw_getElementIndex=function(t){return i.prototype.getElementIndex.call(this,t)},n.prototype.raw_setElementIndex=function(t,e){i.prototype.setElementIndex.call(this,t,e)},n.prototype.raw_swapElements=function(t,e){i.prototype.swapElementsAt.call(this,i.prototype.getElementIndex.call(this,t),i.prototype.getElementIndex.call(this,e))},n.prototype.raw_swapElementsAt=function(t,e){i.prototype.swapElementsAt.call(this,t,e)},n}(e.Group);e.UIStage=i,__reflect(i.prototype,"egret.gui.UIStage",["egret.gui.IUIStage"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._indexNumber=0,t._radioButtonGroup=null,t._group=null,t.groupChanged=!1,t._groupName="radioGroup",t._value=null,t.groupName="radioGroup",t}return __extends(i,e),Object.defineProperty(i.prototype,"enabled",{get:function(){return this._UIC_Props_._enabled?!this._radioButtonGroup||this._radioButtonGroup.enabled:!1},set:function(t){this.$setEnabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"group",{get:function(){if(!this._group&&this._groupName){i.automaticRadioButtonGroups||(i.automaticRadioButtonGroups={});var e=i.automaticRadioButtonGroups[this._groupName];e||(e=new t.RadioButtonGroup,e._name=this._groupName,i.automaticRadioButtonGroups[this._groupName]=e),this._group=e}return this._group},set:function(t){this._group!=t&&(this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=t,this._groupName=t?this.group._name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"groupName",{get:function(){return this._groupName},set:function(t){t&&""!=t&&(this._groupName=t,this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype._setSelected=function(t){e.prototype._setSelected.call(this,t),this.invalidateDisplayList()},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){this._value!=e&&(this._value=e,this.selected&&this.group&&t.UIEvent.dispatchUIEvent(this.group,t.UIEvent.VALUE_COMMIT))},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1),e.prototype.commitProperties.call(this)},i.prototype.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,i),this.group&&(this.selected?this._group.selection=this:this.group.selection==this&&(this._group.selection=null))},i.prototype.buttonReleased=function(){this.enabled&&!this.selected&&(this._radioButtonGroup||this.addToGroup(),e.prototype.buttonReleased.call(this),this.group._setSelection(this))},i.prototype.addToGroup=function(){var t=this.group;return t&&t._addInstance(this),t},i}(t.ToggleButtonBase);e.automaticRadioButtonGroups=null,t.RadioButton=e,__reflect(e.prototype,"egret.gui.RadioButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._name=null,t.radioButtons=[],t._enabled=!0,t._selectedValue=null,t._selection=null,t._name="_radioButtonGroup"+n.groupCount,n.groupCount++,t}return __extends(n,i),Object.defineProperty(n.prototype,"enabled",{get:function(){return this._enabled},set:function(t){if(this._enabled!=t){this._enabled=t;for(var e=0;e<this.numRadioButtons;e++)this.getRadioButtonAt(e).invalidateSkinState()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numRadioButtons",{get:function(){return this.radioButtons.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},set:function(t){if(this._selectedValue=t,null==t)return void this._setSelection(null,!1);for(var i=this.numRadioButtons,n=0;i>n;n++){var r=this.getRadioButtonAt(n);if(r.value==t||r.label==t){this.changeSelection(n,!1),this._selectedValue=null,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT);break}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection!=t&&this._setSelection(t,!1)},enumerable:!0,configurable:!0}),n.prototype.getRadioButtonAt=function(t){return t>=0&&t<this.numRadioButtons?this.radioButtons[t]:null},n.prototype._addInstance=function(i){function n(t,i){var r=t.parent,o=i.parent;if(!r||!o)return 0;var s=t instanceof e.UIComponent?t.nestLevel:-1,a=i instanceof e.UIComponent?i.nestLevel:-1,h=0,l=0;return r==o&&(h="getElementIndex"in r&&"ownerChanged"in t?r.getElementIndex(t):r.getChildIndex(t),l="getElementIndex"in o&&"ownerChanged"in i?o.getElementIndex(i):o.getChildIndex(i)),s>a||h>l?1:a>s||l>h?-1:t==i?0:n(r,o)}i.addEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.radioButtons.push(i),this.radioButtons.sort(n);for(var r=0;r<this.radioButtons.length;r++)this.radioButtons[r]._indexNumber=r;this._selectedValue&&(this.selectedValue=this._selectedValue),1==i.selected&&(this.selection=i),i._radioButtonGroup=this,i.invalidateSkinState(),this.dispatchEventWith("numRadioButtonsChanged")},n.prototype._removeInstance=function(t){this.doRemoveInstance(t,!1)},n.prototype.doRemoveInstance=function(e,i){if(void 0===i&&(i=!0),e){for(var n=!1,r=0;r<this.numRadioButtons;r++){var o=this.getRadioButtonAt(r);n?o._indexNumber=o._indexNumber-1:o==e&&(i&&e.addEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),e==this._selection&&(this._selection=null),e._radioButtonGroup=null,e.invalidateSkinState(),this.radioButtons.splice(r,1),n=!0,r--)}n&&this.dispatchEventWith("numRadioButtonsChanged")}},n.prototype._setSelection=function(i,n){if(void 0===n&&(n=!0),this._selection!=i){if(i){for(var r=this.numRadioButtons,o=0;r>o;o++)if(i==this.getRadioButtonAt(o)){this.changeSelection(o,n);break}}else this.selection&&(this._selection.selected=!1,this._selection=null,n&&this.dispatchEventWith(t.Event.CHANGE));e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)}},n.prototype.changeSelection=function(e,i){void 0===i&&(i=!0);var n=this.getRadioButtonAt(e);n&&n!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=n,this._selection.selected=!0,i&&this.dispatchEventWith(t.Event.CHANGE))},n.prototype.radioButton_addedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),this._addInstance(i))},n.prototype.radioButton_removedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.doRemoveInstance(i))},n}(t.EventDispatcher);i.groupCount=0,e.RadioButtonGroup=i,__reflect(i.prototype,"egret.gui.RadioButtonGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var i=e.call(this)||this;return i._fillColor=16777215,i._fillAlpha=1,i._strokeColor=4473924,i._strokeAlpha=0,i._strokeWeight=1,i.touchChildren=!1,i.$graphics=new t.Graphics,i.$graphics.$setTarget(i),i}return __extends(i,e),Object.defineProperty(i.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n==this&&(n=this.$graphics.$hitTest(t,i)),n},i.prototype.$measureContentBounds=function(t){this.$graphics&&this.$graphics.$measureContentBounds(t)},Object.defineProperty(i.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillAlpha",{get:function(){return this._fillAlpha},set:function(t){this._fillAlpha!=t&&(this._fillAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(t){this._strokeAlpha!=t&&(this._strokeAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWeight",{get:function(){return this._strokeWeight},set:function(t){this._strokeWeight!=t&&(this._strokeWeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,t);var n=this.graphics;n.clear(),n.beginFill(this._fillColor,this._fillAlpha),this._strokeAlpha>0&&n.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter"),n.drawRect(0,0,t,i),n.endFill()},i}(e.UIComponent);e.Rect=i,__reflect(i.prototype,"egret.gui.Rect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=i.call(this)||this;o.labelDisplay=new t.gui.Label,o.iconDisplay=new t.gui.UIAsset;var s={};return s.up=e,s.down=n,s.disabled=r,o.stateMap=s,o._setStates(["up","down","disabled"]),o}return __extends(n,i),Object.defineProperty(n.prototype,"skinParts",{get:function(){return n._skinParts},enumerable:!0,configurable:!0}),n.prototype.createChildren=function(){i.prototype.createChildren.call(this);var t=new e.UIAsset;t.left=t.top=t.bottom=t.right=0,this.addElement(t),this.backgroundAsset=t,this.iconDisplay.includeInLayout=!1,this.addElement(this.iconDisplay),this.labelDisplay.includeInLayout=!1,this.labelDisplay.paddingLeft=5,this.labelDisplay.paddingRight=5,this.addElement(this.labelDisplay)},n.prototype.commitCurrentState=function(){i.prototype.commitCurrentState.call(this);var t=this.currentState,e=this.stateMap[t];e&&(this.backgroundAsset.source=this.stateMap[t])},n.prototype.measure=function(){i.prototype.measure.call(this);var t=this.iconDisplay.preferredWidth+this.labelDisplay.preferredWidth+20,e=Math.max(this.iconDisplay.preferredHeight,this.labelDisplay.preferredHeight)+20;t>this.measuredWidth&&(t<this.minWidth&&(t=this.minWidth),t>this.maxWidth&&(t=this.maxWidth),this.measuredWidth=t),e>this.measuredHeight&&(e<this.minHeight&&(e=this.minHeight),e>this.maxHeight&&(e=this.maxHeight),this.measuredHeight=e)},n.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e);var n=this.iconDisplay.layoutBoundsWidth,r=this.iconDisplay.layoutBoundsHeight,o=this.labelDisplay.layoutBoundsWidth,s=this.labelDisplay.layoutBoundsHeight,a=.5*(t-n-o),h=.5*(e-r);this.iconDisplay.setLayoutBoundsPosition(a,h);var l=a+n,p=.5*(e-s);this.labelDisplay.setLayoutBoundsPosition(l,p)},n}(e.Skin);i._skinParts=["labelDisplay","iconDisplay"],e.ButtonSkin=i,__reflect(i.prototype,"egret.gui.ButtonSkin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var n=i.call(this)||this;return n.horizontalScrollBar=null,n.verticalScrollBar=null,e.ScrollerView.call(n),n._Scr_Props_=new t.gui.ScrollerProperties,n}return __extends(n,i),n.prototype.setContent=function(t){this._content=t,this._removeEvents(),this._addEvents(),this._ScrV_Props_._scrollLeft=t.horizontalScrollPosition,this._ScrV_Props_._scrollTop=t.verticalScrollPosition},n.prototype._updateContentPosition=function(){var e=this._content;e.horizontalScrollPosition=this._ScrV_Props_._scrollLeft,e.verticalScrollPosition=this._ScrV_Props_._scrollTop,e.setLayoutBoundsSize(this._UIC_Props_._uiWidth,this._UIC_Props_._uiHeight),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n.prototype.getMaxScrollLeft=function(){var t=this._content,e=t.contentWidth-t.width,i=t.initialized?0:t.horizontalScrollPosition||0;return Math.max(e,i)},n.prototype.getMaxScrollTop=function(){var t=this._content,e=t.contentHeight-t.height,i=t.initialized?0:t.verticalScrollPosition||0;return Math.max(e,i)},n.prototype._getContentWidth=function(){return this._content.contentWidth},n.prototype._getContentHeight=function(){return this._content.contentHeight},n.prototype._onScrollStarted=function(){e.ScrollerView.prototype._onScrollStarted.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},n.prototype._onScrollFinished=function(){e.ScrollerView.prototype._onScrollFinished.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},n.prototype.measure=function(){this._Scr_Props_._viewport&&(this.measuredWidth=this._Scr_Props_._viewport.preferredWidth,this.measuredHeight=this._Scr_Props_._viewport.preferredHeight)},n.prototype.updateDisplayList=function(t,i){if(this.viewport&&this.viewport.setLayoutBoundsSize(t,i),this._checkScrollPolicy(),"off"!=this._ScrV_Props_._horizontalScrollPolicy){var n=this.viewport.horizontalScrollPosition,r=this.getMaxScrollLeft();n=Math.min(n,r),this.setViewportHScrollPosition(n);var o=this.horizontalScrollBar;o&&(o._setViewportMetric(t,this._Scr_Props_._viewport.contentWidth),o.$setWidth(t-(o.left||0)-(o.right||0)),o.x=o.left||0,o.y=i-this.horizontalScrollBar.layoutBoundsHeight,o.visible=this._ScrV_Props_._horizontalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._hCanScroll,this._Scr_Props_._autoHideScrollBars&&(o.alpha=0))}if("off"!=this._ScrV_Props_._verticalScrollPolicy){var n=this.viewport.verticalScrollPosition,r=this.getMaxScrollTop();n=Math.min(n,r),this.setViewportVScrollPosition(n);var s=this.verticalScrollBar;s&&(s._setViewportMetric(i,this._Scr_Props_._viewport.contentHeight),s.$setHeight(i-(s.top||0)-(s.bottom||0)),s.y=s.top||0,s.x=t-this.verticalScrollBar.layoutBoundsWidth,s.visible=this._ScrV_Props_._verticalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._vCanScroll,this._Scr_Props_._autoHideScrollBars&&(s.alpha=0))}},Object.defineProperty(n.prototype,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t,this._checkVbar(),this.verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t,this._checkHbar(),this.horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"viewport",{get:function(){return this._Scr_Props_._viewport},set:function(t){t!=this._Scr_Props_._viewport&&(this.uninstallViewport(),this._Scr_Props_._viewport=t,this.installViewport(),this.dispatchEventWith("viewportChanged"))},enumerable:!0,configurable:!0}),n.prototype.installViewport=function(){var e=this.viewport;this.addEventListener(t.Event.CHANGE,this._scrollerChangedHandler,this),this._createChildrenCalled&&e&&(e.clipAndEnableScrolling=!0,this.setContent(e),this._addToDisplayListAt(e,0),e.addEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this))},n.prototype.uninstallViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this),this._removeFromDisplayList(this.viewport))},n.prototype._viewportChangedHandler=function(t){"horizontalScrollPosition"==t.property&&this.setViewportHScrollPosition(this.viewport.horizontalScrollPosition),"verticalScrollPosition"==t.property&&this.setViewportVScrollPosition(this.viewport.verticalScrollPosition),("contentWidth"==t.property||"contentHeight"==t.property)&&(this.invalidateDisplayList(),this.invalidateSize())},n.prototype._scrollerChangedHandler=function(t){this.setViewportHScrollPosition(this.scrollLeft),this.setViewportVScrollPosition(this.scrollTop)},n.prototype.setViewportVScrollPosition=function(t){this.scrollTop!=t&&(this.scrollTop=t),this.verticalScrollBar&&this.verticalScrollBar.value!=t&&(this.verticalScrollBar.setPosition(t),this.hideOrShow(!0),this.setAutoHideTimer())},n.prototype.setViewportHScrollPosition=function(t){this.scrollLeft!=t&&(this.scrollLeft=t),this.horizontalScrollBar&&this.horizontalScrollBar.value!=t&&(this.horizontalScrollBar._setValue(t),this.hideOrShow(!0),this.setAutoHideTimer())},n.prototype.throwHorizontally=function(t,e){void 0===e&&(e=500),this.setScrollLeft(t,e)},n.prototype.throwVertically=function(t,e){void 0===e&&(e=500),this.setScrollTop(t,e)},Object.defineProperty(n.prototype,"autoHideScrollBars",{get:function(){return this._Scr_Props_._autoHideScrollBars},set:function(t){this._Scr_Props_._autoHideScrollBars!=t&&(this._Scr_Props_._autoHideScrollBars=t,t?this.setAutoHideTimer():this.hideOrShow(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoHideDelay",{get:function(){return this._Scr_Props_._autoHideDelay},set:function(t){this._Scr_Props_._autoHideDelay!=t&&(this._Scr_Props_._autoHideDelay=t)},enumerable:!0,configurable:!0}),n.prototype.setAutoHideTimer=function(){this._Scr_Props_._autoHideScrollBars&&this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)&&(0/0!=this._Scr_Props_._autoHideTimer&&t.gui.$clearTimer(this._Scr_Props_._autoHideTimer),this._Scr_Props_._autoHideTimer=t.gui.$addTimer(this.hideOrShow.bind(this,!1),this,this._Scr_Props_._autoHideDelay))},n.prototype.hideOrShow=function(t){var i=this;if(this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)){if(null==this._Scr_Props_._autoHideShowAnimat)this._Scr_Props_._autoHideShowAnimat=new e.Animation(function(t){var e=t.currentValue.alpha;i.horizontalScrollBar&&(i.horizontalScrollBar.alpha=e),i.verticalScrollBar&&(i.verticalScrollBar.alpha=e)},this);else{if(this._Scr_Props_._animatTargetIsShow==t)return;this._Scr_Props_._autoHideShowAnimat.isPlaying&&this._Scr_Props_._autoHideShowAnimat.stop()}this._Scr_Props_._animatTargetIsShow=t;var n=this._Scr_Props_._autoHideShowAnimat;n.motionPaths=[new e.SimpleMotionPath("alpha",t?0:1,t?1:0)],n.duration=t?100:300,n.play()}},Object.defineProperty(n.prototype,"numElements",{get:function(){return this.viewport?1:0},enumerable:!0,configurable:!0}),n.prototype.throwRangeError=function(e){t.$error(3011,e)},n.prototype.getElementAt=function(t){return this.viewport&&0==t?this.viewport:(this.throwRangeError(t),null)},n.prototype.getElementIndex=function(t){return null!=t&&t==this.viewport?0:-1},n.prototype.containsElement=function(t){return null!=t&&t==this.viewport?!0:!1},n.prototype.throwNotSupportedError=function(){t.$error(3012)},n.prototype.addElement=function(t){return this.throwNotSupportedError(),null},n.prototype.addElementAt=function(t,e){return this.throwNotSupportedError(),null},n.prototype.removeElement=function(t){return this.throwNotSupportedError(),null},n.prototype.removeElementAt=function(t){return this.throwNotSupportedError(),null},n.prototype.removeAllElements=function(){this.throwNotSupportedError()},n.prototype.setElementIndex=function(t,e){this.throwNotSupportedError()},n.prototype.swapElements=function(t,e){this.throwNotSupportedError()},n.prototype.swapElementsAt=function(t,e){this.throwNotSupportedError()},n.prototype.addChild=function(t){return this.throwNotSupportedError(),null},n.prototype.addChildAt=function(t,e){return this.throwNotSupportedError(),null},n.prototype.removeChild=function(t){return this.throwNotSupportedError(),null},n.prototype.removeChildAt=function(t){return this.throwNotSupportedError(),null},n.prototype.setChildIndex=function(t,e){this.throwNotSupportedError()},n.prototype.swapChildren=function(t,e){this.throwNotSupportedError()},n.prototype.swapChildrenAt=function(t,e){this.throwNotSupportedError()},n.prototype._checkHbar=function(){if("off"==this._ScrV_Props_._horizontalScrollPolicy)return void this._uninstallHorizontalScrollBar();if(this.horizontalScrollBar){var e=this.horizontalScrollBar;e.addEventListener(t.Event.CHANGE,this.hBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.width,this._Scr_Props_._viewport.contentWidth),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.horizontalScrollBar)}},n.prototype._checkVbar=function(){if("off"==this._ScrV_Props_._verticalScrollPolicy)return void this._uninstallVerticalScrollBar();if(this.verticalScrollBar&&this.verticalScrollBar.owner!=this){var e=this.verticalScrollBar;
e.addEventListener(t.Event.CHANGE,this.vBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.height,this._Scr_Props_._viewport.contentHeight),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.verticalScrollBar)}},n.prototype.createChildren=function(){i.prototype.createChildren.call(this),this.installViewport()},n.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.horizontalScrollBar&&this._checkHbar(),e==this.verticalScrollBar&&this._checkVbar()},n.prototype.partRemoved=function(t,e){i.prototype.partRemoved.call(this,t,e),this.horizontalScrollBar==e&&(this.horizontalScrollBar.parent==this&&this._uninstallHorizontalScrollBar(),this.horizontalScrollBar=null),this.verticalScrollBar==e&&(this.verticalScrollBar.parent==this&&this._uninstallVerticalScrollBar(),this.verticalScrollBar=null)},n.prototype._uninstallHorizontalScrollBar=function(){null!=this.horizontalScrollBar&&(this._removeFromDisplayList(this.horizontalScrollBar),this.horizontalScrollBar.removeEventListener(t.Event.CHANGE,this.hBarChanged,this,!1))},n.prototype._uninstallVerticalScrollBar=function(){null!=this.verticalScrollBar&&(this._removeFromDisplayList(this.verticalScrollBar),this.verticalScrollBar.removeEventListener(t.Event.CHANGE,this.vBarChanged,this,!1))},n.prototype.hBarChanged=function(t){this.setViewportHScrollPosition(this.horizontalScrollBar._getValue())},n.prototype.vBarChanged=function(t){this.setViewportVScrollPosition(this.verticalScrollBar.getPosition())},n}(e.SkinnableComponent);e.Scroller=i,__reflect(i.prototype,"egret.gui.Scroller",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"]);for(var n in e.ScrollerView.prototype)if(e.ScrollerView.prototype.hasOwnProperty(n)&&!i.prototype.hasOwnProperty(n)&&!e.SkinnableComponent.prototype.hasOwnProperty(n)&&!e.UIComponent.prototype.hasOwnProperty(n)){var r=Object.getOwnPropertyDescriptor(e.ScrollerView.prototype,n);r&&(r.get||r.set)?Object.defineProperty(i.prototype,n,r):i.prototype[n]=e.ScrollerView.prototype[n]}}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this._viewport=null,this._autoHideScrollBars=!0,this._autoHideTimer=0/0,this._autoHideDelay=300,this._autoHideShowAnimat=null,this._animatTargetIsShow=!1}return t}();t.ScrollerProperties=e,__reflect(e.prototype,"egret.gui.ScrollerProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.FadeInstance,n}return __extends(i,e),i.prototype._initInstance=function(t){e.prototype._initInstance.call(this,t);var i=t;i.alphaFrom=this.alphaFrom,i.alphaTo=this.alphaTo},i}(t.Animate);t.Fade=e,__reflect(e.prototype,"egret.gui.Fade")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.AnimateTransformInstance,n}return __extends(i,e),i.prototype.createInstance=function(t){return void 0===t&&(t=null),this.motionPaths=new Array,e.prototype.createInstance.call(this,t)},i.prototype._initInstance=function(t){this._addMotionPath("translationX",this.xFrom,this.xTo,this.xBy),this._addMotionPath("translationY",this.yFrom,this.yTo,this.yBy),e.prototype._initInstance.call(this,t)},i}(t.AnimateTransform);t.Move=e,__reflect(e.prototype,"egret.gui.Move")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.ParallelInstance,n}return __extends(i,e),Object.defineProperty(i.prototype,"compositeDuration",{get:function(){for(var e=0,i=0;i<this.children.length;++i){var n=void 0,r=this.children[i];n=r instanceof t.CompositeEffect?r.compositeDuration:r.duration,n=n*r.repeatCount+r.repeatDelay*(r.repeatCount-1)+r.startDelay,e=Math.max(e,n)}return e},enumerable:!0,configurable:!0}),i}(t.CompositeEffect);t.Parallel=e,__reflect(e.prototype,"egret.gui.Parallel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.AnimateTransformInstance,n}return __extends(i,e),i.prototype.createInstance=function(t){return void 0===t&&(t=null),this.motionPaths=new Array,e.prototype.createInstance.call(this,t)},i.prototype._initInstance=function(t){this._addMotionPath("rotation",this.angleFrom,this.angleTo,this.angleBy),e.prototype._initInstance.call(this,t)},i}(t.AnimateTransform);t.Rotate=e,__reflect(e.prototype,"egret.gui.Rotate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.AnimateTransformInstance,n}return __extends(i,e),i.prototype.createInstance=function(t){return void 0===t&&(t=null),this.motionPaths=new Array,e.prototype.createInstance.call(this,t)},i.prototype._initInstance=function(t){this._addMotionPath("scaleX",this.scaleXFrom,this.scaleXTo,this.scaleXBy),this._addMotionPath("scaleY",this.scaleYFrom,this.scaleYTo,this.scaleYBy),e.prototype._initInstance.call(this,t)},i}(t.AnimateTransform);t.Scale=e,__reflect(e.prototype,"egret.gui.Scale")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var n=e.call(this,i)||this;return n.instanceClass=t.SequenceInstance,n}return __extends(i,e),Object.defineProperty(i.prototype,"compositeDuration",{get:function(){for(var e=0,i=0;i<this.children.length;++i){var n=void 0,r=this.children[i];n=r instanceof t.CompositeEffect?r.compositeDuration:r.duration,n=n*r.repeatCount+r.repeatDelay*(r.repeatCount-1)+r.startDelay,e+=n}return e},enumerable:!0,configurable:!0}),i}(t.CompositeEffect);t.Sequence=e,__reflect(e.prototype,"egret.gui.Sequence")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButtonBase);t.CheckBox=e,__reflect(e.prototype,"egret.gui.CheckBox")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t,n){this._easer=i.defaultEaser,this.thisObject=null,this.startFunction=null,this.endFunction=null,this.updateFunction=null,this.stopFunction=null,this.repeatFunction=null,this.id=-1,this._doSeek=!1,this._isPlaying=!1,this._doReverse=!1,this._invertValues=!1,this.started=!1,this.delayTime=-1,this.delayedStartTime=-1,this._playheadTime=0,this.duration=500,this._repeatBehavior=e.RepeatBehavior.LOOP,this._repeatCount=1,this._repeatDelay=0,this._startDelay=0,this.interpolator=null,this._cycleTime=0,this.updateFunction=t,this.thisObject=n}return Object.defineProperty(i.prototype,"easer",{get:function(){return this._easer},set:function(t){t||(t=i.defaultEaser),this._easer=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playheadTime",{get:function(){return this._playheadTime+this.startDelay},set:function(t){this._invertValues=!1,this.seek(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatBehavior",{get:function(){return this._repeatBehavior},set:function(t){this._repeatBehavior=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(t){this._repeatCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(t){this._repeatDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startDelay",{get:function(){return this._startDelay},set:function(t){this._startDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cycleTime",{get:function(){return this._cycleTime},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cycleFraction",{get:function(){return this._cycleFraction},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playReversed",{get:function(){return this._playReversed},set:function(t){this._isPlaying&&this._invertValues!=t&&(this._invertValues=t,this.seek(this.duration-this._cycleTime,!0)),this._doReverse=t,this._playReversed=t},enumerable:!0,configurable:!0}),i.addAnimation=function(e){if(e.motionPaths&&e.motionPaths.length>0&&e.motionPaths[0]&&("width"==e.motionPaths[0].property||"height"==e.motionPaths[0].property)){i.activeAnimations.splice(0,0,e),e.id=0;for(var n=1;n<i.activeAnimations.length;++n)i.activeAnimations[n].id=n}else e.id=i.activeAnimations.length,i.activeAnimations.push(e);i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start()),i.intervalTime=i.currentTime,e.cycleStartTime=i.intervalTime},i.removeAnimationAt=function(t){if(void 0===t&&(t=0),t>=0&&t<i.activeAnimations.length){i.activeAnimations.splice(t,1);for(var e=i.activeAnimations.length,n=t;e>n;n++){var r=i.activeAnimations[n];r.id--}}i.stopTimerIfDone()},i.removeAnimation=function(t){i.removeAnimationAt(t.id)},i.timerHandler=function(t){i.intervalTime=i.pulse();for(var e=0;e<i.activeAnimations.length;){var n=!0,r=i.activeAnimations[e];r&&(n=!r.doInterval()),n&&++e}for(;i.delayedStartAnims.length>0;){var o=i.delayedStartAnims[0],s=o.delayedStartTime;if(!(s<i.currentTime))break;o.playReversed?o.end():o.start()}},i.prototype.doInterval=function(){var n=!1,r=!1;if(this._isPlaying||this._doSeek){var o=i.intervalTime-this.cycleStartTime;if(this._playheadTime=i.intervalTime-this.startTime,o>=this.duration){var s=2;if(this.duration+this.repeatDelay>0&&(s+=Math.floor((this._playheadTime-this.duration)/(this.duration+this.repeatDelay))),0==this.repeatCount||s<=this.repeatCount){if(0!=this.repeatDelay){if(this._doSeek)return this._cycleTime=o%(this.duration+this.repeatDelay),this._cycleTime>this.duration&&(this._cycleTime=this.duration),this.calculateValue(this._cycleTime),this.sendUpdateEvent(),!1;this._cycleTime=this.duration,this.calculateValue(this._cycleTime),this.sendUpdateEvent(),i.removeAnimation(this);var a=new t.Timer(this.repeatDelay,1);return a.addEventListener(t.TimerEvent.TIMER,this.repeat,this),a.start(),!1}this._cycleTime=o%this.duration,this.cycleStartTime=i.intervalTime-this._cycleTime,o=this._cycleTime,this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this.repeatCount>1?this._invertValues=!(s%2):this._invertValues=!this._invertValues),r=!0}else o>this.duration&&(o=this.duration,this._playheadTime=this.duration)}this._cycleTime=o,this.calculateValue(o),o>=this.duration&&!this._doSeek?this.playReversed&&0!=this.startDelay?(this.stopAnimation(),this.addToDelayedAnimations(this.startDelay)):(this.end(),n=!0):(r&&this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent())}return n},i.prototype.sendUpdateEvent=function(){this.sendAnimationEvent("updateFunction")},i.prototype.sendAnimationEvent=function(t){null!=this[t]&&this[t].call(this.thisObject,this)},i.prototype.calculateValue=function(t){var e=0;if(this.currentValue={},0!=this.duration){if(this._invertValues&&(t=this.duration-t),this._cycleFraction=this.easer.ease(t/this.duration),this.motionPaths)for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this.motionPaths[e].getValue(this._cycleFraction)}else for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this._invertValues?this.motionPaths[e].keyframes[0].value:this.motionPaths[e].keyframes[this.motionPaths[e].keyframes.length-1].value},i.prototype.removeFromDelayedAnimations=function(){if(this.delayedStartTime>=0){for(var t=0;t<i.delayedStartAnims.length;++t)if(i.delayedStartAnims[t]==this){i.delayedStartAnims.splice(t,1);break}this.delayedStartTime=-1}},i.prototype.end=function(){this.startDelay>0&&i.delayedStartAnims.length>0&&this.removeFromDelayedAnimations(),this.started||this.sendAnimationEvent("startFunction"),this.repeatCount>1&&"reverse"==this.repeatBehavior&&this.repeatCount%2==0&&(this._invertValues=!0),this._doReverse&&this.startDelay>0||(this.calculateValue(this.duration),this.sendUpdateEvent()),this.sendAnimationEvent("endFunction"),this.isPlaying?this.stopAnimation():i.stopTimerIfDone()},i.stopTimerIfDone=function(){i.timer&&0==i.activeAnimations.length&&0==i.delayedStartAnims.length&&(i.intervalTime=0/0,i.timer.reset(),i.timer=null)},i.prototype.addToDelayedAnimations=function(e){i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start());for(var n=i.currentTime+e,r=-1,o=0;o<i.delayedStartAnims.length;++o){var s=i.delayedStartAnims[o].delayedStartTime;if(s>n){r=o;break}}r>=0?i.delayedStartAnims.splice(r,0,this):i.delayedStartAnims.push(this),this.delayedStartTime=n},i.prototype.play=function(){this.stopAnimation();var t=0,i=0;for(t=0;t<this.motionPaths.length;++t){var n=this.motionPaths[t].keyframes;if(isNaN(n[0].time))n[0].time=0;else if(n[0].time>0){var r=n[0].time;n.splice(0,0,new e.Keyframe(0,null)),n.splice(1,0,new e.Keyframe(r-1,null)),this.playReversed&&(n[0].value=n[2].value,n[1].value=n[2].value)}for(i=1;i<n.length;++i)isNaN(n[i].time)&&(n[i].time=this.duration)}for(t=0;t<this.motionPaths.length;++t)this.motionPaths[t]._scaleKeyframes(this.duration);this._doReverse&&(this._invertValues=!0),this.startDelay>0&&!this.playReversed?this.addToDelayedAnimations(this.startDelay):this.start()},i.prototype.seek=function(t,e){if(void 0===e&&(e=!1),this.startTime=this.cycleStartTime=i.intervalTime-t,this._doSeek=!0,!this._isPlaying||this.playReversed){var n=this._isPlaying;if(i.intervalTime=i.currentTime,e&&this.startDelay>0&&this.delayedStartTime>=0){this.removeFromDelayedAnimations();var r=t-this.startDelay;return this.playReversed&&(r-=this.duration),0>r?void this.addToDelayedAnimations(this.startDelay-t):(t-=this.startDelay,this.isPlaying||this.start(),this.startTime=this.cycleStartTime=i.intervalTime-t,this.doInterval(),void(this._doSeek=!1))}n||(this.sendAnimationEvent("startFunction"),this.setupInterpolation()),this.startTime=this.cycleStartTime=i.intervalTime-t}this.doInterval(),this._doSeek=!1},i.prototype.setupInterpolation=function(){if(this.interpolator&&this.motionPaths)for(var t=0;t<this.motionPaths.length;++t)this.motionPaths[t].interpolator=this.interpolator},i.prototype.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._cycleTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},i.prototype.pause=function(){this.delayedStartTime>=0&&(this.delayTime=this.delayedStartTime-i.currentTime,this.removeFromDelayedAnimations()),this._isPlaying=!1},i.prototype.stopAnimation=function(){this.removeFromDelayedAnimations(),this.id>=0&&(i.removeAnimationAt(this.id),this.id=-1,this._invertValues=!1,this._isPlaying=!1)},i.prototype.stop=function(){this.stopAnimation(),this.sendAnimationEvent("stopFunction")},i.prototype.resume=function(){this._isPlaying=!0,this.delayTime>=0?this.addToDelayedAnimations(this.delayTime):(this.cycleStartTime=i.intervalTime-this._cycleTime,this.startTime=i.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1))},i.prototype.repeat=function(t){void 0===t&&(t=null),this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=!this._invertValues),this.calculateValue(0),this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent(),i.addAnimation(this)},i.prototype.start=function(t){void 0===t&&(t=null);var e=0;if(!this.playReversed&&this.delayedStartTime>=0){var n=i.currentTime-this.delayedStartTime;n>0&&(e=Math.min(n,this.duration)),this.removeFromDelayedAnimations()}this.sendAnimationEvent("startFunction"),this.setupInterpolation(),this.calculateValue(0),this.sendUpdateEvent(),i.addAnimation(this),this.startTime=this.cycleStartTime,this._isPlaying=!0,e>0&&this.seek(e),this.started=!0},i.pulse=function(){return i.startTime<0?(i.startTime=t.getTimer(),i._currentTime=0,i._currentTime):(i._currentTime=t.getTimer()-i.startTime,i._currentTime)},Object.defineProperty(i,"currentTime",{get:function(){return i._currentTime<0?i.pulse():i._currentTime},enumerable:!0,configurable:!0}),i}();i.TIMER_RESOLUTION=1e3/60,i.defaultEaser=new e.Sine(.5),i.intervalTime=0/0,i.activeAnimations=new Array,i.timer=null,i.delayedStartAnims=new Array,i.startTime=-1,i._currentTime=-1,e.Animation=i,__reflect(i.prototype,"egret.gui.Animation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(t,e,i){void 0===t&&(t=0/0),void 0===e&&(e=null),void 0===i&&(i=null),this.value=e,this.time=t,this.valueBy=i}return t.prototype.clone=function(){var e=new t(this.time,this.value,this.valueBy);return e.easer=this.easer,e._timeFraction=this._timeFraction,e},t}();t.Keyframe=e,__reflect(e.prototype,"egret.gui.Keyframe")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null);var e=i.call(this)||this;return t?e._source=t:e._source=[],e}return __extends(n,i),Object.defineProperty(n.prototype,"source",{get:function(){return this._source},set:function(t){t||(t=[]),this._source=t,this.dispatchCoEvent(e.CollectionEventKind.RESET)},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},n.prototype.contains=function(t){return-1!=this.getItemIndex(t)},n.prototype.checkIndex=function(e){(0>e||e>=this._source.length)&&t.$error(3002,e)},Object.defineProperty(n.prototype,"length",{get:function(){return this._source.length},enumerable:!0,configurable:!0}),n.prototype.addItem=function(t){this._source.push(t),this.dispatchCoEvent(e.CollectionEventKind.ADD,this._source.length-1,-1,[t])},n.prototype.addItemAt=function(i,n){(0>n||n>this._source.length)&&t.$error(3002,n),this._source.splice(n,0,i),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i])},n.prototype.getItemAt=function(t){return this._source[t]},n.prototype.getItemIndex=function(t){for(var e=this._source.length,i=0;e>i;i++)if(this._source[i]===t)return i;return-1},n.prototype.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},n.prototype.removeAll=function(){var t=this._source.concat();this._source.length=0,this.dispatchCoEvent(e.CollectionEventKind.REMOVE,0,-1,t)},n.prototype.removeItemAt=function(t){this.checkIndex(t);var i=this._source.splice(t,1)[0];return this.dispatchCoEvent(e.CollectionEventKind.REMOVE,t,-1,[i]),i},n.prototype.replaceItemAt=function(t,i){this.checkIndex(i);var n=this._source.splice(i,1,t)[0];return this.dispatchCoEvent(e.CollectionEventKind.REPLACE,i,-1,[t],[n]),n},n.prototype.replaceAll=function(t){t||(t=[]);for(var e=t.length,i=this._source.length,n=e;i>n;n++)this.removeItemAt(e);for(var n=0;e>n;n++)n>=i?this.addItemAt(t[n],n):this.replaceItemAt(t[n],n);this._source=t},n.prototype.moveItemAt=function(t,i){this.checkIndex(t),this.checkIndex(i);var n=this._source.splice(t,1)[0];return this._source.splice(i,0,n),this.dispatchCoEvent(e.CollectionEventKind.MOVE,i,t,[n]),n},n.prototype.dispatchCoEvent=function(t,i,n,r,o){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===r&&(r=null),void 0===o&&(o=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,r,o)},n}(t.EventDispatcher);e.ArrayCollection=i,__reflect(i.prototype,"egret.gui.ArrayCollection",["egret.gui.ICollection","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.LOOP="loop",e.REVERSE="reverse",t.RepeatBehavior=e,__reflect(e.prototype,"egret.gui.RepeatBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=e.call(this)||this;return s.property=i,s.keyframes=[new t.Keyframe(0,n),new t.Keyframe(0/0,r,o)],s}return __extends(i,e),Object.defineProperty(i.prototype,"valueFrom",{get:function(){return this.keyframes[0].value},set:function(t){this.keyframes[0].value=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueTo",{get:function(){return this.keyframes[this.keyframes.length-1].value},set:function(t){this.keyframes[this.keyframes.length-1].value=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"valueBy",{get:function(){return this.keyframes[this.keyframes.length-1].valueBy},set:function(t){this.keyframes[this.keyframes.length-1].valueBy=t},enumerable:!0,configurable:!0}),i}(t.MotionPath);t.SimpleMotionPath=e,__reflect(e.prototype,"egret.gui.SimpleMotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.ease=function(t){return this.easeOut(t,0,1,1)},t.prototype.easeOut=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t}();t.Bounce=e,__reflect(e.prototype,"egret.gui.Bounce",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.ease=function(t){return this.easeOut(t,0,1,1)},t.prototype.easeOut=function(t,e,i,n,r,o){if(void 0===r&&(r=0),void 0===o&&(o=0),0==t)return e;if(1==(t/=n))return e+i;o||(o=.3*n);var s;return!r||r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/o)+i+e},t}();t.Elastic=e,__reflect(e.prototype,"egret.gui.Elastic",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=2);var n=t.call(this,e)||this;return n.exponent=i,n}return __extends(e,t),Object.defineProperty(e.prototype,"exponent",{get:function(){return this._exponent},set:function(t){this._exponent=t},enumerable:!0,configurable:!0}),e.prototype._easeIn=function(t){return Math.pow(t,this._exponent)},e.prototype._easeOut=function(t){return 1-Math.pow(1-t,this._exponent)},e}(t.EaseInOutBase);t.Power=e,__reflect(e.prototype,"egret.gui.Power")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t._rendererOwner=null,t.useVirtualLayoutChanged=!1,t.rendererToClassMap=[],t.freeRenderers=[],t.createNewRendererFlag=!1,t.cleanTimer=null,t.dataProviderChanged=!1,t._dataProvider=null,t.recyclerDic={},t.itemRendererChanged=!1,t._itemRenderer=null,t.itemRendererSkinNameChange=!1,t._itemRendererSkinName=null,t._itemRendererFunction=null,t.virtualLayoutUnderway=!1,t.typicalItemChanged=!1,t.typicalLayoutRect=null,t.indexToRenderer=[],t.cleanFreeRenderer=!1,t.renderersBeingUpdated=!1,t}return __extends(n,i),Object.defineProperty(n.prototype,"layout",{get:function(){return this._layout},set:function(t){t!=this.layout&&(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&t&&this.layout.useVirtualLayout!=t.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(t),t&&(t.typicalLayoutRect=this.typicalLayoutRect,t.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))},enumerable:!0,configurable:!0}),n.prototype.layout_useVirtualLayoutChangedHandler=function(t){this.changeUseVirtualLayout()},n.prototype.setVirtualElementIndicesInView=function(t,e){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var i=t;e>=i;i++)this.virtualRendererIndices.push(i);for(var n in this.indexToRenderer){var r=parseInt(n);-1==this.virtualRendererIndices.indexOf(r)&&this.freeRendererByIndex(r)}}},n.prototype.getVirtualElementAt=function(t){if(0>t||t>=this.dataProvider.length)return null;var i=this.indexToRenderer[t];if(!i){var n=this.dataProvider.getItemAt(t),r=this.createVirtualRenderer(t);this.indexToRenderer[t]=r,this.updateRenderer(r,t,n),this.createNewRendererFlag&&("validateNow"in r&&r.validateNow(),this.createNewRendererFlag=!1,e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,r,t,n)),i=r}return i},n.prototype.freeRendererByIndex=function(e){if(this.indexToRenderer[e]){var i=this.indexToRenderer[e];delete this.indexToRenderer[e],i&&i instanceof t.DisplayObject&&this.doFreeRenderer(i)}},n.prototype.doFreeRenderer=function(t){var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.freeRenderers[i]||(this.freeRenderers[i]=[]),this.freeRenderers[i].push(t),t.visible=!1},n.prototype.invalidateSize=function(){this.createNewRendererFlag||i.prototype.invalidateSize.call(this)},n.prototype.createVirtualRenderer=function(t){var e,i=this.dataProvider.getItemAt(t),n=this.itemToRendererClass(i),r=n.hashCode,o=this.freeRenderers;return o[r]&&o[r].length>0?(e=o[r].pop(),e.visible=!0,e):(this.createNewRendererFlag=!0,this.createOneRenderer(n))},n.prototype.createOneRenderer=function(e){var i,n=e.hashCode,r=this.recyclerDic[n];return r&&(i=r.pop(),0==r.length&&delete this.recyclerDic[n]),i||(i=e.newInstance(),this.rendererToClassMap[i.hashCode]=e),i&&i instanceof t.DisplayObject?(this._itemRendererSkinName&&this.setItemRenderSkinName(i),this._addToDisplayList(i),i.setLayoutBoundsSize(0/0,0/0),i):null},n.prototype.setItemRenderSkinName=function(t){if(t){var e=t;if(e)e._skinNameExplicitlySet||(e.skinName=this._itemRendererSkinName);else{var i=t;i&&!i.skinName&&(i.skinName=this._itemRendererSkinName)}}},n.prototype.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){this.virtualLayoutUnderway=!1;var e=!1;for(var i in this.freeRenderers)if(this.freeRenderers[i].length>0){e=!0;break}e&&(this.cleanTimer||(this.cleanTimer=new t.Timer(3e3,1),this.cleanTimer.addEventListener(t.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}},n.prototype.cleanAllFreeRenderer=function(t){void 0===t&&(t=null);var e,i=this.freeRenderers;for(var n in i)for(var r=i[n],o=r.length,s=0;o>s;s++)e=r[s],e.visible=!0,this.recycle(e);this.freeRenderers=[],this.cleanFreeRenderer=!1},n.prototype.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:i.prototype.getElementIndicesInView.call(this)},n.prototype.changeUseVirtualLayout=function(){this.useVirtualLayoutChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties()},Object.defineProperty(n.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(t){this._dataProvider!=t&&(this.removeDataProviderListener(),this._dataProvider=t,this.dataProviderChanged=!0,this.cleanFreeRenderer=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),n.prototype.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)},n.prototype.onCollectionChange=function(t){switch(t.kind){case e.CollectionEventKind.ADD:this.itemAddedHandler(t.items,t.location);break;case e.CollectionEventKind.MOVE:this.itemMovedHandler(t.items[0],t.location,t.oldLocation);break;case e.CollectionEventKind.REMOVE:this.itemRemovedHandler(t.items,t.location);break;case e.CollectionEventKind.UPDATE:this.itemUpdatedHandler(t.items[0],t.location);break;case e.CollectionEventKind.REPLACE:this.itemRemoved(t.oldItems[0],t.location),this.itemAdded(t.items[0],t.location);break;case e.CollectionEventKind.RESET:case e.CollectionEventKind.REFRESH:if(this.layout&&this.layout.useVirtualLayout)for(var i in this.indexToRenderer){var n=parseInt(i);this.freeRendererByIndex(n)}this.dataProviderChanged=!0,this.invalidateProperties()}this.invalidateSize(),this.invalidateDisplayList()},n.prototype.itemAddedHandler=function(t,e){for(var i=t.length,n=0;i>n;n++)this.itemAdded(t[n],e+n);this.resetRenderersIndices()},n.prototype.itemMovedHandler=function(t,e,i){this.itemRemoved(t,i),this.itemAdded(t,e),this.resetRenderersIndices()},n.prototype.itemRemovedHandler=function(t,e){for(var i=t.length,n=i-1;n>=0;n--)this.itemRemoved(t[n],e+n);this.resetRenderersIndices()},n.prototype.itemAdded=function(t,i){if(this.layout&&this.layout.elementAdded(i),this.layout&&this.layout.useVirtualLayout){var n=this.virtualRendererIndices;if(n){for(var r=n.length,o=0;r>o;o++){var s=n[o];s>=i&&(n[o]=s+1)}this.indexToRenderer.splice(i,0,null)}}else{var a=this.itemToRendererClass(t),h=this.createOneRenderer(a);this.indexToRenderer.splice(i,0,h),h&&(this.updateRenderer(h,i,t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,h,i,t))}},n.prototype.itemRemoved=function(i,n){this.layout&&this.layout.elementRemoved(n);var r=this.virtualRendererIndices;if(r&&r.length>0){for(var o=-1,s=r.length,a=0;s>a;a++){var h=r[a];h==n?o=a:h>n&&(r[a]=h-1)}-1!=o&&r.splice(o,1)}var l=this.indexToRenderer[n];this.indexToRenderer.length>n&&this.indexToRenderer.splice(n,1),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,l,n,i),l&&l instanceof t.DisplayObject&&this.recycle(l)},n.prototype.recycle=function(t){this._removeFromDisplayList(t),"ownerChanged"in t&&t.ownerChanged(null);var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.recyclerDic[i]||(this.recyclerDic[i]=[]),this.recyclerDic[i].push(t)},n.prototype.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var t=this.virtualRendererIndices,e=t.length,i=0;e>i;i++){var n=t[i];this.resetRendererItemIndex(n)}else for(var r=this.indexToRenderer.length,n=0;r>n;n++)this.resetRendererItemIndex(n)},n.prototype.itemUpdatedHandler=function(t,e){if(!this.renderersBeingUpdated){var i=this.indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},n.prototype.resetRendererItemIndex=function(t){var e=this.indexToRenderer[t];e&&(e.itemIndex=t)},Object.defineProperty(n.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(t){this._itemRenderer!==t&&(this._itemRenderer=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemRendererSkinName",{get:function(){return this._itemRendererSkinName},set:function(t){this._itemRendererSkinName!=t&&(this._itemRendererSkinName=t,this._itemRendererSkinName&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemRendererFunction",{get:function(){return this._itemRendererFunction},set:function(t){this._itemRendererFunction!=t&&(this._itemRendererFunction=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),n.prototype.itemToRendererClass=function(t){var e;return null!=this._itemRendererFunction?(e=this._itemRendererFunction(t),e||(e=this._itemRenderer)):e=this._itemRenderer,e?e:n.defaultRendererFactory},n.prototype.createChildren=function(){if(!this.layout){var n=new e.VerticalLayout;n.gap=0,n.horizontalAlign=t.HorizontalAlign.CONTENT_JUSTIFY,this.layout=n}i.prototype.createChildren.call(this)
},n.prototype.commitProperties=function(){if((this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)&&(this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.useVirtualLayoutChanged=!1,this.itemRendererChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0)),i.prototype.commitProperties.call(this),this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())),this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=!1;for(var t=this.indexToRenderer.length,n=0;t>n;n++)this.setItemRenderSkinName(this.indexToRenderer[n]);var r=this.freeRenderers;for(var o in r){var s=r[o];if(s){t=s.length;for(var n=0;t>n;n++)this.setItemRenderSkinName(s[n])}}}},n.prototype.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement(),i.prototype.measure.call(this)},n.prototype.updateDisplayList=function(t,e){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=!0,this.ensureTypicalLayoutElement()),i.prototype.updateDisplayList.call(this,t,e),this.virtualLayoutUnderway&&this.finishVirtualLayout()},n.prototype.ensureTypicalLayoutElement=function(){this.layout.typicalLayoutRect||this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())},n.prototype.measureRendererSize=function(){if(!this.typicalItem)return void this.setTypicalLayoutRect(null);var e=this.itemToRendererClass(this.typicalItem),i=this.createOneRenderer(e);if(!i)return void this.setTypicalLayoutRect(null);this.createNewRendererFlag=!0,this.updateRenderer(i,0,this.typicalItem),"validateNow"in i&&i.validateNow();var n=new t.Rectangle(0,0,i.preferredWidth,i.preferredHeight);this.recycle(i),this.setTypicalLayoutRect(n),this.createNewRendererFlag=!1},n.prototype.setTypicalLayoutRect=function(t){this.typicalLayoutRect=t,this.layout&&(this.layout.typicalLayoutRect=t)},n.prototype.removeAllRenderers=function(){for(var t,i=this.indexToRenderer.length,n=0;i>n;n++)t=this.indexToRenderer[n],t&&(this.recycle(t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,t,t.itemIndex,t.data));this.indexToRenderer=[],this.virtualRendererIndices=null,this.cleanFreeRenderer&&this.cleanAllFreeRenderer()},n.prototype.createRenderers=function(){if(this._dataProvider)for(var t=0,i=this._dataProvider.length,n=0;i>n;n++){var r=this._dataProvider.getItemAt(n),o=this.itemToRendererClass(r),s=this.createOneRenderer(o);s&&(this.indexToRenderer[t]=s,this.updateRenderer(s,t,r),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,s,t,r),t++)}},n.prototype.updateRenderer=function(t,e,i){return this.renderersBeingUpdated=!0,this._rendererOwner?t=this._rendererOwner.updateRenderer(t,e,i):("ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i),this.renderersBeingUpdated=!1,t},n.prototype.itemToLabel=function(t){return t?t.toString():" "},n.prototype.getElementAt=function(t){return this.indexToRenderer[t]},n.prototype.getElementIndex=function(t){return t?this.indexToRenderer.indexOf(t):-1},Object.defineProperty(n.prototype,"numElements",{get:function(){return this._dataProvider?this._dataProvider.length:0},enumerable:!0,configurable:!0}),n.prototype.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},n.prototype.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},n.prototype.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},n.prototype.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},n.prototype.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},n.prototype.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},n.prototype.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n}(e.GroupBase);i.defaultRendererFactory=new e.ClassFactory(e.ItemRenderer),e.DataGroup=i,__reflect(i.prototype,"egret.gui.DataGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){var e=i.call(this,t)||this;return e.started=!1,e.instanceStartTime=0,e.currentValues={rotation:0/0,scaleX:0/0,scaleY:0/0,translationX:0/0,translationY:0/0},e.initialized=!1,e}return __extends(n,i),n.prototype.startEffect=function(){this.started||(this.started=!0,i.prototype.startEffect.call(this))},n.prototype.insertKeyframe=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1),e.time+=i;for(var r=0;r<t.length;r++)if(t[r].time>=e.time)return void(t[r].time==e.time?n?(e.time+=.01,t.splice(r+1,0,e)):(e.time-=.01,t.splice(r,0,e)):t.splice(r,0,e));t.push(e)},n.prototype.addMotionPath=function(t,e){void 0===e&&(e=0);var i=!1;if(this.motionPaths){var n=0,r=0,o=void 0,s=this.motionPaths.length;if(e<this.instanceStartTime){var a=this.instanceStartTime-e;for(n=0;s>n;n++)for(o=this.motionPaths[n],r=0;r<o.keyframes.length;r++)o.keyframes[r].time+=a;this.instanceStartTime=e}for(n=0;s>n;n++)if(o=this.motionPaths[n],o.property==t.property){for(r=0;r<t.keyframes.length;r++)this.insertKeyframe(o.keyframes,t.keyframes[r],e-this.instanceStartTime,0==r);i=!0;break}}else this.motionPaths=[],this.instanceStartTime=e;if(!i){if(e>this.instanceStartTime)for(var r=0;r<t.keyframes.length;r++)t.keyframes[r].time+=e-this.instanceStartTime;this.motionPaths.push(t)}for(var h=this.motionPaths.length,n=0;h>n;n++){var o=this.motionPaths[n],l=o.keyframes[o.keyframes.length-1];isNaN(l.time)||(this.duration=Math.max(this.duration,l.time))}},n.prototype.play=function(){if(this.motionPaths){var t=0,e=0;this.updateTransformCenter();var n=0!=this.transformCenter.x||0!=this.transformCenter.y;for(t=0;t<this.motionPaths.length;++t){var r=this.motionPaths[t];if(n&&("translationX"==r.property||"translationY"==r.property))for(e=0;e<r.keyframes.length;++e){var o=r.keyframes[e];this._isValidValue(o.value)&&("translationX"==r.property?o.value+=this.transformCenter.x:o.value+=this.transformCenter.y)}}}i.prototype.play.call(this)},n.prototype.animationEnd=function(t){this.started=!1,i.prototype.animationEnd.call(this,t)},n.prototype.updateTransformCenter=function(){this.transformCenter||(this.transformCenter=new t.Point(0,0)),this.autoCenterTransform&&(this.transformCenter.x=this.target.width/2,this.transformCenter.y=this.target.height/2)},n.prototype.getCurrentValue=function(t){switch(t){case"translationX":case"translationY":this.updateTransformCenter();var n=e.TransformUtil.transformPointToParent(this.target,this.transformCenter);if("translationX"==t)return n.x;if("translationY"==t)return n.y;break;default:return i.prototype.getCurrentValue.call(this,t)}},n.prototype.applyValues=function(t){for(var i,r,o,s,a=0;a<this.motionPaths.length;++a)void 0!==this.currentValues[this.motionPaths[a].property]?this.currentValues[this.motionPaths[a].property]=t.currentValue[this.motionPaths[a].property]:this.setValue(this.motionPaths[a].property,t.currentValue[this.motionPaths[a].property]);s=isNaN(this.currentValues.rotation)?this.getCurrentValue("rotation"):this.currentValues.rotation,i=isNaN(this.currentValues.scaleX)?this.getCurrentValue("scaleX"):this.currentValues.scaleX,r=isNaN(this.currentValues.scaleY)?this.getCurrentValue("scaleY"):this.currentValues.scaleY,n.position.x=isNaN(this.currentValues.translationX)?this.getCurrentValue("translationX"):this.currentValues.translationX,n.position.y=isNaN(this.currentValues.translationY)?this.getCurrentValue("translationY"):this.currentValues.translationY,this.lastTranslationPoint||(this.lastTranslationPoint=n.position.clone()),isNaN(this.currentValues.translationX)&&Math.abs(n.position.x-this.lastTranslationPoint.x)<.1&&(n.position.x=this.lastTranslationPoint.x),isNaN(this.currentValues.translationY)&&Math.abs(n.position.y-this.lastTranslationPoint.y)<.1&&(n.position.y=this.lastTranslationPoint.y),this.lastTranslationPoint.x=n.position.x,this.lastTranslationPoint.y=n.position.y,o=n.position,e.TransformUtil.transformAround(this.target,this.transformCenter,o,i,r,s)},n}(e.AnimateInstance);i.position=new t.Point,e.AnimateTransformInstance=i,__reflect(i.prototype,"egret.gui.AnimateTransformInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.UIComponent);t.Spacer=e,__reflect(e.prototype,"egret.gui.Spacer")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),i.prototype.play=function(){var i=this.alphaFrom,n=this.alphaTo;"visible"in this.target&&!this.target.visible&&(isNaN(i)&&(i=this.target.alpha),isNaN(n)&&(n=this.target.alpha),0==i&&0!=n&&(this.target.alpha=0,this.target.visible=!0)),this.motionPaths=[new t.MotionPath("alpha")],this.motionPaths[0].keyframes=[new t.Keyframe(0,this.alphaFrom),new t.Keyframe(this.duration,this.alphaTo)],e.prototype.play.call(this)},i}(t.AnimateInstance);t.FadeInstance=e,__reflect(e.prototype,"egret.gui.FadeInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t){var i=e.call(this,t)||this;return i.isReversed=!1,i}return __extends(i,e),Object.defineProperty(i.prototype,"_durationWithoutRepeat",{get:function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t=Math.max(n[0]._actualDuration,t)}return t},enumerable:!0,configurable:!0}),i.prototype._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i=this.effect.compositeDuration,n=i+this.startDelay+this.repeatDelay,r=i+this.repeatDelay,o=n+r*(this.repeatCount-1);if(n>=t)e=Math.min(t-this.startDelay,i),this._playCount=1;else if(t>=o&&0!=this.repeatCount)e=i,this._playCount=this.repeatCount;else{var s=t-n;e=s%r,this._playCount=1+s/r}for(var a=0;a<this._childSets.length;a++)for(var h=this._childSets[a],l=h.length,p=0;l>p;p++)h[p].playheadTime=this.playReversed?Math.max(0,e-(this._durationWithoutRepeat-h[p]._actualDuration)):e;if(this.playReversed&&null!=this.replayEffectQueue&&this.replayEffectQueue.length>0)for(var u=this._durationWithoutRepeat-this.playheadTime,d=this.replayEffectQueue.length,a=d-1;a>=0;a--){var c=this.replayEffectQueue[a];u<=c._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(c),this.replayEffectQueue.splice(a,1),c.playReversed=this.playReversed,c.startEffect())}},i.prototype.play=function(){this.doneEffectQueue=[],this._activeEffectQueue=[],this.replayEffectQueue=[],e.prototype.play.call(this);var t=0,i=0;for(t=this._childSets.length,i=0;t>i;i++)for(var n=this._childSets[i],r=n.length,o=0;r>o&&null!=this._activeEffectQueue;o++){var s=n[o];this.playReversed&&s._actualDuration<this._durationWithoutRepeat?(this.replayEffectQueue.push(s),this.startTimer()):(s.playReversed=this.playReversed,this._activeEffectQueue.push(s))}if(this._activeEffectQueue.length>0){var a=this._activeEffectQueue.slice(0);for(i=0;i<a.length;i++)a[i].startEffect()}},i.prototype.pause=function(){if(e.prototype.pause.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].pause()},i.prototype.stop=function(){if(this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].stop()}e.prototype.stop.call(this)},i.prototype.resume=function(){if(e.prototype.resume.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].resume()},i.prototype.reverse=function(){e.prototype.reverse.call(this);var t=0,i=0;if(this.isReversed){for(t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.stopTimer()}else{for(this.replayEffectQueue=this.doneEffectQueue.splice(0),t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.startTimer()}this.isReversed=!this.isReversed},i.prototype.end=function(){if(this._endEffectCalled=!0,this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].end()}e.prototype.end.call(this)},i.prototype._onEffectEnd=function(t){if(!this._endEffectCalled&&null!=this._activeEffectQueue){for(var e=this._activeEffectQueue.length,i=0;e>i;i++)if(t==this._activeEffectQueue[i]){this.doneEffectQueue.push(t),this._activeEffectQueue.splice(i,1);break}1==e&&this.finishRepeat()}},i.prototype.startTimer=function(){this.timer||(this.timer=new t.Timer(10),this.timer.addEventListener(t.TimerEvent.TIMER,this.timerHandler,this)),this.timer.start()},i.prototype.stopTimer=function(){this.timer&&this.timer.reset()},i.prototype.timerHandler=function(t){var e=this._durationWithoutRepeat-this.playheadTime,i=this.replayEffectQueue.length;if(0==i)return void this.stopTimer();for(var n=i-1;n>=0;n--){var r=this.replayEffectQueue[n];e<=r._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(r),this.replayEffectQueue.splice(n,1),r.playReversed=this.playReversed,r.startEffect())}},i}(e.CompositeEffectInstance);e.ParallelInstance=i,__reflect(i.prototype,"egret.gui.ParallelInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.currentInstanceDuration=0,i.currentSetIndex=-1,i.isPaused=!1,i}return __extends(e,t),Object.defineProperty(e.prototype,"_durationWithoutRepeat",{get:function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t+=n[0]._actualDuration}return t},enumerable:!0,configurable:!0}),e.prototype._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i,n,r,o=0,s=this.effect.compositeDuration,a=s+this.startDelay+this.repeatDelay,h=s+this.repeatDelay,l=a+h*(this.repeatCount-1);if(a>=t)r=Math.min(t-this.startDelay,s),this._playCount=1;else if(t>=l&&0!=this.repeatCount)r=s,this._playCount=this.repeatCount;else{var p=t-a;r=p%h,r=Math.min(r,s),this._playCount=1+p/h}if(this._activeEffectQueue&&this._activeEffectQueue.length>0){var u=0,d=this._activeEffectQueue.length;for(e=0;d>e;++e){var c=this.playReversed?d-1-e:e,_=void 0,g=u,f=u+this._childSets[c][0]._actualDuration;if(u=f,r>=g&&f>=r){if(this._endEffectCalled=!0,this.currentSetIndex==c)for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=r-g;else if(c<this.currentSetIndex){if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].end();for(i=this.currentSetIndex-1;i>c;--i)for(_=this._activeEffectQueue[i],n=0;n<_.length;n++)this.playReversed&&(_[n].playReversed=!0),_[n].play(),_[n].end()}else{for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(i=this.currentSetIndex-1;i>c;--i)for(_=this._activeEffectQueue[i],n=0;n<_.length;n++)_[n].play(),_[n].stop()}for(this.currentSetIndex=c,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=r-g,this.isPaused&&this.currentSet[n].pause()}else{if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(n=this.currentSetIndex+1;c>n;n++)for(_=this._activeEffectQueue[n],o=0;o<_.length;o++)_[o].playheadTime=0,_[o].stop()}else{var v=this.currentSet.concat();for(i=0;i<v.length;i++)v[i].end();for(n=this.currentSetIndex+1;c>n;n++)for(_=this._activeEffectQueue[n],o=0;o<_.length;o++)_[o].play(),_[o].end()}for(this.currentSetIndex=c,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=r-g,this.isPaused&&this.currentSet[n].pause()}this._endEffectCalled=!1;break}}}},e.prototype.play=function(){this.isPaused=!1,this._activeEffectQueue=[],this.currentSetIndex=this.playReversed?this._childSets.length:-1;var e=0,i=0;for(e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];this._activeEffectQueue.push(n)}return t.prototype.play.call(this),0==this._activeEffectQueue.length?void this.finishRepeat():void this.playNextChildSet()},e.prototype.pause=function(){if(t.prototype.pause.call(this),this.isPaused=!0,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].pause()},e.prototype.stop=function(){if(this.isPaused=!1,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,r=0;n>r;r++)i[r].stop();for(var o=e.length,s=this.currentSetIndex+1;o>s;s++)for(var a=e[s],h=a.length,l=0;h>l;l++){var p=a[l];p.effect.deleteInstance(p)}}t.prototype.stop.call(this)},e.prototype.resume=function(){if(t.prototype.resume.call(this),this.isPaused=!1,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].resume()},e.prototype.reverse=function(){if(t.prototype.reverse.call(this),this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].reverse()},e.prototype.end=function(){if(this._endEffectCalled=!0,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,r=0;n>r;r++)i[r].end();for(var o=e.length,s=this.currentSetIndex+1;o>s;s++)for(var a=e[s],h=a.length,l=0;h>l;l++)a[l]._playWithNoDuration()}this.isPaused=!1,t.prototype.end.call(this)},e.prototype._onEffectEnd=function(t){for(var e=0;e<this.currentSet.length;e++)if(t==this.currentSet[e]){this.currentSet.splice(e,1);break}this._endEffectCalled||0==this.currentSet.length&&0==this.playNextChildSet()&&this.finishRepeat()},e.prototype.playCurrentChildSet=function(){var t,e=this._activeEffectQueue[this.currentSetIndex];this.currentSet=[];for(var i=0;i<e.length;i++)t=e[i],this.currentSet.push(t),t.playReversed=this.playReversed,t.startEffect();this.currentInstanceDuration+=t._actualDuration},e.prototype.playNextChildSet=function(t){if(void 0===t&&(t=0),this.playReversed){if(this.currentSetIndex--<=0)return!1}else if(!this._activeEffectQueue||this.currentSetIndex++>=this._activeEffectQueue.length-1)return!1;return this.playCurrentChildSet(),!0},e}(t.CompositeEffectInstance);t.SequenceInstance=e,__reflect(e.prototype,"egret.gui.SequenceInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}return e.transformAround=function(i,n,r,o,s,a){void 0===r&&(r=null),void 0===o&&(o=0/0),void 0===s&&(s=0/0),void 0===a&&(a=0/0);var h;if(null==r&&null!=n&&(t.$TempPoint.x=n.x,t.$TempPoint.y=n.y,h=e.transformPointToParent(i,t.$TempPoint)),isNaN(a)||(i.rotation=a),isNaN(o)||(i.scaleX=o),isNaN(s)||(i.scaleY=s),null==n)null!=r&&(i.x=r.x,i.y=r.y);else{t.$TempPoint.x=n.x,t.$TempPoint.y=n.y;var l=e.transformPointToParent(i,t.$TempPoint);null!=r?(i.x+=r.x-l.x,i.y+=r.y-l.y):(i.x+=h.x-l.x,i.y+=h.y-l.y)}},e.transformPointToParent=function(e,i){void 0===i&&(i=null);var n=new t.Point;return i&&(n.x=i.x,n.y=i.y),e.parent&&(e.localToGlobal(n.x,n.y,n),e.parent.globalToLocal(n.x,n.y,n)),n},e}();e.TransformUtil=i,__reflect(i.prototype,"egret.gui.TransformUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t.getInstance=function(){return t.theInstance||(t.theInstance=new t),t.theInstance},t.prototype.interpolate=function(t,e,i){return 0==t?e:1==t?i:e+t*(i-e)},t.prototype.increment=function(t,e){return t+e},t.prototype.decrement=function(t,e){return t-e},t}();t.NumberInterpolator=e,__reflect(e.prototype,"egret.gui.NumberInterpolator",["egret.gui.IInterpolator"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=-1);var o=e.call(this,t,i,n)||this;return o.detail=null,o.detail=r,o}return __extends(i,e),i.dispatchCloseEvent=function(e,n,r){void 0===r&&(r=-1);var o=t.Event.create(i,n);o.detail=r;var s=e.dispatchEvent(o);return t.Event.release(o),s},i.prototype.clean=function(){e.prototype.clean.call(this),this.detail=null},i}(t.Event);i.CLOSE="close",e.CloseEvent=i,__reflect(i.prototype,"egret.gui.CloseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o,s,a,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===s&&(s=-1),void 0===a&&(a=null),void 0===h&&(h=null);var l=e.call(this,t,i,n)||this;return l.kind=null,l.items=null,l.oldItems=null,l.kind=r,l.location=o,l.oldLocation=s,l.items=a?a:[],l.oldItems=h?h:[],l}return __extends(i,e),i.dispatchCollectionEvent=function(e,n,r,o,s,a,h){void 0===r&&(r=null),void 0===o&&(o=-1),void 0===s&&(s=-1),void 0===a&&(a=null),void 0===h&&(h=null);var l=t.Event.create(i,n);l.kind=r,l.location=o,l.oldLocation=s,l.items=a,l.oldItems=h;var p=e.dispatchEvent(l);return t.Event.release(l),p},i.prototype.clean=function(){e.prototype.clean.call(this),this.kind=null,this.items=null,this.oldItems=null,this.oldLocation=null},i}(t.Event);i.COLLECTION_CHANGE="collectionChange",e.CollectionEvent=i,__reflect(i.prototype,"egret.gui.CollectionEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.ADD="add",e.MOVE="move",e.REFRESH="refresh",e.REMOVE="remove",e.REPLACE="replace",e.RESET="reset",e.UPDATE="update",e.OPEN="open",e.CLOSE="close",t.CollectionEventKind=e,__reflect(e.prototype,"egret.gui.CollectionEventKind")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null);var o=t.call(this,e,i,n)||this;return o.effectInstance=r,o}return __extends(e,t),e}(t.Event);i.EFFECT_END="effectEnd",i.EFFECT_STOP="effectStop",i.EFFECT_START="effectStart",i.EFFECT_REPEAT="effectRepeat",i.EFFECT_UPDATE="effectUpdate",e.EffectEvent=i,__reflect(i.prototype,"egret.gui.EffectEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=-1);var s=e.call(this,t,i,n)||this;return s.index=0/0,s.element=null,s.element=r,s.index=o,s}return __extends(i,e),i.dispatchElementExistenceEvent=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=-1);var s=t.Event.create(i,n);s.element=r,s.index=o;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.prototype.clean=function(){e.prototype.clean.call(this),this.element=null,this.index=0/0},i}(t.Event);i.ELEMENT_ADD="elementAdd",i.ELEMENT_REMOVE="elementRemove",e.ElementExistenceEvent=i,__reflect(i.prototype,"egret.gui.ElementExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=-1),void 0===o&&(o=-1);var s=e.call(this,t,i,n)||this;return s.newIndex=0/0,s.oldIndex=0/0,s.oldIndex=r,s.newIndex=o,s}return __extends(i,e),i.dispatchIndexChangeEvent=function(e,n,r,o,s){void 0===r&&(r=-1),void 0===o&&(o=-1),void 0===s&&(s=!1);var a=t.Event.create(i,n);a.oldIndex=r,a.newIndex=o;var h=e.dispatchEvent(a);return t.Event.release(a),h},i.prototype.clean=function(){e.prototype.clean.call(this),this.oldIndex=0/0,this.newIndex=0/0},i}(t.Event);i.CHANGE="change",i.CHANGING="changing",e.IndexChangeEvent=i,__reflect(i.prototype,"egret.gui.IndexChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o,s){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0);var a=e.call(this,t,i,n,r,o,s)||this;return a.item=null,a.itemRenderer=null,a.itemIndex=0/0,a}return __extends(i,e),i.dispatchListEvent=function(e,n,r,o,s,a){void 0===r&&(r=null),void 0===o&&(o=-1),void 0===s&&(s=null),void 0===a&&(a=null);var h=t.Event.create(i,n);h.touchPointID=r.touchPointID,h.$stageX=r.stageX,h.$stageY=r.stageY,h.touchDown=r.touchDown,h.itemIndex=o,h.item=s,h.itemRenderer=a;var l=e.dispatchEvent(h);return t.Event.release(h),l},i.prototype.clean=function(){e.prototype.clean.call(this),this.item=null,this.itemRenderer=null,this.itemIndex=0/0},i}(t.TouchEvent);i.ITEM_ROLL_OUT="itemRollOut",i.ITEM_ROLL_OVER="itemRollOver",i.ITEM_CLICK="itemClick",e.ListEvent=i,__reflect(i.prototype,"egret.gui.ListEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e.call(this,t,i,n)||this;return r.oldX=0/0,r.oldY=0/0,r}return __extends(i,e),i.dispatchMoveEvent=function(e,n,r){void 0===n&&(n=0/0),void 0===r&&(r=0/0);var o=t.Event.create(i,i.MOVE);o.oldX=n,o.oldY=r;var s=e.dispatchEvent(o);return t.Event.release(o),s},i}(t.Event);i.MOVE="move",e.MoveEvent=i,__reflect(i.prototype,"egret.gui.MoveEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=!1);var s=e.call(this,t,i,n)||this;return s.popUp=null,s.modal=!1,s.popUp=r,s.modal=o,s}return __extends(i,e),i.dispatchPopUpEvent=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=!1);var s=t.Event.create(i,n);s.popUp=r,s.modal=o;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.prototype.clean=function(){e.prototype.clean.call(this),this.popUp=null},i}(t.Event);i.ADD_POPUP="addPopUp",i.REMOVE_POPUP="removePopUp",i.BRING_TO_FRONT="bringToFront",e.PopUpEvent=i,__reflect(i.prototype,"egret.gui.PopUpEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o,s,a,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===h&&(h=null);var l=e.call(this,t,i,n)||this;return l.kind=null,l.newValue=null,l.oldValue=null,l.property=null,l.source=null,l.kind=r,l.property=o,l.oldValue=s,l.newValue=a,l.source=h,l}return __extends(i,e),i.dispatchPropertyChangeEvent=function(e,n,r,o,s,a){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null);var h=t.Event.create(i,i.PROPERTY_CHANGE);h.kind=n,h.property=r,h.oldValue=o,h.newValue=s,h.source=a;var l=e.dispatchEvent(h);return t.Event.release(h),l},i.prototype.clean=function(){e.prototype.clean.call(this),this.kind=null,this.newValue=null,this.oldValue=null,this.property=null,this.source=null},i}(t.Event);i.PROPERTY_CHANGE="propertyChange",e.PropertyChangeEvent=i,__reflect(i.prototype,"egret.gui.PropertyChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.UPDATE="update",e.DELETE="delete",t.PropertyChangeEventKind=e,__reflect(e.prototype,"egret.gui.PropertyChangeEventKind")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=-1),void 0===s&&(s=null);var a=e.call(this,t,i,n)||this;return a.data=null,a.index=0/0,a.renderer=null,a.renderer=r,a.index=o,a.data=s,a}return __extends(i,e),i.dispatchRendererExistenceEvent=function(e,n,r,o,s){void 0===r&&(r=null),void 0===o&&(o=-1),void 0===s&&(s=null);var a=t.Event.create(i,n);a.renderer=r,a.index=o,a.data=s;var h=e.dispatchEvent(a);return t.Event.release(a),h},i.prototype.clean=function(){e.prototype.clean.call(this),this.data=null,this.index=0/0,this.renderer=null},i}(t.Event);i.RENDERER_ADD="rendererAdd",i.RENDERER_REMOVE="rendererRemove",e.RendererExistenceEvent=i,__reflect(i.prototype,"egret.gui.RendererExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e.call(this,t,i,n)||this;return r.oldHeight=0/0,r.oldWidth=0/0,r}return __extends(i,e),i.dispatchResizeEvent=function(e,n,r){void 0===n&&(n=0/0),void 0===r&&(r=0/0);var o=t.Event.create(i,i.RESIZE);o.oldWidth=n,o.oldHeight=r;var s=e.dispatchEvent(o);return t.Event.release(o),s},i}(t.Event);i.RESIZE="resize",e.ResizeEvent=i,__reflect(i.prototype,"egret.gui.ResizeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=null);var s=e.call(this,t,i,n)||this;return s.instance=null,s.partName=null,s.partName=r,s.instance=o,s}return __extends(i,e),i.dispatchSkinPartEvent=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var s=t.Event.create(i,n);s.partName=r,s.instance=o;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.prototype.clean=function(){e.prototype.clean.call(this),this.instance=null,this.partName=null},i}(t.Event);i.PART_ADDED="partAdded",i.PART_REMOVED="partRemoved",e.SkinPartEvent=i,__reflect(i.prototype,"egret.gui.SkinPartEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=null);var s=e.call(this,t,i,n)||this;return s.newState=null,s.oldState=null,s.oldState=r,s.newState=o,s}return __extends(i,e),i.dispatchStateChangeEvent=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var s=t.Event.create(i,n);s.oldState=r,s.newState=o;var a=e.dispatchEvent(s);return t.Event.release(s),a},i}(t.Event);i.CURRENT_STATE_CHANGE="currentStateChange",i.CURRENT_STATE_CHANGING="currentStateChanging",i.STATE_CHANGE_COMPLETE="stateChangeComplete",e.StateChangeEvent=i,__reflect(i.prototype,"egret.gui.StateChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)||this}return __extends(i,e),i.dispatchTrackBaseEvent=function(e,n){var r=t.Event.create(i,n),o=e.dispatchEvent(r);return t.Event.release(r),o},i}(t.Event);i.THUMB_DRAG="thumbDrag",i.THUMB_PRESS="thumbPress",i.THUMB_RELEASE="thumbRelease",e.TrackBaseEvent=i,__reflect(i.prototype,"egret.gui.TrackBaseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,r,o,s){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===r&&(r=-1),void 0===o&&(o=null),void 0===s&&(s=null);var a=e.call(this,t,i,n)||this;return a.item=null,a.itemRenderer=null,a.itemIndex=0/0,a.opening=!1,a.item=o,a.itemRenderer=s,a.itemIndex=r,a}return __extends(i,e),i.dispatchTreeEvent=function(e,n,r,o,s,a,h,l){void 0===r&&(r=-1),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=!1),void 0===h&&(h=!1),void 0===l&&(l=!1);var p=t.Event.create(i,n);p.itemIndex=r,p.item=o,p.itemRenderer=s,p.opening=a;var u=e.dispatchEvent(p);return t.Event.release(p),u},i.prototype.clean=function(){e.prototype.clean.call(this),this.item=null,this.itemRenderer=null},i}(t.Event);i.ITEM_CLOSE="itemClose",i.ITEM_OPEN="itemOpen",i.ITEM_OPENING="itemOpening",e.TreeEvent=i,__reflect(i.prototype,"egret.gui.TreeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)||this
}return __extends(i,e),i.dispatchUIEvent=function(e,n){var r=t.Event.create(i,n),o=e.dispatchEvent(r);return t.Event.release(r),o},i}(t.Event);i.INITIALIZE="initialize",i.CREATION_COMPLETE="creationComplete",i.UPDATE_COMPLETE="updateComplete",i.BUTTON_DOWN="buttonDown",i.CHANGE_END="changeEnd",i.CHANGE_START="changeStart",i.CHANGING="changing",i.VALUE_COMMIT="valueCommit",i.SKIN_CHANGED="skinChanged",i.CONTENT_CHANGED="contentChanged",i.OPEN="open",i.CLOSE="close",i.PLAY_COMPLETE="playComplete",e.UIEvent=i,__reflect(i.prototype,"egret.gui.UIEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t._mouseWheelSpeed=20,t}return __extends(i,e),Object.defineProperty(i.prototype,"useVirtualLayout",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mouseWheelSpeed",{get:function(){return this._mouseWheelSpeed},set:function(t){0==t&&(t=1),this._mouseWheelSpeed=t},enumerable:!0,configurable:!0}),i.prototype.getElementBoundsLeftOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.x-this._mouseWheelSpeed,i.right=e.x,i},i.prototype.getElementBoundsRightOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.right,i.right=e.right+this._mouseWheelSpeed,i},i.prototype.getElementBoundsAboveScrollRect=function(e){var i=new t.Rectangle;return i.y=e.y-this._mouseWheelSpeed,i.bottom=e.y,i},i.prototype.getElementBoundsBelowScrollRect=function(e){var i=new t.Rectangle;return i.y=e.bottom,i.bottom=e.bottom+this._mouseWheelSpeed,i},i.prototype.measure=function(){if(e.prototype.measure.call(this),null!=this.target){for(var t=0,i=0,n=this.target.numElements,r=0;n>r;r++){var o=this.target.getElementAt(r);if(o&&o.includeInLayout){var s=o.horizontalCenter,a=o.verticalCenter,h=o.left,l=o.right,p=o.top,u=o.bottom,d=void 0,c=void 0;isNaN(h)||isNaN(l)?isNaN(s)?isNaN(h)&&isNaN(l)?d=o.preferredX:(d=isNaN(h)?0:h,d+=isNaN(l)?0:l):d=2*Math.abs(s):d=h+l,isNaN(p)||isNaN(u)?isNaN(a)?isNaN(p)&&isNaN(u)?c=o.preferredY:(c=isNaN(p)?0:p,c+=isNaN(u)?0:u):c=2*Math.abs(a):c=p+u;var _=o.preferredWidth,g=o.preferredHeight;t=Math.ceil(Math.max(t,d+_)),i=Math.ceil(Math.max(i,c+g))}}this.target.measuredWidth=t,this.target.measuredHeight=i}},i.prototype.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),null!=this.target){for(var n=this.target.numElements,r=0,o=0,s=0;n>s;s++){var a=this.target.getElementAt(s);if(null!=a&&a.includeInLayout){var h=a.horizontalCenter,l=a.verticalCenter,p=a.left,u=a.right,d=a.top,c=a.bottom,_=a.percentWidth,g=a.percentHeight,f=0/0,v=0/0;isNaN(p)||isNaN(u)?isNaN(_)||(f=Math.round(t*Math.min(.01*_,1))):f=t-u-p,isNaN(d)||isNaN(c)?isNaN(g)||(v=Math.round(i*Math.min(.01*g,1))):v=i-c-d,a.setLayoutBoundsSize(f,v);var y=a.layoutBoundsWidth,m=a.layoutBoundsHeight,E=0/0,C=0/0;E=isNaN(h)?isNaN(p)?isNaN(u)?a.layoutBoundsX:t-y-u:p:Math.round((t-y)/2+h),C=isNaN(l)?isNaN(d)?isNaN(c)?a.layoutBoundsY:i-m-c:d:Math.round((i-m)/2+l),a.setLayoutBoundsPosition(E,C),r=Math.max(r,E+y),o=Math.max(o,C+m)}}this.target.setContentSize(r,o)}},i}(e.LayoutBase);e.BasicLayout=i,__reflect(i.prototype,"egret.gui.BasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.LEFT="left",e.JUSTIFY_USING_GAP="justifyUsingGap",e.JUSTIFY_USING_WIDTH="justifyUsingWidth",t.ColumnAlign=e,__reflect(e.prototype,"egret.gui.ColumnAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var i=e.call(this)||this;return i._horizontalAlign=t.HorizontalAlign.LEFT,i._verticalAlign=t.VerticalAlign.TOP,i._gap=6,i._padding=0,i._paddingLeft=0/0,i._paddingRight=0/0,i._paddingTop=0/0,i._paddingBottom=0/0,i.elementSizeTable=[],i.startIndex=-1,i.endIndex=-1,i.indexInViewCalculated=!1,i.maxElementHeight=0,i}return __extends(i,e),Object.defineProperty(i.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),i.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},i.prototype.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},i.prototype.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=this.getElementTotalSize(),n=Math.max(this.maxElementHeight,t),r=this.target.getElementIndicesInView(),o=r.length,s=0;o>s;s++){var a=r[s],h=this.target.getElementAt(a);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,p=h.preferredHeight;i+=l,i-=isNaN(this.elementSizeTable[a])?e:this.elementSizeTable[a],n=Math.max(n,p)}}var u=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?u:this._paddingLeft,c=isNaN(this._paddingRight)?u:this._paddingRight,_=isNaN(this._paddingTop)?u:this._paddingTop,g=isNaN(this._paddingBottom)?u:this._paddingBottom,f=d+c,v=_+g;this.target.measuredWidth=Math.ceil(i+f),this.target.measuredHeight=Math.ceil(n+v)},i.prototype.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,r=0;t>r;r++){var o=this.target.getElementAt(r);if(o&&o.includeInLayout){var s=o.preferredWidth,a=o.preferredHeight;i+=s,n=Math.max(n,a)}else e--}var h=isNaN(this._gap)?0:this._gap;i+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,p=isNaN(this._paddingLeft)?l:this._paddingLeft,u=isNaN(this._paddingRight)?l:this._paddingRight,d=isNaN(this._paddingTop)?l:this._paddingTop,c=isNaN(this._paddingBottom)?l:this._paddingBottom,_=p+u,g=d+c;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},i.prototype.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?n:this._paddingLeft,o=isNaN(this._paddingRight)?n:this._paddingRight,s=isNaN(this._paddingTop)?n:this._paddingTop,a=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(r+o),Math.ceil(s+a))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},i.prototype.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var r=void 0;return this.target&&(r=this.target.getElementAt(t)),r?r.x:i}for(var o=this.typicalLayoutRect?this.typicalLayoutRect.width:71,s=i,a=0;t>a;a++){var h=this.elementSizeTable[a];isNaN(h)&&(h=o),s+=h+n}return s},i.prototype.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.width:71),e}return this.target?this.target.getElementAt(t).width:0},i.prototype.getElementTotalSize=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.width:71,e=isNaN(this._gap)?0:this._gap,i=0,n=this.target.numElements,r=0;n>r;r++){var o=this.elementSizeTable[r];isNaN(o)&&(o=t),i+=o+e}return i-=e},i.prototype.elementAdded=function(t){if(this.useVirtualLayout){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.width:71;this.elementSizeTable.splice(t,0,i)}},i.prototype.elementRemoved=function(t){this.useVirtualLayout&&(e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1))},i.prototype.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)},i.prototype.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),r=this.getStartPosition(n),o=this.getElementSize(n),s=isNaN(this._gap)?0:this._gap;return t>=r&&r+o+s>t?n:e==i?-1:r>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},i.prototype.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},i.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?t:this._paddingLeft,i=isNaN(this._paddingRight)?t:this._paddingRight,n=(isNaN(this._paddingTop)?t:this._paddingTop,isNaN(this._paddingBottom)?t:this._paddingBottom,this.target.numElements),r=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,o=this.target.horizontalScrollPosition;if(o>r-i)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.target.horizontalScrollPosition+this.target.width;if(e>s)return this.startIndex=-1,this.endIndex=-1,!1;var a=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(o,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(s,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),a!=this.startIndex||h!=this.endIndex},i.prototype.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n,r=isNaN(this._padding)?0:this._padding,o=isNaN(this._paddingRight)?r:this._paddingRight,s=isNaN(this._paddingTop)?r:this._paddingTop,a=isNaN(this._paddingBottom)?r:this._paddingBottom,h=isNaN(this._gap)?0:this._gap,l=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return n=this.getStartPosition(l)-h+o,void this.target.setContentSize(Math.ceil(n),this.target.contentHeight);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var p=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,u=this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,d=0;p||(this._verticalAlign==t.VerticalAlign.MIDDLE?d=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(d=1));var c,_=Math.max(0,i-s-a),g=Math.ceil(_),f=this.typicalLayoutRect?this.typicalLayoutRect.height:22,v=this.typicalLayoutRect?this.typicalLayoutRect.width:71,y=Math.max(f,this.maxElementHeight);if(u){for(var m=this.startIndex;m<=this.endIndex;m++)c=this.target.getVirtualElementAt(m),c&&c.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,c.preferredHeight));g=Math.ceil(Math.max(_,this.maxElementHeight))}for(var E,C=0,P=0,S=0,b=!1,I=this.startIndex;I<=this.endIndex;I++){var T=0;c=this.target.getVirtualElementAt(I),c&&(c.includeInLayout?(p?(P=s,c.setLayoutBoundsSize(0/0,g)):(T=(_-c.layoutBoundsHeight)*d,T=T>0?T:0,P=s+T),u||(this.maxElementHeight=Math.max(this.maxElementHeight,c.preferredHeight)),S=Math.max(S,c.layoutBoundsHeight),b||(E=isNaN(this.elementSizeTable[I])?v:this.elementSizeTable[I],E!=c.layoutBoundsWidth&&(b=!0)),0==I&&this.elementSizeTable.length>0&&this.elementSizeTable[I]!=c.layoutBoundsWidth&&(this.typicalLayoutRect=null),this.elementSizeTable[I]=c.layoutBoundsWidth,C=this.getStartPosition(I),c.setLayoutBoundsPosition(Math.round(C),Math.round(P))):this.elementSizeTable[I]=0)}S+=s+a,n=this.getStartPosition(l)-h+o,this.target.setContentSize(Math.ceil(n),Math.ceil(S)),(b||y<this.maxElementHeight)&&this.target.invalidateSize()},i.prototype.updateDisplayListReal=function(e,r){var o=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?o:this._paddingLeft,a=isNaN(this._paddingRight)?o:this._paddingRight,h=isNaN(this._paddingTop)?o:this._paddingTop,l=isNaN(this._paddingBottom)?o:this._paddingBottom,p=isNaN(this._gap)?0:this._gap,u=Math.max(0,e-s-a),d=Math.max(0,r-h-l),c=this._horizontalAlign==t.HorizontalAlign.JUSTIFY,_=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,g=0;_||(this._verticalAlign==t.VerticalAlign.MIDDLE?g=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(g=1));var f,v,y,m=this.target.numElements,E=m,C=s,P=h,S=0,b=0,I=[],T=u;for(f=0;m>f;f++)v=this.target.getElementAt(f),v&&v.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,v.preferredHeight),c?S+=v.preferredWidth:isNaN(v.percentWidth)?T-=v.preferredWidth:(b+=v.percentWidth,y=new n,y.layoutElement=v,y.percent=v.percentWidth,y.min=v.minWidth,y.max=v.maxWidth,I.push(y))):E--;T-=p*(E-1),T=T>0?T:0;var x,L=u-S-p*(E-1),D=E,A=[];if(c){if(0>L){for(x=T/E,f=0;m>f;f++)if(v=this.target.getElementAt(f),v&&v.includeInLayout){var O=v.preferredWidth;x>=O&&(T-=O,D--)}T=T>0?T:0}}else if(b>0){i.flexChildrenProportionally(u,T,b,I);var R=0,N=I.length;for(f=0;N>f;f++){y=I[f];var w=Math.round(y.size+R);R+=y.size-w,A[y.layoutElement.hashCode]=w,T-=w}T=T>0?T:0}this._horizontalAlign==t.HorizontalAlign.CENTER?C=s+.5*T:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(C=s+T);var U=s,H=h,M=0,B=0,V=Math.ceil(d);this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(d,this.maxElementHeight)));var F,k,z=0;for(f=0;m>f;f++){var G=0;if(v=this.target.getElementAt(f),v&&v.includeInLayout){if(F=0/0,c?(k=0/0,L>0?k=T*v.preferredWidth/S:0>L&&v.preferredWidth>x&&(k=T/D),isNaN(k)||(F=Math.round(k+z),z+=k-F)):F=A[v.hashCode],_)P=h,v.setLayoutBoundsSize(F,V);else{var W=0/0;if(!isNaN(v.percentHeight)){var j=Math.min(100,v.percentHeight);W=Math.round(d*j*.01)}v.setLayoutBoundsSize(F,W),G=(d-v.layoutBoundsHeight)*g,G=G>0?G:0,P=h+G}v.setLayoutBoundsPosition(Math.round(C),Math.round(P)),M=Math.ceil(v.layoutBoundsWidth),B=Math.ceil(v.layoutBoundsHeight),U=Math.max(U,C+M),H=Math.max(H,P+B),C+=M+p}}this.target.setContentSize(Math.ceil(U+a),Math.ceil(H+l))},i.flexChildrenProportionally=function(t,e,i,n){var r,o=n.length;do{r=!0;var s=e-t*i/100;s>0?e-=s:s=0;for(var a=e/i,h=0;o>h;h++){var l=n[h],p=l.percent*a;if(p<l.min){var u=l.min;l.size=u,n[h]=n[--o],n[o]=l,i-=l.percent,s>=u?s-=u:(e-=u-s,s=0),r=!1;break}if(p>l.max){var d=l.max;l.size=d,n[h]=n[--o],n[o]=l,i-=l.percent,s>=d?s-=d:(e-=d-s,s=0),r=!1;break}l.size=p}}while(!r)},i}(e.LayoutBase);e.HorizontalLayout=i,__reflect(i.prototype,"egret.gui.HorizontalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}return t}();__reflect(n.prototype,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.TOP="top",e.JUSTIFY_USING_GAP="justifyUsingGap",e.JUSTIFY_USING_HEIGHT="justifyUsingHeight",t.RowAlign=e,__reflect(e.prototype,"egret.gui.RowAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var n=i.call(this)||this;return n.explicitHorizontalGap=0/0,n._horizontalGap=6,n.explicitVerticalGap=0/0,n._verticalGap=6,n._columnCount=-1,n._requestedColumnCount=0,n._rowCount=-1,n._requestedRowCount=0,n.explicitColumnWidth=0/0,n._columnWidth=0/0,n.explicitRowHeight=0/0,n._rowHeight=0/0,n._padding=0,n._paddingLeft=0/0,n._paddingRight=0/0,n._paddingTop=0/0,n._paddingBottom=0/0,n._horizontalAlign=t.HorizontalAlign.JUSTIFY,n._verticalAlign=t.VerticalAlign.JUSTIFY,n._columnAlign=e.ColumnAlign.LEFT,n._rowAlign=e.RowAlign.TOP,n._orientation=e.TileOrientation.ROWS,n.maxElementWidth=0,n.maxElementHeight=0,n.startIndex=-1,n.endIndex=-1,n.indexInViewCalculated=!1,n}return __extends(n,i),Object.defineProperty(n.prototype,"horizontalGap",{get:function(){return this._horizontalGap},set:function(t){t!=this._horizontalGap&&(this.explicitHorizontalGap=t,this._horizontalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalGap",{get:function(){return this._verticalGap},set:function(t){t!=this._verticalGap&&(this.explicitVerticalGap=t,this._verticalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"requestedColumnCount",{get:function(){return this._requestedColumnCount},set:function(t){this._requestedColumnCount!=t&&(this._requestedColumnCount=t,this._columnCount=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"requestedRowCount",{get:function(){return this._requestedRowCount},set:function(t){this._requestedRowCount!=t&&(this._requestedRowCount=t,this._rowCount=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(t){t!=this._columnWidth&&(this.explicitColumnWidth=t,this._columnWidth=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(t){t!=this._rowHeight&&(this.explicitRowHeight=t,this._rowHeight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnAlign",{get:function(){return this._columnAlign},set:function(t){this._columnAlign!=t&&(this._columnAlign=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowAlign",{get:function(){return this._rowAlign},set:function(t){this._rowAlign!=t&&(this._rowAlign=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!=t&&(this._orientation=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("orientationChanged")&&this.dispatchEventWith("orientationChanged"))},enumerable:!0,configurable:!0}),n.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},n.prototype.measure=function(){if(this.target){var t=this._columnCount,e=this._rowCount,i=this._columnWidth,n=this._rowHeight,r=0,o=0;this.calculateRowAndColumn(this.target.$getExplicitWidth(),this.target.$getExplicitHeight());var s=this._requestedColumnCount>0?this._requestedColumnCount:this._columnCount,a=this._requestedRowCount>0?this._requestedRowCount:this._rowCount,h=isNaN(this._horizontalGap)?0:this._horizontalGap,l=isNaN(this._verticalGap)?0:this._verticalGap;s>0&&(r=s*(this._columnWidth+h)-h),a>0&&(o=a*(this._rowHeight+l)-l);var p=isNaN(this._padding)?0:this._padding,u=isNaN(this._paddingLeft)?p:this._paddingLeft,d=isNaN(this._paddingRight)?p:this._paddingRight,c=isNaN(this._paddingTop)?p:this._paddingTop,_=isNaN(this._paddingBottom)?p:this._paddingBottom,g=u+d,f=c+_;this.target.measuredWidth=Math.ceil(r+g),this.target.measuredHeight=Math.ceil(o+f),this._columnCount=t,this._rowCount=e,this._columnWidth=i,this._rowHeight=n}},n.prototype.calculateRowAndColumn=function(t,i){var n=isNaN(this._horizontalGap)?0:this._horizontalGap,r=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var o=this.target.numElements,s=o,a=0;s>a;a++){var h=this.target.getElementAt(a);h&&!h.includeInLayout&&o--}if(0==o)return void(this._rowCount=this._columnCount=0);(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize(),isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth,isNaN(this.explicitRowHeight)?this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;var l=this._columnWidth+n;0>=l&&(l=1);var p=this._rowHeight+r;0>=p&&(p=1);var u=this.orientation==e.TileOrientation.COLUMNS,d=!isNaN(t),c=!isNaN(i),_=isNaN(this._padding)?0:this._padding,g=isNaN(this._paddingLeft)?_:this._paddingLeft,f=isNaN(this._paddingRight)?_:this._paddingRight,v=isNaN(this._paddingTop)?_:this._paddingTop,y=isNaN(this._paddingBottom)?_:this._paddingBottom;if(this._requestedColumnCount>0||this._requestedRowCount>0)this._requestedRowCount>0&&(this._rowCount=Math.min(this._requestedRowCount,o)),this._requestedColumnCount>0&&(this._columnCount=Math.min(this._requestedColumnCount,o));else if(d||c)if(!d||c&&u){var m=Math.max(0,i-v-y);this._rowCount=Math.floor((m+r)/p),this._rowCount=Math.max(1,Math.min(this._rowCount,o))}else{var E=Math.max(0,t-g-f);this._columnCount=Math.floor((E+n)/l),this._columnCount=Math.max(1,Math.min(this._columnCount,o))}else{var C=Math.sqrt(o*l*p);u?this._rowCount=Math.max(1,Math.round(C/p)):this._columnCount=Math.max(1,Math.round(C/l))}-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(o/this._columnCount))),-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(o/this._rowCount))),this._requestedColumnCount>0&&this._requestedRowCount>0&&(this.orientation==e.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(o/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(o/this._requestedRowCount)))},n.prototype.updateMaxElementSize=function(){this.target&&(this.useVirtualLayout?this.updateMaxElementSizeVirtual():this.updateMaxElementSizeReal())},n.prototype.updateMaxElementSizeVirtual=function(){var t=this.typicalLayoutRect?this.typicalLayoutRect.height:22,e=this.typicalLayoutRect?this.typicalLayoutRect.width:22;if(this.maxElementWidth=Math.max(this.maxElementWidth,e),this.maxElementHeight=Math.max(this.maxElementHeight,t),-1!=this.startIndex&&-1!=this.endIndex)for(var i=this.startIndex;i<=this.endIndex;i++){var n=this.target.getVirtualElementAt(i);n&&n.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,n.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,n.preferredHeight))}},n.prototype.updateMaxElementSizeReal=function(){for(var t=this.target.numElements,e=0;t>e;e++){var i=this.target.getElementAt(e);i&&i.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,i.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,i.preferredHeight))}},n.prototype.clearVirtualLayoutCache=function(){i.prototype.clearVirtualLayoutCache.call(this),this.maxElementWidth=0,this.maxElementHeight=0},n.prototype.scrollPositionChanged=function(){if(i.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},n.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;var t=this.target.numElements;if(!this.useVirtualLayout)return this.startIndex=0,this.endIndex=t-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var i=this.startIndex,n=this.endIndex,r=isNaN(this._padding)?0:this._padding,o=isNaN(this._paddingLeft)?r:this._paddingLeft,s=isNaN(this._paddingTop)?r:this._paddingTop,a=isNaN(this._horizontalGap)?0:this._horizontalGap,h=isNaN(this._verticalGap)?0:this._verticalGap;if(this.orientation==e.TileOrientation.COLUMNS){var l=this._columnWidth+a;if(0>=l)return this.startIndex=0,this.endIndex=t-1,!1;var p=this.target.horizontalScrollPosition,u=this.target.horizontalScrollPosition+this.target.width,d=Math.floor((p-o)/l);0>d&&(d=0);var c=Math.ceil((u-o)/l);0>c&&(c=0),this.startIndex=Math.min(t-1,Math.max(0,d*this._rowCount)),this.endIndex=Math.min(t-1,Math.max(0,c*this._rowCount-1))}else{var _=this._rowHeight+h;if(0>=_)return this.startIndex=0,this.endIndex=t-1,!1;var g=this.target.verticalScrollPosition,f=this.target.verticalScrollPosition+this.target.height,v=Math.floor((g-s)/_);0>v&&(v=0);var y=Math.ceil((f-s)/_);0>y&&(y=0),this.startIndex=Math.min(t-1,Math.max(0,v*this._columnCount)),this.endIndex=Math.min(t-1,Math.max(0,y*this._columnCount-1))}return this.startIndex!=i||this.endIndex!=n},n.prototype.updateDisplayList=function(t,n){if(i.prototype.updateDisplayList.call(this,t,n),this.target){var r=isNaN(this._padding)?0:this._padding,o=isNaN(this._paddingLeft)?r:this._paddingLeft,s=isNaN(this._paddingRight)?r:this._paddingRight,a=isNaN(this._paddingTop)?r:this._paddingTop,h=isNaN(this._paddingBottom)?r:this._paddingBottom;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{if(this.calculateRowAndColumn(t,n),0==this._rowCount||0==this._columnCount)return void this.target.setContentSize(o+s,a+h);this.adjustForJustify(t,n),this.getIndexInView()}if(this.useVirtualLayout&&(this.calculateRowAndColumn(t,n),this.adjustForJustify(t,n)),-1==this.startIndex||-1==this.endIndex)return void this.target.setContentSize(0,0);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);for(var l,p,u,d,c,_=this.orientation==e.TileOrientation.COLUMNS,g=this.startIndex,f=isNaN(this._horizontalGap)?0:this._horizontalGap,v=isNaN(this._verticalGap)?0:this._verticalGap,y=this.startIndex;y<=this.endIndex;y++)l=this.useVirtualLayout?this.target.getVirtualElementAt(y):this.target.getElementAt(y),null!=l&&l.includeInLayout&&(_?(d=Math.ceil((g+1)/this._rowCount)-1,c=Math.ceil((g+1)%this._rowCount)-1,-1==c&&(c=this._rowCount-1)):(d=Math.ceil((g+1)%this._columnCount)-1,-1==d&&(d=this._columnCount-1),c=Math.ceil((g+1)/this._columnCount)-1),p=d*(this._columnWidth+f)+o,u=c*(this._rowHeight+v)+a,this.sizeAndPositionElement(l,p,u,this._columnWidth,this.rowHeight),g++);var m=o+s,E=a+h,C=(this._columnWidth+f)*this._columnCount-f,P=(this._rowHeight+v)*this._rowCount-v;this.target.setContentSize(Math.ceil(C+m),Math.ceil(P+E))}},n.prototype.sizeAndPositionElement=function(e,i,n,r,o){var s=0/0,a=0/0;this.horizontalAlign==t.HorizontalAlign.JUSTIFY?s=r:isNaN(e.percentWidth)||(s=r*e.percentWidth*.01),this.verticalAlign==t.VerticalAlign.JUSTIFY?a=o:isNaN(e.percentHeight)||(a=o*e.percentHeight*.01),e.setLayoutBoundsSize(Math.round(s),Math.round(a));var h=i;switch(this.horizontalAlign){case t.HorizontalAlign.RIGHT:h+=r-e.layoutBoundsWidth;break;case t.HorizontalAlign.CENTER:h=i+(r-e.layoutBoundsWidth)/2}var l=n;switch(this.verticalAlign){case t.VerticalAlign.BOTTOM:l+=o-e.layoutBoundsHeight;break;case t.VerticalAlign.MIDDLE:l+=(o-e.layoutBoundsHeight)/2}e.setLayoutBoundsPosition(Math.round(h),Math.round(l))},n.prototype.adjustForJustify=function(t,i){var n=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?n:this._paddingLeft,o=isNaN(this._paddingRight)?n:this._paddingRight,s=isNaN(this._paddingTop)?n:this._paddingTop,a=isNaN(this._paddingBottom)?n:this._paddingBottom,h=Math.max(0,t-r-o),l=Math.max(0,i-s-a);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap),isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap),this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap,this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;var p=this._columnWidth+this._horizontalGap;0>=p&&(p=1);var u=this._rowHeight+this._verticalGap;0>=u&&(u=1);var d,c=l-this._rowHeight*this._rowCount,_=h-this._columnWidth*this._columnCount;c>0&&(this.rowAlign==e.RowAlign.JUSTIFY_USING_GAP?(d=Math.max(1,this._rowCount-1),this._verticalGap=c/d):this.rowAlign==e.RowAlign.JUSTIFY_USING_HEIGHT&&this._rowCount>0&&(this._rowHeight+=(c-(this._rowCount-1)*this._verticalGap)/this._rowCount)),_>0&&(this.columnAlign==e.ColumnAlign.JUSTIFY_USING_GAP?(d=Math.max(1,this._columnCount-1),this._horizontalGap=_/d):this.columnAlign==e.ColumnAlign.JUSTIFY_USING_WIDTH&&this._columnCount>0&&(this._columnWidth+=(_-(this._columnCount-1)*this._horizontalGap)/this._columnCount))},n}(e.LayoutBase);e.TileLayout=i,__reflect(i.prototype,"egret.gui.TileLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.ROWS="rows",e.COLUMNS="columns",t.TileOrientation=e,__reflect(e.prototype,"egret.gui.TileOrientation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var i=e.call(this)||this;return i._horizontalAlign=t.HorizontalAlign.LEFT,i._verticalAlign=t.VerticalAlign.TOP,i._gap=6,i._padding=0,i._paddingLeft=0/0,i._paddingRight=0/0,i._paddingTop=0/0,i._paddingBottom=0/0,i.elementSizeTable=[],i.startIndex=-1,i.endIndex=-1,i.indexInViewCalculated=!1,i.maxElementWidth=0,i}return __extends(i,e),Object.defineProperty(i.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())
},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0}),i.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},i.prototype.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},i.prototype.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=Math.max(this.maxElementWidth,e),n=this.getElementTotalSize(),r=this.target.getElementIndicesInView(),o=r.length,s=0;o>s;s++){var a=r[s],h=this.target.getElementAt(a);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,p=h.preferredHeight;n+=p,n-=isNaN(this.elementSizeTable[a])?t:this.elementSizeTable[a],i=Math.max(i,l)}}var u=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?u:this._paddingLeft,c=isNaN(this._paddingRight)?u:this._paddingRight,_=isNaN(this._paddingTop)?u:this._paddingTop,g=isNaN(this._paddingBottom)?u:this._paddingBottom,f=d+c,v=_+g;this.target.measuredWidth=Math.ceil(i+f),this.target.measuredHeight=Math.ceil(n+v)},i.prototype.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,r=0;t>r;r++){var o=this.target.getElementAt(r);if(o&&o.includeInLayout){var s=o.preferredWidth,a=o.preferredHeight;n+=a,i=Math.max(i,s)}else e--}var h=isNaN(this._gap)?0:this._gap;n+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,p=isNaN(this._paddingLeft)?l:this._paddingLeft,u=isNaN(this._paddingRight)?l:this._paddingRight,d=isNaN(this._paddingTop)?l:this._paddingTop,c=isNaN(this._paddingBottom)?l:this._paddingBottom,_=p+u,g=d+c;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},i.prototype.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?n:this._paddingLeft,o=isNaN(this._paddingRight)?n:this._paddingRight,s=isNaN(this._paddingTop)?n:this._paddingTop,a=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(r+o),Math.ceil(s+a))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},i.prototype.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingTop)?e:this._paddingTop,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var r=void 0;return this.target&&(r=this.target.getElementAt(t)),r?r.y:i}for(var o=this.typicalLayoutRect?this.typicalLayoutRect.height:22,s=i,a=0;t>a;a++){var h=this.elementSizeTable[a];isNaN(h)&&(h=o),s+=h+n}return s},i.prototype.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.height:22),e}return this.target?this.target.getElementAt(t).height:0},i.prototype.getElementTotalSize=function(){for(var t=isNaN(this._gap)?0:this._gap,e=this.typicalLayoutRect?this.typicalLayoutRect.height:22,i=0,n=this.target.numElements,r=0;n>r;r++){var o=this.elementSizeTable[r];isNaN(o)&&(o=e),i+=o+t}return i-=t},i.prototype.elementAdded=function(t){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.height:22;this.elementSizeTable.splice(t,0,i)},i.prototype.elementRemoved=function(t){e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1)},i.prototype.clearVirtualLayoutCache=function(){e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementWidth=0},i.prototype.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),r=this.getStartPosition(n),o=this.getElementSize(n),s=isNaN(this._gap)?0:this._gap;return t>=r&&r+o+s>t?n:e==i?-1:r>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},i.prototype.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},i.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingTop)?t:this._paddingTop,i=isNaN(this._paddingBottom)?t:this._paddingBottom,n=this.target.numElements,r=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,o=this.target.verticalScrollPosition;if(o>r-i)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.target.verticalScrollPosition+this.target.height;if(e>s)return this.startIndex=-1,this.endIndex=-1,!1;var a=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(o,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(s,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),a!=this.startIndex||h!=this.endIndex},i.prototype.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n,r=isNaN(this._padding)?0:this._padding,o=isNaN(this._paddingLeft)?r:this._paddingLeft,s=isNaN(this._paddingRight)?r:this._paddingRight,a=isNaN(this._paddingBottom)?r:this._paddingBottom,h=isNaN(this._gap)?0:this._gap,l=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return n=this.getStartPosition(l)-h+a,void this.target.setContentSize(this.target.contentWidth,Math.ceil(n));this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var p=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,u=this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,d=0;p||(this._horizontalAlign==t.HorizontalAlign.CENTER?d=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(d=1));var c,_=Math.max(0,e-o-s),g=Math.ceil(_),f=this.typicalLayoutRect?this.typicalLayoutRect.height:22,v=this.typicalLayoutRect?this.typicalLayoutRect.width:71,y=Math.max(v,this.maxElementWidth);if(u){for(var m=this.startIndex;m<=this.endIndex;m++)c=this.target.getVirtualElementAt(m),c&&c.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,c.preferredWidth));g=Math.ceil(Math.max(_,this.maxElementWidth))}for(var E,C=0,P=0,S=0,b=!1,I=this.startIndex;I<=this.endIndex;I++){var T=0;c=this.target.getVirtualElementAt(I),c&&(c.includeInLayout?(p?(C=o,c.setLayoutBoundsSize(g,0/0)):(T=(_-c.layoutBoundsWidth)*d,T=T>0?T:0,C=o+T),u||(this.maxElementWidth=Math.max(this.maxElementWidth,c.preferredWidth)),S=Math.max(S,c.layoutBoundsWidth),b||(E=isNaN(this.elementSizeTable[I])?f:this.elementSizeTable[I],E!=c.layoutBoundsHeight&&(b=!0)),0==I&&this.elementSizeTable.length>0&&this.elementSizeTable[I]!=c.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[I]=c.layoutBoundsHeight,P=this.getStartPosition(I),c.setLayoutBoundsPosition(Math.round(C),Math.round(P))):this.elementSizeTable[I]=0)}S+=o+s,n=this.getStartPosition(l)-h+a,this.target.setContentSize(Math.ceil(S),Math.ceil(n)),(b||y<this.maxElementWidth)&&this.target.invalidateSize()},i.prototype.updateDisplayListReal=function(e,r){var o=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?o:this._paddingLeft,a=isNaN(this._paddingRight)?o:this._paddingRight,h=isNaN(this._paddingTop)?o:this._paddingTop,l=isNaN(this._paddingBottom)?o:this._paddingBottom,p=isNaN(this._gap)?0:this._gap,u=Math.max(0,e-s-a),d=Math.max(0,r-h-l),c=this._verticalAlign==t.VerticalAlign.JUSTIFY,_=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,g=0;_||(this._horizontalAlign==t.HorizontalAlign.CENTER?g=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(g=1));var f,v,y,m=this.target.numElements,E=m,C=s,P=h,S=0,b=0,I=[],T=d;for(f=0;m>f;f++)v=this.target.getElementAt(f),v&&v.includeInLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,v.preferredWidth),c?S+=v.preferredHeight:isNaN(v.percentHeight)?T-=v.preferredHeight:(b+=v.percentHeight,y=new n,y.layoutElement=v,y.percent=v.percentHeight,y.min=v.minHeight,y.max=v.maxHeight,I.push(y))):E--;T-=(E-1)*p,T=T>0?T:0;var x,L=d-S-p*(E-1),D=E,A=[];if(c){if(0>L){for(x=T/E,f=0;m>f;f++)if(v=this.target.getElementAt(f),v&&v.includeInLayout){var O=v.preferredHeight;x>=O&&(T-=O,D--)}T=T>0?T:0}}else if(b>0){i.flexChildrenProportionally(d,T,b,I);var R=0,N=I.length;for(f=0;N>f;f++){y=I[f];var w=Math.round(y.size+R);R+=y.size-w,A[y.layoutElement.hashCode]=w,T-=w}T=T>0?T:0}this._verticalAlign==t.VerticalAlign.MIDDLE?P=h+.5*T:this._verticalAlign==t.VerticalAlign.BOTTOM&&(P=h+T);var U=s,H=h,M=0,B=0,V=Math.ceil(u);this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(u,this.maxElementWidth)));var F,k=0,z=0/0;for(f=0;m>f;f++){var G=0;if(v=this.target.getElementAt(f),v&&v.includeInLayout){if(z=0/0,c?(F=0/0,L>0?F=T*v.preferredHeight/S:0>L&&v.preferredHeight>x&&(F=T/D),isNaN(F)||(z=Math.round(F+k),k+=F-z)):z=A[v.hashCode],_)C=s,v.setLayoutBoundsSize(V,z);else{var W=0/0;if(!isNaN(v.percentWidth)){var j=Math.min(100,v.percentWidth);W=Math.round(u*j*.01)}v.setLayoutBoundsSize(W,z),G=(u-v.layoutBoundsWidth)*g,G=G>0?G:0,C=s+G}v.setLayoutBoundsPosition(Math.round(C),Math.round(P)),M=Math.ceil(v.layoutBoundsWidth),B=Math.ceil(v.layoutBoundsHeight),U=Math.max(U,C+M),H=Math.max(H,P+B),P+=B+p}}this.target.setContentSize(Math.ceil(U+a),Math.ceil(H+l))},i.flexChildrenProportionally=function(t,e,i,n){var r,o=n.length;do{r=!0;var s=e-t*i/100;s>0?e-=s:s=0;for(var a=e/i,h=0;o>h;h++){var l=n[h],p=l.percent*a;if(p<l.min){var u=l.min;l.size=u,n[h]=n[--o],n[o]=l,i-=l.percent,s>=u?s-=u:(e-=u-s,s=0),r=!1;break}if(p>l.max){var d=l.max;l.size=d,n[h]=n[--o],n[o]=l,i-=l.percent,s>=d?s-=d:(e-=d-s,s=0),r=!1;break}l.size=p}}while(!r)},i}(e.LayoutBase);e.VerticalLayout=i,__reflect(i.prototype,"egret.gui.VerticalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}return t}();__reflect(n.prototype,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.requireSelectionChanged_tabBar=!1,t.requireSelection=!0,t}return __extends(i,e),i.prototype.createChildren=function(){t.ListBase.prototype.createChildren.call(this)},Object.defineProperty(i.prototype,"requireSelection",{get:function(){return this._requireSelection},set:function(t){t!=this._requireSelection&&(e.prototype._setRequireSelection.call(this,t),this.requireSelectionChanged_tabBar=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype._setDataProvider=function(i){this.dataProvider instanceof t.ViewStack&&(this.dataProvider.removeEventListener("IndexChanged",this.onViewStackIndexChange,this),this.removeEventListener(t.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),i instanceof t.ViewStack&&(i.addEventListener("IndexChanged",this.onViewStackIndexChange,this),this.addEventListener(t.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),e.prototype._setDataProvider.call(this,i)},i.prototype.onIndexChanged=function(t){this.dataProvider._setSelectedIndex(t.newIndex,!1)},i.prototype.onViewStackIndexChange=function(t){this._setSelectedIndex(this.dataProvider.selectedIndex,!1)},i.prototype.commitProperties=function(){if(e.prototype.commitProperties.call(this),this.requireSelectionChanged_tabBar&&this.dataGroup){this.requireSelectionChanged_tabBar=!1;for(var t=this.dataGroup.numElements,i=0;t>i;i++){var n=this.dataGroup.getElementAt(i);n&&(n.allowDeselection=!this.requireSelection)}}},i.prototype.dataGroup_rendererAddHandler=function(i){e.prototype.dataGroup_rendererAddHandler.call(this,i),null!=i.renderer&&i.renderer instanceof t.TabBarButton&&(i.renderer.allowDeselection=!this.requireSelection)},i.prototype._item_touchEndHandler=function(e){var i=e.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(e.currentTarget),n==this.selectedIndex?this.requireSelection||this._setSelectedIndex(t.ListBase.NO_SELECTION,!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(e,t.ListEvent.ITEM_CLICK,i)}},i}(t.List);t.TabBar=e,__reflect(e.prototype,"egret.gui.TabBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=i.call(this)||this;return t.targetLevel=Number.MAX_VALUE,t.updateCompleteQueue=new e.DepthQueue,t.invalidatePropertiesFlag=!1,t.invalidateClientPropertiesFlag=!1,t.invalidatePropertiesQueue=new e.DepthQueue,t.invalidateSizeFlag=!1,t.invalidateClientSizeFlag=!1,t.invalidateSizeQueue=new e.DepthQueue,t.invalidateDisplayListFlag=!1,t.invalidateDisplayListQueue=new e.DepthQueue,t.listenersAttached=!1,t}return __extends(n,i),n.prototype.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},n.prototype.validateProperties=function(){for(var t=this.invalidatePropertiesQueue.shift();t;)t.parent&&(t.validateProperties(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidatePropertiesQueue.shift();this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)},n.prototype.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},n.prototype.validateSize=function(){for(var t=this.invalidateSizeQueue.pop();t;)t.parent&&(t.validateSize(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)},n.prototype.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},n.prototype.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue.shift();t;)t.parent&&(t.validateDisplayList(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)},n.prototype.attachListeners=function(){e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.invalidate(),this.listenersAttached=!0},n.prototype.doPhasedInstantiationCallBack=function(i){void 0===i&&(i=null),e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},n.prototype.doPhasedInstantiation=function(){if(this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=!1;for(var t=this.updateCompleteQueue.pop();t;)t.initialized||(t.initialized=!0),t.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(t,e.UIEvent.UPDATE_COMPLETE),t.updateCompletePendingFlag=!1,t=this.updateCompleteQueue.pop();e.UIEvent.dispatchUIEvent(this,e.UIEvent.UPDATE_COMPLETE)}},n.prototype.validateNow=function(){for(var t=0;this.listenersAttached&&t++<100;)this.doPhasedInstantiationCallBack()},n.prototype.validateClient=function(t,i){void 0===i&&(i=!1);var n,r=!1,o=this.targetLevel;for(this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=t.nestLevel);!r;){for(r=!0,n=this.invalidatePropertiesQueue.removeSmallestChild(t);n;)n.parent&&(n.validateProperties(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),n=this.invalidatePropertiesQueue.removeSmallestChild(t);for(this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,n=this.invalidateSizeQueue.removeLargestChild(t);n;){if(n.parent&&(n.validateSize(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),r=!1;break}n=this.invalidateSizeQueue.removeLargestChild(t)}if(this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,!i){for(n=this.invalidateDisplayListQueue.removeSmallestChild(t);n;){if(n.parent&&(n.validateDisplayList(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),r=!1;break}if(this.invalidateClientSizeFlag&&(n=this.invalidateSizeQueue.removeLargestChild(t))){this.invalidateSizeQueue.insert(n),r=!1;break}n=this.invalidateDisplayListQueue.removeSmallestChild(t)}this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)}}if(o==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!i))for(n=this.updateCompleteQueue.removeLargestChild(t);n;)n.initialized||(n.initialized=!0),n.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(n,e.UIEvent.UPDATE_COMPLETE),n.updateCompletePendingFlag=!1,n=this.updateCompleteQueue.removeLargestChild(t)},n}(t.EventDispatcher);e.LayoutManager=i,__reflect(i.prototype,"egret.gui.LayoutManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function e(){}return e.getImpl=function(){if(!e._impl)try{e._impl=t.$getAdapter("egret.gui.IPopUpManager")}catch(i){e._impl=new t.PopUpManagerImpl}return e._impl},Object.defineProperty(e,"modalColor",{get:function(){return e.getImpl().modalColor},set:function(t){e.getImpl().modalColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"modalAlpha",{get:function(){return e.getImpl().modalAlpha},set:function(t){e.getImpl().modalAlpha=t},enumerable:!0,configurable:!0}),e.addPopUp=function(i,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0),e.getImpl().addPopUp(i,n,r),t.PopUpEvent.dispatchPopUpEvent(e.getImpl(),t.PopUpEvent.ADD_POPUP,i,n)},e.removePopUp=function(i){e.getImpl().removePopUp(i),t.PopUpEvent.dispatchPopUpEvent(e.getImpl(),t.PopUpEvent.REMOVE_POPUP,i)},e.centerPopUp=function(t){e.getImpl().centerPopUp(t)},e.bringToFront=function(i){e.getImpl().bringToFront(i),t.PopUpEvent.dispatchPopUpEvent(e.getImpl(),t.PopUpEvent.BRING_TO_FRONT,i)},Object.defineProperty(e,"popUpList",{get:function(){return e.getImpl().popUpList},enumerable:!0,configurable:!0}),e.addEventListener=function(t,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0),e.getImpl().addEventListener(t,i,n,r,o)},e.removeEventListener=function(t,i,n,r){void 0===r&&(r=!1),e.getImpl().removeEventListener(t,i,n,r)},e}();t.PopUpManager=e,__reflect(e.prototype,"egret.gui.PopUpManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function r(){var t=i.call(this)||this;return t._popUpList=[],t.popUpDataList=[],t._modalColor=0,t._modalAlpha=.5,t.invalidateModalFlag=!1,t.modalMask=null,t}return __extends(r,i),Object.defineProperty(r.prototype,"popUpList",{get:function(){return this._popUpList.concat()},enumerable:!0,configurable:!0}),r.prototype.findPopUpData=function(t){for(var e=this.popUpDataList,i=e.length,n=0;i>n;n++){var r=e[n];if(r.popUp==t)return r}return null},r.prototype.addPopUp=function(t,i,o){void 0===i&&(i=!1),void 0===o&&(o=!0);var s=e.UIGlobals.uiStage,a=this.findPopUpData(t);a?(a.modal=i,t.removeEventListener(r.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(a=new n(t,i),this.popUpDataList.push(a),this._popUpList.push(t)),s.popUpContainer.addElement(t),o&&this.centerPopUp(t),"isPopUp"in t&&(t.isPopUp=!0),i&&this.invalidateModal(),t.addEventListener(r.REMOVE_FROM_UISTAGE,this.onRemoved,this)},r.prototype.onRemoved=function(t){for(var e=0,i=this.popUpDataList,n=i.length,o=0;n>o;o++){var s=i[o];if(s.popUp==t.target){"isPopUp"in s.popUp&&(s.popUp.isPopUp=!1),s.popUp.removeEventListener(r.REMOVE_FROM_UISTAGE,this.onRemoved,this),this.popUpDataList.splice(e,1),this._popUpList.splice(e,1),this.invalidateModal();break}e++}},Object.defineProperty(r.prototype,"modalColor",{get:function(){return this._modalColor},set:function(t){this._modalColor!=t&&(this._modalColor=t,this.invalidateModal())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"modalAlpha",{get:function(){return this._modalAlpha},set:function(t){this._modalAlpha!=t&&(this._modalAlpha=t,this.invalidateModal())},enumerable:!0,configurable:!0}),r.prototype.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.validateModal,this),e.UIGlobals.stage.invalidate())},r.prototype.validateModal=function(i){this.invalidateModalFlag=!1,e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.validateModal,this),this.updateModal(e.UIGlobals.uiStage)},r.prototype.updateModal=function(t){var i,n=t.popUpContainer,r=!1;for(i=n.numElements-1;i>=0;i--){var o=n.getElementAt(i),s=this.findPopUpData(o);if(s&&s.modal){r=!0;break}}r?(this.modalMask||(this.modalMask=new e.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==t?(n.getElementIndex(this.modalMask)<i&&i--,n.setElementIndex(this.modalMask,i)):n.addElementAt(this.modalMask,i)):this.modalMask&&this.modalMask.parent==t&&n.removeElement(this.modalMask)},r.prototype.removePopUp=function(i){i&&i.parent&&this.findPopUpData(i)&&("removeElement"in i.parent?i.parent.removeElement(i):i.parent instanceof e.UIComponent?i.parent._removeFromDisplayList(i):i instanceof t.DisplayObject&&i.parent.removeChild(i))},r.prototype.centerPopUp=function(t){t.top=t.bottom=t.left=t.right=0/0,t.verticalCenter=t.horizontalCenter=0;var e=t.parent;e&&("validateNow"in t&&t.validateNow(),t.x=.5*(e.width-t.layoutBoundsWidth),t.y=.5*(e.height-t.layoutBoundsHeight))},r.prototype.bringToFront=function(t){var e=this.findPopUpData(t);if(e&&t.parent&&"popUpContainer"in t.parent){var i=t.parent;i.popUpContainer.setElementIndex(t,i.popUpContainer.numElements-1),this.invalidateModal()}},r}(t.EventDispatcher);i.REMOVE_FROM_UISTAGE="removeFromUIStage",e.PopUpManagerImpl=i,__reflect(i.prototype,"egret.gui.PopUpManagerImpl",["egret.gui.IPopUpManager","egret.IEventDispatcher"]);var n=function(){function t(t,e){this.popUp=null,this.modal=!1,this.popUp=t,this.modal=e}return t}();__reflect(n.prototype,"PopUpData")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this.depthBins=[],this.minDepth=0,this.maxDepth=-1}return e.prototype.insert=function(t){var e=t.nestLevel,i=t.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var r=this.depthBins[e];r?null==r.items[i]&&(r.items[i]=t,r.length++):(r=new n,this.depthBins[e]=r,r.items[i]=t,r.length++)},e.prototype.pop=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.maxDepth];!e||0==e.length;){if(this.maxDepth--,this.maxDepth<this.minDepth)return null;e=this.depthBins[this.maxDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.maxDepth);break}for(;!(e&&0!=e.length||(this.maxDepth--,this.maxDepth<this.minDepth));)e=this.depthBins[this.maxDepth]}return t},e.prototype.shift=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.minDepth];!e||0==e.length;){if(this.minDepth++,this.minDepth>this.maxDepth)return null;e=this.depthBins[this.minDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.minDepth);break}for(;!(e&&0!=e.length||(this.minDepth++,this.minDepth>this.maxDepth));)e=this.depthBins[this.minDepth]}return t},e.prototype.removeLargestChild=function(e){for(var i=this.maxDepth,n=e.nestLevel,r=e.hashCode;i>=n;){var o=this.depthBins[i];if(o&&o.length>0){if(i==e.nestLevel){if(o.items[r])return this.remove(e,i),e}else{var s=o.items;for(var a in s){var h=s[a];if(h instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(h))return this.remove(h,i),h}}i--}else if(i==this.maxDepth&&this.maxDepth--,i--,n>i)break}return null},e.prototype.removeSmallestChild=function(e){for(var i=e.nestLevel,n=e.hashCode;i<=this.maxDepth;){var r=this.depthBins[i];if(r&&r.length>0){if(i==e.nestLevel){if(r.items[n])return this.remove(e,i),e}else{var o=r.items;for(var s in o){var a=o[s];if(a instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(a))return this.remove(a,i),a}}i++}else if(i==this.minDepth&&this.minDepth++,i++,i>this.maxDepth)break}return null},e.prototype.remove=function(t,e){void 0===e&&(e=-1);var i=e>=0?e:t.nestLevel,n=t.hashCode,r=this.depthBins[i];return r&&null!=r.items[n]?(delete r.items[n],r.length--,t):null},e.prototype.removeAll=function(){this.depthBins.length=0,this.minDepth=0,this.maxDepth=-1},e.prototype.isEmpty=function(){return this.minDepth>this.maxDepth},e}();e.DepthQueue=i,__reflect(i.prototype,"egret.gui.DepthQueue");var n=function(){function t(){this.length=0,this.items=[]}return t}();e.DepthBin=n,__reflect(n.prototype,"egret.gui.DepthBin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(e){function i(t,n,r,o){var s=e.call(this)||this;return s.propertyName="",s.position=i.LAST,s.relativeTo=null,s.target=null,s.target=t,s.propertyName=n,s.position=r,s.relativeTo=o,s}return __extends(i,e),i.prototype.initialize=function(e){var i=e[this.target];if(i&&!(i instanceof t.SkinnableComponent)&&"_initialize"in i)try{i._initialize()}catch(n){}},i.prototype.apply=function(t){var e,n;try{n=t[this.relativeTo]}catch(r){}var o=t[this.target],s=this.propertyName?t[this.propertyName]:t;if(o&&s){switch(this.position){case i.FIRST:e=0;break;case i.LAST:e=-1;break;case i.BEFORE:e=s.getElementIndex(n);break;case i.AFTER:e=s.getElementIndex(n)+1}-1==e&&(e=s.numElements),s.addElementAt(o,e)}},i.prototype.remove=function(t){var e=null==this.propertyName||""==this.propertyName?t:t[this.propertyName],i=t[this.target];i&&e&&-1!=e.getElementIndex(i)&&e.removeElement(i)},i}(t.OverrideBase);e.FIRST="first",e.LAST="last",e.BEFORE="before",e.AFTER="after",t.AddItems=e,__reflect(e.prototype,"egret.gui.AddItems")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t}();e.END="end",e.STOP="stop",t.InterruptionBehavior=e,__reflect(e.prototype,"egret.gui.InterruptionBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._allowDeselection=!0,e._data=null,e._itemIndex=0/0,e}return __extends(e,t),Object.defineProperty(e.prototype,"allowDeselection",{get:function(){return this._allowDeselection},set:function(t){this._allowDeselection=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.dispatchEventWith("dataChange")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(t){this._itemIndex=t},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(e){e!=this._getLabel()&&(t.prototype._setLabel.call(this,e),this.labelDisplay&&(this.labelDisplay.text=this._getLabel()))},e.prototype.buttonReleased=function(){(!this.selected||this.allowDeselection)&&t.prototype.buttonReleased.call(this)},e}(t.ToggleButtonBase);t.TabBarButton=e,__reflect(e.prototype,"egret.gui.TabBarButton",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(e,i,n){var r=t.call(this)||this;return r.name=null,r.target=null,r.value=null,r.oldValue=null,r.target=e,r.name=i,r.value=n,r}return __extends(e,t),e.prototype.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e[this.name],this.setPropertyValue(e,this.name,this.value,this.oldValue))},e.prototype.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setPropertyValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)},e.prototype.setPropertyValue=function(t,e,i,n){void 0===i||null===i?t[e]=i:"number"==typeof n?t[e]=parseFloat(i):"boolean"==typeof n?t[e]=this.toBoolean(i):t[e]=i},e.prototype.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(t.OverrideBase);t.SetProperty=e,__reflect(e.prototype,"egret.gui.SetProperty")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(e,i,n){var r=t.call(this)||this;return r.target=e,r.name=i,r.value=n,r}return __extends(e,t),e.prototype.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e.getStyle(this.name),this.setStyleValue(e,this.name,this.value,this.oldValue))},e.prototype.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setStyleValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)},e.prototype.setStyleValue=function(t,e,i,n){void 0===i?t.clearStyle(e):null===i?t.setStyle(e,i):"number"==typeof n?t.setStyle(e,parseFloat(i)):"boolean"==typeof n?t.setStyle(e,this.toBoolean(i)):t.setStyle(e,i)
},e.prototype.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(t.OverrideBase);t.SetStyle=e,__reflect(e.prototype,"egret.gui.SetStyle")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i){var n=t.call(this)||this;return n.initialized=!1,n.name=null,n.name=e,n.overrides=i,n}return __extends(e,t),e.prototype.initialize=function(t){if(!this.initialized){this.initialized=!0;for(var e=0;e<this.overrides.length;e++)this.overrides[e].initialize(t)}},e}(t.HashObject);e.State=i,__reflect(i.prototype,"egret.gui.State")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function e(){this.fromState="*",this.toState="*",this.autoReverse=!1,this.interruptionBehavior=t.InterruptionBehavior.END}return e}();t.Transition=e,__reflect(e.prototype,"egret.gui.Transition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t,e,i){void 0===i&&(i=""),s.mapClass(t,e,i)}function n(t,e){return void 0===e&&(e=""),s.getInstance(t,e)}function r(t,e,i){void 0===i&&(i=""),s.mapValue(t,e,i)}e.mapClass=i,e.$getAdapter=n,e.mapValue=r;var o=function(){function e(){this.mapClassDic={},this.mapValueDic={}}return e.prototype.mapClass=function(t,e,i){void 0===i&&(i="");var n=this.getKey(t)+"#"+i;this.mapClassDic[n]=e},e.prototype.getKey=function(e){return"string"==typeof e?e:t.getQualifiedClassName(e)},e.prototype.mapValue=function(t,e,i){void 0===i&&(i="");var n=this.getKey(t)+"#"+i;this.mapValueDic[n]=e},e.prototype.getInstance=function(e,i){void 0===i&&(i="");var n=this.getKey(e)+"#"+i;if(this.mapValueDic[n])return this.mapValueDic[n];var r=this.mapClassDic[n];if(r){var o=new r;return this.mapValueDic[n]=o,delete this.mapClassDic[n],o}throw new Error("#"+t.sys.tr(1028)+": "+n)},e}();e.Adapter=o,__reflect(o.prototype,"egret.gui.Adapter");var s=new o}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){}return t.adjustRelativeByXY=function(t,e){if(void 0===e&&(e=null),t&&(e||(e=t.parent),e)){var i=t.x,n=t.y,r=t.layoutBoundsHeight,o=t.layoutBoundsWidth,s=e.width,a=e.height;isNaN(t.left)||(t.left=i),isNaN(t.right)||(t.right=s-i-o),isNaN(t.horizontalCenter)||(t.horizontalCenter=i+.5*o-.5*s),isNaN(t.top)||(t.top=n),isNaN(t.bottom)||(t.bottom=a-n-r),isNaN(t.verticalCenter)||(t.verticalCenter=.5*r-.5*a+n)}},t}();t.LayoutUtil=e,__reflect(e.prototype,"egret.gui.LayoutUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){if(n[e])return n[e];if(!e)return null;var i=e.split(","),r=new t.Rectangle(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]));return n[e]=r,r}var n={};e.getScale9Grid=i}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t,e,i){for(var n=e.length,r=0;n>r;r++){var o=e[r];t[o]=i[r]}return t}t.setProperties=e}(e=t.gui||(t.gui={}))}(egret||(egret={}));