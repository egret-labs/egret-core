var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this),t?this._source=t:this._source=[]}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"source",function(){return this._source},function(t){t||(t=[]),this._source=t,this.dispatchCoEvent(e.CollectionEventKind.RESET)}),r.refresh=function(){this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},r.contains=function(t){return-1!=this.getItemIndex(t)},r.checkIndex=function(e){(0>e||e>=this._source.length)&&t.$error(3002,e)},s(r,"length",function(){return this._source.length}),r.addItem=function(t){this._source.push(t),this.dispatchCoEvent(e.CollectionEventKind.ADD,this._source.length-1,-1,[t])},r.addItemAt=function(i,n){(0>n||n>this._source.length)&&t.$error(3002,n),this._source.splice(n,0,i),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i])},r.getItemAt=function(t){return this._source[t]},r.getItemIndex=function(t){for(var e=this._source.length,i=0;e>i;i++)if(this._source[i]===t)return i;return-1},r.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},r.removeAll=function(){var t=this._source.concat();this._source.length=0,this.dispatchCoEvent(e.CollectionEventKind.REMOVE,0,-1,t)},r.removeItemAt=function(t){this.checkIndex(t);var i=this._source.splice(t,1)[0];return this.dispatchCoEvent(e.CollectionEventKind.REMOVE,t,-1,[i]),i},r.replaceItemAt=function(t,i){this.checkIndex(i);var n=this._source.splice(i,1,t)[0];return this.dispatchCoEvent(e.CollectionEventKind.REPLACE,i,-1,[t],[n]),n},r.replaceAll=function(t){t||(t=[]);for(var e=t.length,i=this._source.length,n=e;i>n;n++)this.removeItemAt(e);for(n=0;e>n;n++)n>=i?this.addItemAt(t[n],n):this.replaceItemAt(t[n],n);this._source=t},r.moveItemAt=function(t,i){this.checkIndex(t),this.checkIndex(i);var n=this._source.splice(t,1)[0];return this._source.splice(i,0,n),this.dispatchCoEvent(e.CollectionEventKind.MOVE,i,t,[n]),n},r.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},n}(t.EventDispatcher);e.ArrayCollection=i,t.registerClass(i,"egret.gui.ArrayCollection",["egret.gui.ICollection","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e,i){void 0===e&&(e="children"),void 0===i&&(i="parent"),t.call(this),this.childrenKey="children",this.parentKey="parent",this._source=null,this.nodeList=[],this._openNodes=[],this._showRoot=!1,this.childrenKey=e,this.parentKey=i}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"source",function(){return this._source},function(t){this._source=t,this._openNodes=[],this.nodeList=[],this._source&&(this._showRoot?this.nodeList.push(this._source):(this._openNodes=[this._source],this.addChildren(this._source,this.nodeList))),this.dispatchCoEvent(e.CollectionEventKind.RESET)}),n(a,"openNodes",function(){return this._openNodes.concat()},function(t){this._openNodes=t?t.concat():[],this.refresh()}),n(a,"length",function(){return this.nodeList.length}),a.getItemAt=function(t){return this.nodeList[t]},a.getItemIndex=function(t){for(var e=this.nodeList.length,i=0;e>i;i++)if(this.nodeList[i]===t)return i;return-1},a.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},a.removeItem=function(t){if(this.isItemOpen(t)&&this.closeNode(t),t){var i=t[this.parentKey];if(i){var n=i[this.childrenKey];if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1),t[this.parentKey]=null,s=this.nodeList.indexOf(t),-1!=s&&(this.nodeList.splice(s,1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,s,-1,[t]))}}}},n(a,"showRoot",function(){return this._showRoot},function(t){this._showRoot!=t&&(this._showRoot=t,this._source&&(this._showRoot?this.nodeList.splice(0,0,this._source):(this.nodeList.shift(),-1==this.openNodes.indexOf(this._source)&&this.openNodes.push(this._source)),this.refresh()))}),a.addChildren=function(t,e){if(t.hasOwnProperty(this.childrenKey)&&-1!=this._openNodes.indexOf(t))for(var i=t[this.childrenKey],n=i.length,s=0;n>s;s++){var a=i[s];e.push(a),this.addChildren(a,e)}},a.hasChildren=function(t){return t.hasOwnProperty(this.childrenKey)?t[this.childrenKey].length>0:!1},a.isItemOpen=function(t){return-1!=this._openNodes.indexOf(t)},a.expandItem=function(t,e){void 0===e&&(e=!0),e?this.openNode(t):this.closeNode(t)},a.openNode=function(t){if(-1==this._openNodes.indexOf(t)){this._openNodes.push(t);var i=this.nodeList.indexOf(t);if(-1!=i){var n=[];this.addChildren(t,n);for(var s=i;n.length;){s++;var a=n.shift();this.nodeList.splice(s,0,a),this.dispatchCoEvent(e.CollectionEventKind.ADD,s,-1,[a])}this.dispatchCoEvent("open",i,i,[t])}}},a.closeNode=function(t){var i=this._openNodes.indexOf(t);if(-1!=i){var n=[];if(this.addChildren(t,n),this._openNodes.splice(i,1),i=this.nodeList.indexOf(t),-1!=i){for(i++;n.length;){var s=this.nodeList.splice(i,1)[0];this.dispatchCoEvent(e.CollectionEventKind.REMOVE,i,-1,[s]),n.shift()}i--,this.dispatchCoEvent(e.CollectionEventKind.CLOSE,i,i,[t])}}},a.getDepth=function(t){for(var e=0,i=t[this.parentKey];i;)e++,i=i[this.parentKey];return e>0&&!this._showRoot&&e--,e},a.refresh=function(){this.nodeList=[],this._source&&(this._showRoot&&this.nodeList.push(this._source),this.addChildren(this._source,this.nodeList)),this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},a.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},i.assignParent=function(t,e,n){if(void 0===e&&(e="children"),void 0===n&&(n="parent"),t.hasOwnProperty(e))for(var s=t[e],a=s.length,r=0;a>r;r++){var o=s[r];try{o[n]=t}catch(h){}i.assignParent(o,e,n)}},i}(t.EventDispatcher);e.ObjectCollection=i,t.registerClass(i,"egret.gui.ObjectCollection",["egret.gui.ICollection","egret.IEventDispatcher","egret.gui.ITreeCollection"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){if(i.call(this),this._UIC_Props_=new t.gui.UIComponentProperties,this.touchEnabled=!0,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),void 0===n.prototypeCanSet){var e={};n.prototypeCanSet=void 0!==e.__proto__}}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.onAddedToStage=function(i){this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._initialize(),e.UIGlobals._initlize(this.stage),this._UIC_Props_._nestLevel>0&&this.checkInvalidateFlag()},s(r,"id",function(){return this._UIC_Props_._id},function(t){this._UIC_Props_._id=t}),s(r,"isPopUp",function(){return this._UIC_Props_._isPopUp},function(t){this._UIC_Props_._isPopUp=t}),s(r,"owner",function(){return this._UIC_Props_._owner?this._UIC_Props_._owner:this.parent}),r.ownerChanged=function(t){this._UIC_Props_._owner=t},s(r,"updateCompletePendingFlag",function(){return this._UIC_Props_._updateCompletePendingFlag},function(t){this._UIC_Props_._updateCompletePendingFlag=t}),s(r,"initialized",function(){return this._UIC_Props_._initialized},function(t){this._UIC_Props_._initialized!=t&&(this._UIC_Props_._initialized=t,t&&(this.childrenCreated(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CREATION_COMPLETE)))}),r._initialize=function(){this._UIC_Props_._initializeCalled||(e.UIGlobals.stage&&this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._UIC_Props_._initializeCalled=!0,e.UIEvent.dispatchUIEvent(this,e.UIEvent.INITIALIZE),this.createChildren(),this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},r.createChildren=function(){},r.childrenCreated=function(){},s(r,"nestLevel",function(){return this._UIC_Props_._nestLevel},function(e){this._UIC_Props_._nestLevel!=e&&(this._UIC_Props_._nestLevel=e,0==this._UIC_Props_._nestLevel?this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),this._updateChildrenNestLevel())}),r._updateChildrenNestLevel=function(){for(var t=this.numChildren-1;t>=0;t--){var e=this.getChildAt(t);e&&"nestLevel"in e&&(e.nestLevel=this._UIC_Props_._nestLevel+1)}},r.getStyle=function(t){var e=this._UIC_Props_._styleProtoChain;if(e)return e[t]},r.setStyle=function(t,e){var i=this._UIC_Props_._styleProtoChain;this._UIC_Props_._hasOwnStyleChain||(i=this._createOwnStyleProtoChain(i)),i[t]=e,this.styleChanged(t),this.notifyStyleChangeInChildren(t)},r.styleChanged=function(t){},r.notifyStyleChangeInChildren=function(t){if(!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"styleChanged"in i&&(i.styleChanged(t),i.notifyStyleChangeInChildren(t))}},r._createOwnStyleProtoChain=function(t){if(this._UIC_Props_._hasOwnStyleChain=!0,n.prototypeCanSet?(this._UIC_Props_._styleProtoChain={},this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain):this._UIC_Props_._styleProtoChain=this.createProtoChain(t),t=this._UIC_Props_._styleProtoChain,!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}return t},r.createProtoChain=function(t){function e(){}e.prototype=t;var i=new e;return e.prototype=null,i},r.clearStyle=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain;delete e[t],this.styleChanged(t),this.notifyStyleChangeInChildren(t)}},r.regenerateStyleCache=function(t){if(!n.prototypeCanSet)return void this.regenerateStyleCacheForIE(t);if(this._UIC_Props_._hasOwnStyleChain)this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain;else if(this._UIC_Props_._styleProtoChain!=t){this._UIC_Props_._styleProtoChain=t;for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}}},r.regenerateStyleCacheForIE=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain,i=this.createProtoChain(t);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);this._UIC_Props_._styleProtoChain=i,t=i}else this._UIC_Props_._styleProtoChain=t;if(!this._UIC_Props_._hasNoStyleChild)for(var s=this.numChildren-1;s>=0;s--){var a=this.getChildAt(s);a&&"regenerateStyleCacheForIE"in a&&a.regenerateStyleCacheForIE(t)}},r._addToDisplayList=function(t,e){void 0===e&&(e=!0);var i=this.numChildren;return t.parent==this&&i--,this._addingChild(t),this.$doAddChild(t,i,e),this._childAdded(t),t},r._addToDisplayListAt=function(t,e,i){return void 0===i&&(i=!0),this._addingChild(t),this.$doAddChild(t,e,i),this._childAdded(t),t},r._removeFromDisplayList=function(e,i){void 0===i&&(i=!0);var n=this.$children.indexOf(e);return n>=0?(this.$doRemoveChild(n,i),this._childRemoved(e),e):(t.$error(1008),null)},r._removeFromDisplayListAt=function(e,i){if(void 0===i&&(i=!0),e>=0&&e<this.$children.length){var n=this.$doRemoveChild(e,i);return this._childRemoved(n),n}return t.$error(1007),null},r.addChild=function(t){return this._addingChild(t),i.prototype.addChild.call(this,t),this._childAdded(t),t},r.addChildAt=function(t,e){return this._addingChild(t),i.prototype.addChildAt.call(this,t,e),this._childAdded(t),t},r._addingChild=function(t){if(t&&("nestLevel"in t&&(t.nestLevel=this._UIC_Props_._nestLevel+1),"styleChanged"in t)){var e=this._UIC_Props_._styleProtoChain;(e||t._UIC_Props_&&t._UIC_Props_._styleProtoChain)&&(t.regenerateStyleCache(e),t.styleChanged(null),t.notifyStyleChangeInChildren(null))}},r._childAdded=function(t){t instanceof n&&(t._initialize(),t.checkInvalidateFlag())},r.removeChild=function(t){return i.prototype.removeChild.call(this,t),this._childRemoved(t),t},r.removeChildAt=function(t){var e=i.prototype.removeChildAt.call(this,t);return this._childRemoved(e),e},r._childRemoved=function(t){t&&"nestLevel"in t&&(t.nestLevel=0)},r.checkInvalidateFlag=function(t){void 0===t&&(t=null),e.UIGlobals._layoutManager&&(this._UIC_Props_._invalidatePropertiesFlag&&e.UIGlobals._layoutManager.invalidateProperties(this),this._UIC_Props_._invalidateSizeFlag&&e.UIGlobals._layoutManager.invalidateSize(this),this._UIC_Props_._invalidateDisplayListFlag&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this._UIC_Props_._validateNowFlag&&(e.UIGlobals._layoutManager.validateClient(this),this._UIC_Props_._validateNowFlag=!1))},s(r,"enabled",function(){return this._UIC_Props_._enabled},function(t){this._UIC_Props_._enabled=t}),s(r,"width",function(){return this._UIC_Props_._uiWidth},function(t){this.$setWidth(t)}),r.$setWidth=function(t){if(this._UIC_Props_._uiWidth==t&&this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiWidth=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},s(r,"height",function(){return this._UIC_Props_._uiHeight},function(t){this.$setHeight(t)}),r.$setHeight=function(t){if(this._UIC_Props_._uiHeight==t&&this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiHeight=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},r.$setScaleX=function(t){return i.prototype.$setScaleX.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},r.$setScaleY=function(t){return i.prototype.$setScaleY.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},s(r,"minWidth",function(){return this._UIC_Props_._minWidth},function(t){this._UIC_Props_._minWidth!=t&&(this._UIC_Props_._minWidth=t,this.invalidateSize())}),s(r,"maxWidth",function(){return this._UIC_Props_._maxWidth},function(t){this._UIC_Props_._maxWidth!=t&&(this._UIC_Props_._maxWidth=t,this.invalidateSize())}),r._getMaxWidth=function(){return this._UIC_Props_._maxWidth},s(r,"minHeight",function(){return this._UIC_Props_._minHeight},function(t){this._UIC_Props_._minHeight!=t&&(this._UIC_Props_._minHeight=t,this.invalidateSize())}),s(r,"maxHeight",function(){return this._UIC_Props_._maxHeight},function(t){this._UIC_Props_._maxHeight!=t&&(this._UIC_Props_._maxHeight=t,this.invalidateSize())}),s(r,"measuredWidth",function(){return this._UIC_Props_._measuredWidth},function(t){this._UIC_Props_._measuredWidth=t}),s(r,"measuredHeight",function(){return this._UIC_Props_._measuredHeight},function(t){this._UIC_Props_._measuredHeight=t}),r.setActualSize=function(t,e){var i=!1;this._UIC_Props_._uiWidth!=t&&(this._UIC_Props_._uiWidth=t,i=!0),this._UIC_Props_._uiHeight!=e&&(this._UIC_Props_._uiHeight=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchResizeEvent())},r.$setX=function(t){return i.prototype.$setX.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},r.$setY=function(t){return i.prototype.$setY.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},r.invalidateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag||(this._UIC_Props_._invalidatePropertiesFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateProperties(this))},r.validateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag&&(this.commitProperties(),this._UIC_Props_._invalidatePropertiesFlag=!1)},r.invalidateSize=function(){this._UIC_Props_._invalidateSizeFlag||(this._UIC_Props_._invalidateSizeFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateSize(this))},r.validateSize=function(t){if(void 0===t&&(t=!1),t)for(var e=0;e<this.numChildren;e++){var i=this.getChildAt(e);"validateSize"in i&&i.validateSize(!0)}if(this._UIC_Props_._invalidateSizeFlag){var n=this.measureSizes();n&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._UIC_Props_._invalidateSizeFlag=!1}},r.measureSizes=function(){var t=!1;return this._UIC_Props_._invalidateSizeFlag?(this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)),isNaN(this._UIC_Props_._oldPreferWidth)?(this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight,t=!0):((this.preferredWidth!=this._UIC_Props_._oldPreferWidth||this.preferredHeight!=this._UIC_Props_._oldPreferHeight)&&(t=!0),this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight),t):t},r.invalidateDisplayList=function(){this._UIC_Props_._invalidateDisplayListFlag||(this._UIC_Props_._invalidateDisplayListFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this.$invalidateContentBounds())},r.validateDisplayList=function(){if(this._UIC_Props_._invalidateDisplayListFlag){var t=0,e=0;t=this._UIC_Props_._layoutWidthExplicitlySet?this._UIC_Props_._uiWidth:isNaN(this.$getExplicitWidth())?this.measuredWidth:this.$getExplicitWidth(),e=this._UIC_Props_._layoutHeightExplicitlySet?this._UIC_Props_._uiHeight:isNaN(this.$getExplicitHeight())?this.measuredHeight:this.$getExplicitHeight(),isNaN(t)&&(t=0),isNaN(e)&&(e=0),this.setActualSize(t,e),this.updateDisplayList(t,e),this._UIC_Props_._invalidateDisplayListFlag=!1}},r.validateNow=function(t){void 0===t&&(t=!1),this._UIC_Props_._validateNowFlag||null==e.UIGlobals._layoutManager?this._UIC_Props_._validateNowFlag=!0:e.UIGlobals._layoutManager.validateClient(this,t)},r.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._UIC_Props_._includeInLayout&&"invalidateSize"in this.parent){var t=this.parent;t.invalidateSize(),t.invalidateDisplayList()}},r.updateDisplayList=function(t,e){},r.canSkipMeasurement=function(){return!isNaN(this.$getExplicitWidth())&&!isNaN(this.$getExplicitHeight())},r.commitProperties=function(){(this._UIC_Props_._oldWidth!=this._UIC_Props_._uiWidth||this._UIC_Props_._oldHeight!=this._UIC_Props_._uiHeight)&&this.dispatchResizeEvent(),(this._UIC_Props_._oldX!=this.x||this._UIC_Props_._oldY!=this.y)&&this.dispatchMoveEvent()},r.measure=function(){this._UIC_Props_._measuredHeight=0,this._UIC_Props_._measuredWidth=0},r.dispatchMoveEvent=function(){this.hasEventListener(e.MoveEvent.MOVE)&&e.MoveEvent.dispatchMoveEvent(this,this._UIC_Props_._oldX,this._UIC_Props_._oldY),this._UIC_Props_._oldX=this.x,this._UIC_Props_._oldY=this.y},r._childXYChanged=function(){},r.dispatchResizeEvent=function(){this.hasEventListener(e.ResizeEvent.RESIZE)&&e.ResizeEvent.dispatchResizeEvent(this,this._UIC_Props_._oldWidth,this._UIC_Props_._oldHeight),this._UIC_Props_._oldWidth=this._UIC_Props_._uiWidth,this._UIC_Props_._oldHeight=this._UIC_Props_._uiHeight},s(r,"includeInLayout",function(){return this._UIC_Props_._includeInLayout},function(t){this._UIC_Props_._includeInLayout!=t&&(this._UIC_Props_._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._UIC_Props_._includeInLayout=t)}),s(r,"left",function(){return this._UIC_Props_._left},function(t){this._UIC_Props_._left!=t&&(this._UIC_Props_._left=t,this.invalidateParentSizeAndDisplayList())}),s(r,"right",function(){return this._UIC_Props_._right},function(t){this._UIC_Props_._right!=t&&(this._UIC_Props_._right=t,this.invalidateParentSizeAndDisplayList())}),s(r,"top",function(){return this._UIC_Props_._top},function(t){this._UIC_Props_._top!=t&&(this._UIC_Props_._top=t,this.invalidateParentSizeAndDisplayList())}),s(r,"bottom",function(){return this._UIC_Props_._bottom},function(t){this._UIC_Props_._bottom!=t&&(this._UIC_Props_._bottom=t,this.invalidateParentSizeAndDisplayList())}),s(r,"horizontalCenter",function(){return this._UIC_Props_._horizontalCenter},function(t){this._UIC_Props_._horizontalCenter!=t&&(this._UIC_Props_._horizontalCenter=t,this.invalidateParentSizeAndDisplayList())}),s(r,"verticalCenter",function(){return this._UIC_Props_._verticalCenter},function(t){this._UIC_Props_._verticalCenter!=t&&(this._UIC_Props_._verticalCenter=t,this.invalidateParentSizeAndDisplayList())}),s(r,"percentWidth",function(){return this._UIC_Props_._percentWidth},function(t){this._UIC_Props_._percentWidth!=t&&(this._UIC_Props_._percentWidth=t,this.invalidateParentSizeAndDisplayList())}),s(r,"percentHeight",function(){return this._UIC_Props_._percentHeight},function(t){this._UIC_Props_._percentHeight!=t&&(this._UIC_Props_._percentHeight=t,this.invalidateParentSizeAndDisplayList())}),r.setLayoutBoundsSize=function(t,e){isNaN(t)?(this._UIC_Props_._layoutWidthExplicitlySet=!1,t=this.preferredWidth):this._UIC_Props_._layoutWidthExplicitlySet=!0,isNaN(e)?(this._UIC_Props_._layoutHeightExplicitlySet=!1,e=this.preferredHeight):this._UIC_Props_._layoutHeightExplicitlySet=!0,this.setActualSize(t/this.$getScaleX(),e/this.$getScaleY())},r.setLayoutBoundsPosition=function(t,e){this.$getScaleX()<0&&(t+=this.layoutBoundsWidth),this.$getScaleY()<0&&(e+=this.layoutBoundsHeight);var i=!1;this.$getX()!=t&&(this.$setX(t),i=!0),this.$getY()!=e&&(this.$setY(e),i=!0),i&&this.dispatchMoveEvent()},s(r,"preferredWidth",function(){var t=isNaN(this.$getExplicitWidth())?this._UIC_Props_._measuredWidth:this.$getExplicitWidth(),e=this.$getScaleX();return 0>e&&(e=-e),t*e}),s(r,"preferredHeight",function(){var t=isNaN(this.$getExplicitHeight())?this._UIC_Props_._measuredHeight:this.$getExplicitHeight(),e=this.$getScaleY();return 0>e&&(e=-e),t*e}),s(r,"preferredX",function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.preferredWidth;return this.$getX()-t}),s(r,"preferredY",function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.preferredHeight;return this.$getY()-t}),s(r,"layoutBoundsX",function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.layoutBoundsWidth;return this.$getX()-t}),s(r,"layoutBoundsY",function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.layoutBoundsHeight;return this.$getY()-t}),s(r,"layoutBoundsWidth",function(){var t=0;this._UIC_Props_._layoutWidthExplicitlySet?t=this._UIC_Props_._uiWidth:isNaN(t=this.$getExplicitWidth())&&(t=this._UIC_Props_._measuredWidth);var e=this.$getScaleX();return 0>e&&(e=-e),t*e}),s(r,"layoutBoundsHeight",function(){var t=0;this._UIC_Props_._layoutHeightExplicitlySet?t=this._UIC_Props_._uiHeight:isNaN(t=this.$getExplicitHeight())&&(t=this._UIC_Props_._measuredHeight);var e=this.$getScaleY();return 0>e&&(e=-e),t*e}),n.prototypeCanSet=void 0,n.emptyStyleChain={},n}(t.DisplayObjectContainer);e.UIComponent=i,t.registerClass(i,"egret.gui.UIComponent",["egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.ILayoutManagerClient","egret.gui.IInvalidating","egret.gui.IStyleClient"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.hostComponentKey=null,this._skinNameExplicitlySet=!1,this._skinName=null,this._createChildrenCalled=!1,this._skin=null,this.skinLayoutEnabled=!1,this.stateIsDirty=!1,this._autoMouseEnabled=!0,this.explicitMouseChildren=!0,this.explicitMouseEnabled=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"skinName",function(){return this._skinName},function(t){this._skinName!=t&&(this._skinName=t,this._skinNameExplicitlySet=!0,this._createChildrenCalled&&this.parseSkinName())}),r.createChildren=function(){i.prototype.createChildren.call(this),this.parseSkinName(),this._createChildrenCalled=!0},r.parseSkinName=function(){var e=n.skinAdapter;e||(e=this.getSkinAdapter());var i=this.hostComponentKey||t.getQualifiedClassName(this),s=e.getSkin(this._skinName,i);if(!s){var a=n._defaultTheme;a&&(s=a.getDefaultSkin(this))}this._setSkin(s)},r.getSkinAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.ISkinAdapter")}catch(i){t=new e.DefaultSkinAdapter}return n.skinAdapter=t,t},s(r,"skin",function(){return this._skin}),r._setSkin=function(i){var n=this._skin;this.detachSkin(n),n instanceof t.DisplayObject&&this._removeFromDisplayList(n),this._skin=i,i instanceof t.DisplayObject&&this._addToDisplayListAt(this._skin,0),this.attachSkin(i),this.invalidateSkinState(),this.invalidateSize(),this.invalidateDisplayList(),this.hasEventListener(e.UIEvent.SKIN_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.SKIN_CHANGED)},r.attachSkin=function(e){if(!e||e instanceof t.DisplayObject?this.skinLayoutEnabled=!1:this.skinLayoutEnabled=!0,e&&"hostComponent"in e){var i=e;i.hostComponent=this,this.findSkinParts()}},r.findSkinParts=function(){var t=this._skin;if(t&&"skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var s=e[n];if(s in t)try{this[s]=t[s],this.partAdded(s,t[s])}catch(a){}}},r.detachSkin=function(t){if(t){if("skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var s=e[n];s in this&&(null!=this[s]&&this.partRemoved(s,this[s]),this[s]=null)}t.hostComponent=null}},r.partAdded=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_ADDED,t,i)},r.partRemoved=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_REMOVED,t,i)},r.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())},r.validateSkinState=function(){var t=this.getCurrentSkinState(),e=this._skin;e&&"currentState"in e&&(e.currentState=t),this.hasEventListener("stateChanged")&&this.dispatchEventWith("stateChanged")},s(r,"autoTouchEnabled",function(){return this._autoMouseEnabled},function(t){this._autoMouseEnabled!=t&&(this._autoMouseEnabled=t,this._autoMouseEnabled?(this.touchChildren=this.enabled?this.explicitMouseChildren:!1,this.touchEnabled=this.enabled?this.explicitMouseEnabled:!1):(this.touchChildren=this.explicitMouseChildren,this.touchEnabled=this.explicitMouseEnabled))}),s(r,"touchChildren",function(){return this.$getTouchChildren()},function(t){this.enabled&&this.$setTouchChildren(t),this.explicitMouseChildren=t}),s(r,"touchEnabled",function(){return this.$getTouchEnabled()},function(t){this.enabled&&this.$setTouchEnabled(t),this.explicitMouseEnabled=t}),s(r,"enabled",function(){return this._UIC_Props_._enabled},function(t){this.$setEnabled(t)}),r.$setEnabled=function(t){return this._UIC_Props_._enabled==t?!1:(this._UIC_Props_._enabled=t,this._autoMouseEnabled&&(this.$touchChildren=t?this.explicitMouseChildren:!1,this.$touchEnabled=t?this.explicitMouseEnabled:!1),this.invalidateSkinState(),!0)},r.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"},r.commitProperties=function(){i.prototype.commitProperties.call(this),this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())},r._childXYChanged=function(){this.skinLayoutEnabled&&(this.invalidateSize(),this.invalidateDisplayList())},r.measure=function(){i.prototype.measure.call(this);var t=this._skin;t&&(this.skinLayoutEnabled?(t.measure(),this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):"preferredWidth"in t?(this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):(this.measuredWidth=t.width,this.measuredHeight=t.height))},r.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._skin;s&&(this.skinLayoutEnabled?s.updateDisplayList(e,n):"setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):s instanceof t.DisplayObject&&(s.scaleX=0==s.width?1:e/s.width,s.scaleY=0==s.height?1:n/s.height))},r.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},r.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},r.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},r.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},r.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},r.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},r.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n.skinAdapter=null,n._defaultTheme=null,n}(e.UIComponent);e.SkinnableComponent=i,t.registerClass(i,"egret.gui.SkinnableComponent",["egret.gui.ISkinnableClient","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.contentGroup=null,this._placeHolderGroup=null,this.contentGroupProperties={}}__extends(i,t);var n=__define,s=i,a=s.prototype;return a._getCurrentContentGroup=function(){return null==this.contentGroup?(null==this._placeHolderGroup&&(this._placeHolderGroup=new e.Group,this._placeHolderGroup.visible=!1,this._addToDisplayList(this._placeHolderGroup)),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this._placeHolderGroup):this.contentGroup},n(a,"elementsContent",void 0,function(t){this._getCurrentContentGroup().elementsContent=t}),n(a,"numElements",function(){return this._getCurrentContentGroup().numElements}),a.getElementAt=function(t){return this._getCurrentContentGroup().getElementAt(t)},a.addElement=function(t){return this._getCurrentContentGroup().addElement(t)},a.addElementAt=function(t,e){return this._getCurrentContentGroup().addElementAt(t,e)},a.removeElement=function(t){return this._getCurrentContentGroup().removeElement(t)},a.removeElementAt=function(t){return this._getCurrentContentGroup().removeElementAt(t)},a.removeAllElements=function(){this._getCurrentContentGroup().removeAllElements()},a.getElementIndex=function(t){return this._getCurrentContentGroup().getElementIndex(t)},a.setElementIndex=function(t,e){this._getCurrentContentGroup().setElementIndex(t,e)},a.swapElements=function(t,e){this._getCurrentContentGroup().swapElements(t,e)},a.swapElementsAt=function(t,e){this._getCurrentContentGroup().swapElementsAt(t,e)},n(a,"layout",function(){return null!=this.contentGroup?this.contentGroup.layout:this.contentGroupProperties.layout},function(t){null!=this.contentGroup?this.contentGroup.layout=t:this.contentGroupProperties.layout=t}),n(a,"autoLayout",function(){if(this.contentGroup)return this.contentGroup.autoLayout;var t=this.contentGroupProperties.autoLayout;return void 0===t?!0:t},function(t){this.contentGroup?this.contentGroup.autoLayout=t:this.contentGroupProperties.autoLayout=t}),a.partAdded=function(i,n){if(t.prototype.partAdded.call(this,i,n),n==this.contentGroup){if(void 0!==this.contentGroupProperties.layout&&(this.contentGroup.layout=this.contentGroupProperties.layout),void 0!==this.contentGroupProperties.autoLayout&&(this.contentGroup.autoLayout=this.contentGroupProperties.autoLayout),this.contentGroupProperties={},this._placeHolderGroup){this._placeHolderGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this);for(var s=this._placeHolderGroup._getElementsContent().concat(),a=this._placeHolderGroup.numElements;a>0;a--){var r=this._placeHolderGroup.removeElementAt(0);r.ownerChanged(null)}for(this._removeFromDisplayList(this._placeHolderGroup),this.contentGroup.elementsContent=s,a=s.length-1;a>=0;a--)r=s[a],r.ownerChanged(this);this._placeHolderGroup=null}this.contentGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)
}},a.partRemoved=function(i,n){if(t.prototype.partRemoved.call(this,i,n),n==this.contentGroup&&(this.contentGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this.contentGroupProperties.layout=this.contentGroup.layout,this.contentGroupProperties.autoLayout=this.contentGroup.autoLayout,this.contentGroup.layout=null,this.contentGroup.numElements>0)){for(this._placeHolderGroup=new e.Group;this.contentGroup.numElements>0;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}},a._contentGroup_elementAddedHandler=function(t){t.element.ownerChanged(this),this.dispatchEvent(t)},a._contentGroup_elementRemovedHandler=function(t){t.element.ownerChanged(null),this.dispatchEvent(t)},i}(e.SkinnableComponent);e.SkinnableContainer=i,t.registerClass(i,"egret.gui.SkinnableContainer",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.titleDisplay=null,this._title="",this.titleChanged=!1,this.touchEnabled=!1}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"title",function(){return this._title},function(t){this._title=t,this.titleDisplay&&(this.titleDisplay.text=this.title)}),s.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.titleDisplay&&(this.titleDisplay.text=this.title)},e}(e.SkinnableContainer);e.Panel=i,t.registerClass(i,"egret.gui.Panel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.closeButton=null,this.moveArea=null,this._showCloseButton=!0,this._autoBackToStage=!0,this._offsetPointX=0/0,this._offsetPointY=0/0,this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onWindowMouseDown,this,!0,100)}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.onWindowMouseDown=function(t){this.enabled&&this.isPopUp&&t.target!=this.closeButton&&e.PopUpManager.bringToFront(this)},s(r,"showCloseButton",function(){return this._showCloseButton},function(t){this._showCloseButton!=t&&(this._showCloseButton=t,this.closeButton&&(this.closeButton.visible=this._showCloseButton))}),s(r,"autoBackToStage",function(){return this._autoBackToStage},function(t){this._autoBackToStage=t}),r.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.moveArea?this.moveArea.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&(this.closeButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this),this.closeButton.visible=this._showCloseButton)},r.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.moveArea?this.moveArea.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&this.closeButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this)},r.closeButton_clickHandler=function(t){e.CloseEvent.dispatchCloseEvent(this,e.CloseEvent.CLOSE)},r.moveArea_mouseDownHandler=function(i){if(this.enabled&&this.isPopUp){var n=this.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._offsetPointX=n.x,this._offsetPointY=n.y,this._UIC_Props_._includeInLayout=!1,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this)}},r.moveArea_mouseMoveHandler=function(e){var i=this.globalToLocal(e.stageX,e.stageY,t.$TempPoint);this.x+=i.x-this._offsetPointX,this.y+=i.y-this._offsetPointY},r.moveArea_mouseUpHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this),this._autoBackToStage&&this.adjustPosForStage(),e.LayoutUtil.adjustRelativeByXY(this),this.includeInLayout=!0},r.adjustPosForStage=function(){if(this.moveArea&&this.stage){var t=this.moveArea.localToGlobal(0,0),e=t.x,i=t.y;t.x+this.moveArea.width<35&&(e=35-this.moveArea.width),t.x>this.stage.stageWidth-20&&(e=this.stage.stageWidth-20),t.y+this.moveArea.height<20&&(i=20-this.moveArea.height),t.y>this.stage.stageHeight-20&&(i=this.stage.stageHeight-20),this.x+=e-t.x,this.y+=i-t.y}},n}(e.Panel);e.TitleWindow=i,t.registerClass(i,"egret.gui.TitleWindow")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._firstButtonLabel="",this._secondButtonLabel="",this._contentText="",this.closeHandler=null,this.contentDisplay=null,this.firstButton=null,this.secondButton=null}__extends(n,i);var s=__define,a=n,r=a.prototype;return n.show=function(t,i,s,a,r,o,h,l){void 0===t&&(t=""),void 0===i&&(i=""),void 0===s&&(s=null),void 0===a&&(a="OK"),void 0===r&&(r=""),void 0===o&&(o=!0),void 0===h&&(h=!0);var u=new n;return u.contentText=t,u.title=i,u._firstButtonLabel=a,u._secondButtonLabel=r,u.closeHandler=s,u.thisObject=l,e.PopUpManager.addPopUp(u,o,h),u},s(r,"firstButtonLabel",function(){return this._firstButtonLabel},function(t){this._firstButtonLabel!=t&&(this._firstButtonLabel=t,this.firstButton&&(this.firstButton.label=t))}),s(r,"secondButtonLabel",function(){return this._secondButtonLabel},function(t){this._secondButtonLabel!=t&&(this._secondButtonLabel=t,this.secondButton&&(null==t||""==t)&&(this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel))}),s(r,"contentText",function(){return this._contentText},function(t){this._contentText!=t&&(this._contentText=t,this.contentDisplay&&(this.contentDisplay.text=t))}),r.onClose=function(t){if(e.PopUpManager.removePopUp(this),null!=this.closeHandler){var i=new e.CloseEvent(e.CloseEvent.CLOSE);switch(t.currentTarget){case this.firstButton:i.detail=n.FIRST_BUTTON;break;case this.secondButton:i.detail=n.SECOND_BUTTON}this.callCloseHandler(i)}},r.closeButton_clickHandler=function(t){i.prototype.closeButton_clickHandler.call(this,t),e.PopUpManager.removePopUp(this);var s=new e.CloseEvent(e.CloseEvent.CLOSE,!1,!1,n.CLOSE_BUTTON);this.callCloseHandler(s)},r.callCloseHandler=function(t){if(null!=this.closeHandler){var e=this.thisObject||this;this.closeHandler.call(e,t)}},r.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.contentDisplay?this.contentDisplay.text=this._contentText:n==this.firstButton?(this.firstButton.label=this._firstButtonLabel,this.firstButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)):n==this.secondButton&&(this.secondButton.label=this._secondButtonLabel,this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel,this.secondButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this))},r.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.firstButton?this.firstButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this):n==this.secondButton&&this.secondButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)},n.FIRST_BUTTON="firstButton",n.SECOND_BUTTON="secondButton",n.CLOSE_BUTTON="closeButton",n}(e.TitleWindow);e.Alert=i,t.registerClass(i,"egret.gui.Alert")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._bitmapText=null,this._textChanged=!1,this._text="",this.fontChanged=!1,this._isLetterSpacingChanged=!1,this._letterSpacing=0,this._isSmoothingChanged=!1,this._isLineSpacingChanged=!1,this._lineSpacing=0,this.createChildrenCalled=!1,this.lastUnscaledWidth=0/0,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this._smoothing=t.Bitmap.defaultSmoothing,this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.updateCompleteHandler=function(t){this.lastUnscaledWidth=0/0},s(r,"text",function(){return this._text},function(t){this._text!=t&&(this._text=t,this._textChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(r,"font",function(){return this._font},function(t){this._font!=t&&(this._font=t,this.createChildrenCalled?this.parseFont():this.fontChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(r,"letterSpacing",function(){return this._letterSpacing},function(t){this._setLetterSpacing(t)}),r._setLetterSpacing=function(t){this._letterSpacing=t,this._isLetterSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},s(r,"smoothing",function(){return this._smoothing},function(t){this._setSmoothing(t)}),r._setSmoothing=function(t){this._smoothing=t,this._isSmoothingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},s(r,"lineSpacing",function(){return this._lineSpacing},function(t){this._setLineSpacing(t)}),r._setLineSpacing=function(t){this._lineSpacing=t,this._isLineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},r.createChildren=function(){i.prototype.createChildren.call(this),this._bitmapText||this.checkBitmapText(),this.fontChanged&&this.parseFont(),this.createChildrenCalled=!0},r.parseFont=function(){this.fontChanged=!1;var t=n.assetAdapter;t||(t=this.getAdapter()),this._font?t.getAsset(this._font,this.onFontChanged,this,null):this.onFontChanged(null,null)},r.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},r.onFontChanged=function(t,e){e===this._font&&(this._bitmapText.font=t,this.invalidateSize(),this.invalidateDisplayList())},s(r,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())}),s(r,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())}),s(r,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())}),s(r,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())}),s(r,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())}),r.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},r.isSpecialCase=function(){return(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitWidth())&&isNaN(this.percentHeight)},r.measureUsingWidth=function(t){this._textChanged&&(this._bitmapText.text=this._text),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,s=isNaN(this._paddingTop)?e:this._paddingTop,a=isNaN(this._paddingBottom)?e:this._paddingBottom;this._bitmapText.width=0/0,this._bitmapText.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)):(this._bitmapText.width=t-i-n,this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)),this.measuredWidth+=i+n,this.measuredHeight+=s+a},r.updateDisplayList=function(t,e){if(i.prototype.updateDisplayList.call(this,t,e),this._bitmapText){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;if(this._bitmapText.x=s,this._bitmapText.y=r,this.isSpecialCase()){var h=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,h)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._bitmapText.visible||(this._bitmapText.visible=!0),this._bitmapText.width=t-s-a;var l=e-r-o;this._bitmapText.height=l}},r.checkBitmapText=function(){this._bitmapText||(this._bitmapText=new t.BitmapText,this._bitmapText.text=this._text,this._bitmapText.letterSpacing=this._letterSpacing,this._bitmapText.lineSpacing=this._lineSpacing,this._bitmapText.smoothing=this._smoothing,this._textChanged=!1,this._isLetterSpacingChanged=!1,this._isLineSpacingChanged=!1,this._isSmoothingChanged=!1,this._addToDisplayList(this._bitmapText))},r.commitProperties=function(){i.prototype.commitProperties.call(this),this._bitmapText||this.checkBitmapText(),this._textChanged&&(this._bitmapText.text=this._text,this._textChanged=!1),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing,this._isLetterSpacingChanged=!1),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing,this._isLineSpacingChanged=!1),this._isSmoothingChanged&&(this._bitmapText.smoothing=this._smoothing,this._isSmoothingChanged=!1)},n}(e.UIComponent);e.BitmapLabel=i,t.registerClass(i,"egret.gui.BitmapLabel",["egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._downEventFired=!1,this.autoRepeatTimer=null,this.labelDisplay=null,this._autoRepeat=!1,this._repeatDelay=35,this._repeatInterval=35,this._hovered=!1,this._keepDown=!1,this._label="",this._mouseCaptured=!1,this._stickyHighlighting=!1,this.touchChildren=!1,this.addHandlers()}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"autoRepeat",function(){return this._autoRepeat},function(t){t!=this._autoRepeat&&(this._autoRepeat=t,this.checkAutoRepeatTimerConditions(this.isDown()))}),s(r,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),s(r,"repeatInterval",function(){return this._repeatInterval},function(t){this._repeatInterval=t}),s(r,"hovered",function(){return this._hovered},function(t){t!=this._hovered&&(this._hovered=t,this.invalidateSkinState(),this.checkButtonDownConditions())}),r._setKeepDown=function(t){this._keepDown!=t&&(this._keepDown=t,this.invalidateSkinState())},s(r,"label",function(){return this._getLabel()},function(t){this._setLabel(t)}),r._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label},r._setLabel=function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},s(r,"mouseCaptured",function(){return this._mouseCaptured},function(t){t!=this._mouseCaptured&&(this._mouseCaptured=t,this.invalidateSkinState(),t||this.removeStageMouseHandlers(),this.checkButtonDownConditions())}),s(r,"stickyHighlighting",function(){return this._stickyHighlighting},function(t){t!=this._stickyHighlighting&&(this._stickyHighlighting=t,this.invalidateSkinState(),this.checkButtonDownConditions())}),r.checkButtonDownConditions=function(){var t=this.isDown();this._downEventFired!=t&&(t&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN),this._downEventFired=t,this.checkAutoRepeatTimerConditions(t))},r.addHandlers=function(){this.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_END,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)},r.addStageMouseHandlers=function(){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},r.removeStageMouseHandlers=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},r.isDown=function(){return this.enabled&&this.mouseCaptured&&(this.hovered||this.stickyHighlighting)?!0:!1},r.checkAutoRepeatTimerConditions=function(t){var e=this.autoRepeat&&t,i=null!=this.autoRepeatTimer;e!=i&&(e?this.startTimer():this.stopTimer())},r.startTimer=function(){this.autoRepeatTimer=new t.Timer(1),this.autoRepeatTimer.delay=this._repeatDelay,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.start()},r.stopTimer=function(){this.autoRepeatTimer.stop(),this.autoRepeatTimer=null},r.mouseEventHandler=function(e){switch(e.type){case t.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers(),this.mouseCaptured=!0,this.hovered=!0;break;case t.TouchEvent.TOUCH_END:e.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case t.TouchEvent.TOUCH_TAP:return void(this.enabled?this.clickHandler(e):e.stopImmediatePropagation())}},r.buttonReleased=function(){},r.clickHandler=function(t){},r.stage_mouseUpHandler=function(t){t.target!=this&&(this.mouseCaptured=!1,this.hovered=!1)},r.autoRepeat_timerDelayHandler=function(e){this.autoRepeatTimer.reset(),this.autoRepeatTimer.removeEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.delay=this._repeatInterval,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerHandler,this),this.autoRepeatTimer.start()},r.autoRepeat_timerHandler=function(t){e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN)},r.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":"up":i.prototype.getCurrentSkinState.call(this)},r.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.labelDisplay&&(this.labelDisplay.text=this._label)},n}(e.SkinnableComponent);e.ButtonBase=i,t.registerClass(i,"egret.gui.ButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.iconDisplay=null,this._icon=null}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"icon",function(){return this._getIcon()},function(t){this._setIcon(t)}),s._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},s._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},s.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(e.ButtonBase);e.Button=i,t.registerClass(i,"egret.gui.Button")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.maxWidth=1e4,this.minWidth=0,this.maxHeight=1e4,this.minHeight=0,this._hasWidthSet=!1,this._width=0/0,this._hasHeightSet=!1,this._height=0/0,this._measuredWidth=0,this.measuredHeight=0,this._initialized=!1,this._hostComponent=null,this._elementsContent=[],this.skinLayout=null,this._states=[],this.playStateTransition=!0,this.currentStateChanged=!1,this._currentState=null,this.requestedCurrentState=null,this.initialized=!1,this.skinLayout=new e.SkinBasicLayout,this.skinLayout.target=this}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"width",function(){return this._width},function(e){this._width!=e&&(this._width=e,this._hasWidthSet=t.NumberUtils.isNumber(e))}),s(r,"height",function(){return this._height},function(e){this._height!=e&&(this._height=e,this._hasHeightSet=t.NumberUtils.isNumber(e))}),s(r,"measuredWidth",function(){return this._measuredWidth},function(t){this._measuredWidth=t}),s(r,"preferredWidth",function(){return this._hasWidthSet?this._width:this.measuredWidth}),s(r,"preferredHeight",function(){return this._hasHeightSet?this._height:this.measuredHeight}),r.createChildren=function(){},s(r,"hostComponent",function(){return this._hostComponent},function(t){this._setHostComponent(t)}),r._setHostComponent=function(t){if(this._hostComponent!=t){var e;if(this._hostComponent)for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);if(this._hostComponent=t,this._initialized||(this._initialized=!0,this.createChildren()),this._hostComponent){var i=this._elementsContent.length;for(e=0;i>e;e++)this._elementAdded(this._elementsContent[e],e);this.initializeStates(),this.currentStateChanged&&this.commitCurrentState()}}},r._getElementsContent=function(){return this._elementsContent},s(r,"elementsContent",void 0,function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this._hostComponent){var e;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}}else this._elementsContent=t.concat()}),s(r,"numElements",function(){return this._elementsContent.length}),r.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},r.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},r.addElement=function(t){var e=this.numElements;return t.owner==this&&(e=this.numElements-1),this.addElementAt(t,e)},r.addElementAt=function(t,e){this.checkForRangeError(e,!0);var i=t.owner;return i==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&i.removeElement(t),this._elementsContent.splice(e,0,t),this._hostComponent?this._elementAdded(t,e):t.ownerChanged(this),t)},r.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},r.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this._hostComponent?this._elementRemoved(e,t):e.ownerChanged(null),this._elementsContent.splice(t,1),e},r.getElementIndex=function(t){return this._elementsContent.indexOf(t)},r.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this._hostComponent&&this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this._hostComponent&&this._elementAdded(t,e,!1))},r._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),i.ownerChanged(this),i instanceof t.DisplayObject){var a=i;this._hostComponent._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},r._elementRemoved=function(i,n,s){if(void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this._hostComponent){var a=i;this._hostComponent._removeFromDisplayList(a,s)}i.ownerChanged(null),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},r.measure=function(){this.skinLayout.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)},r.updateDisplayList=function(t,e){this.skinLayout.updateDisplayList(t,e)},s(r,"states",function(){return this._states},function(t){this._setStates(t)}),r._setStates=function(t){if(t||(t=[]),"string"==typeof t[0])for(var i=t.length,n=0;i>n;n++){var s=new e.State(t[n],[]);t[n]=s}this._states=t,this.currentStateChanged=!0,this.requestedCurrentState=this._currentState,this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())},s(r,"transitions",function(){return this._transitions},function(t){this._transitions=t}),s(r,"currentState",function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:this.getDefaultState()},function(t){t||(t=this.getDefaultState()),t!=this.currentState&&t&&this.currentState&&(this.requestedCurrentState=t,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())}),r.hasState=function(t){return null!=this.getState(t)},r.getDefaultState=function(){return this._states.length>0?this._states[0].name:null},r.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=!1;var t=this.getState(this.requestedCurrentState);t||(this.requestedCurrentState=this.getDefaultState());var i;this.playStateTransition&&(i=this.getTransition(this._currentState,this.requestedCurrentState));var n,s;this._currentTransition&&(this._currentTransition.effect.removeEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i&&this._currentTransition.interruptionBehavior==e.InterruptionBehavior.STOP?(s=this._currentTransition.effect,s.stop()):(this._currentTransition.autoReverse&&this.transitionFromState==this.requestedCurrentState&&this.transitionToState==this._currentState&&(n=0==this._currentTransition.effect.duration?0:this._currentTransition.effect.playheadTime/this.getTotalDuration(this._currentTransition.effect)),this._currentTransition.effect.end()),this._currentTransition=null);var a=this._currentState?this._currentState:"";if(this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGING)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGING,a,this.requestedCurrentState?this.requestedCurrentState:""),this.removeState(this._currentState),this._currentState=this.requestedCurrentState,this._currentState&&this.applyState(this._currentState),this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGE,a,this._currentState?this._currentState:""),i){var r=i&&i.autoReverse&&(i.toState==a||i.fromState==this._currentState);e.UIGlobals._layoutManager.validateNow(),this._currentTransition=i,this.transitionFromState=a,this.transitionToState=this._currentState,i.effect.addEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i.effect.play(null,r),isNaN(n)||0==i.effect.duration||(i.effect.playheadTime=(1-n)*this.getTotalDuration(i.effect))}else this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,a,this._currentState)}},r.transition_effectEndHandler=function(t){this._currentTransition=null,this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,this.transitionFromState,this.transitionToState)},r.getState=function(t){if(!t)return null;for(var e=this._states,i=e.length,n=0;i>n;n++){var s=e[n];if(s.name==t)return s}return null},r.removeState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length-1;n>=0;n--)i[n].remove(this)},r.applyState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length,s=0;n>s;s++)i[s].apply(this)},r.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var t=this._states,e=t.length,i=0;e>i;i++){var n=t[i];n.initialize(this)}}},r.getTransition=function(t,e){var i=null,n=0;if(!this.transitions)return null;t||(t=""),e||(e="");for(var s=0;s<this.transitions.length;s++){var a=this.transitions[s];if("*"==a.fromState&&"*"==a.toState&&1>n)i=a,n=1;else if(a.toState==t&&"*"==a.fromState&&a.autoReverse&&2>n)i=a,n=2;else if("*"==a.toState&&a.fromState==e&&a.autoReverse&&3>n)i=a,n=3;else if(a.toState==t&&a.fromState==e&&a.autoReverse&&4>n)i=a,n=4;else if(a.fromState==t&&"*"==a.toState&&5>n)i=a,n=5;else if("*"==a.fromState&&a.toState==e&&6>n)i=a,n=6;else if(a.fromState==t&&a.toState==e&&7>n){i=a,n=7;break}}return i&&!i.effect&&(i=null),i},r.getTotalDuration=function(t){var i=0,n=t;i=t instanceof e.CompositeEffect?n.compositeDuration:t.duration;var s="repeatDelay"in t?n.repeatDelay:0,a="repeatCount"in t?n.repeatCount:0,r="startDelay"in t?n.startDelay:0;return i=i*a+s*(a-1)+r},n}(t.EventDispatcher);e.Skin=i,t.registerClass(i,"egret.gui.Skin",["egret.gui.IStateClient","egret.IEventDispatcher","egret.gui.ISkin","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=null),i.call(this),this.labelDisplay=new t.gui.Label,this.iconDisplay=new t.gui.UIAsset;var a={};a.up=e,a.down=n,a.disabled=s,this.stateMap=a,this._setStates(["up","down","disabled"])}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"skinParts",function(){return n._skinParts}),r.createChildren=function(){i.prototype.createChildren.call(this);var t=new e.UIAsset;t.left=t.top=t.bottom=t.right=0,this.addElement(t),this.backgroundAsset=t,this.iconDisplay.includeInLayout=!1,this.addElement(this.iconDisplay),this.labelDisplay.includeInLayout=!1,this.labelDisplay.paddingLeft=5,this.labelDisplay.paddingRight=5,this.addElement(this.labelDisplay)},r.commitCurrentState=function(){i.prototype.commitCurrentState.call(this);var t=this.currentState,e=this.stateMap[t];e&&(this.backgroundAsset.source=this.stateMap[t])},r.measure=function(){i.prototype.measure.call(this);var t=this.iconDisplay.preferredWidth+this.labelDisplay.preferredWidth+20,e=Math.max(this.iconDisplay.preferredHeight,this.labelDisplay.preferredHeight)+20;t>this.measuredWidth&&(t<this.minWidth&&(t=this.minWidth),t>this.maxWidth&&(t=this.maxWidth),this.measuredWidth=t),e>this.measuredHeight&&(e<this.minHeight&&(e=this.minHeight),e>this.maxHeight&&(e=this.maxHeight),this.measuredHeight=e)},r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e);var n=this.iconDisplay.layoutBoundsWidth,s=this.iconDisplay.layoutBoundsHeight,a=this.labelDisplay.layoutBoundsWidth,r=this.labelDisplay.layoutBoundsHeight,o=.5*(t-n-a),h=.5*(e-s);this.iconDisplay.setLayoutBoundsPosition(o,h);var l=o+n,u=.5*(e-r);this.labelDisplay.setLayoutBoundsPosition(l,u)},n._skinParts=["labelDisplay","iconDisplay"],n}(e.Skin);e.ButtonSkin=i,t.registerClass(i,"egret.gui.ButtonSkin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._selected=!1,this._autoSelected=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"selected",function(){return this._selected},function(t){this._setSelected(t)}),r._setSelected=function(t){t!=this._selected&&(this._selected=t,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.invalidateSkinState())
},r.getCurrentSkinState=function(){var t=i.prototype.getCurrentSkinState.call(this);if(this.selected){var e=t+"AndSelected",n=this.skin;return n&&n.hasState(e)?e:"disabled"==t?"disabled":"down"}return t},r.buttonReleased=function(){i.prototype.buttonReleased.call(this),this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(t.Event.CHANGE))},n}(e.ButtonBase);e.ToggleButtonBase=i,t.registerClass(i,"egret.gui.ToggleButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e);i.prototype;return e}(e.ToggleButtonBase);e.CheckBox=i,t.registerClass(i,"egret.gui.CheckBox")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.generator=null,this.generator=e}__extends(e,t);var i=(__define,e),n=i.prototype;return n.newInstance=function(){var t=new this.generator;return t},e}(t.HashObject);e.ClassFactory=i,t.registerClass(i,"egret.gui.ClassFactory",["egret.gui.IFactory"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.dataChangedFlag=!1,this._data=null,this._selected=!1,this._itemIndex=-1,this.touchChildren=!0}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"data",function(){return this._data},function(t){this._data=t,this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())}),s.dataChanged=function(){},i(s,"selected",function(){return this._selected},function(t){this._selected!=t&&(this._selected=t,this.invalidateSkinState())}),i(s,"itemIndex",function(){return this._itemIndex},function(t){this._itemIndex=t}),s.commitProperties=function(){t.prototype.commitProperties.call(this),this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())},s.getCurrentSkinState=function(){return this._selected?"down":t.prototype.getCurrentSkinState.call(this)},e}(e.ButtonBase);e.ItemRenderer=i,t.registerClass(i,"egret.gui.ItemRenderer",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._contentWidth=0,this._contentHeight=0,this._layout=null,this._clipAndEnableScrolling=!1,this._autoLayout=!0,this._horizontalScrollPosition=0,this._verticalScrollPosition=0,this._layoutInvalidateDisplayListFlag=!1,this._layoutInvalidateSizeFlag=!1,this.touchEnabled=!1}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.createChildren=function(){i.prototype.createChildren.call(this),this._layout||(this.layout=new e.BasicLayout)},s(r,"contentWidth",function(){return this._contentWidth}),r.setContentWidth=function(t){if(t!=this._contentWidth){var i=this._contentWidth;this._contentWidth=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentWidth",i,t,this)}},s(r,"contentHeight",function(){return this._contentHeight}),r.setContentHeight=function(t){if(t!=this._contentHeight){var i=this._contentHeight;this._contentHeight=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentHeight",i,t,this)}},r.setContentSize=function(t,e){(t!=this._contentWidth||e!=this._contentHeight)&&(this.setContentWidth(t),this.setContentHeight(e))},s(r,"layout",function(){return this._layout},function(t){this._setLayout(t)}),r._setLayout=function(t){this._layout!=t&&(this._layout&&(this._layout.target=null),this._layout=t,this._layout&&(this._layout.target=this),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEventWith("layoutChanged"))},s(r,"clipAndEnableScrolling",function(){return this._clipAndEnableScrolling},function(e){e!=this._clipAndEnableScrolling&&(this._clipAndEnableScrolling=e,this._clipAndEnableScrolling?this.scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,400,800):this.scrollRect=null)}),s(r,"autoLayout",function(){return this._autoLayout},function(t){this._autoLayout!=t&&(this._autoLayout=t,t&&(this.invalidateSize(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()))}),s(r,"horizontalScrollPosition",function(){return this._horizontalScrollPosition},function(t){if(t!=this._horizontalScrollPosition){var i=this._horizontalScrollPosition;this._horizontalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",i,t,this)}}),s(r,"verticalScrollPosition",function(){return this._verticalScrollPosition},function(t){if(t!=this._verticalScrollPosition){var i=this._verticalScrollPosition;this._verticalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",i,t,this)}}),r.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),this._layout&&this._layout.scrollPositionChanged())},r.updateScrollRect=function(e,i){var n=this.scrollRect;this._clipAndEnableScrolling?n?(n.x=this._horizontalScrollPosition,n.y=this._verticalScrollPosition,n.width=e,n.height=i,this.scrollRect=n):this.scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,e,i):n&&(this.scrollRect=null)},r.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(i.prototype.measure.call(this),this._layout.measure())},r._invalidateDisplayListExceptLayout=function(){i.prototype.invalidateDisplayList.call(this)},r.invalidateDisplayList=function(){i.prototype.invalidateDisplayList.call(this),this._layoutInvalidateDisplayListFlag=!0},r._childXYChanged=function(){this.autoLayout&&(this.invalidateSize(),this.invalidateDisplayList())},r._invalidateSizeExceptLayout=function(){i.prototype.invalidateSize.call(this)},r.invalidateSize=function(){i.prototype.invalidateSize.call(this),this._layoutInvalidateSizeFlag=!0},r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._layoutInvalidateDisplayListFlag&&(this._layoutInvalidateDisplayListFlag=!1,this.autoLayout&&this._layout&&this._layout.updateDisplayList(t,e),this._layout&&this.updateScrollRect(t,e))},s(r,"numElements",function(){return-1}),r.getElementAt=function(t){return null},r.getElementIndex=function(t){return-1},r.getElementIndicesInView=function(){var e,i=[];if(this.scrollRect)for(e=0;e<this.numChildren;e++){var n=this.getChildAt(e);if(n){var s=new t.Rectangle;s.x=n.layoutBoundsX,s.y=n.layoutBoundsY,s.width=n.layoutBoundsWidth,s.height=n.layoutBoundsHeight,this.scrollRect.intersects(s)&&i.push(e)}}else for(e=0;e<this.numChildren;e++)i.push(e);return i},r.setVirtualElementIndicesInView=function(t,e){},r.getVirtualElementAt=function(t){return this.getElementAt(t)},n}(e.UIComponent);e.GroupBase=i,t.registerClass(i,"egret.gui.GroupBase",["egret.gui.IViewport","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._rendererOwner=null,this.useVirtualLayoutChanged=!1,this.rendererToClassMap=[],this.freeRenderers=[],this.createNewRendererFlag=!1,this.cleanTimer=null,this.dataProviderChanged=!1,this._dataProvider=null,this.recyclerDic={},this.itemRendererChanged=!1,this._itemRenderer=null,this.itemRendererSkinNameChange=!1,this._itemRendererSkinName=null,this._itemRendererFunction=null,this.virtualLayoutUnderway=!1,this.typicalItemChanged=!1,this.typicalLayoutRect=null,this.indexToRenderer=[],this.cleanFreeRenderer=!1,this.renderersBeingUpdated=!1}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"layout",function(){return this._layout},function(t){t!=this.layout&&(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&t&&this.layout.useVirtualLayout!=t.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(t),t&&(t.typicalLayoutRect=this.typicalLayoutRect,t.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))}),r.layout_useVirtualLayoutChangedHandler=function(t){this.changeUseVirtualLayout()},r.setVirtualElementIndicesInView=function(t,e){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var i=t;e>=i;i++)this.virtualRendererIndices.push(i);for(var n in this.indexToRenderer){var s=parseInt(n);-1==this.virtualRendererIndices.indexOf(s)&&this.freeRendererByIndex(s)}}},r.getVirtualElementAt=function(t){if(0>t||t>=this.dataProvider.length)return null;var i=this.indexToRenderer[t];if(!i){var n=this.dataProvider.getItemAt(t),s=this.createVirtualRenderer(t);this.indexToRenderer[t]=s,this.updateRenderer(s,t,n),this.createNewRendererFlag&&("validateNow"in s&&s.validateNow(),this.createNewRendererFlag=!1,e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,s,t,n)),i=s}return i},r.freeRendererByIndex=function(e){if(this.indexToRenderer[e]){var i=this.indexToRenderer[e];delete this.indexToRenderer[e],i&&i instanceof t.DisplayObject&&this.doFreeRenderer(i)}},r.doFreeRenderer=function(t){var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.freeRenderers[i]||(this.freeRenderers[i]=[]),this.freeRenderers[i].push(t),t.visible=!1},r.invalidateSize=function(){this.createNewRendererFlag||i.prototype.invalidateSize.call(this)},r.createVirtualRenderer=function(t){var e,i=this.dataProvider.getItemAt(t),n=this.itemToRendererClass(i),s=n.hashCode,a=this.freeRenderers;return a[s]&&a[s].length>0?(e=a[s].pop(),e.visible=!0,e):(this.createNewRendererFlag=!0,this.createOneRenderer(n))},r.createOneRenderer=function(e){var i,n=e.hashCode,s=this.recyclerDic[n];return s&&(i=s.pop(),0==s.length&&delete this.recyclerDic[n]),i||(i=e.newInstance(),this.rendererToClassMap[i.hashCode]=e),i&&i instanceof t.DisplayObject?(this._itemRendererSkinName&&this.setItemRenderSkinName(i),this._addToDisplayList(i),i.setLayoutBoundsSize(0/0,0/0),i):null},r.setItemRenderSkinName=function(t){if(t){var e=t;if(e)e._skinNameExplicitlySet||(e.skinName=this._itemRendererSkinName);else{var i=t;i&&!i.skinName&&(i.skinName=this._itemRendererSkinName)}}},r.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){this.virtualLayoutUnderway=!1;var e=!1;for(var i in this.freeRenderers)if(this.freeRenderers[i].length>0){e=!0;break}e&&(this.cleanTimer||(this.cleanTimer=new t.Timer(3e3,1),this.cleanTimer.addEventListener(t.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}},r.cleanAllFreeRenderer=function(t){void 0===t&&(t=null);var e,i=this.freeRenderers;for(var n in i)for(var s=i[n],a=s.length,r=0;a>r;r++)e=s[r],e.visible=!0,this.recycle(e);this.freeRenderers=[],this.cleanFreeRenderer=!1},r.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:i.prototype.getElementIndicesInView.call(this)},r.changeUseVirtualLayout=function(){this.useVirtualLayoutChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties()},s(r,"dataProvider",function(){return this._dataProvider},function(t){this._dataProvider!=t&&(this.removeDataProviderListener(),this._dataProvider=t,this.dataProviderChanged=!0,this.cleanFreeRenderer=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),r.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)},r.onCollectionChange=function(t){switch(t.kind){case e.CollectionEventKind.ADD:this.itemAddedHandler(t.items,t.location);break;case e.CollectionEventKind.MOVE:this.itemMovedHandler(t.items[0],t.location,t.oldLocation);break;case e.CollectionEventKind.REMOVE:this.itemRemovedHandler(t.items,t.location);break;case e.CollectionEventKind.UPDATE:this.itemUpdatedHandler(t.items[0],t.location);break;case e.CollectionEventKind.REPLACE:this.itemRemoved(t.oldItems[0],t.location),this.itemAdded(t.items[0],t.location);break;case e.CollectionEventKind.RESET:case e.CollectionEventKind.REFRESH:if(this.layout&&this.layout.useVirtualLayout)for(var i in this.indexToRenderer){var n=parseInt(i);this.freeRendererByIndex(n)}this.dataProviderChanged=!0,this.invalidateProperties()}this.invalidateSize(),this.invalidateDisplayList()},r.itemAddedHandler=function(t,e){for(var i=t.length,n=0;i>n;n++)this.itemAdded(t[n],e+n);this.resetRenderersIndices()},r.itemMovedHandler=function(t,e,i){this.itemRemoved(t,i),this.itemAdded(t,e),this.resetRenderersIndices()},r.itemRemovedHandler=function(t,e){for(var i=t.length,n=i-1;n>=0;n--)this.itemRemoved(t[n],e+n);this.resetRenderersIndices()},r.itemAdded=function(t,i){if(this.layout&&this.layout.elementAdded(i),this.layout&&this.layout.useVirtualLayout){var n=this.virtualRendererIndices;if(n){for(var s=n.length,a=0;s>a;a++){var r=n[a];r>=i&&(n[a]=r+1)}this.indexToRenderer.splice(i,0,null)}}else{var o=this.itemToRendererClass(t),h=this.createOneRenderer(o);this.indexToRenderer.splice(i,0,h),h&&(this.updateRenderer(h,i,t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,h,i,t))}},r.itemRemoved=function(i,n){this.layout&&this.layout.elementRemoved(n);var s=this.virtualRendererIndices;if(s&&s.length>0){for(var a=-1,r=s.length,o=0;r>o;o++){var h=s[o];h==n?a=o:h>n&&(s[o]=h-1)}-1!=a&&s.splice(a,1)}var l=this.indexToRenderer[n];this.indexToRenderer.length>n&&this.indexToRenderer.splice(n,1),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,l,n,i),l&&l instanceof t.DisplayObject&&this.recycle(l)},r.recycle=function(t){this._removeFromDisplayList(t),"ownerChanged"in t&&t.ownerChanged(null);var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.recyclerDic[i]||(this.recyclerDic[i]=[]),this.recyclerDic[i].push(t)},r.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var t=this.virtualRendererIndices,e=t.length,i=0;e>i;i++){var n=t[i];this.resetRendererItemIndex(n)}else{var s=this.indexToRenderer.length;for(n=0;s>n;n++)this.resetRendererItemIndex(n)}},r.itemUpdatedHandler=function(t,e){if(!this.renderersBeingUpdated){var i=this.indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},r.resetRendererItemIndex=function(t){var e=this.indexToRenderer[t];e&&(e.itemIndex=t)},s(r,"itemRenderer",function(){return this._itemRenderer},function(t){this._itemRenderer!==t&&(this._itemRenderer=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties())}),s(r,"itemRendererSkinName",function(){return this._itemRendererSkinName},function(t){this._itemRendererSkinName!=t&&(this._itemRendererSkinName=t,this._itemRendererSkinName&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties()))}),s(r,"itemRendererFunction",function(){return this._itemRendererFunction},function(t){this._itemRendererFunction!=t&&(this._itemRendererFunction=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())}),r.itemToRendererClass=function(t){var e;return null!=this._itemRendererFunction?(e=this._itemRendererFunction(t),e||(e=this._itemRenderer)):e=this._itemRenderer,e?e:n.defaultRendererFactory},r.createChildren=function(){if(!this.layout){var n=new e.VerticalLayout;n.gap=0,n.horizontalAlign=t.HorizontalAlign.CONTENT_JUSTIFY,this.layout=n}i.prototype.createChildren.call(this)},r.commitProperties=function(){if((this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)&&(this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.useVirtualLayoutChanged=!1,this.itemRendererChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0)),i.prototype.commitProperties.call(this),this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())),this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=!1;for(var t=this.indexToRenderer.length,n=0;t>n;n++)this.setItemRenderSkinName(this.indexToRenderer[n]);var s=this.freeRenderers;for(var a in s){var r=s[a];if(r)for(t=r.length,n=0;t>n;n++)this.setItemRenderSkinName(r[n])}}},r.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement(),i.prototype.measure.call(this)},r.updateDisplayList=function(t,e){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=!0,this.ensureTypicalLayoutElement()),i.prototype.updateDisplayList.call(this,t,e),this.virtualLayoutUnderway&&this.finishVirtualLayout()},r.ensureTypicalLayoutElement=function(){this.layout.typicalLayoutRect||this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())},r.measureRendererSize=function(){if(!this.typicalItem)return void this.setTypicalLayoutRect(null);var e=this.itemToRendererClass(this.typicalItem),i=this.createOneRenderer(e);if(!i)return void this.setTypicalLayoutRect(null);this.createNewRendererFlag=!0,this.updateRenderer(i,0,this.typicalItem),"validateNow"in i&&i.validateNow();var n=new t.Rectangle(0,0,i.preferredWidth,i.preferredHeight);this.recycle(i),this.setTypicalLayoutRect(n),this.createNewRendererFlag=!1},r.setTypicalLayoutRect=function(t){this.typicalLayoutRect=t,this.layout&&(this.layout.typicalLayoutRect=t)},r.removeAllRenderers=function(){for(var t,i=this.indexToRenderer.length,n=0;i>n;n++)t=this.indexToRenderer[n],t&&(this.recycle(t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,t,t.itemIndex,t.data));this.indexToRenderer=[],this.virtualRendererIndices=null,this.cleanFreeRenderer&&this.cleanAllFreeRenderer()},r.createRenderers=function(){if(this._dataProvider)for(var t=0,i=this._dataProvider.length,n=0;i>n;n++){var s=this._dataProvider.getItemAt(n),a=this.itemToRendererClass(s),r=this.createOneRenderer(a);r&&(this.indexToRenderer[t]=r,this.updateRenderer(r,t,s),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,r,t,s),t++)}},r.updateRenderer=function(t,e,i){return this.renderersBeingUpdated=!0,this._rendererOwner?t=this._rendererOwner.updateRenderer(t,e,i):("ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i),this.renderersBeingUpdated=!1,t},r.itemToLabel=function(t){return t?t.toString():" "},r.getElementAt=function(t){return this.indexToRenderer[t]},r.getElementIndex=function(t){return t?this.indexToRenderer.indexOf(t):-1},s(r,"numElements",function(){return this._dataProvider?this._dataProvider.length:0}),r.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},r.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},r.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},r.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},r.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},r.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},r.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n.defaultRendererFactory=new e.ClassFactory(e.ItemRenderer),n}(e.GroupBase);e.DataGroup=i,t.registerClass(i,"egret.gui.DataGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.dataGroup=null,this._dataGroupProperties={}}__extends(i,t);var n=__define,s=i,a=s.prototype;return a.updateRenderer=function(t,e,i){return"ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i,t},a.itemToLabel=function(t){return null!==t?t.toString():" "},n(a,"dataProvider",function(){return this._getDataProvider()},function(t){this._setDataProvider(t)}),a._getDataProvider=function(){return null!=this.dataGroup?this.dataGroup.dataProvider:this._dataGroupProperties.dataProvider},a._setDataProvider=function(t){null==this.dataGroup?this._dataGroupProperties.dataProvider=t:this.dataGroup.dataProvider=t},n(a,"itemRenderer",function(){return this.dataGroup?this.dataGroup.itemRenderer:this._dataGroupProperties.itemRenderer},function(t){null==this.dataGroup?this._dataGroupProperties.itemRenderer=t:this.dataGroup.itemRenderer=t}),n(a,"itemRendererSkinName",function(){return this.dataGroup?this.dataGroup.itemRendererSkinName:this._dataGroupProperties.itemRendererSkinName},function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererSkinName=t:this.dataGroup.itemRendererSkinName=t}),n(a,"itemRendererFunction",function(){return this.dataGroup?this.dataGroup.itemRendererFunction:this._dataGroupProperties.itemRendererFunction},function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererFunction=t:this.dataGroup.itemRendererFunction=t}),n(a,"layout",function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},function(t){this._setLayout(t)}),a._setLayout=function(t){null==this.dataGroup?this._dataGroupProperties.layout=t:this.dataGroup.layout=t},n(a,"autoLayout",function(){if(this.dataGroup)return this.dataGroup.autoLayout;var t=this._dataGroupProperties.autoLayout;return void 0===t?!0:t},function(t){null==this.dataGroup?this._dataGroupProperties.autoLayout=t:this.dataGroup.autoLayout=t}),a.partAdded=function(i,n){t.prototype.partAdded.call(this,i,n),n==this.dataGroup&&(void 0!==this._dataGroupProperties.layout&&(this.dataGroup.layout=this._dataGroupProperties.layout),void 0!==this._dataGroupProperties.autoLayout&&(this.dataGroup.autoLayout=this._dataGroupProperties.autoLayout),void 0!==this._dataGroupProperties.dataProvider&&(this.dataGroup.dataProvider=this._dataGroupProperties.dataProvider),void 0!==this._dataGroupProperties.itemRenderer&&(this.dataGroup.itemRenderer=this._dataGroupProperties.itemRenderer),void 0!==this._dataGroupProperties.itemRendererSkinName&&(this.dataGroup.itemRendererSkinName=this._dataGroupProperties.itemRendererSkinName),void 0!==this._dataGroupProperties.itemRendererFunction&&(this.dataGroup.itemRendererFunction=this._dataGroupProperties.itemRendererFunction),this.dataGroup._rendererOwner=this,this._dataGroupProperties={},this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD)&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE)&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))},a.partRemoved=function(i,n){if(t.prototype.partRemoved.call(this,i,n),n==this.dataGroup){this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this);var s={};s.layout=this.dataGroup.layout,s.autoLayout=this.dataGroup.autoLayout,s.dataProvider=this.dataGroup.dataProvider,s.itemRenderer=this.dataGroup.itemRenderer,s.itemRendererSkinName=this.dataGroup.itemRendererSkinName,s.itemRendererFunction=this.dataGroup.itemRendererFunction,this._dataGroupProperties=s,this.dataGroup._rendererOwner=null,this.dataGroup.dataProvider=null,this.dataGroup.layout=null}},a.addEventListener=function(i,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),t.prototype.addEventListener.call(this,i,n,s,a,r),i==e.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),i==e.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)},a.removeEventListener=function(i,n,s,a){void 0===a&&(a=!1),t.prototype.removeEventListener.call(this,i,n,s,a),i==e.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&(this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD)||this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this)),i==e.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&(this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE)||this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))},i}(e.SkinnableComponent);e.SkinnableDataContainer=i,t.registerClass(i,"egret.gui.SkinnableDataContainer",["egret.gui.IItemRendererOwner"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._doingWholesaleChanges=!1,this.dataProviderChanged=!1,this._labelField="label",this.labelFieldOrFunctionChanged=!1,this._labelFunction=null,this._requireSelection=!1,this.requireSelectionChanged=!1,this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._selectedIndex=n.NO_SELECTION,this._allowCustomSelectedItem=!1,this._dispatchChangeAfterSelection=!1,this._pendingSelectedItem=void 0,this._selectedItem=null,this._useVirtualLayout=!1,this.selectedIndexAdjusted=!1}__extends(n,i);var s=__define,a=n,r=a.prototype;return r._setDataProvider=function(t){this.dataProvider&&this.dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),this.dataProviderChanged=!0,this._doingWholesaleChanges=!0,t&&t.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),i.prototype._setDataProvider.call(this,t),this.invalidateProperties()},s(r,"layout",function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},function(t){t&&this.useVirtualLayout&&(t.useVirtualLayout=!0),this._setLayout(t)}),s(r,"labelField",function(){return this._labelField},function(t){this._setLabelField(t)}),r._setLabelField=function(t){t!=this._labelField&&(this._labelField=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},s(r,"labelFunction",function(){return this._labelFunction},function(t){this._setLabelFunction(t)}),r._setLabelFunction=function(t){t!=this._labelFunction&&(this._labelFunction=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},s(r,"requireSelection",function(){return this._requireSelection},function(t){this._setRequireSelection(t)}),r._setRequireSelection=function(t){t!=this._requireSelection&&(this._requireSelection=t,t&&(this.requireSelectionChanged=!0,this.invalidateProperties()))},s(r,"selectedIndex",function(){return this._getSelectedIndex()},function(t){this._setSelectedIndex(t,!1)}),r._getSelectedIndex=function(){return this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex:this._selectedIndex},r._setSelectedIndex=function(t,e){void 0===e&&(e=!1),t!=this.selectedIndex&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._proposedSelectedIndex=t,this.invalidateProperties())},s(r,"selectedItem",function(){if(void 0!==this._pendingSelectedItem)return this._pendingSelectedItem;if(this._allowCustomSelectedItem&&this.selectedIndex==n.CUSTOM_SELECTED_ITEM)return this._selectedItem;if(this.selectedIndex!=n.NO_SELECTION&&null!=this.dataProvider)return this.dataProvider.length>this.selectedIndex?this.dataProvider.getItemAt(this.selectedIndex):void 0},function(t){this._setSelectedItem(t,!1)}),r._setSelectedItem=function(t,e){void 0===e&&(e=!1),this.selectedItem!==t&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._pendingSelectedItem=t,this.invalidateProperties())},s(r,"useVirtualLayout",function(){return this._getUseVirtualLayout()},function(t){this._setUseVirtualLayout(t)}),r._getUseVirtualLayout=function(){return this.layout?this.layout.useVirtualLayout:this._useVirtualLayout},r._setUseVirtualLayout=function(t){t!=this.useVirtualLayout&&(this._useVirtualLayout=t,this.layout&&(this.layout.useVirtualLayout=t))},r.commitProperties=function(){i.prototype.commitProperties.call(this),this.dataProviderChanged&&(this.dataProviderChanged=!1,this._doingWholesaleChanges=!1,this.selectedIndex>=0&&this.dataProvider&&this.selectedIndex<this.dataProvider.length?this.itemSelected(this.selectedIndex,!0):this.requireSelection?this._proposedSelectedIndex=0:this._setSelectedIndex(-1,!1)),this.requireSelectionChanged&&(this.requireSelectionChanged=!1,this.requireSelection&&this.selectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0&&(this._proposedSelectedIndex=0)),void 0!==this._pendingSelectedItem&&(this.dataProvider?this._proposedSelectedIndex=this.dataProvider.getItemIndex(this._pendingSelectedItem):this._proposedSelectedIndex=n.NO_SELECTION,this._allowCustomSelectedItem&&-1==this._proposedSelectedIndex&&(this._proposedSelectedIndex=n.CUSTOM_SELECTED_ITEM,this._selectedItem=this._pendingSelectedItem),this._pendingSelectedItem=void 0);var t=!1;if(this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(t=this.commitSelection()),this.selectedIndexAdjusted&&(this.selectedIndexAdjusted=!1,t||e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),this.labelFieldOrFunctionChanged){if(null!=this.dataGroup){var s;if(this.layout&&this.layout.useVirtualLayout)for(var a=this.dataGroup.getElementIndicesInView(),r=a.length,o=0;r>o;o++){var s=a[o];this.updateRendererLabelProperty(s)}else{var h=this.dataGroup.numElements;for(s=0;h>s;s++)this.updateRendererLabelProperty(s)}}this.labelFieldOrFunctionChanged=!1}},r.updateRendererLabelProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.label=this.itemToLabel(e.data))},r.partAdded=function(t,n){i.prototype.partAdded.call(this,t,n),n==this.dataGroup&&(this._useVirtualLayout&&this.dataGroup.layout&&(this.dataGroup.layout.useVirtualLayout=!0),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},r.partRemoved=function(t,n){i.prototype.partRemoved.call(this,t,n),n==this.dataGroup&&(this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},r.updateRenderer=function(t,e,n){return this.itemSelected(e,this._isItemIndexSelected(e)),i.prototype.updateRenderer.call(this,t,e,n)},r.itemToLabel=function(t){if(null!=this._labelFunction)return this._labelFunction(t);if("string"==typeof t)return t;if(t instanceof Object)try{null!=t[this.labelField]&&(t=t[this.labelField])}catch(e){}if("string"==typeof t)return t;try{if(null!==t)return t.toString()}catch(e){}return" "},r.itemSelected=function(t,e){if(this.dataGroup){var i=this.dataGroup.getElementAt(t);null!=i&&(i.selected=e)}},r._isItemIndexSelected=function(t){return t==this.selectedIndex},r.commitSelection=function(t){void 0===t&&(t=!0);var i=this.dataProvider?this.dataProvider.length-1:-1,s=this._selectedIndex;if((!this._allowCustomSelectedItem||this._proposedSelectedIndex!=n.CUSTOM_SELECTED_ITEM)&&(this._proposedSelectedIndex<n.NO_SELECTION&&(this._proposedSelectedIndex=n.NO_SELECTION),this._proposedSelectedIndex>i&&(this._proposedSelectedIndex=i),this.requireSelection&&this._proposedSelectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0))return this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1;
var a=this._proposedSelectedIndex;if(this._dispatchChangeAfterSelection){var r=e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGING,this._selectedIndex,this._proposedSelectedIndex,!0);if(!r)return this.itemSelected(this._proposedSelectedIndex,!1),this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1}return this._selectedIndex=a,this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,s!=n.NO_SELECTION&&this.itemSelected(s,!1),this._selectedIndex!=n.NO_SELECTION&&this.itemSelected(this._selectedIndex,!0),t&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,s,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),!0},r.adjustSelection=function(t,e){void 0===e&&(e=!1),this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex=t:this._selectedIndex=t,this.selectedIndexAdjusted=!0,this.invalidateProperties()},r.itemAdded=function(t){this._doingWholesaleChanges||(this.selectedIndex==n.NO_SELECTION?this.requireSelection&&this.adjustSelection(t,!0):t<=this.selectedIndex&&this.adjustSelection(this.selectedIndex+1,!0))},r.itemRemoved=function(t){this.selectedIndex==n.NO_SELECTION||this._doingWholesaleChanges||(t==this.selectedIndex?this.requireSelection&&this.dataProvider&&this.dataProvider.length>0?0==t?(this._proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this.adjustSelection(-1,!1):t<this.selectedIndex&&this.adjustSelection(this.selectedIndex-1,!1))},r.dataGroup_rendererAddHandler=function(e){var i=e.renderer;null!=i&&(i.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},r.dataGroup_rendererRemoveHandler=function(e){var i=e.renderer;null!=i&&(i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},r.item_mouseEventHandler=function(t){var e=t.type;if(e=n.TYPE_MAP[e],this.hasEventListener(e)){var i=t.currentTarget;this._dispatchListEvent(t,e,i)}},r._dispatchListEvent=function(t,i,n){var s=-1;s=n?n.itemIndex:this.dataGroup.getElementIndex(t.currentTarget);var a=this.dataProvider.getItemAt(s);e.ListEvent.dispatchListEvent(this,i,t,s,a,n)},r.dataProvider_collectionChangeHandler=function(t){var i=t.items;if(t.kind==e.CollectionEventKind.ADD)for(var s=i.length,a=0;s>a;a++)this.itemAdded(t.location+a);else if(t.kind==e.CollectionEventKind.REMOVE)for(s=i.length,a=s-1;a>=0;a--)this.itemRemoved(t.location+a);else t.kind==e.CollectionEventKind.MOVE?(this.itemRemoved(t.oldLocation),this.itemAdded(t.location)):t.kind==e.CollectionEventKind.RESET?0==this.dataProvider.length?this._setSelectedIndex(n.NO_SELECTION,!1):(this.dataProviderChanged=!0,this.invalidateProperties()):t.kind==e.CollectionEventKind.REFRESH&&this.dataProviderRefreshed()},r.dataProviderRefreshed=function(){this._setSelectedIndex(n.NO_SELECTION,!1)},n.NO_SELECTION=-1,n.NO_PROPOSED_SELECTION=-2,n.CUSTOM_SELECTED_ITEM=-3,n.TYPE_MAP={rollOver:"itemRollOver",rollOut:"itemRollOut"},n}(e.SkinnableDataContainer);e.ListBase=i,t.registerClass(i,"egret.gui.ListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=this;i.call(this),this._allowMultipleSelection=!1,this._selectedIndices=[],this.isValidIndex=function(e,i,n){return t.dataProvider&&e>=0&&e<t.dataProvider.length},this._captureItemRenderer=!0,this._mouseDownItemRenderer=null,this.useVirtualLayout=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.createChildren=function(){this.itemRenderer||(this.itemRenderer=e.DataGroup.defaultRendererFactory),i.prototype.createChildren.call(this)},s(r,"useVirtualLayout",function(){return this._getUseVirtualLayout()},function(t){this._setUseVirtualLayout(t)}),s(r,"allowMultipleSelection",function(){return this._allowMultipleSelection},function(t){this._allowMultipleSelection=t}),s(r,"selectedIndices",function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},function(t){this._setSelectedIndices(t,!1)}),s(r,"selectedIndex",function(){return this._proposedSelectedIndices?this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1:this._getSelectedIndex()},function(t){this._setSelectedIndex(t)}),s(r,"selectedItems",function(){var t=[],e=this.selectedIndices;if(e)for(var i=e.length,n=0;i>n;n++)t[n]=this.dataProvider.getItemAt(e[n]);return t},function(t){var e=[];if(t)for(var i=t.length,n=0;i>n;n++){var s=this.dataProvider.getItemIndex(t[n]);if(-1!=s&&e.splice(0,0,s),-1==s){e=[];break}}this._setSelectedIndices(e,!1)}),r._setSelectedIndices=function(t,e){void 0===e&&(e=!1),e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),t?this._proposedSelectedIndices=t:this._proposedSelectedIndices=[],this.invalidateProperties()},r.commitProperties=function(){i.prototype.commitProperties.call(this),this._proposedSelectedIndices&&this.commitSelection()},r.commitSelection=function(t){void 0===t&&(t=!0);var n=this._selectedIndex;if(this._proposedSelectedIndices){if(this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex),!this.allowMultipleSelection&&this._proposedSelectedIndices.length>0){var s=[];s.push(this._proposedSelectedIndices[0]),this._proposedSelectedIndices=s}this._proposedSelectedIndices.length>0?this._proposedSelectedIndex=this._proposedSelectedIndices[0]:this._proposedSelectedIndex=-1}var a=i.prototype.commitSelection.call(this,!1);return a?(this.selectedIndex>e.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(this.selectedIndex)&&this._proposedSelectedIndices.push(this.selectedIndex):this._proposedSelectedIndices=[this.selectedIndex]),this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(n)&&this.itemSelected(n,!0),this.commitMultipleSelection()),t&&a&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,n,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),a):(this._proposedSelectedIndices=null,!1)},r.commitMultipleSelection=function(){var t,e,i=[],n=[];if(this._selectedIndices.length>0&&this._proposedSelectedIndices.length>0){for(e=this._proposedSelectedIndices.length,t=0;e>t;t++)-1==this._selectedIndices.indexOf(this._proposedSelectedIndices[t])&&n.push(this._proposedSelectedIndices[t]);for(e=this._selectedIndices.length,t=0;e>t;t++)-1==this._proposedSelectedIndices.indexOf(this._selectedIndices[t])&&i.push(this._selectedIndices[t])}else this._selectedIndices.length>0?i=this._selectedIndices:this._proposedSelectedIndices.length>0&&(n=this._proposedSelectedIndices);if(this._selectedIndices=this._proposedSelectedIndices,i.length>0)for(e=i.length,t=0;e>t;t++)this.itemSelected(i[t],!1);if(n.length>0)for(e=n.length,t=0;e>t;t++)this.itemSelected(n[t],!0);this._proposedSelectedIndices=null},r._isItemIndexSelected=function(t){return this._allowMultipleSelection?-1!=this._selectedIndices.indexOf(t):i.prototype._isItemIndexSelected.call(this,t)},r.dataGroup_rendererAddHandler=function(e){i.prototype.dataGroup_rendererAddHandler.call(this,e);var n=e.renderer;null!=n&&(n.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.addEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},r.dataProviderRefreshed=function(){this._allowMultipleSelection||i.prototype.dataProviderRefreshed.call(this)},r.dataGroup_rendererRemoveHandler=function(e){i.prototype.dataGroup_rendererRemoveHandler.call(this,e);var n=e.renderer;null!=n&&(n.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.removeEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},r._item_touchBeginHandler=function(i){if(!i.$isDefaultPrevented){var n=i.currentTarget;this._mouseDownItemRenderer=n,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this)}},r.calculateSelectedIndices=function(t){var e=[];if(this._selectedIndices.length>0){if(1==this._selectedIndices.length&&this._selectedIndices[0]==t)return this.requireSelection?(e.splice(0,0,this._selectedIndices[0]),e):e;for(var i=!1,n=0;n<this._selectedIndices.length;n++)this._selectedIndices[n]==t?i=!0:this._selectedIndices[n]!=t&&e.splice(0,0,this._selectedIndices[n]);return i||e.splice(0,0,t),e}return e.splice(0,0,t),e},r._item_touchEndHandler=function(t){var i=t.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(t.currentTarget),this._allowMultipleSelection?this._setSelectedIndices(this.calculateSelectedIndices(n),!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(t,e.ListEvent.ITEM_CLICK,i)}},r.stage_touchEndHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this),this._mouseDownItemRenderer=null},n}(e.ListBase);e.List=i,t.registerClass(i,"egret.gui.List")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.dropDown=null,this.openButton=null,this._labelChanged=!1,this._dropDownController=null,this._userProposedSelectedIndex=e.ListBase.NO_SELECTION,this._captureItemRenderer=!1,this.dropDownController=new e.DropDownController}__extends(i,t);var n=__define,s=i,a=s.prototype;return a._setDataProvider=function(e){this.dataProvider!==e&&(t.prototype._setDataProvider.call(this,e),this._labelChanged=!0,this.invalidateProperties())},a._setLabelField=function(e){this.labelField!=e&&(t.prototype._setLabelField.call(this,e),this._labelChanged=!0,this.invalidateProperties())},a._setLabelFunction=function(e){this.labelFunction!=e&&(t.prototype._setLabelFunction.call(this,e),this._labelChanged=!0,this.invalidateProperties())},n(a,"dropDownController",function(){return this._dropDownController},function(t){this._dropDownController!=t&&(this._dropDownController=t,this._dropDownController.addEventListener(e.UIEvent.OPEN,this._dropDownController_openHandler,this),this._dropDownController.addEventListener(e.UIEvent.CLOSE,this.dropDownController_closeHandler,this),this.openButton&&(this._dropDownController.openButton=this.openButton),this.dropDown&&(this._dropDownController.dropDown=this.dropDown))}),n(a,"isDropDownOpen",function(){return this.dropDownController?this.dropDownController.isOpen:!1}),a.commitProperties=function(){t.prototype.commitProperties.call(this),this._labelChanged&&(this._labelChanged=!1,this.updateLabelDisplay())},a.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.openButton?this.dropDownController&&(this.dropDownController.openButton=this.openButton):i==this.dropDown&&this.dropDownController&&(this.dropDownController.dropDown=this.dropDown)},a.partRemoved=function(e,i){this.dropDownController&&(i==this.openButton&&(this.dropDownController.openButton=null),i==this.dropDown&&(this.dropDownController.dropDown=null)),t.prototype.partRemoved.call(this,e,i)},a.getCurrentSkinState=function(){return this.enabled?this.isDropDownOpen?"open":"normal":"disabled"},a.commitSelection=function(e){void 0===e&&(e=!0);var i=t.prototype.commitSelection.call(this,e);return this.updateLabelDisplay(),i},a._isItemIndexSelected=function(t){return this._userProposedSelectedIndex==t},a.openDropDown=function(){this.dropDownController.openDropDown()},a.closeDropDown=function(t){this.dropDownController.closeDropDown(t)},a.updateLabelDisplay=function(t){void 0===t&&(t=void 0)},a._changeHighlightedSelection=function(t,e){void 0===e&&(e=!1),this.itemSelected(this._userProposedSelectedIndex,!1),this._userProposedSelectedIndex=t,this.itemSelected(this._userProposedSelectedIndex,!0)},a.dataProvider_collectionChangeHandler=function(e){t.prototype.dataProvider_collectionChangeHandler.call(this,e),this._labelChanged=!0,this.invalidateProperties()},a._item_touchEndHandler=function(i){t.prototype._item_touchEndHandler.call(this,i);var n=i.currentTarget;n==this._mouseDownItemRenderer&&(this._dispatchListEvent(i,e.ListEvent.ITEM_CLICK,n),this._userProposedSelectedIndex=this.selectedIndex,this.closeDropDown(!0))},a._dropDownController_openHandler=function(t){this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),this._userProposedSelectedIndex=this.selectedIndex,this.invalidateSkinState()},a._open_updateCompleteHandler=function(t){this.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN)},a.dropDownController_closeHandler=function(t){this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),this.invalidateSkinState(),t.isDefaultPrevented()?this._changeHighlightedSelection(this.selectedIndex):this._setSelectedIndex(this._userProposedSelectedIndex,!0)},a.close_updateCompleteHandler=function(t){this.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CLOSE)},i.PAGE_SIZE=5,i}(e.List);e.DropDownListBase=i,t.registerClass(i,"egret.gui.DropDownListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.labelDisplay=null,this._prompt=""}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"prompt",function(){return this._prompt},function(t){this._prompt!=t&&(this._prompt=t,this._labelChanged=!0,this.invalidateProperties())}),s.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.labelDisplay&&(this._labelChanged=!0,this.invalidateProperties())},s.updateLabelDisplay=function(t){void 0===t&&(t=void 0),this.labelDisplay&&(void 0==t&&(t=this.selectedItem),null!=t&&void 0!=t?this.labelDisplay.text=this.itemToLabel(t):this.labelDisplay.text=this._prompt)},e}(e.DropDownListBase);e.DropDownList=i,t.registerClass(i,"egret.gui.DropDownList")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._textField=null,this.allStyleChanged=!1,this.fontFamilyChanged=!1,this._fontFamily="SimSun",this._sizeChanged=!1,this._size=30,this._focusEnabled=!0,this.boldChanged=!1,this._bold=!1,this.italicChanged=!1,this._italic=!1,this.textAlignChanged=!1,this._textAlign=t.HorizontalAlign.LEFT,this.verticalAlignChanged=!1,this._verticalAlign=t.VerticalAlign.TOP,this.lineSpacingChanged=!1,this._lineSpacing=0,this.textColorChanged=!1,this._textColor=16777215,this._textChanged=!1,this._text="",this._textFlow=null,this._textFlowChanged=!1,this._UIC_Props_._hasNoStyleChild=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.styleChanged=function(t){if(!this.allStyleChanged){if(t)switch(t){case"textColor":this.textColorChanged=!0;break;case"fontFamily":this.fontFamilyChanged=!0;break;case"size":this._sizeChanged=!0;break;case"bold":this.boldChanged=!0;break;case"italic":this.italicChanged=!0;break;case"textAlign":this.textAlignChanged=!0;break;case"verticalAlign":this.verticalAlignChanged=!0}else this.allStyleChanged=!0;this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}},s(r,"fontFamily",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.fontFamily?t.fontFamily:this._fontFamily},function(t){this.setStyle("fontFamily",t)}),s(r,"size",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.size?t.size:this._size},function(t){void 0===t&&(t=0),this.setStyle("size",t)}),s(r,"focusEnabled",function(){return this._focusEnabled},function(t){this._focusEnabled=t}),r.setFocus=function(){0!=this._focusEnabled&&this._textField&&this._textField.setFocus()},s(r,"bold",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.bold?t.bold:this._bold},function(t){this.setStyle("bold",t)}),s(r,"italic",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.italic?t.italic:this._italic},function(t){this.setStyle("italic",t)}),s(r,"textAlign",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textAlign?t.textAlign:this._textAlign},function(t){this.setStyle("textAlign",t)}),s(r,"verticalAlign",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.verticalAlign?t.verticalAlign:this._verticalAlign},function(t){this.setStyle("verticalAlign",t)}),s(r,"lineSpacing",function(){return this._getLineSpacing()},function(t){this._setLineSpacing(t)}),r._getLineSpacing=function(){return this._lineSpacing},r._setLineSpacing=function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},s(r,"textColor",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textColor?t.textColor:this._textColor},function(t){this.setStyle("textColor",t)}),s(r,"text",function(){return this._text},function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._textFlowChanged=!1,this._textFlow=[],this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(r,"textFlow",function(){return this._textFlow},function(t){this._textFlow=t||[],this._textFlowChanged=!0,this._textChanged=!1,this._text="",this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}),s(r,"textHeight",function(){return null==this._textField?0:this._textField.textHeight}),s(r,"textWidth",function(){return null==this._textField?0:this._textField.textWidth}),r.createChildren=function(){i.prototype.createChildren.call(this),this._textField||this.checkTextField()},r.commitProperties=function(){i.prototype.commitProperties.call(this),this._textField||this.checkTextField(),this.allStyleChanged&&(this.allStyleChanged=!1,this.textColorChanged=!0,this.fontFamilyChanged=!0,this._sizeChanged=!0,this.boldChanged=!0,this.italicChanged=!0,this.textAlignChanged=!0,this.verticalAlignChanged=!0),this.fontFamilyChanged&&(this._textField.fontFamily=this.fontFamily,this.fontFamilyChanged=!1),this._sizeChanged&&(this._textField.size=this.size,this._sizeChanged=!1),this.boldChanged&&(this._textField.bold=this.bold,this.boldChanged=!1),this.italic&&(this._textField.italic=this.italic,this.italicChanged=!1),this.textAlignChanged&&(this._textField.textAlign=this.textAlign,this.textAlignChanged=!1),this.verticalAlignChanged&&(this._textField.verticalAlign=this.verticalAlign,this.verticalAlignChanged=!1),this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1),this.textColorChanged&&(this._textField.textColor=this.textColor,this.textColorChanged=!1),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),(this._textChanged||this._textFlowChanged)&&(this._text=this._textField.text,this._textFlow=this._textField.textFlow,this._textChanged=!1,this._textFlowChanged=!1)},r.checkTextField=function(){this._textField||(this._createTextField(),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),this.invalidateProperties())},r._createTextField=function(){this._textField=new t.TextField,this._textField.fontFamily=this.fontFamily,this._textField.size=this.size,this._textField.textAlign=this.textAlign,this._textField.verticalAlign=this.verticalAlign,this._textField.lineSpacing=this._lineSpacing,this._textField.textColor=this.textColor,this._textField.multiline=!0,this._addToDisplayList(this._textField)},r._textFieldChanged=function(){this._text=this._textField.text,this._textFlow=this._textField.textFlow},r.measure=function(){i.prototype.measure.call(this),this.measuredWidth=n.DEFAULT_MEASURED_WIDTH,this.measuredHeight=n.DEFAULT_MEASURED_HEIGHT},r.$updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e)},r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._textField.width=t,this._textField.height=e},r.dispatchPropertyChangeEvent=function(t,i,n){this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,t,i,n,this)},n.DEFAULT_MEASURED_WIDTH=160,n.DEFAULT_MEASURED_HEIGHT=22,n}(e.UIComponent);e.TextBase=i,t.registerClass(i,"egret.gui.TextBase",["egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._selectable=!0,this._displayAsPassword=!1,this.displayAsPasswordChanged=!0,this.pendingEditable=!0,this._editable=!0,this.editableChanged=!1,this._maxChars=0,this.maxCharsChanged=!1,this._multiline=!1,this.multilineChanged=!1,this._restrict=null,this.restrictChanged=!1,this._heightInLines=0/0,this.heightInLinesChanged=!1,this._widthInChars=0/0,this.widthInCharsChanged=!1,this._contentWidth=0,this._contentHeight=0,this._horizontalScrollPosition=0,this._verticalScrollPosition=0,this._clipAndEnableScrolling=!1,this.defaultHeight=0/0,this.defaultWidth=0/0,this.isValidating=!1,this.selectable=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"selectable",function(){return this._selectable},function(t){this._selectable=t}),s(r,"displayAsPassword",function(){return this._displayAsPassword},function(t){t!=this._displayAsPassword&&(this._displayAsPassword=t,this.displayAsPasswordChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(r,"editable",function(){return this._UIC_Props_._enabled?this._editable:this.pendingEditable},function(t){this._editable!=t&&(this._UIC_Props_._enabled?(this._editable=t,this.editableChanged=!0,this.invalidateProperties()):this.pendingEditable=t)}),s(r,"enabled",function(){return this._editable},function(t){t!=this._UIC_Props_._enabled&&(this._UIC_Props_._enabled=t,this._UIC_Props_._enabled?(this._editable!=this.pendingEditable&&(this.editableChanged=!0),this._editable=this.pendingEditable):(this.editable&&(this.editableChanged=!0),this.pendingEditable=this._editable,this._editable=!1),this.invalidateProperties())}),s(r,"maxChars",function(){return this._maxChars},function(t){void 0===t&&(t=0),t!=this._maxChars&&(this._maxChars=t,this.maxCharsChanged=!0,this.invalidateProperties())}),s(r,"multiline",function(){return this._multiline},function(t){t!=this.multiline&&(this._multiline=t,this.multilineChanged=!0,this.invalidateProperties())}),s(r,"restrict",function(){return this._restrict},function(t){t!=this._restrict&&(this._restrict=t,this.restrictChanged=!0,this.invalidateProperties())}),r.styleChanged=function(t){i.prototype.styleChanged.call(this,t),t&&"size"!=t||(this.heightInLinesChanged=!0,this.widthInCharsChanged=!0)},r._setLineSpacing=function(t){this._lineSpacing!=t&&(i.prototype._setLineSpacing.call(this,t),this.heightInLinesChanged=!0)},s(r,"heightInLines",function(){return this._heightInLines},function(t){this._heightInLines!=t&&(this._heightInLines=t,this.heightInLinesChanged=!0,this.invalidateProperties())}),s(r,"widthInChars",function(){return this._widthInChars},function(t){this._widthInChars!=t&&(this._widthInChars=t,this.widthInCharsChanged=!0,this.invalidateProperties())}),s(r,"contentWidth",function(){return this._contentWidth}),r.setContentWidth=function(t){if(t!=this._contentWidth){var e=this._contentWidth;this._contentWidth=t,this.dispatchPropertyChangeEvent("contentWidth",e,t)}},s(r,"contentHeight",function(){return this._contentHeight}),r.setContentHeight=function(t){if(t!=this._contentHeight){var e=this._contentHeight;this._contentHeight=t,this.dispatchPropertyChangeEvent("contentHeight",e,t)}},s(r,"horizontalScrollPosition",function(){return this._horizontalScrollPosition},function(t){this._horizontalScrollPosition!=t&&(this._horizontalScrollPosition=t)}),s(r,"verticalScrollPosition",function(){return this._verticalScrollPosition},function(t){this._verticalScrollPosition!=t&&(t=Math.round(t),this._verticalScrollPosition=t)}),r.getScrollVByVertitcalPos=function(t){if(0==this._textField.numLines)return 1;var e=this._textField.$getLineHeight(),i=(this.height-4)%e;return this._textField.height+i-this.height==t?this._textField.maxScrollV:parseInt((t-2)/e)+1},r.getVerticalPosByScrollV=function(t){if(void 0===t&&(t=0),1==t||0==this._textField.numLines)return 0;var e=this._textField.$getLineHeight();if(t==this._textField.maxScrollV){var i=(this.height-4)%e;return this._textField.height+i-this.height}return e*(t-1)+2},r.getHorizontalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentWidth-this._horizontalScrollPosition-this.width,s=-this._horizontalScrollPosition;switch(t){case e.NavigationUnit.LEFT:i=this._horizontalScrollPosition<=0?0:Math.max(s,-this.size);break;case e.NavigationUnit.RIGHT:i=this._horizontalScrollPosition+this.width>=this.contentWidth?0:Math.min(n,this.size);break;case e.NavigationUnit.PAGE_LEFT:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_RIGHT:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},r.getVerticalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentHeight-this._verticalScrollPosition-this.height,s=-this._verticalScrollPosition;switch(t){case e.NavigationUnit.UP:i=this.getVScrollDelta(-1);break;case e.NavigationUnit.DOWN:i=this.getVScrollDelta(1);break;case e.NavigationUnit.PAGE_UP:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_DOWN:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},r.getVScrollDelta=function(t){if(void 0===t&&(t=0),!this._textField)return 0;var e=this.getScrollVByVertitcalPos(this._verticalScrollPosition),i=e+t;i=Math.max(1,Math.min(this._textField.maxScrollV,i));var n=this.getVerticalPosByScrollV(i),s=n-this._verticalScrollPosition;return s},s(r,"clipAndEnableScrolling",function(){return this._clipAndEnableScrolling},function(t){this._clipAndEnableScrolling!=t&&(this._clipAndEnableScrolling=t)}),r.commitProperties=function(){if(this._textField||(this.editableChanged=!0,this.displayAsPasswordChanged=!0,this.maxCharsChanged=!0,this.multilineChanged=!0,this.restrictChanged=!0),i.prototype.commitProperties.call(this),this.editableChanged&&(this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this.editableChanged=!1),this.displayAsPasswordChanged&&(this._textField.displayAsPassword=this._displayAsPassword,this.displayAsPasswordChanged=!1),this.maxCharsChanged&&(this._textField.maxChars=this._maxChars,this.maxCharsChanged=!1),this.multilineChanged&&(this._textField.multiline=this._multiline,this.multilineChanged=!1),this.restrictChanged&&(this.restrictChanged=!1),this.heightInLinesChanged)if(this.heightInLinesChanged=!1,isNaN(this._heightInLines))this.defaultHeight=0/0;else{var e=parseInt(this.heightInLines),n=22;this._textField.$getText().length>0?n=this._textField.$getLineHeight():(this._textField.$setText("M"),n=this._textField.$getLineHeight(),this._textField.$setText("")),this.defaultHeight=e*n+4}if(this.widthInCharsChanged)if(this.widthInCharsChanged=!1,isNaN(this._widthInChars))this.defaultWidth=0/0;else{var s=parseInt(this._widthInChars);this.defaultWidth=this.size*s+5}},r.updateDisplayList=function(t,e){this.isValidating=!0,i.prototype.updateDisplayList.call(this,t,e),this.updateContentSize(),this.isValidating=!1},r.updateContentSize=function(){if(this.clipAndEnableScrolling){this.setContentWidth(this._textField.width);var t=0,e=this._textField.numLines;if(0==e)t=4;else{var i=this._textField.$getLineHeight(),n=(this.height-4)%i;t=this._textField.height+n}this.setContentHeight(t)}},s(r,"selectionBeginIndex",function(){return this.validateProperties(),this._textField?this._textField.selectionBeginIndex:0}),s(r,"selectionEndIndex",function(){return this.validateProperties(),this._textField?this._textField.selectionEndIndex:0}),s(r,"caretIndex",function(){return this.validateProperties(),this._textField?this._textField.caretIndex:0}),r.setSelection=function(t,e){void 0===e&&(e=0),this.validateProperties(),this._textField&&this._textField.$setSelection(t,e)},r.selectAll=function(){this.validateProperties(),this._textField&&this._textField.$setSelection(0,this._textField.text.length)},r.measure=function(){this.measuredWidth=isNaN(this.defaultWidth)?e.TextBase.DEFAULT_MEASURED_WIDTH:this.defaultWidth,0!=this._maxChars&&(this.measuredWidth=Math.min(this.measuredWidth,this._textField.width)),this._multiline?this.measuredHeight=isNaN(this.defaultHeight)?2*e.TextBase.DEFAULT_MEASURED_HEIGHT:this.defaultHeight:this.measuredHeight=this._textField.height},r._createTextField=function(){i.prototype._createTextField.call(this),this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this._textField.multiline=this._multiline,this._textField.addEventListener(t.Event.CHANGE,this.textField_changeHandler,this),this._textField.addEventListener("scroll",this.textField_scrollHandler,this),this._textField.addEventListener("input",this.textField_textInputHandler,this)},r.textField_changeHandler=function(e){this._textFieldChanged(),e.stopImmediatePropagation(),this.dispatchEvent(new t.Event(t.Event.CHANGE)),this.invalidateSize(),this.invalidateDisplayList(),this.updateContentSize()},r.textField_scrollHandler=function(t){},r.textField_textInputHandler=function(e){e.stopImmediatePropagation();var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.TextBase);e.EditableText=i,t.registerClass(i,"egret.gui.EditableText",["egret.gui.IEditableText","egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IViewport"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.createChildrenCalled=!1,this.elementsContentChanged=!1,this._elementsContent=[]}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.createChildren=function(){i.prototype.createChildren.call(this),this.createChildrenCalled=!0,this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))},r._getElementsContent=function(){return this._elementsContent},s(r,"elementsContent",void 0,function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(t);else{this.elementsContentChanged=!0;for(var e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t}}),r.setElementsContent=function(t){var e;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}},s(r,"numElements",function(){return this._elementsContent.length}),r.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},r.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},r.addElement=function(t){var e=this.numElements;return t.parent==this&&(e=this.numElements-1),this.addElementAt(t,e)},r.addElementAt=function(t,e){if(t==this)return t;this.checkForRangeError(e,!0);var i=t.owner;return i==this||t.parent==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&t.owner.removeElement(t),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e),t)
},r.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},r.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this.elementsContentChanged||this._elementRemoved(e,t),this._elementsContent.splice(t,1),e},r.removeAllElements=function(){for(var t=this.numElements-1;t>=0;t--)this.removeElementAt(t)},r.getElementIndex=function(t){return this._elementsContent.indexOf(t)},r.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this.elementsContentChanged||this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e,!1))},r.swapElements=function(t,e){this.swapElementsAt(this.getElementIndex(t),this.getElementIndex(e))},r.swapElementsAt=function(t,e){if(this.checkForRangeError(t),this.checkForRangeError(e),t>e){var i=e;e=t,t=i}else if(t==e)return;var n=this._elementsContent,s=n[t],a=n[e];this.elementsContentChanged||(this._elementRemoved(s,t,!1),this._elementRemoved(a,e,!1)),n[t]=a,n[e]=s,this.elementsContentChanged||(this._elementAdded(a,t,!1),this._elementAdded(s,e,!1))},r._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),i instanceof t.DisplayObject){var a=i;this._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this.invalidateSize(),this.invalidateDisplayList()},r._elementRemoved=function(i,n,s){if(void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this){var a=i;this._removeFromDisplayList(a,s)}this.invalidateSize(),this.invalidateDisplayList()},r.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},r.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},r.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},r.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},r.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},r.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},r.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n}(e.GroupBase);e.Group=i,t.registerClass(i,"egret.gui.Group",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._maximum=100,this.maxChanged=!1,this._minimum=0,this.minChanged=!1,this._stepSize=1,this.stepSizeChanged=!1,this._value=0,this._changedValue=0,this.valueChanged=!1,this._snapInterval=1,this.snapIntervalChanged=!1,this._explicitSnapInterval=!1}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"maximum",function(){return this._maximum},function(t){this._setMaximun(t)}),a._setMaximun=function(t){t!=this._maximum&&(this._maximum=t,this.maxChanged=!0,this.invalidateProperties())},n(a,"minimum",function(){return this._minimum},function(t){this._setMinimun(t)}),a._setMinimun=function(t){t!=this._minimum&&(this._minimum=t,this.minChanged=!0,this.invalidateProperties())},n(a,"stepSize",function(){return this._stepSize},function(t){t!=this._stepSize&&(this._stepSize=t,this.stepSizeChanged=!0,this.invalidateProperties())}),n(a,"value",function(){return this._getValue()},function(t){this._setValue(t)}),a._setValue=function(t){t!=this.value&&(this._changedValue=t,this.valueChanged=!0,this.invalidateProperties())},a._getValue=function(){return this.valueChanged?this._changedValue:this._value},n(a,"snapInterval",function(){return this._snapInterval},function(t){this._explicitSnapInterval=!0,t!=this._snapInterval&&(isNaN(t)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=t,this.snapIntervalChanged=!0,this.stepSizeChanged=!0,this.invalidateProperties())}),a.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum),this.valueChanged||this.maxChanged||this.minChanged||this.snapIntervalChanged){var e=this.valueChanged?this._changedValue:this._value;this.valueChanged=!1,this.maxChanged=!1,this.minChanged=!1,this.snapIntervalChanged=!1,this.setValue(this.nearestValidValue(e,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)},a.nearestValidSize=function(t){var e=this.snapInterval;if(0==e)return t;var i=Math.round(t/e)*e;return Math.abs(i)<e?e:i},a.nearestValidValue=function(t,e){if(0==e)return Math.max(this.minimum,Math.min(this.maximum,t));var i=this.maximum-this.minimum,n=1;if(t-=this.minimum,e!=Math.round(e)){var s=(1+e).toString().split(".");n=Math.pow(10,s[1].length),i*=n,t=Math.round(t*n),e=Math.round(e*n)}var a=Math.max(0,Math.floor(t/e)*e),r=Math.min(i,Math.floor((t+e)/e)*e),o=t-a>=(r-a)/2?r:a;return o/n+this.minimum},a.setValue=function(t){this._value!=t&&(isNaN(t)&&(t=0),!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?this._value=Math.min(this.maximum,Math.max(this.minimum,t)):this._value=t,this.valueChanged=!1,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT))},a.changeValueByStep=function(t){if(void 0===t&&(t=!0),0!=this.stepSize){var e=t?this.value+this.stepSize:this.value-this.stepSize;this.setValue(this.nearestValidValue(e,this.snapInterval))}},i}(e.SkinnableComponent);e.Range=i,t.registerClass(i,"egret.gui.Range")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._slideDuration=300,this.thumb=null,this.track=null,this._clickOffsetX=0/0,this._clickOffsetY=0/0,this.needUpdateValue=!1,this._moveStageX=0/0,this._moveStageY=0/0,this.mouseDownTarget=null,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseDownHandler,this)}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"slideDuration",function(){return this._slideDuration},function(t){this._slideDuration=t}),s(r,"maximum",function(){return this._maximum},function(t){t!=this._maximum&&(this._setMaximun(t),this.invalidateDisplayList())}),s(r,"minimum",function(){return this._minimum},function(t){t!=this._minimum&&(this._setMinimun(t),this.invalidateDisplayList())}),s(r,"value",function(){return this._getValue()},function(t){t!=this._getValue()&&(this._setValue(t),this.invalidateDisplayList())}),r.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},r.pointToValue=function(t,e){return this.minimum},r.changeValueByStep=function(e){void 0===e&&(e=!0);var n=this.value;i.prototype.changeValueByStep.call(this,e),this.value!=n&&this.dispatchEventWith(t.Event.CHANGE)},r.partAdded=function(n,s){i.prototype.partAdded.call(this,n,s),s==this.thumb?(this.thumb.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.addEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):s==this.track&&(this.track.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},r.partRemoved=function(n,s){i.prototype.partRemoved.call(this,n,s),s==this.thumb?(this.thumb.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):s==this.track&&(this.track.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},r.updateSkinDisplayList=function(){},r.addedToStageHandler=function(t){this.updateSkinDisplayList()},r.track_resizeHandler=function(t){this.updateSkinDisplayList()},r.thumb_resizeHandler=function(t){this.updateSkinDisplayList()},r.thumb_updateCompleteHandler=function(t){this.updateSkinDisplayList(),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)},r.thumb_mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.addEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this);var n=this.thumb.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._clickOffsetX=n.x,this._clickOffsetY=n.y,e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_PRESS),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},r.onEnterFrame=function(t){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)},r.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.value&&(this.setValue(n),this.validateDisplayList(),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(t.Event.CHANGE))}},r.stage_mouseMoveHandler=function(t){this._moveStageX=t.stageX,this._moveStageY=t.stageY,this.needUpdateValue||(this.needUpdateValue=!0)},r.stage_mouseUpHandler=function(i){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.removeEventListener(t.Event.ENTER_FRAME,this.updateWhenMouseMove,this),this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_RELEASE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},r.track_mouseDownHandler=function(t){},r.mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget=i.target},r.stage_mouseUpSomewhereHandler=function(i){if(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget!=i.target&&i instanceof t.TouchEvent&&this.contains(i.target)){var n=i,s=i.target.localToGlobal(n.localX,n.localY);t.TouchEvent.dispatchTouchEvent(this,t.TouchEvent.TOUCH_TAP,!1,!1,s.x,s.y,n.touchPointID,n.touchDown)}this.mouseDownTarget=null},n}(e.Range);e.TrackBase=i,t.registerClass(i,"egret.gui.TrackBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.trackHighlight=null,this._showTrackHighlight=!0,this.animator=null,this._pendingValue=0,this.slideToValue=0/0,this._liveDragging=!0,this.maximum=10}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"showTrackHighlight",function(){return this._showTrackHighlight},function(t){this._showTrackHighlight!=t&&(this._showTrackHighlight=t,this.trackHighlight&&(this.trackHighlight.visible=t),this.invalidateDisplayList())}),s(r,"pendingValue",function(){return this._pendingValue},function(t){t!=this._pendingValue&&(this._pendingValue=t,this.invalidateDisplayList())}),r.setValue=function(t){this._pendingValue=t,i.prototype.setValue.call(this,t)},r._animationUpdateHandler=function(t){this.pendingValue=t.currentValue.value},r.animationEndHandler=function(i){this.setValue(this.slideToValue),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},r.stopAnimation=function(){this.animator.stop(),this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval)),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},r.thumb_mouseDownHandler=function(t){this.animator&&this.animator.isPlaying&&this.stopAnimation(),i.prototype.thumb_mouseDownHandler.call(this,t)},s(r,"liveDragging",function(){return this._liveDragging},function(t){this._liveDragging=t}),r.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.pendingValue&&(e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),1==this.liveDragging?(this.setValue(n),this.dispatchEventWith(t.Event.CHANGE)):this.pendingValue=n)}},r.stage_mouseUpHandler=function(e){i.prototype.stage_mouseUpHandler.call(this,e),0==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(t.Event.CHANGE))},r.track_mouseDownHandler=function(i){if(this.enabled){var n=this.thumb?this.thumb.width:0,s=this.thumb?this.thumb.height:0,a=i.stageX-n/2,r=i.stageY-s/2,o=this.track.globalToLocal(a,r,t.$TempPoint),h=this.pointToValue(o.x,o.y);h=this.nearestValidValue(h,this.snapInterval),h!=this.pendingValue&&(0!=this.slideDuration?(this.animator||(this.animator=new e.Animation(this._animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=h,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[new e.SimpleMotionPath("value",this.pendingValue,this.slideToValue)],e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(h),this.dispatchEventWith(t.Event.CHANGE)))}},r.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof t.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)},n}(e.TrackBase);e.SliderBase=i,t.registerClass(i,"egret.gui.SliderBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=(__define,i),s=n.prototype;return s.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=n?t/n*i:0)},s.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,i=this.maximum-this.minimum,n=i>0?(this.pendingValue-this.minimum)/i*e:0,s=this.track.localToGlobal(n,0),a=s.x,r=s.y,o=this.thumb.parent.globalToLocal(a,r,t.$TempPoint).x;if(this.thumb.setLayoutBoundsPosition(Math.round(o),this.thumb.layoutBoundsY),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent){var h=this.trackHighlight.parent.globalToLocal(a,r,t.$TempPoint).x-n;this.trackHighlight.x=Math.round(h),this.trackHighlight.width=Math.round(n)}}},i}(e.SliderBase);e.HSlider=i,t.registerClass(i,"egret.gui.HSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.apply(this,arguments),this._thumbLengthRatio=1}__extends(i,e);var n=__define,s=i,a=s.prototype;return a._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._setMaximun(i),this._setMinimun(0),this._thumbLengthRatio=e>t?t/e:1},n(a,"trackAlpha",function(){return 1},function(e){t.$warn(1016,"HScrollBar.trackAlpha")}),n(a,"thumbAlpha",function(){return 1},function(e){t.$warn(1016,"HScrollBar.thumbAlpha")}),a.setPosition=function(t){this._setValue(t)},a.getPosition=function(){return this._getValue()},a._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},a.setValue=function(t){e.prototype.setValue.call(this,t)},a._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},a.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth*this._thumbLengthRatio,i=this.thumb.layoutBoundsWidth,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,s=this.maximum-this.minimum,a=s>0?(this.pendingValue-this.minimum)/s*n:0,r=this.track.localToGlobal(a,0),o=r.x,h=r.y,l=this.thumb.parent.globalToLocal(o,h,t.$TempPoint).x;this.thumb.setLayoutBoundsPosition(Math.round(l),this.thumb.layoutBoundsY),e!=i&&this.thumb.setLayoutBoundsSize(e,this.thumb.layoutBoundsHeight)}},i}(e.HSlider);e.HScrollBar=i,t.registerClass(i,"egret.gui.HScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._maxDisplayedLines=0,this.lastUnscaledWidth=0/0,this.strokeColorChanged=!1,this._strokeColor=0,this._stroke=0,this.strokeChanged=!1,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(i,t);var n=__define,s=i,a=s.prototype;return a.updateCompleteHandler=function(t){this.lastUnscaledWidth=0/0},n(a,"maxDisplayedLines",function(){return this._maxDisplayedLines},function(t){this._maxDisplayedLines!=t&&(this._maxDisplayedLines=t,this.invalidateSize(),this.invalidateDisplayList())}),n(a,"strokeColor",function(){return this._strokeColor},function(t){this._setStrokeColor(t)}),a._setStrokeColor=function(t){this._strokeColor!=t&&(this._strokeColor=t,this.strokeColorChanged=!0,this.invalidateProperties())},n(a,"stroke",function(){return this._stroke},function(t){this._stroke!=t&&(this._stroke=t,this.strokeChanged=!0,this.invalidateProperties())}),n(a,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())}),n(a,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())}),n(a,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())}),n(a,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())}),n(a,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())}),a.commitProperties=function(){t.prototype.commitProperties.call(this),this.strokeColorChanged&&(this._textField.strokeColor=this._strokeColor,this.strokeColorChanged=!1),this.strokeChanged&&(this._textField.stroke=this._stroke,this.strokeChanged=!1)},a.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},a.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitHeight())&&isNaN(this.percentHeight)},a.measureUsingWidth=function(t){this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,s=isNaN(this._paddingTop)?e:this._paddingTop,a=isNaN(this._paddingBottom)?e:this._paddingBottom;if(this._textField.width=0/0,this._textField.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)):(this._textField.width=t-i-n,this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)),this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var r=this._textField.size,o=this._textField.lineSpacing;this.measuredHeight=(r+o)*this._maxDisplayedLines-o}this.measuredWidth+=i+n,this.measuredHeight+=s+a},a.updateDisplayList=function(t,e){this.$updateDisplayList(t,e);var i=isNaN(this._padding)?0:this._padding,n=isNaN(this._paddingLeft)?i:this._paddingLeft,s=isNaN(this._paddingRight)?i:this._paddingRight,a=isNaN(this._paddingTop)?i:this._paddingTop,r=isNaN(this._paddingBottom)?i:this._paddingBottom;if(this._textField.x=n,this._textField.y=a,this.isSpecialCase()){var o=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,o)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._textField.visible||(this._textField.visible=!0),this._textField.width=t-n-s;var h=e-a-r;if(this._textField.height=h,this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var l=this._textField.size,u=this._textField.lineSpacing,d=(l+u)*this._maxDisplayedLines-u;this._textField.height=Math.min(h,d)}},i}(e.TextBase);e.Label=i,t.registerClass(i,"egret.gui.Label")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.popUpIsDisplayed=!1,this.addedToStage=!1,this._popUpHeightMatchesAnchorHeight=!1,this._popUpWidthMatchesAnchorWidth=!1,this._displayPopUp=!1,this._popUp=null,this._relativeToStage=!1,this._popUpPosition=e.PopUpPosition.TOP_LEFT,this.inAnimation=!1,this.animator=null,this._openDuration=250,this._closeDuration=150,this.valueRange=1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.removedFromStageHandler,this)}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"popUpHeightMatchesAnchorHeight",function(){return this._popUpHeightMatchesAnchorHeight},function(t){this._popUpHeightMatchesAnchorHeight!=t&&(this._popUpHeightMatchesAnchorHeight=t,this.invalidateDisplayList())}),s(r,"popUpWidthMatchesAnchorWidth",function(){return this._popUpWidthMatchesAnchorWidth},function(t){this._popUpWidthMatchesAnchorWidth!=t&&(this._popUpWidthMatchesAnchorWidth=t,this.invalidateDisplayList())}),s(r,"displayPopUp",function(){return this._displayPopUp},function(t){this._displayPopUp!=t&&(this._displayPopUp=t,this.addOrRemovePopUp())}),s(r,"popUp",function(){return this._popUp},function(t){this._popUp!=t&&(this._popUp=t,this.dispatchEventWith("popUpChanged"))}),s(r,"popUpPosition",function(){return this._popUpPosition},function(t){this._popUpPosition!=t&&(this._relativeToStage=t==e.PopUpPosition.SCREEN_CENTER,this._popUpPosition=t,this.invalidateDisplayList())}),r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.applyPopUpTransform(t,e)},r.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)},r.calculatePopUpPosition=function(){var i=t.$TempPoint;switch(this._popUpPosition){case e.PopUpPosition.SCREEN_CENTER:break;case e.PopUpPosition.BELOW:i.x=0,i.y=this.height;break;case e.PopUpPosition.ABOVE:i.x=0,i.y=-this.popUp.layoutBoundsHeight;break;case e.PopUpPosition.LEFT:i.x=-this.popUp.layoutBoundsWidth,i.y=0;break;case e.PopUpPosition.RIGHT:i.x=this.width,i.y=0;break;case e.PopUpPosition.CENTER:i.x=.5*(this.width-this.popUp.layoutBoundsWidth),i.y=.5*(this.height-this.popUp.layoutBoundsHeight);break;case e.PopUpPosition.TOP_LEFT:}return i=this.localToGlobal(i.x,i.y,i),i=this.popUp.parent.globalToLocal(i.x,i.y,i)},s(r,"openDuration",function(){return this._openDuration},function(t){this._openDuration=t}),s(r,"closeDuration",function(){return this._closeDuration},function(t){this._closeDuration=t}),r.animationStartHandler=function(t){this.inAnimation=!0,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)},r.animationUpdateHandler=function(e){var i=this.popUp.scrollRect,n=Math.round(e.currentValue.x),s=Math.round(e.currentValue.y);i?(i.x=n,i.y=s,i.width=this.popUp.width,i.height=this.popUp.height,this.popUp.scrollRect=i):this.popUp.scrollRect=new t.Rectangle(n,s,this.popUp.width,this.popUp.height)},r.animationEndHandler=function(t){this.inAnimation=!1,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0),this.popUp.scrollRect=null,this.popUpIsDisplayed||(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},r.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?(e.PopUpManager.addPopUp(this.popUp,this._relativeToStage,this._relativeToStage),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),this._openDuration>0&&this.startAnimation()):t.callLater(function(){this.openDuration>0&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())},r.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end(),this.popUpIsDisplayed=!1,this._closeDuration>0?this.startAnimation():(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},r.applyPopUpTransform=function(t,e){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=t),this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=e),"validateNow"in this.popUp&&this.popUp.validateNow();var i=this.calculatePopUpPosition();this.popUp.x=i.x,this.popUp.y=i.y}},r.startAnimation=function(){this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler),this.animator.motionPaths=this.createMotionPath(),this.popUpIsDisplayed?this.animator.duration=this._openDuration:this.animator.duration=this._closeDuration,this.animator.play()},r.createMotionPath=function(){var t=new e.SimpleMotionPath("x"),i=new e.SimpleMotionPath("y"),n=[t,i];switch(this._popUpPosition){case e.PopUpPosition.TOP_LEFT:case e.PopUpPosition.CENTER:case e.PopUpPosition.BELOW:t.valueFrom=t.valueTo=0,i.valueFrom=this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.ABOVE:t.valueFrom=t.valueTo=0,i.valueFrom=-this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.LEFT:i.valueFrom=i.valueTo=0,t.valueFrom=-this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;case e.PopUpPosition.RIGHT:i.valueFrom=i.valueTo=0,t.valueFrom=this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;default:this.valueRange=1}if(this.valueRange=Math.abs(this.valueRange),!this.popUpIsDisplayed){var s=t.valueFrom;t.valueFrom=t.valueTo,t.valueTo=s,s=i.valueFrom,i.valueFrom=i.valueTo,i.valueTo=s}return n},r.addedToStageHandler=function(e){this.addedToStage=!0,t.callLater(this.checkPopUpState,this)},r.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()},r.removedFromStageHandler=function(e){this.addedToStage=!1,t.callLater(this.checkPopUpState,this)},n}(e.UIComponent);e.PopUpAnchor=i,t.registerClass(i,"egret.gui.PopUpAnchor")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.thumb=null,this.track=null,this.labelDisplay=null,this._labelFunction=null,this._slideDuration=500,this._direction=e.ProgressBarDirection.LEFT_TO_RIGHT,this.animator=null,this.slideToValue=0/0,this.animationValue=0,this.trackResizedOrMoved=!1}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"labelFunction",function(){return this._labelFunction},function(t){this._labelFunction!=t&&(this._labelFunction=t,this.invalidateDisplayList())}),r.valueToLabel=function(t,e){return null!=this.labelFunction?this._labelFunction(t,e):t+" / "+e},s(r,"slideDuration",function(){return this._slideDuration},function(t){this._slideDuration!=t&&(this._slideDuration=t,this.animator&&this.animator.isPlaying&&(this.animator.stop(),this._setValue(this.slideToValue)))}),s(r,"direction",function(){return this._direction},function(t){this._direction!=t&&(this._direction=t,this.invalidateDisplayList())}),s(r,"value",function(){return this._getValue()},function(t){if(this._getValue()!=t)if(this._setValue(t),this._slideDuration>0&&this.stage){if(this.validateProperties(),this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this)),this.animator.isPlaying&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),this.animator.stop()),this.slideToValue=this.nearestValidValue(t,this.snapInterval),this.slideToValue==this.animationValue)return;var i=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(this.maximum-this.minimum));this.animator.duration=i===1/0?0:i,this.animator.motionPaths=[new e.SimpleMotionPath("value",this.animationValue,this.slideToValue)],this.animator.play()}else this.animationValue=this._getValue()}),r.animationUpdateHandler=function(t){var e=this.nearestValidValue(t.currentValue.value,this.snapInterval);this.animationValue=Math.min(this.maximum,Math.max(this.minimum,e)),this.invalidateDisplayList()},r.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},r.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},r.partAdded=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.addEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.addEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},r.partRemoved=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.removeEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.removeEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},r.onTrackResizeOrMove=function(t){this.trackResizedOrMoved=!0,this.invalidateProperties()},r.commitProperties=function(){i.prototype.commitProperties.call(this),this.trackResizedOrMoved&&(this.trackResizedOrMoved=!1,this.updateSkinDisplayList())},r.updateSkinDisplayList=function(){this.trackResizedOrMoved=!1;var i=this.value;this.animator&&this.animator.isPlaying?i=this.animationValue:(i=this.value,isNaN(i)&&(i=0));var n=isNaN(this.maximum)?0:this.maximum;if(this.thumb&&this.track){var s=isNaN(this.track.width)?0:this.track.width;s*=this.track.scaleX;var a=isNaN(this.track.height)?0:this.track.height;a*=this.track.scaleY;var r=Math.round(i/n*s);(isNaN(r)||0>r||r===1/0)&&(r=0);var o=Math.round(i/n*a);(isNaN(o)||0>o||o===1/0)&&(o=0);var h=this.track.localToGlobal(0,0),l=this.globalToLocal(h.x,h.y,t.$TempPoint),u=l.x,d=l.y;switch(this._direction){case e.ProgressBarDirection.LEFT_TO_RIGHT:this.thumb.width=r,this.thumb.height=a,this.thumb.x=u;break;case e.ProgressBarDirection.RIGHT_TO_LEFT:this.thumb.width=r,this.thumb.height=a,this.thumb.x=u+s-r;break;case e.ProgressBarDirection.TOP_TO_BOTTOM:this.thumb.width=s,this.thumb.height=o,this.thumb.y=d;
break;case e.ProgressBarDirection.BOTTOM_TO_TOP:this.thumb.width=s,this.thumb.height=o,this.thumb.y=d+a-o}}this.labelDisplay&&(this.labelDisplay.text=this.valueToLabel(i,n))},n}(e.Range);e.ProgressBar=i,t.registerClass(i,"egret.gui.ProgressBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.LEFT_TO_RIGHT="leftToRight",t.RIGHT_TO_LEFT="rightToLeft",t.TOP_TO_BOTTOM="topToBottom",t.BOTTOM_TO_TOP="bottomToTop",t}();e.ProgressBarDirection=i,t.registerClass(i,"egret.gui.ProgressBarDirection")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._indexNumber=0,this._radioButtonGroup=null,this._group=null,this.groupChanged=!1,this._groupName="radioGroup",this._value=null,this.groupName="radioGroup"}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"enabled",function(){return this._UIC_Props_._enabled?!this._radioButtonGroup||this._radioButtonGroup.enabled:!1},function(t){this.$setEnabled(t)}),n(a,"group",function(){if(!this._group&&this._groupName){i.automaticRadioButtonGroups||(i.automaticRadioButtonGroups={});var t=i.automaticRadioButtonGroups[this._groupName];t||(t=new e.RadioButtonGroup,t._name=this._groupName,i.automaticRadioButtonGroups[this._groupName]=t),this._group=t}return this._group},function(t){this._group!=t&&(this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=t,this._groupName=t?this.group._name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())}),n(a,"groupName",function(){return this._groupName},function(t){t&&""!=t&&(this._groupName=t,this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())}),a._setSelected=function(e){t.prototype._setSelected.call(this,e),this.invalidateDisplayList()},n(a,"value",function(){return this._value},function(t){this._value!=t&&(this._value=t,this.selected&&this.group&&e.UIEvent.dispatchUIEvent(this.group,e.UIEvent.VALUE_COMMIT))}),a.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1),t.prototype.commitProperties.call(this)},a.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.group&&(this.selected?this._group.selection=this:this.group.selection==this&&(this._group.selection=null))},a.buttonReleased=function(){this.enabled&&!this.selected&&(this._radioButtonGroup||this.addToGroup(),t.prototype.buttonReleased.call(this),this.group._setSelection(this))},a.addToGroup=function(){var t=this.group;return t&&t._addInstance(this),t},i.automaticRadioButtonGroups=null,i}(e.ToggleButtonBase);e.RadioButton=i,t.registerClass(i,"egret.gui.RadioButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._name=null,this.radioButtons=[],this._enabled=!0,this._selectedValue=null,this._selection=null,this._name="_radioButtonGroup"+n.groupCount,n.groupCount++}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"enabled",function(){return this._enabled},function(t){if(this._enabled!=t){this._enabled=t;for(var e=0;e<this.numRadioButtons;e++)this.getRadioButtonAt(e).invalidateSkinState()}}),s(r,"numRadioButtons",function(){return this.radioButtons.length}),s(r,"selectedValue",function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},function(t){if(this._selectedValue=t,null==t)return void this._setSelection(null,!1);for(var i=this.numRadioButtons,n=0;i>n;n++){var s=this.getRadioButtonAt(n);if(s.value==t||s.label==t){this.changeSelection(n,!1),this._selectedValue=null,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT);break}}}),s(r,"selection",function(){return this._selection},function(t){this._selection!=t&&this._setSelection(t,!1)}),r.getRadioButtonAt=function(t){return t>=0&&t<this.numRadioButtons?this.radioButtons[t]:null},r._addInstance=function(i){function n(t,i){var s=t.parent,a=i.parent;if(!s||!a)return 0;var r=t instanceof e.UIComponent?t.nestLevel:-1,o=i instanceof e.UIComponent?i.nestLevel:-1,h=0,l=0;return s==a&&(h="getElementIndex"in s&&"ownerChanged"in t?s.getElementIndex(t):s.getChildIndex(t),l="getElementIndex"in a&&"ownerChanged"in i?a.getElementIndex(i):a.getChildIndex(i)),r>o||h>l?1:o>r||l>h?-1:t==i?0:n(s,a)}i.addEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.radioButtons.push(i),this.radioButtons.sort(n);for(var s=0;s<this.radioButtons.length;s++)this.radioButtons[s]._indexNumber=s;this._selectedValue&&(this.selectedValue=this._selectedValue),1==i.selected&&(this.selection=i),i._radioButtonGroup=this,i.invalidateSkinState(),this.dispatchEventWith("numRadioButtonsChanged")},r._removeInstance=function(t){this.doRemoveInstance(t,!1)},r.doRemoveInstance=function(e,i){if(void 0===i&&(i=!0),e){for(var n=!1,s=0;s<this.numRadioButtons;s++){var a=this.getRadioButtonAt(s);n?a._indexNumber=a._indexNumber-1:a==e&&(i&&e.addEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),e==this._selection&&(this._selection=null),e._radioButtonGroup=null,e.invalidateSkinState(),this.radioButtons.splice(s,1),n=!0,s--)}n&&this.dispatchEventWith("numRadioButtonsChanged")}},r._setSelection=function(i,n){if(void 0===n&&(n=!0),this._selection!=i){if(i){for(var s=this.numRadioButtons,a=0;s>a;a++)if(i==this.getRadioButtonAt(a)){this.changeSelection(a,n);break}}else this.selection&&(this._selection.selected=!1,this._selection=null,n&&this.dispatchEventWith(t.Event.CHANGE));e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)}},r.changeSelection=function(e,i){void 0===i&&(i=!0);var n=this.getRadioButtonAt(e);n&&n!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=n,this._selection.selected=!0,i&&this.dispatchEventWith(t.Event.CHANGE))},r.radioButton_addedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),this._addInstance(i))},r.radioButton_removedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.doRemoveInstance(i))},n.groupCount=0,n}(t.EventDispatcher);e.RadioButtonGroup=i,t.registerClass(i,"egret.gui.RadioButtonGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._fillColor=16777215,this._fillAlpha=1,this._strokeColor=4473924,this._strokeAlpha=0,this._strokeWeight=1,this.touchChildren=!1,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,s=i,a=s.prototype;return n(a,"graphics",function(){return this.$graphics||(this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this),this.$graphics}),a.$render=function(t){this.$graphics&&this.$graphics.$render(t),e.prototype.$render.call(this,t)},a.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n==this&&(n=this.$graphics.$hitTest(t,i)),n},a.$measureContentBounds=function(t){this.$graphics&&this.$graphics.$measureContentBounds(t)},n(a,"fillColor",function(){return this._fillColor},function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidateDisplayList())}),n(a,"fillAlpha",function(){return this._fillAlpha},function(t){this._fillAlpha!=t&&(this._fillAlpha=t,this.invalidateDisplayList())}),n(a,"strokeColor",function(){return this._strokeColor},function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidateDisplayList())}),n(a,"strokeAlpha",function(){return this._strokeAlpha},function(t){this._strokeAlpha!=t&&(this._strokeAlpha=t,this.invalidateDisplayList())}),n(a,"strokeWeight",function(){return this._strokeWeight},function(t){this._strokeWeight!=t&&(this._strokeWeight=t,this.invalidateDisplayList())}),a.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,t);var n=this.graphics;n.clear(),n.beginFill(this._fillColor,this._fillAlpha),this._strokeAlpha>0&&n.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter"),n.drawRect(0,0,t,i),n.endFill()},i}(e.UIComponent);e.Rect=i,t.registerClass(i,"egret.gui.Rect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this),this.scrollBeginThreshold=10,this.scrollSpeed=1,this._content=null,this.delayTouchBeginEvent=null,this.touchBeginTimer=null,this.touchEnabled=!0,this._ScrV_Props_=new e.ScrollerViewProperties,t&&this.setContent(t)}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"bounces",function(){return this._ScrV_Props_._bounces},function(t){this._ScrV_Props_._bounces=!!t}),r.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,i.prototype.addChild.call(this,t),this._addEvents()))},r.removeContent=function(){this._content&&(this._removeEvents(),i.prototype.removeChildAt.call(this,0)),this._content=null},s(r,"verticalScrollPolicy",function(){return this._ScrV_Props_._verticalScrollPolicy},function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)}),s(r,"horizontalScrollPolicy",function(){return this._ScrV_Props_._horizontalScrollPolicy},function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)}),s(r,"scrollLeft",function(){return this._ScrV_Props_._scrollLeft},function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())}),s(r,"scrollTop",function(){return this._ScrV_Props_._scrollTop},function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())}),r.setScrollPosition=function(t,e,i){if(void 0===i&&(i=!1),(!i||0!=t||0!=e)&&(i||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){var n=this._ScrV_Props_._scrollTop,s=this._ScrV_Props_._scrollLeft;if(i){var a=this.getMaxScrollLeft(),r=this.getMaxScrollTop();(0>=n||n>=r)&&(t/=2),(0>=s||s>=a)&&(e/=2);var o=n+t,h=s+e,l=this._ScrV_Props_._bounces;l||((0>=o||o>=r)&&(o=Math.max(0,Math.min(o,r))),(0>=h||h>=a)&&(h=Math.max(0,Math.min(h,a)))),this._ScrV_Props_._scrollTop=o,this._ScrV_Props_._scrollLeft=h}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},r._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,n=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,n>i?n-i/2:i/2)}if(e){var s=this.width,a=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-s)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,a>s?a-s/2:s/2)}},r.$setWidth=function(t){if(this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return this._updateContentPosition(),e},r.$setHeight=function(t){if(this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return this._updateContentPosition(),e},r._updateContentPosition=function(){var e=this.height,i=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),i,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},r._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var i=this._ScrV_Props_._verticalScrollPolicy,n=this.__checkScrollPolicy(i,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=n,e||n},r.__checkScrollPolicy=function(t,e,i){return"on"==t?!0:"off"==t?!1:e>i},r._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},r._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},r._onTouchBegin=function(e){if(!e.$isDefaultPrevented){var i=this._checkScrollPolicy();i&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},r._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var n=e.target;n!=this;){if("_checkScrollPolicy"in n&&(i=n._checkScrollPolicy()))return;n=n.parent}e.stopPropagation();var s=this.cloneTouchEvent(e);this.delayTouchBeginEvent=s,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},r._onTouchEndCapture=function(e){var i=this;if(this.delayTouchBeginEvent){this._onTouchBeginTimer(),e.stopPropagation();var n=this.cloneTouchEvent(e);t.callLater(function(){i.stage&&i.dispatchPropagationEvent(n)},this)}},r._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},r.dispatchPropagationEvent=function(e){for(var i=e.$target,n=this.$getPropagationList(i),s=n.length,a=.5*n.length,r=-1,o=0;s>o;o++)if(n[o]===this._content){r=o;break}n.splice(0,r+1),a-=r+1,this.$dispatchPropagationEvent(e,n,a),t.Event.release(e)},r._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y,n=Math.sqrt(e*e+i*i);if(n<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var s=this._getPointChange(t);this.setScrollPosition(s.y,s.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},r._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},r._onEnterFrame=function(e){var i=t.getTimer();i-this._ScrV_Props_._lastTouchTime>100&&i-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},r._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},r._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},r._calcVelocitys=function(e){var i=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=i);var n=this._getPointChange(e),s=i-this._ScrV_Props_._lastTouchTime;n.x/=s,n.y/=s,this._ScrV_Props_._velocitys.push(n),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},r._getContentWidth=function(){return this._content.$getExplicitWidth()||this._content.width},r._getContentHeight=function(){return this._content.$getExplicitHeight()||this._content.height},r.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},r.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},r._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,i=0;i<this._ScrV_Props_._velocitys.length;i++){var s=this._ScrV_Props_._velocitys[i],a=n.weight[i];t.x+=s.x*a,t.y+=s.y*a,e+=a}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var r=t.x/e*this.scrollSpeed,o=t.y/e*this.scrollSpeed,h=Math.abs(r),l=Math.abs(o),u=this.getMaxScrollLeft(),d=this.getMaxScrollTop(),c=h>.02?this.getAnimationDatas(r,this._ScrV_Props_._scrollLeft,u):{position:this._ScrV_Props_._scrollLeft,duration:1},p=l>.02?this.getAnimationDatas(o,this._ScrV_Props_._scrollTop,d):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(c.position,c.duration),this.setScrollTop(p.position,p.duration)}},r.onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},r._onScrollStarted=function(){},r._onScrollFinished=function(){e.ScrollerTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},r.setScrollTop=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollTop(),Math.max(t,0));if(0==i)return void(this.scrollTop=n);0==this._ScrV_Props_._bounces&&(t=n);var s=e.ScrollerTween.get(this).to({scrollTop:t},i,e.ScrollerEase.quartOut);n!=t&&s.to({scrollTop:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=s,s.call(this.onTweenFinished,this,[s]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},r.setScrollLeft=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollLeft(),Math.max(t,0));if(0==i)return void(this.scrollLeft=n);0==this._ScrV_Props_._bounces&&(t=n);var s=e.ScrollerTween.get(this).to({scrollLeft:t},i,e.ScrollerEase.quartOut);n!=t&&s.to({scrollLeft:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=s,s.call(this.onTweenFinished,this,[s]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},r.getAnimationDatas=function(t,e,i){var n=Math.abs(t),s=.95,a=0,r=.998,o=.02,h=e+500*t;if(0>h||h>i)for(h=e;Math.abs(t)!=1/0&&Math.abs(t)>o;)h+=t,t*=0>h||h>i?r*s:r,a++;else a=500*-Math.log(o/n);var l={position:Math.min(i+50,Math.max(h,-50)),duration:a};return l},r.cloneTouchEvent=function(e){var i=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i.$stageX=e.stageX,i.$stageY=e.stageY,i.touchDown=e.touchDown,i.$isDefaultPrevented=!1,i.$target=e.target,i},r.throwNotSupportedError=function(){t.$error(1023)},r.addChild=function(t){return this.throwNotSupportedError(),null},r.addChildAt=function(t,e){return this.throwNotSupportedError(),null},r.removeChild=function(t){return this.throwNotSupportedError(),null},r.removeChildAt=function(t){return this.throwNotSupportedError(),null},r.setChildIndex=function(t,e){this.throwNotSupportedError()},r.swapChildren=function(t,e){this.throwNotSupportedError()},r.swapChildrenAt=function(t,e){this.throwNotSupportedError()},r.$measureContentBounds=function(t){t.setTo(0,0,this.width,this.height)},r.$hitTest=function(t,e){var n=i.prototype.$hitTest.call(this,t,e);if(n)return n;if(!this.$visible)return null;var s=this.$getInvertedConcatenatedMatrix(),a=this.$getContentBounds(),r=s.a*t+s.c*e+s.tx,o=s.b*t+s.d*e+s.ty;if(a.contains(r,o)){if(!this.$children){var h=this.$scrollRect?this.$scrollRect:this.$maskRect;if(h&&!h.contains(r,o))return null;if(this.$mask&&!this.$mask.$hitTest(t,e))return null}return this}return null},n.weight=[1,1.33,1.66,2,2.33],n}(t.DisplayObjectContainer);e.ScrollerView=i,t.registerClass(i,"egret.gui.ScrollerView")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.horizontalScrollBar=null,this.verticalScrollBar=null,e.ScrollerView.call(this),this._Scr_Props_=new t.gui.ScrollerProperties}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.setContent=function(t){this._content=t,this._removeEvents(),this._addEvents(),this._ScrV_Props_._scrollLeft=t.horizontalScrollPosition,this._ScrV_Props_._scrollTop=t.verticalScrollPosition},r._updateContentPosition=function(){var e=this._content;e.horizontalScrollPosition=this._ScrV_Props_._scrollLeft,e.verticalScrollPosition=this._ScrV_Props_._scrollTop,e.setLayoutBoundsSize(this._UIC_Props_._uiWidth,this._UIC_Props_._uiHeight),this.dispatchEvent(new t.Event(t.Event.CHANGE))},r.getMaxScrollLeft=function(){var t=this._content,e=t.contentWidth-t.width,i=t.initialized?0:t.horizontalScrollPosition||0;return Math.max(e,i)},r.getMaxScrollTop=function(){var t=this._content,e=t.contentHeight-t.height,i=t.initialized?0:t.verticalScrollPosition||0;return Math.max(e,i)},r._getContentWidth=function(){return this._content.contentWidth},r._getContentHeight=function(){return this._content.contentHeight},r._onScrollStarted=function(){e.ScrollerView.prototype._onScrollStarted.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},r._onScrollFinished=function(){e.ScrollerView.prototype._onScrollFinished.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},r.measure=function(){this._Scr_Props_._viewport&&(this.measuredWidth=this._Scr_Props_._viewport.preferredWidth,this.measuredHeight=this._Scr_Props_._viewport.preferredHeight)},r.updateDisplayList=function(t,i){if(this.viewport&&this.viewport.setLayoutBoundsSize(t,i),this._checkScrollPolicy(),"off"!=this._ScrV_Props_._horizontalScrollPolicy){var n=this.viewport.horizontalScrollPosition,s=this.getMaxScrollLeft(),n=Math.min(n,s);this.setViewportHScrollPosition(n);var a=this.horizontalScrollBar;a&&(a._setViewportMetric(t,this._Scr_Props_._viewport.contentWidth),a.$setWidth(t-(a.left||0)-(a.right||0)),a.x=a.left||0,a.y=i-this.horizontalScrollBar.layoutBoundsHeight,a.visible=this._ScrV_Props_._horizontalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._hCanScroll,this._Scr_Props_._autoHideScrollBars&&(a.alpha=0))}if("off"!=this._ScrV_Props_._verticalScrollPolicy){var n=this.viewport.verticalScrollPosition,s=this.getMaxScrollTop();n=Math.min(n,s),this.setViewportVScrollPosition(n);var r=this.verticalScrollBar;r&&(r._setViewportMetric(i,this._Scr_Props_._viewport.contentHeight),r.$setHeight(i-(r.top||0)-(r.bottom||0)),r.y=r.top||0,r.x=t-this.verticalScrollBar.layoutBoundsWidth,r.visible=this._ScrV_Props_._verticalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._vCanScroll,this._Scr_Props_._autoHideScrollBars&&(r.alpha=0))}},s(r,"verticalScrollPolicy",function(){return this._ScrV_Props_._verticalScrollPolicy},function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t,this._checkVbar(),this.verticalScrollPolicy=t)}),s(r,"horizontalScrollPolicy",function(){return this._ScrV_Props_._horizontalScrollPolicy},function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t,this._checkHbar(),this.horizontalScrollPolicy=t)}),s(r,"viewport",function(){return this._Scr_Props_._viewport},function(t){t!=this._Scr_Props_._viewport&&(this.uninstallViewport(),this._Scr_Props_._viewport=t,this.installViewport(),this.dispatchEventWith("viewportChanged"))}),r.installViewport=function(){var e=this.viewport;this.addEventListener(t.Event.CHANGE,this._scrollerChangedHandler,this),this._createChildrenCalled&&e&&(e.clipAndEnableScrolling=!0,this.setContent(e),this._addToDisplayListAt(e,0),e.addEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this))},r.uninstallViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this),this._removeFromDisplayList(this.viewport))},r._viewportChangedHandler=function(t){"horizontalScrollPosition"==t.property&&this.setViewportHScrollPosition(this.viewport.horizontalScrollPosition),"verticalScrollPosition"==t.property&&this.setViewportVScrollPosition(this.viewport.verticalScrollPosition),("contentWidth"==t.property||"contentHeight"==t.property)&&(this.invalidateDisplayList(),this.invalidateSize())},r._scrollerChangedHandler=function(t){this.setViewportHScrollPosition(this.scrollLeft),this.setViewportVScrollPosition(this.scrollTop)},r.setViewportVScrollPosition=function(t){this.scrollTop!=t&&(this.scrollTop=t),this.verticalScrollBar&&this.verticalScrollBar.value!=t&&(this.verticalScrollBar.setPosition(t),this.hideOrShow(!0),this.setAutoHideTimer())},r.setViewportHScrollPosition=function(t){this.scrollLeft!=t&&(this.scrollLeft=t),this.horizontalScrollBar&&this.horizontalScrollBar.value!=t&&(this.horizontalScrollBar._setValue(t),this.hideOrShow(!0),this.setAutoHideTimer())},r.throwHorizontally=function(t,e){void 0===e&&(e=500),this.setScrollLeft(t,e)},r.throwVertically=function(t,e){void 0===e&&(e=500),this.setScrollTop(t,e)},s(r,"autoHideScrollBars",function(){return this._Scr_Props_._autoHideScrollBars},function(t){this._Scr_Props_._autoHideScrollBars!=t&&(this._Scr_Props_._autoHideScrollBars=t,t?this.setAutoHideTimer():this.hideOrShow(!0))}),s(r,"autoHideDelay",function(){return this._Scr_Props_._autoHideDelay},function(t){this._Scr_Props_._autoHideDelay!=t&&(this._Scr_Props_._autoHideDelay=t)}),r.setAutoHideTimer=function(){this._Scr_Props_._autoHideScrollBars&&this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)&&(0/0!=this._Scr_Props_._autoHideTimer&&t.gui.$clearTimer(this._Scr_Props_._autoHideTimer),this._Scr_Props_._autoHideTimer=t.gui.$addTimer(this.hideOrShow.bind(this,!1),this,this._Scr_Props_._autoHideDelay))},r.hideOrShow=function(t){var i=this;if(this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)){if(null==this._Scr_Props_._autoHideShowAnimat)this._Scr_Props_._autoHideShowAnimat=new e.Animation(function(t){var e=t.currentValue.alpha;i.horizontalScrollBar&&(i.horizontalScrollBar.alpha=e),i.verticalScrollBar&&(i.verticalScrollBar.alpha=e)},this);else{if(this._Scr_Props_._animatTargetIsShow==t)return;this._Scr_Props_._autoHideShowAnimat.isPlaying&&this._Scr_Props_._autoHideShowAnimat.stop()}this._Scr_Props_._animatTargetIsShow=t;var n=this._Scr_Props_._autoHideShowAnimat;n.motionPaths=[new e.SimpleMotionPath("alpha",t?0:1,t?1:0)],n.duration=t?100:300,n.play()}},s(r,"numElements",function(){return this.viewport?1:0}),r.throwRangeError=function(e){t.$error(3011,e)},r.getElementAt=function(t){return this.viewport&&0==t?this.viewport:(this.throwRangeError(t),null)},r.getElementIndex=function(t){return null!=t&&t==this.viewport?0:-1},r.containsElement=function(t){return null!=t&&t==this.viewport?!0:!1},r.throwNotSupportedError=function(){t.$error(3012)},r.addElement=function(t){return this.throwNotSupportedError(),null},r.addElementAt=function(t,e){return this.throwNotSupportedError(),null},r.removeElement=function(t){return this.throwNotSupportedError(),null},r.removeElementAt=function(t){return this.throwNotSupportedError(),null},r.removeAllElements=function(){this.throwNotSupportedError()},r.setElementIndex=function(t,e){this.throwNotSupportedError()},r.swapElements=function(t,e){this.throwNotSupportedError()},r.swapElementsAt=function(t,e){this.throwNotSupportedError()},r.addChild=function(t){return this.throwNotSupportedError(),null},r.addChildAt=function(t,e){return this.throwNotSupportedError(),null},r.removeChild=function(t){return this.throwNotSupportedError(),null},r.removeChildAt=function(t){return this.throwNotSupportedError(),null},r.setChildIndex=function(t,e){this.throwNotSupportedError()},r.swapChildren=function(t,e){this.throwNotSupportedError()},r.swapChildrenAt=function(t,e){this.throwNotSupportedError()},r._checkHbar=function(){if("off"==this._ScrV_Props_._horizontalScrollPolicy)return void this._uninstallHorizontalScrollBar();if(this.horizontalScrollBar){var e=this.horizontalScrollBar;e.addEventListener(t.Event.CHANGE,this.hBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.width,this._Scr_Props_._viewport.contentWidth),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.horizontalScrollBar)}},r._checkVbar=function(){if("off"==this._ScrV_Props_._verticalScrollPolicy)return void this._uninstallVerticalScrollBar();if(this.verticalScrollBar&&this.verticalScrollBar.owner!=this){var e=this.verticalScrollBar;e.addEventListener(t.Event.CHANGE,this.vBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.height,this._Scr_Props_._viewport.contentHeight),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.verticalScrollBar)}},r.createChildren=function(){i.prototype.createChildren.call(this),this.installViewport()},r.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.horizontalScrollBar&&this._checkHbar(),e==this.verticalScrollBar&&this._checkVbar()},r.partRemoved=function(t,e){i.prototype.partRemoved.call(this,t,e),this.horizontalScrollBar==e&&(this.horizontalScrollBar.parent==this&&this._uninstallHorizontalScrollBar(),this.horizontalScrollBar=null),this.verticalScrollBar==e&&(this.verticalScrollBar.parent==this&&this._uninstallVerticalScrollBar(),this.verticalScrollBar=null)},r._uninstallHorizontalScrollBar=function(){null!=this.horizontalScrollBar&&(this._removeFromDisplayList(this.horizontalScrollBar),this.horizontalScrollBar.removeEventListener(t.Event.CHANGE,this.hBarChanged,this,!1))},r._uninstallVerticalScrollBar=function(){null!=this.verticalScrollBar&&(this._removeFromDisplayList(this.verticalScrollBar),this.verticalScrollBar.removeEventListener(t.Event.CHANGE,this.vBarChanged,this,!1))},r.hBarChanged=function(t){this.setViewportHScrollPosition(this.horizontalScrollBar._getValue())},r.vBarChanged=function(t){this.setViewportVScrollPosition(this.verticalScrollBar.getPosition())},n}(e.SkinnableComponent);e.Scroller=i,t.registerClass(i,"egret.gui.Scroller",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"]);for(var n in e.ScrollerView.prototype)if(e.ScrollerView.prototype.hasOwnProperty(n)&&!i.prototype.hasOwnProperty(n)&&!e.SkinnableComponent.prototype.hasOwnProperty(n)&&!e.UIComponent.prototype.hasOwnProperty(n)){var s=Object.getOwnPropertyDescriptor(e.ScrollerView.prototype,n);s&&(s.get||s.set)?Object.defineProperty(i.prototype,n,s):i.prototype[n]=e.ScrollerView.prototype[n]}}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this._viewport=null,this._autoHideScrollBars=!0,this._autoHideTimer=0/0,this._autoHideDelay=300,this._autoHideShowAnimat=null,this._animatTargetIsShow=!1}var e=(__define,t);e.prototype;return t}();e.ScrollerProperties=i,t.registerClass(i,"egret.gui.ScrollerProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e);i.prototype;return e}(e.UIComponent);e.Spacer=i,t.registerClass(i,"egret.gui.Spacer")
}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.requireSelectionChanged_tabBar=!1,this.requireSelection=!0}__extends(i,t);var n=__define,s=i,a=s.prototype;return a.createChildren=function(){e.ListBase.prototype.createChildren.call(this)},n(a,"requireSelection",function(){return this._requireSelection},function(e){e!=this._requireSelection&&(t.prototype._setRequireSelection.call(this,e),this.requireSelectionChanged_tabBar=!0,this.invalidateProperties())}),a._setDataProvider=function(i){this.dataProvider instanceof e.ViewStack&&(this.dataProvider.removeEventListener("IndexChanged",this.onViewStackIndexChange,this),this.removeEventListener(e.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),i instanceof e.ViewStack&&(i.addEventListener("IndexChanged",this.onViewStackIndexChange,this),this.addEventListener(e.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),t.prototype._setDataProvider.call(this,i)},a.onIndexChanged=function(t){this.dataProvider._setSelectedIndex(t.newIndex,!1)},a.onViewStackIndexChange=function(t){this._setSelectedIndex(this.dataProvider.selectedIndex,!1)},a.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.requireSelectionChanged_tabBar&&this.dataGroup){this.requireSelectionChanged_tabBar=!1;for(var e=this.dataGroup.numElements,i=0;e>i;i++){var n=this.dataGroup.getElementAt(i);n&&(n.allowDeselection=!this.requireSelection)}}},a.dataGroup_rendererAddHandler=function(i){t.prototype.dataGroup_rendererAddHandler.call(this,i),null!=i.renderer&&i.renderer instanceof e.TabBarButton&&(i.renderer.allowDeselection=!this.requireSelection)},a._item_touchEndHandler=function(t){var i=t.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(t.currentTarget),n==this.selectedIndex?this.requireSelection||this._setSelectedIndex(e.ListBase.NO_SELECTION,!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(t,e.ListEvent.ITEM_CLICK,i)}},i}(e.List);e.TabBar=i,t.registerClass(i,"egret.gui.TabBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._allowDeselection=!0,this._data=null,this._itemIndex=0/0}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"allowDeselection",function(){return this._allowDeselection},function(t){this._allowDeselection=t}),i(s,"data",function(){return this._data},function(t){this._data=t,this.dispatchEventWith("dataChange")}),i(s,"itemIndex",function(){return this._itemIndex},function(t){this._itemIndex=t}),s._setLabel=function(e){e!=this._getLabel()&&(t.prototype._setLabel.call(this,e),this.labelDisplay&&(this.labelDisplay.text=this._getLabel()))},s.buttonReleased=function(){(!this.selected||this.allowDeselection)&&t.prototype.buttonReleased.call(this)},e}(e.ToggleButtonBase);e.TabBarButton=i,t.registerClass(i,"egret.gui.TabBarButton",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._focusEnabled=!0,this.isFocus=!1,this.textDisplay=null,this.textDisplayProperties={},this.promptDisplay=null,this._prompt=null,this.focusEnabled=!0}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"focusEnabled",function(){return this._focusEnabled},function(t){this._focusEnabled=t}),r.focusInHandler=function(t){return this.isFocus=!0,t.target==this?void this.setFocus():void this.invalidateSkinState()},r.focusOutHandler=function(t){this.isFocus=!1,t.target!=this&&this.invalidateSkinState()},s(r,"prompt",function(){return this._prompt},function(t){this._prompt!=t&&(this._prompt=t,this.promptDisplay&&(this.promptDisplay.text=t),this.invalidateProperties(),this.invalidateSkinState())}),s(r,"maxWidth",function(){if(this.textDisplay)return this.textDisplay.maxWidth;var t=this.textDisplayProperties.maxWidth;return void 0===t?i.prototype._getMaxWidth.call(this):t},function(t){this.textDisplay?(this.textDisplay.maxWidth=t,this.textDisplayProperties.maxWidth=!0):this.textDisplayProperties.maxWidth=t,this.invalidateProperties()}),s(r,"textColor",function(){if(this.textDisplay)return this.textDisplay.textColor;var t=this.textDisplayProperties.textColor;return void 0===t?0:t},function(t){this.textDisplay?(this.textDisplay.textColor=t,this.textDisplayProperties.textColor=!0):this.textDisplayProperties.textColor=t,this.invalidateProperties()}),s(r,"displayAsPassword",function(){if(this.textDisplay)return this.textDisplay.displayAsPassword;var t=this.textDisplayProperties.displayAsPassword;return void 0===t?!1:t},function(t){this.textDisplay?(this.textDisplay.displayAsPassword=t,this.textDisplayProperties.displayAsPassword=!0):this.textDisplayProperties.displayAsPassword=t,this.invalidateProperties()}),s(r,"editable",function(){if(this.textDisplay)return this.textDisplay.editable;var t=this.textDisplayProperties.editable;return void 0===t?!0:t},function(t){this.textDisplay?(this.textDisplay.editable=t,this.textDisplayProperties.editable=!0):this.textDisplayProperties.editable=t,this.invalidateProperties()}),s(r,"maxChars",function(){if(this.textDisplay)return this.textDisplay.maxChars;var t=this.textDisplayProperties.maxChars;return void 0===t?0:t},function(t){this.textDisplay?(this.textDisplay.maxChars=t,this.textDisplayProperties.maxChars=!0):this.textDisplayProperties.maxChars=t,this.invalidateProperties()}),s(r,"restrict",function(){if(this.textDisplay)return this.textDisplay.restrict;var t=this.textDisplayProperties.restrict;return void 0===t?null:t},function(t){this.textDisplay?(this.textDisplay.restrict=t,this.textDisplayProperties.restrict=!0):this.textDisplayProperties.restrict=t,this.invalidateProperties()}),s(r,"selectable",function(){if(this.textDisplay)return this.textDisplay.selectable;var t=this.textDisplayProperties.selectable;return void 0===t?!0:t},function(t){this.textDisplay?(this.textDisplay.selectable=t,this.textDisplayProperties.selectable=!0):this.textDisplayProperties.selectable=t,this.invalidateProperties()}),s(r,"selectionBeginIndex",function(){return this.textDisplay?this.textDisplay.selectionBeginIndex:void 0===this.textDisplayProperties.selectionBeginIndex?-1:this.textDisplayProperties.selectionBeginIndex}),s(r,"selectionEndIndex",function(){return this.textDisplay?this.textDisplay.selectionEndIndex:void 0===this.textDisplayProperties.selectionEndIndex?-1:this.textDisplayProperties.selectionEndIndex}),s(r,"caretIndex",function(){return this.textDisplay?this.textDisplay.caretIndex:0}),r.setSelection=function(t,e){void 0===e&&(e=0),this.textDisplay?this.textDisplay.setSelection(t,e):(this.textDisplayProperties.selectionBeginIndex=t,this.textDisplayProperties.selectionEndIndex=e)},r.selectAll=function(){this.textDisplay?this.textDisplay.selectAll():void 0!==this.textDisplayProperties.text&&this.setSelection(0,this.textDisplayProperties.text.length-1)},s(r,"text",function(){return this._getText()},function(t){this._setText(t)}),r._getText=function(){if(this.textDisplay)return this.textDisplay.text;var t=this.textDisplayProperties.text;return void 0===t?"":t},r._setText=function(t){this.textDisplay?(this.textDisplay.text=t,this.textDisplayProperties.text=!0):(this.textDisplayProperties.text=t,this.textDisplayProperties.selectionBeginIndex=0,this.textDisplayProperties.selectionEndIndex=0),this.invalidateProperties(),this.invalidateSkinState()},r._getWidthInChars=function(){var t=this.textDisplay;if(t)return t.widthInChars;var e=this.textDisplay?void 0:this.textDisplayProperties.widthInChars;return void 0===e?0/0:e},r._setWidthInChars=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.widthInChars=t),this.textDisplayProperties.widthInChars=!0}else this.textDisplayProperties.widthInChars=t;this.invalidateProperties()},r._getHeightInLines=function(){var t=this.textDisplay;if(t)return t.heightInLines;var e=this.textDisplay?void 0:this.textDisplayProperties.heightInLines;return void 0===e?0/0:e},r._setHeightInLines=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.heightInLines=t),this.textDisplayProperties.heightInLines=!0}else this.textDisplayProperties.heightInLines=t;this.invalidateProperties()},r.getCurrentSkinState=function(){var t=this.skin;if(this._prompt&&!this.isFocus&&""==this.text){if(this.enabled&&t.hasState("normalWithPrompt"))return"normalWithPrompt";if(!this.enabled&&t.hasState("disabledWithPrompt"))return"disabledWithPrompt"}return i.prototype.getCurrentSkinState.call(this)},r.partAdded=function(n,s){i.prototype.partAdded.call(this,n,s),s==this.textDisplay?(this.textDisplayAdded(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.addEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.addEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this)):s==this.promptDisplay&&(this.promptDisplay.text=this._prompt)},r.partRemoved=function(n,s){i.prototype.partRemoved.call(this,n,s),s==this.textDisplay&&(this.textDisplayRemoved(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.removeEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.removeEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this))},r.setFocus=function(){0!=this._focusEnabled&&this.textDisplay&&this.textDisplay.setFocus()},r._createTextDisplay=function(){},r._removeSkinParts=function(){this.textDisplay&&(this.partRemoved("textDisplay",this.textDisplay),this._removeFromDisplayList(this.textDisplay),this.textDisplay=null)},r.textDisplayAdded=function(){var t={},e=this.textDisplay;void 0!==this.textDisplayProperties.displayAsPassword&&(this.textDisplay.displayAsPassword=this.textDisplayProperties.displayAsPassword,t.displayAsPassword=!0),void 0!==this.textDisplayProperties.textColor&&(this.textDisplay.textColor=this.textDisplayProperties.textColor,t.textColor=!0),void 0!==this.textDisplayProperties.editable&&(this.textDisplay.editable=this.textDisplayProperties.editable,t.editable=!0),void 0!==this.textDisplayProperties.maxChars&&(this.textDisplay.maxChars=this.textDisplayProperties.maxChars,t.maxChars=!0),void 0!==this.textDisplayProperties.maxHeight&&(this.textDisplay.maxHeight=this.textDisplayProperties.maxHeight,t.maxHeight=!0),void 0!==this.textDisplayProperties.maxWidth&&(this.textDisplay.maxWidth=this.textDisplayProperties.maxWidth,t.maxWidth=!0),void 0!==this.textDisplayProperties.restrict&&(this.textDisplay.restrict=this.textDisplayProperties.restrict,t.restrict=!0),void 0!==this.textDisplayProperties.selectable&&(this.textDisplay.selectable=this.textDisplayProperties.selectable,t.selectable=!0),void 0!==this.textDisplayProperties.text&&(this.textDisplay.text=this.textDisplayProperties.text,t.text=!0),void 0!==this.textDisplayProperties.selectionBeginIndex&&this.textDisplay.setSelection(this.textDisplayProperties.selectionBeginIndex,this.textDisplayProperties.selectionEndIndex),void 0!==this.textDisplayProperties.widthInChars&&e&&(e.widthInChars=this.textDisplayProperties.widthInChars,t.widthInChars=!0),void 0!==this.textDisplayProperties.heightInLines&&e&&(e.heightInLines=this.textDisplayProperties.heightInLines,t.heightInLines=!0),this.textDisplayProperties=t},r.textDisplayRemoved=function(){var t={},e=this.textDisplay;this.textDisplayProperties.displayAsPassword&&(t.displayAsPassword=this.textDisplay.displayAsPassword),this.textDisplayProperties.textColor&&(t.textColor=this.textDisplay.textColor),this.textDisplayProperties.editable&&(t.editable=this.textDisplay.editable),this.textDisplayProperties.maxChars&&(t.maxChars=this.textDisplay.maxChars),this.textDisplayProperties.maxHeight&&(t.maxHeight=this.textDisplay.maxHeight),this.textDisplayProperties.maxWidth&&(t.maxWidth=this.textDisplay.maxWidth),this.textDisplayProperties.restrict&&(t.restrict=this.textDisplay.restrict),this.textDisplayProperties.selectable&&(t.selectable=this.textDisplay.selectable),this.textDisplayProperties.text&&(t.text=this.textDisplay.text),this.textDisplayProperties.heightInLines&&e&&(t.heightInLines=e.heightInLines),this.textDisplayProperties.widthInChars&&e&&(t.widthInChars=e.widthInChars),this.textDisplayProperties=t},r.textDisplay_changeHandler=function(t){this.invalidateDisplayList(),this.dispatchEvent(t)},r.textDisplay_changingHandler=function(e){var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.SkinnableComponent);e.SkinnableTextBase=i,t.registerClass(i,"egret.gui.SkinnableTextBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.horizontalScrollPolicyChanged=!1,this._horizontalScrollPolicy=null,this.verticalScrollPolicyChanged=!1,this._verticalScrollPolicy=null,this.scroller=null}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"widthInChars",function(){return this._getWidthInChars()},function(t){this._setWidthInChars(t)}),s(r,"heightInLines",function(){return this._getHeightInLines()},function(t){this._setHeightInLines(t)}),s(r,"horizontalScrollPolicy",function(){return this._horizontalScrollPolicy},function(t){this._horizontalScrollPolicy!=t&&(this._horizontalScrollPolicy=t,this.horizontalScrollPolicyChanged=!0,this.invalidateProperties())}),s(r,"verticalScrollPolicy",function(){return this._verticalScrollPolicy},function(t){this._verticalScrollPolicy!=t&&(this._verticalScrollPolicy=t,this.verticalScrollPolicyChanged=!0,this.invalidateProperties())}),r._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},r.commitProperties=function(){i.prototype.commitProperties.call(this),this.horizontalScrollPolicyChanged&&(this.scroller&&(this.scroller.horizontalScrollPolicy=this.horizontalScrollPolicy),this.horizontalScrollPolicyChanged=!1),this.verticalScrollPolicyChanged&&(this.scroller&&(this.scroller.verticalScrollPolicy=this.verticalScrollPolicy),this.verticalScrollPolicyChanged=!1)},r.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay?this.textDisplay.multiline=!0:e==this.scroller},r.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=15,this.textDisplay.heightInLines=10,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextArea=i,t.registerClass(i,"egret.gui.TextArea")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this)}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"widthInChars",function(){return i.prototype._getWidthInChars.call(this)},function(t){i.prototype._setWidthInChars.call(this,t)}),r._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},r.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay&&(this.textDisplay.multiline=!1)},r.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=10,this.textDisplay.multiline=!1,this.textDisplay.left=1,this.textDisplay.right=1,this.textDisplay.top=1,this.textDisplay.bottom=1,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextInput=i,t.registerClass(i,"egret.gui.TextInput")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.iconDisplay=null,this._icon=null}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"icon",function(){return this._getIcon()},function(t){this._setIcon(t)}),s._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},s._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},s.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(e.ToggleButtonBase);e.ToggleButton=i,t.registerClass(i,"egret.gui.ToggleButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e);i.prototype;return e}(e.ToggleButtonBase);e.ToggleSwitch=i,t.registerClass(i,"egret.gui.ToggleSwitch")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.iconDisplay=null,this.disclosureButton=null,this.contentGroup=null,this._indentation=17,this._iconSkinName=null,this._depth=0,this._hasChildren=!1,this._isOpen=!1,this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onItemMouseDown,this,!1,1e3)}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.onItemMouseDown=function(t){t.target==this.disclosureButton&&t.stopImmediatePropagation()},s(r,"indentation",function(){return this._indentation},function(t){this._indentation=t}),s(r,"iconSkinName",function(){return this._iconSkinName},function(t){this._iconSkinName!=t&&(this._iconSkinName=t,this.iconDisplay&&(this.iconDisplay.source=this._iconSkinName))}),s(r,"depth",function(){return this._depth},function(t){t!=this._depth&&(this._depth=t,this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation))}),s(r,"hasChildren",function(){return this._hasChildren},function(t){this._hasChildren!=t&&(this._hasChildren=t,this.disclosureButton&&(this.disclosureButton.visible=this._hasChildren))}),s(r,"opened",function(){return this._isOpen},function(t){this._isOpen!=t&&(this._isOpen=t,this.disclosureButton&&(this.disclosureButton.selected=this._isOpen))}),r.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=this._iconSkinName:n==this.disclosureButton?(this.disclosureButton.visible=this._hasChildren,this.disclosureButton.selected=this._isOpen,this.disclosureButton._autoSelected=!1,this.disclosureButton.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this)):n==this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation)},r.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=null:n==this.disclosureButton&&(this.disclosureButton.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this),this.disclosureButton._autoSelected=!0,this.disclosureButton.visible=!0)},r.disclosureButton_mouseDownHandler=function(t){e.TreeEvent.dispatchTreeEvent(this,e.TreeEvent.ITEM_OPENING,this.itemIndex,this.data,this,!this._isOpen,!1,!0)},n}(e.ItemRenderer);e.TreeItemRenderer=i,t.registerClass(i,"egret.gui.TreeItemRenderer",["egret.gui.ITreeItemRenderer","egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.iconFieldOrFunctionChanged=!1,this._iconField=null,this._iconFunction=null}__extends(i,t);var n=__define,s=i,a=s.prototype;return a.createChildren=function(){this.itemRenderer||(this.itemRenderer=i.defaultTreeRendererFactory),t.prototype.createChildren.call(this)},a.updateRenderer=function(e,i,n){if("hasChildren"in e&&"hasChildren"in this.dataProvider){var s=this.dataProvider,a=e;a.hasChildren=s.hasChildren(n),a.opened=s.isItemOpen(n),a.depth=s.getDepth(n),a.iconSkinName=this.itemToIcon(n)}return t.prototype.updateRenderer.call(this,e,i,n)},a.itemToIcon=function(t){if(!t)return null;if(null!=this._iconFunction)return this._iconFunction(t);var e;if(t instanceof Object)try{t[this.iconField]&&(e=t[this.iconField])}catch(i){}return e},a.dataGroup_rendererAddHandler=function(i){t.prototype.dataGroup_rendererAddHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.addEventListener(e.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},a.onItemOpening=function(t){var i=t.itemRenderer,n=t.item,s=this._getDataProvider();if(i&&s&&"hasChildren"in s&&this.dispatchEvent(t)){var a=!i.opened;s.expandItem(n,a);var r=a?e.TreeEvent.ITEM_OPEN:e.TreeEvent.ITEM_CLOSE;e.TreeEvent.dispatchTreeEvent(this,r,i.itemIndex,n,i)}},a.dataGroup_rendererRemoveHandler=function(i){t.prototype.dataGroup_rendererRemoveHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.removeEventListener(e.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},n(a,"iconField",function(){return this._iconField},function(t){this._iconField!=t&&(this._iconField=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())}),n(a,"iconFunction",function(){return this._iconFunction},function(t){this._iconFunction!=t&&(this._iconFunction=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())}),a.expandItem=function(t,e){void 0===e&&(e=!0);var i=this._getDataProvider();i&&"hasChildren"in i&&i.expandItem(t,e)},a.isItemOpen=function(t){var e=this._getDataProvider();return e&&"hasChildren"in e?e.isItemOpen(t):!1},a.dataProvider_collectionChangeHandler=function(i){if(t.prototype.dataProvider_collectionChangeHandler.call(this,i),i.kind==e.CollectionEventKind.OPEN||i.kind==e.CollectionEventKind.CLOSE){var n=this.dataGroup?this.dataGroup.getElementAt(i.location):null;n&&(this.updateRenderer(n,i.location,i.items[0]),i.kind==e.CollectionEventKind.CLOSE&&this.layout&&this.layout.useVirtualLayout&&(this.layout.clearVirtualLayoutCache(),this.invalidateSize()))}},a.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.iconFieldOrFunctionChanged){if(null!=this.dataGroup){var e;if(this.layout&&this.layout.useVirtualLayout)for(var i=this.dataGroup.getElementIndicesInView(),n=i.length,s=0;n>s;s++){var e=i[s];this.updateRendererIconProperty(e)}else{var a=this.dataGroup.numElements;for(e=0;a>e;e++)this.updateRendererIconProperty(e)}}this.iconFieldOrFunctionChanged=!1}},a.updateRendererIconProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.iconSkinName=this.itemToIcon(e.data))},i.defaultTreeRendererFactory=new e.ClassFactory(e.TreeItemRenderer),i}(e.List);e.Tree=i,t.registerClass(i,"egret.gui.Tree")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n){void 0===n&&(n=!0),i.call(this),this.scale9Grid=null,this.fillMode="scale",this.sourceChanged=!1,this._source=null,this._content=null,this._contentIsTexture=!1,this.createChildrenCalled=!1,this.contentReused=!1,this.autoScale=!0,this.$smoothing=t.Bitmap.defaultSmoothing,this.touchChildren=!1,e&&(this.source=e),this.$renderRegion=new t.sys.Region,this.autoScale=n}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"source",function(){return this._source},function(t){this._source!=t&&(this._source=t,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0,this.$invalidateContentBounds())}),s(r,"content",function(){return this._content}),r.createChildren=function(){i.prototype.createChildren.call(this),this.sourceChanged&&this.parseSource(),this.createChildrenCalled=!0},r.parseSource=function(){this.sourceChanged=!1;var t=n.assetAdapter;if(t||(t=this.getAdapter()),this._source){var e=this.contentReused?null:this._content;this.contentReused=!0,t.getAsset(this._source,this.contentChanged,this,e)}else this.contentChanged(null,null)},r.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},r.contentChanged=function(i,n){if(n===this._source){var s=this._content;this._content=i,this._content instanceof t.Texture?this._contentIsTexture=!0:this._contentIsTexture=!1,s!==i&&(s instanceof t.DisplayObject&&s.parent==this&&this._removeFromDisplayList(s),i instanceof t.DisplayObject&&this._addToDisplayListAt(i,0)),this.invalidateSize(),this.invalidateDisplayList(),this.contentReused=!1,this.hasEventListener(e.UIEvent.CONTENT_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.CONTENT_CHANGED)}},r.measure=function(){i.prototype.measure.call(this);var e=this._content;if(e instanceof t.DisplayObject)if("preferredWidth"in e)this.measuredWidth=e.preferredWidth,this.measuredHeight=e.preferredHeight;else{var n=e.explicitWidth,s=e.explicitHeight;e.width=0/0,e.height=0/0,this.measuredWidth=e.measuredWidth*e.scaleX,this.measuredHeight=e.measuredHeight*e.scaleY,e.width=n,e.height=s}else this._contentIsTexture&&(this.measuredWidth=e.$getTextureWidth(),this.measuredHeight=e.$getTextureHeight())},r.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._content;this.autoScale&&s instanceof t.DisplayObject&&("setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):(s.width=e/s.scaleX,s.height=n/s.scaleY)),this.$invalidateContentBounds()},s(r,"smoothing",function(){return this.$smoothing},function(t){t=!!t,t!=this.$smoothing&&(this.$smoothing=t,this.$invalidate())}),r.$render=function(e){if(this._contentIsTexture){var n=this._content;e.imageSmoothingEnabled=this.$smoothing;var s,a;this.autoScale?(s=this._UIC_Props_._uiWidth,a=this._UIC_Props_._uiHeight):(s=n.$getTextureWidth(),a=n.$getTextureHeight()),t.Bitmap.$drawImage(e,n._bitmapData,n._bitmapX,n._bitmapY,n._bitmapWidth,n._bitmapHeight,n._offsetX,n._offsetY,n.$getTextureWidth(),n.$getTextureHeight(),s,a,this.scale9Grid||n.scale9Grid,this.fillMode,this.$smoothing)}i.prototype.$render.call(this,e)},r.$measureContentBounds=function(t){if(this._contentIsTexture){var e=this._content,n=0/0,s=0/0;this.autoScale&&(n=1e4==this._UIC_Props_._uiWidth?this.$getExplicitWidth():this._UIC_Props_._uiWidth,s=1e4==this._UIC_Props_._uiHeight?this.$getExplicitHeight():this._UIC_Props_._uiHeight),isNaN(n)&&(n=e.$getTextureWidth()),isNaN(s)&&(s=e.$getTextureHeight()),t.setTo(0,0,n,s)}else i.prototype.$measureContentBounds.call(this,t)},r.addChild=function(e){return t.$error(3004,t.sys.tr(3003)),null},r.addChildAt=function(e,i){return t.$error(3005,t.sys.tr(3003)),null},r.removeChild=function(e){return t.$error(3006,t.sys.tr(3003)),null},r.removeChildAt=function(e){return t.$error(3007,t.sys.tr(3003)),null},r.setChildIndex=function(e,i){t.$error(3008,t.sys.tr(3003))},r.swapChildren=function(e,i){t.$error(3009,t.sys.tr(3003))},r.swapChildrenAt=function(e,i){t.$error(3010,t.sys.tr(3003))},n.assetAdapter=null,n}(e.UIComponent);e.UIAsset=i,t.registerClass(i,"egret.gui.UIAsset")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=(__define,i),s=n.prototype;return s.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?(n-e)/n*i:0)},s.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.thumb.layoutBoundsHeight,i=this.track.layoutBoundsHeight-e,n=this.maximum-this.minimum,s=n>0?i-(this.pendingValue-this.minimum)/n*i:0,a=this.track.localToGlobal(0,s),r=a.x,o=a.y,h=this.thumb.parent.globalToLocal(r,o,t.$TempPoint).y;if(this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(h)),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.$parent){var l=this.trackHighlight.$parent.globalToLocal(r,o,t.$TempPoint).y;this.trackHighlight.y=Math.round(l+e),this.trackHighlight.height=Math.round(i-l)}}},i}(e.SliderBase);e.VSlider=i,t.registerClass(i,"egret.gui.VSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._thumbLengthRatio=1}__extends(i,e);var n=__define,s=i,a=s.prototype;return a._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._thumbLengthRatio=t>=e?1:t/e,this._setMaximun(i),this._setMinimun(0)},n(a,"trackAlpha",function(){return 1},function(e){t.$warn(1016,"VScrollBar.trackAlpha")}),n(a,"thumbAlpha",function(){return 1},function(e){t.$warn(1016,"VScrollBar.thumbAlpha")}),a.setPosition=function(t){this._setValue(t)},a.getPosition=function(){return this._getValue()},a._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},a.setValue=function(t){e.prototype.setValue.call(this,t)},a._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},a.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?e/n*i:0)},a.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsHeight*this._thumbLengthRatio,i=this.thumb.layoutBoundsHeight,n=this.track.layoutBoundsHeight-e,s=this.maximum-this.minimum,a=s>0?(this.pendingValue-this.minimum)/s*n:0,r=this.track.localToGlobal(0,a),o=r.x,h=r.y,l=this.thumb.parent.globalToLocal(o,h,t.$TempPoint).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(l)),e!=i&&this.thumb.setLayoutBoundsSize(this.thumb.layoutBoundsWidth,e)}},i}(e.VSlider);e.VScrollBar=i,t.registerClass(i,"egret.gui.VScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._createAllChildren=!1,this._selectedChild=null,this.proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._selectedIndex=-1,this.notifyTabBar=!1,this.childOrderingChanged=!1,this._setLayout(new e.BasicLayout)}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"layout",function(){return this._layout},function(t){}),s(r,"createAllChildren",function(){return this._createAllChildren},function(e){if(this._createAllChildren!=e&&(this._createAllChildren=e,this._createAllChildren)){for(var i=this._getElementsContent(),n=i.length,s=0;n>s;s++){var a=i[s];a instanceof t.DisplayObject&&a.parent!=this&&(this.childOrderingChanged=!0,this._addToDisplayList(a))}this.childOrderingChanged&&this.invalidateProperties()}}),s(r,"selectedChild",function(){var t=this.selectedIndex;return t>=0&&t<this.numElements?this.getElementAt(t):null},function(t){var e=this.getElementIndex(t);e>=0&&e<this.numElements&&this._setSelectedIndex(e)}),s(r,"selectedIndex",function(){return this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},function(t){this._setSelectedIndex(t)}),r._setSelectedIndex=function(t,i){void 0===i&&(i=!0),t!=this.selectedIndex&&(this.proposedSelectedIndex=t,this.invalidateProperties(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.notifyTabBar=this.notifyTabBar||i)},r._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),this._createAllChildren&&i instanceof t.DisplayObject){var a=i;this._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),i.visible=!1,i.includeInLayout=!1,-1==this.selectedIndex?this._setSelectedIndex(n,!1):n<=this.selectedIndex&&this.initialized&&this._setSelectedIndex(this.selectedIndex+1),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i.name])},r._elementRemoved=function(t,n,s){void 0===s&&(s=!0),i.prototype._elementRemoved.call(this,t,n,s),t.visible=!0,t.includeInLayout=!0,n==this.selectedIndex?this.numElements>0?0==n?(this.proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this._setSelectedIndex(-1):n<this.selectedIndex&&this._setSelectedIndex(this.selectedIndex-1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,n,-1,[t.name])},r.commitProperties=function(){if(i.prototype.commitProperties.call(this),this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=n.NO_PROPOSED_SELECTION),this.childOrderingChanged){this.childOrderingChanged=!1;
for(var e=this._getElementsContent(),s=e.length,a=0;s>a;a++){var r=e[a];r instanceof t.DisplayObject&&r.parent==this&&this._addToDisplayList(r)}}this.notifyTabBar&&(this.notifyTabBar=!0,this.dispatchEventWith("IndexChanged"))},r.commitSelection=function(e){this._selectedIndex;e>=0&&e<this.numElements?(this._selectedIndex=e,this._selectedChild&&this._selectedChild.parent==this&&(this._selectedChild.visible=!1,this._selectedChild.includeInLayout=!1),this._selectedChild=this.getElementAt(this._selectedIndex),this._selectedChild.visible=!0,this._selectedChild.includeInLayout=!0,this._selectedChild.parent!=this&&this._selectedChild instanceof t.DisplayObject&&(this._addToDisplayList(this._selectedChild),this.childOrderingChanged||(this.childOrderingChanged=!0))):(this._selectedChild=null,this._selectedIndex=-1),this.invalidateSize(),this.invalidateDisplayList()},s(r,"length",function(){return this.numElements}),r.getItemAt=function(t){var e=this.getElementAt(t);return e?e.name:""},r.getItemIndex=function(t){for(var e=this._getElementsContent(),i=e.length,n=0;i>n;n++)if(e[n].name===t)return n;return-1},r.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},n.NO_PROPOSED_SELECTION=-2,n}(e.Group);e.ViewStack=i,t.registerClass(i,"egret.gui.ViewStack",["egret.gui.IViewStack","egret.gui.ICollection","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e,i,n){for(var l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];var d={listener:e,thisObject:i,delay:n,params:l};return o++,1==o&&t.sys.$ticker&&(h=t.getTimer(),t.sys.$ticker.$startTick(s,null)),r++,a[r]=d,r}function n(e){a[e]&&(o--,delete a[e],0==o&&t.sys.$ticker&&t.sys.$ticker.$stopTick(s,null))}function s(t){var e=t-h;h=t;for(var i in a){var s=i,r=a[s];r.delay-=e,r.delay<=0&&(r.listener.apply(r.thisObject,r.params),n(s))}return!1}var a={},r=0,o=0,h=0;e.$addTimer=i,e.$clearTimer=n}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){t.$error(1014)}var i=(__define,e);i.prototype;return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.quintOut=e.getPowOut(5),e.quartOut=e.getPowOut(4),e}();e.ScrollerEase=i,t.registerClass(i,"egret.gui.ScrollerEase");var n=function(e){function i(t,i,n){e.call(this),this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this._actions=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,i,n)}__extends(i,e);var n=(__define,i),s=n.prototype;return i.get=function(t,e,n,s){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=!1),s&&i.removeTweens(t),new i(t,e,n)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,n=e.length-1;n>=0;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},i.tick=function(t,e){void 0===e&&(e=!1);var n=t-i._lastTime;i._lastTime=t;for(var s=i._tweens.concat(),a=s.length-1;a>=0;a--){var r=s[a];e&&!r.ignoreGlobalPause||r.paused||r.tick(r._useTicks?1:n)}return!1},i._register=function(e,n){var s=e._target,a=i._tweens;if(n)s&&(s.tween_count=s.tween_count>0?s.tween_count+1:1),a.push(e),i._inited||(i._lastTime=t.getTimer(),t.sys.$ticker.$startTick(i.tick,null),i._inited=!0);else{s&&s.tween_count--;for(var r=a.length;r--;)if(a[r]==e)return void a.splice(r,1)}},s.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position)},s.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var s=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var a=0,r=this._steps.length;r>a&&!(this._steps[a].t>i);a++);var o=this._steps[a-1];this._updateTargetProps(o,(this._stepPosition=i-o.t)/o.d)}return n&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&s>i?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),this.dispatchEventWith("change"),n},s._runActions=function(t,e,i){void 0===i&&(i=!1);var n=t,s=e,a=-1,r=this._actions.length,o=1;for(t>e&&(n=e,s=t,a=r,r=o=-1);(a+=o)!=r;){var h=this._actions[a],l=h.t;(l==s||l>n&&s>l||i&&l==t)&&h.f.apply(h.o,h.p)}},s._updateTargetProps=function(t,e){var n,s,a,r,o,h;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,s=t.p1}else this.passive=!1,n=s=this._curQueueProps;for(var l in this._initQueueProps){null==(r=n[l])&&(n[l]=r=this._initQueueProps[l]),null==(o=s[l])&&(s[l]=o=r),a=r==o||0==e||1==e||"number"!=typeof r?1==e?o:r:r+(o-r)*e;var u=!1;if(h=i._plugins[l])for(var d=0,c=h.length;c>d;d++){var p=h[d].tween(this,l,a,n,s,e,!!t&&n==s,!t);p==i.IGNORE?u=!0:a=p}u||(this._target[l]=a)}},s.setPaused=function(t){return this.paused=t,i._register(this,!t),this},s._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},s._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},s._appendQueueProps=function(t){var e,n,s,a,r;for(var o in t)if(void 0===this._initQueueProps[o]){if(n=this._target[o],e=i._plugins[o])for(s=0,a=e.length;a>s;s++)n=e[s].init(this,o,n);this._initQueueProps[o]=this._curQueueProps[o]=void 0===n?null:n}else n=this._curQueueProps[o];for(var o in t){if(n=this._curQueueProps[o],e=i._plugins[o])for(r=r||{},s=0,a=e.length;a>s;s++)e[s].step&&e[s].step(this,o,n,t[o],r);this._curQueueProps[o]=t[o]}return r&&this._appendQueueProps(r),this._curQueueProps},s._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},s.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},s.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},s.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);e.ScrollerTween=n,t.registerClass(n,"egret.gui.ScrollerTween")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}var i=(__define,e);i.prototype;return e}();e.ScrollerViewProperties=i,t.registerClass(i,"egret.gui.ScrollerViewProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=(__define,e),n=i.prototype;return n.getAsset=function(e,i,n,s){var a=e;if(e.prototype&&(a=new e),a instanceof t.DisplayObject||a instanceof t.Texture)i.call(n,a,e);else if("string"==typeof e){var r=e,o=new t.ImageLoader;o.addEventListener(t.Event.COMPLETE,function(s){a=new t.Texture,a._setBitmapData(o.data),i.call(n,a,e)},this),o.load(r)}else i.call(n,a,e)},n.getTheme=function(e,i,n,s){function a(t){var e=t.target;i.call(s,e.response)}var r=new t.HttpRequest;r.addEventListener(t.Event.COMPLETE,a,s),r.addEventListener(t.IOErrorEvent.IO_ERROR,n,s),r.responseType=t.HttpResponseType.TEXT,r.open(e),r.send()},e}();e.DefaultAssetAdapter=i,t.registerClass(i,"egret.gui.DefaultAssetAdapter",["egret.gui.IAssetAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=(__define,e),n=i.prototype;return n.getSkin=function(e,i){if(!e)return null;if(e.prototype)return new e;if("string"==typeof e){var n=t.getDefinitionByName(e);return n?new n:null}return e},e}();e.DefaultSkinAdapter=i,t.registerClass(i,"egret.gui.DefaultSkinAdapter",["egret.gui.ISkinAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=(__define,e),n=i.prototype;return n.getTheme=function(e,i,n,s){function a(t){var e=t.target;i.call(s,e.response)}var r=new t.HttpRequest;r.addEventListener(t.Event.COMPLETE,a,s),r.addEventListener(t.IOErrorEvent.IO_ERROR,n,s),r.responseType=t.HttpResponseType.TEXT,r.open(e),r.send()},e}();e.DefaultThemeAdapter=i,t.registerClass(i,"egret.gui.DefaultThemeAdapter",["egret.gui.IThemeAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.mouseIsDown=!1,this._openButton=null,this._dropDown=null,this._isOpen=!1,this._closeOnResize=!0,this._rollOverOpenDelay=0/0,this.rollOverOpenDelayTimer=null}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"openButton",function(){return this._openButton},function(t){this._openButton!==t&&(this.removeOpenTriggers(),this._openButton=t,this.addOpenTriggers())}),s(r,"dropDown",function(){return this._dropDown},function(t){this._dropDown!==t&&(this._dropDown=t)}),s(r,"isOpen",function(){return this._isOpen}),s(r,"closeOnResize",function(){return this._closeOnResize},function(t){this._closeOnResize!=t&&(this.isOpen&&this.removeCloseOnResizeTrigger(),this._closeOnResize=t,this.addCloseOnResizeTrigger())}),s(r,"rollOverOpenDelay",function(){return this._rollOverOpenDelay},function(t){this._rollOverOpenDelay!=t&&(this.removeOpenTriggers(),this._rollOverOpenDelay=t,this.addOpenTriggers())}),r.addOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.addEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},r.removeOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.removeEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},r.addCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),this.addCloseOnResizeTrigger())},r.removeCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)),this.removeCloseOnResizeTrigger())},r.addCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.addEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},r.removeCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.removeEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},r.isTargetOverDropDownOrOpenButton=function(e){if(e){if(this.openButton&&this.openButton.contains(e))return!0;if(null!=this.hitAreaAdditions)for(var i=0;i<this.hitAreaAdditions.length;i++)if(this.hitAreaAdditions[i]==e||this.hitAreaAdditions[i]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[i].contains(e))return!0;if(this.dropDown instanceof t.DisplayObjectContainer){if(this.dropDown.contains(e))return!0}else if(e==this.dropDown)return!0}return!1},r.openDropDown=function(){this.openDropDownHelper()},r.openDropDownHelper=function(){this.isOpen||(this.addCloseTriggers(),this._isOpen=!0,this.openButton&&this.openButton._setKeepDown(!0),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN))},r.closeDropDown=function(t){if(this.isOpen){this._isOpen=!1,this.openButton&&this.openButton._setKeepDown(!1);var i=new e.UIEvent(e.UIEvent.CLOSE,!1,!0);t||i.preventDefault(),this.dispatchEvent(i),this.removeCloseTriggers()}},r._openButton_buttonDownHandler=function(t){this.isOpen?this.closeDropDown(!0):(this.mouseIsDown=!0,this.openDropDownHelper())},r._openButton_rollOverHandler=function(e){0==this.rollOverOpenDelay?this.openDropDownHelper():(this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=new t.Timer(this.rollOverOpenDelay,1),this.rollOverOpenDelayTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this.rollOverDelay_timerCompleteHandler,this),this.rollOverOpenDelayTimer.start())},r.openButton_rollOutHandler=function(e){this.rollOverOpenDelayTimer&&this.rollOverOpenDelayTimer.running&&(this.rollOverOpenDelayTimer.stop(),this.rollOverOpenDelayTimer=null),this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this)},r.rollOverDelay_timerCompleteHandler=function(e){this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=null,this.openDropDownHelper()},r.stage_mouseDownHandler=function(e){if(this.mouseIsDown)return void(this.mouseIsDown=!1);if(!this.dropDown||this.dropDown&&(e.target==this.dropDown||this.dropDown instanceof t.DisplayObjectContainer&&!this.dropDown.contains(e.target))){var i=e.target;if(this.openButton&&i&&this.openButton.contains(i))return;if(null!=this.hitAreaAdditions)for(var n=0;n<this.hitAreaAdditions.length;n++)if(this.hitAreaAdditions[n]==e.target||this.hitAreaAdditions[n]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[n].contains(e.target))return;this.closeDropDown(!0)}},r.stage_mouseMoveHandler=function(i){var n=i.target,s=this.isTargetOverDropDownOrOpenButton(n);return s?void 0:i instanceof t.TouchEvent&&i.touchDown?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},r.stage_mouseUpHandler_noRollOverOpenDelay=function(t){return this.mouseIsDown?void(this.mouseIsDown=!1):void 0},r.stage_mouseUpHandler=function(i){var n=i.target,s=this.isTargetOverDropDownOrOpenButton(n);return s?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},r.stage_resizeHandler=function(t){this.closeDropDown(!0)},r.stage_mouseWheelHandler=function(t){!this.dropDown||this.dropDown.contains(t.target)&&t.isDefaultPrevented()||this.closeDropDown(!1)},n}(t.EventDispatcher);e.DropDownController=i,t.registerClass(i,"egret.gui.DropDownController")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._target=null}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"target",function(){return this._target},function(t){this._target=t}),s.measure=function(){if(null!=this.target){for(var t=0,e=0,i=this._target,n=i.numElements,s=0;n>s;s++){var a=i.getElementAt(s);if(a&&a.includeInLayout){var r,o,h=a.horizontalCenter,l=a.verticalCenter,u=a.left,d=a.right,c=a.top,p=a.bottom;isNaN(u)||isNaN(d)?isNaN(h)?isNaN(u)&&isNaN(d)?r=a.preferredX:(r=isNaN(u)?0:u,r+=isNaN(d)?0:d):r=2*Math.abs(h):r=u+d,isNaN(c)||isNaN(p)?isNaN(l)?isNaN(c)&&isNaN(p)?o=a.preferredY:(o=isNaN(c)?0:c,o+=isNaN(p)?0:p):o=2*Math.abs(l):o=c+p;var _=a.preferredWidth,g=a.preferredHeight;t=Math.ceil(Math.max(t,r+_)),e=Math.ceil(Math.max(e,o+g))}}this.target.measuredWidth=t,this.target.measuredHeight=e}},s.updateDisplayList=function(t,e){if(null!=this.target)for(var i=this.target.numElements,n=0;i>n;n++){var s=this.target.getElementAt(n);if(null!=s&&s.includeInLayout){var a=s.horizontalCenter,r=s.verticalCenter,o=s.left,h=s.right,l=s.top,u=s.bottom,d=s.percentWidth,c=s.percentHeight,p=0/0,_=0/0;isNaN(o)||isNaN(h)?isNaN(d)||(p=Math.round(t*Math.min(.01*d,1))):p=t-h-o,isNaN(l)||isNaN(u)?isNaN(c)||(_=Math.round(e*Math.min(.01*c,1))):_=e-u-l,s.setLayoutBoundsSize(p,_);var g=s.layoutBoundsWidth,v=s.layoutBoundsHeight,f=0/0,m=0/0;f=isNaN(a)?isNaN(o)?isNaN(h)?s.layoutBoundsX:t-g-h:o:Math.round((t-g)/2+a),m=isNaN(r)?isNaN(l)?isNaN(u)?s.layoutBoundsY:e-v-u:l:Math.round((e-v)/2+r),s.setLayoutBoundsPosition(f,m)}}},e}(t.HashObject);e.SkinBasicLayout=i,t.registerClass(i,"egret.gui.SkinBasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t){this.skinMap={},this.delyList=[],this.loadConfig(t)}var n=(__define,i),s=n.prototype;return i.load=function(t){this.initialized||(this.initialized=!0,e.SkinnableComponent._defaultTheme=new i(t))},s.loadConfig=function(t){this._configURL=t;var i;try{i=e.$getAdapter("egret.gui.IThemeAdapter")}catch(n){i=new e.DefaultThemeAdapter}i.getTheme(t,this.onLoadComplete,this.onLoadError,this)},s.onLoadComplete=function(e){try{var i=JSON.parse(e);this.skinMap=i.skins}catch(n){t.$warn(1017,this._configURL,e)}this.handleDelyList()},s.onLoadError=function(e){e.target;t.$warn(3e3,this._configURL),this.handleDelyList()},s.handleDelyList=function(){if(!this.skinMap)return this.skinMap={},void(this.delyList=[]);var t=this.delyList;this.delyList=[];for(var e=t.length,i=0;e>i;i++){var n=t[i];if(!n._skin){var s=this.getDefaultSkin(n);n._setSkin(s)}}},s.getDefaultSkin=function(e){var i=this.skinMap;if(!i)return-1==this.delyList.indexOf(e)&&this.delyList.push(e),null;var n,s=e.hostComponentKey;if(s)n=i[s];else for(var a=e;a&&(s=t.getQualifiedClassName(a),!(n=i[s]));)a=t.getDefinitionByName(t.getQualifiedSuperclassName(a));if(!n)return null;var r=t.getDefinitionByName(n);return r?new r:(t.$warn(3001,n),null)},i.initialized=!1,i}();e.Theme=i,t.registerClass(i,"egret.gui.Theme")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.DOWN=40,t.END=35,t.HOME=36,t.LEFT=37,t.PAGE_DOWN=34,t.PAGE_LEFT=9111,t.PAGE_RIGHT=9112,t.PAGE_UP=33,t.RIGHT=39,t.UP=38,t}();e.NavigationUnit=i,t.registerClass(i,"egret.gui.NavigationUnit")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.ABOVE="above",t.BELOW="below",t.CENTER="center",t.TOP_LEFT="topLeft",t.LEFT="left",t.RIGHT="right",t.SCREEN_CENTER="screenCenter",t}();e.PopUpPosition=i,t.registerClass(i,"egret.gui.PopUpPosition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.AUTO="auto",t.OFF="off",t.ON="on",t}();e.ScrollPolicy=i,t.registerClass(i,"egret.gui.ScrollPolicy")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this._id=null,this._isPopUp=!1,this._owner=null,this._updateCompletePendingFlag=!1,this._initialized=!1,this._nestLevel=0,this._enabled=!0,this._uiWidth=0,this._uiHeight=0,this._minWidth=0,this._maxWidth=1e4,this._minHeight=0,this._maxHeight=1e4,this._measuredWidth=0,this._measuredHeight=0,this._left=0/0,this._right=0/0,this._top=0/0,this._bottom=0/0,this._horizontalCenter=0/0,this._verticalCenter=0/0,this._percentWidth=0/0,this._percentHeight=0/0,this._includeInLayout=!0,this._oldWidth=0/0,this._oldHeight=0/0,this._oldX=0/0,this._oldY=0/0,this._invalidatePropertiesFlag=!1,this._invalidateSizeFlag=!1,this._oldPreferWidth=0/0,this._oldPreferHeight=0/0,this._invalidateDisplayListFlag=!1,this._validateNowFlag=!1,this._initializeCalled=!1,this._hasOwnStyleChain=!1,this._styleProtoChain=null,this._hasNoStyleChild=!1,this._layoutWidthExplicitlySet=!1,this._layoutHeightExplicitlySet=!1}var e=(__define,t);e.prototype;return t}();e.UIComponentProperties=i,t.registerClass(i,"egret.gui.UIComponentProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var i=__define,n=t;n.prototype;return i(t,"stage",function(){return t._stage}),t._initlize=function(i){t.initlized||(t._stage=i,t._layoutManager=new e.LayoutManager,t.initlized=!0)},i(t,"uiStage",function(){return t._uiStage}),t.initlized=!1,t}();e.UIGlobals=i,t.registerClass(i,"egret.gui.UIGlobals")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e,i){this.owner=null,this.lowerBoundReference=null,this.upperBoundReference=null,this.raw_getElementAt="raw_getElementAt",this.raw_addElementAt="raw_addElementAt",this.raw_getElementIndex="raw_getElementIndex",this.raw_removeElement="raw_removeElement",this.raw_removeElementAt="raw_removeElementAt",this.raw_setElementIndex="raw_setElementIndex",this.owner=t,this.lowerBoundReference=e,this.upperBoundReference=i}var e=__define,i=t,n=i.prototype;return e(n,"numElements",function(){return this.owner[this.upperBoundReference]-this.owner[this.lowerBoundReference]}),n.getElementAt=function(t){var e=this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+t);return e},n.addElement=function(t){var e=this.owner[this.upperBoundReference];return t.parent===this.owner&&e--,this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,e),t.ownerChanged(this),t},n.addElementAt=function(t,e){return this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,this.owner[this.lowerBoundReference]+e),t.ownerChanged(this),t},n.removeElement=function(t){var e=this.owner[this.raw_getElementIndex](t);return this.owner[this.lowerBoundReference]<=e&&e<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](t),this.owner[this.upperBoundReference]--),t.ownerChanged(null),t},n.removeElementAt=function(t){t+=this.owner[this.lowerBoundReference];var e;return this.owner[this.lowerBoundReference]<=t&&t<this.owner[this.upperBoundReference]&&(e=this.owner[this.raw_removeElementAt](t),this.owner[this.upperBoundReference]--),e.ownerChanged(null),e},n.getElementIndex=function(t){var e=this.owner[this.raw_getElementIndex](t);return e-=this.owner[this.lowerBoundReference]},n.setElementIndex=function(t,e){this.owner[this.raw_setElementIndex](t,this.owner[this.lowerBoundReference]+e)},t}();e.UILayer=i,t.registerClass(i,"egret.gui.UILayer",["egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._autoResize=!0,this._popUpContainer=null,this._toolTipContainer=null,this._cursorContainer=null,this._noTopMostIndex=0,this._topMostIndex=0,this._toolTipIndex=0,this._cursorIndex=0,this.touchEnabled=!1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,i);var s=__define,a=n,r=a.prototype;return r.onAddToStage=function(i){void 0===i&&(i=null),e.UIGlobals._uiStage&&t.$error(3013),e.UIGlobals._uiStage=this,this._autoResize&&(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize())},r.onRemoveFromStage=function(i){e.UIGlobals._uiStage=null,this._autoResize&&this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)},r.onResize=function(t){void 0===t&&(t=null),this.$setWidth(this.stage.stageWidth),this.$setHeight(this.stage.stageHeight)},s(r,"autoResize",function(){return this._autoResize},function(e){this._autoResize!=e&&(this._autoResize=e,this.stage&&(this._autoResize?(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize()):this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)))}),s(r,"x",function(){return this.$getX()},function(t){this._autoResize||this.$setX(t)}),s(r,"y",function(){return this.$getY()},function(t){this._autoResize||this.$setY(t)}),s(r,"width",function(){return this._UIC_Props_._uiWidth},function(t){this._autoResize||this.$setWidth(t)}),s(r,"height",function(){return this._UIC_Props_._uiHeight},function(t){this._autoResize||this.$setHeight(t)}),s(r,"scaleX",function(){return this.$getScaleX()},function(t){this._autoResize||this.$setScaleX(t)}),s(r,"scaleY",function(){return this.$getScaleY()},function(t){this._autoResize||this.$setScaleY(t)}),r.setActualSize=function(t,e){this._autoResize||i.prototype.setActualSize.call(this,t,e)},r.setLayoutBoundsPosition=function(t,e){this._autoResize||i.prototype.setLayoutBoundsPosition.call(this,t,e)},r.setLayoutBoundsSize=function(t,e){this._autoResize||i.prototype.setLayoutBoundsSize.call(this,t,e)},s(r,"layout",function(){return this._layout},function(t){t instanceof e.BasicLayout&&this._setLayout(t)}),s(r,"popUpContainer",function(){return this._popUpContainer||(this._popUpContainer=new e.UILayer(this,"noTopMostIndex","topMostIndex")),this._popUpContainer}),s(r,"toolTipContainer",function(){return this._toolTipContainer||(this._toolTipContainer=new e.UILayer(this,"topMostIndex","toolTipIndex")),this._toolTipContainer}),s(r,"cursorContainer",function(){return this._cursorContainer||(this._cursorContainer=new e.UILayer(this,"toolTipIndex","cursorIndex")),this._cursorContainer}),s(r,"noTopMostIndex",function(){return this._noTopMostIndex},function(t){var e=t-this._noTopMostIndex;this._noTopMostIndex=t,this.topMostIndex+=e}),s(r,"topMostIndex",function(){return this._topMostIndex},function(t){var e=t-this._topMostIndex;this._topMostIndex=t,this.toolTipIndex+=e}),s(r,"toolTipIndex",function(){return this._toolTipIndex},function(t){var e=t-this._toolTipIndex;this._toolTipIndex=t,this.cursorIndex+=e}),s(r,"cursorIndex",function(){return this._cursorIndex},function(t){t-this._cursorIndex;this._cursorIndex=t}),r.addElement=function(t){var e=this._noTopMostIndex;return t.parent==this&&e--,this.addElementAt(t,e)},r.addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return e<=this._noTopMostIndex?this.noTopMostIndex++:e>this._noTopMostIndex&&e<=this._topMostIndex?this.topMostIndex++:e>this._topMostIndex&&e<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++,i.prototype.addElementAt.call(this,t,e)},r.removeElement=function(t){return this.removeElementAt(i.prototype.getElementIndex.call(this,t))},r.removeElementAt=function(t){var e=i.prototype.removeElementAt.call(this,t);return t<this._noTopMostIndex?this.noTopMostIndex--:t>=this._noTopMostIndex&&t<this._topMostIndex?this.topMostIndex--:t>=this._topMostIndex&&t<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--,e},r.removeAllElements=function(){for(;this._noTopMostIndex>0;)i.prototype.removeElementAt.call(this,0),this.noTopMostIndex--},r._elementRemoved=function(e,n,s){void 0===s&&(s=!0),s&&t.Event.dispatchEvent(e,"removeFromUIStage"),i.prototype._elementRemoved.call(this,e,n,s)},r.raw_getElementAt=function(t){return i.prototype.getElementAt.call(this,t)},r.raw_addElement=function(t){var e=this.numElements;return t.parent==this&&e--,this.raw_addElementAt(t,e)},r.raw_addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return i.prototype.addElementAt.call(this,t,e)},r.raw_removeElement=function(t){return i.prototype.removeElementAt.call(this,i.prototype.getElementIndex.call(this,t))},r.raw_removeElementAt=function(t){return i.prototype.removeElementAt.call(this,t)},r.raw_removeAllElements=function(){for(;this.numElements>0;)i.prototype.removeElementAt.call(this,0)},r.raw_getElementIndex=function(t){return i.prototype.getElementIndex.call(this,t)},r.raw_setElementIndex=function(t,e){i.prototype.setElementIndex.call(this,t,e)},r.raw_swapElements=function(t,e){i.prototype.swapElementsAt.call(this,i.prototype.getElementIndex.call(this,t),i.prototype.getElementIndex.call(this,e))},r.raw_swapElementsAt=function(t,e){i.prototype.swapElementsAt.call(this,t,e)},n}(e.Group);e.UIStage=i,t.registerClass(i,"egret.gui.UIStage",["egret.gui.IUIStage","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){void 0===e&&(e=null),t.call(this),this._instances=[],this._isPaused=!1,this._duration=500,this.durationExplicitlySet=!1,this._perElementOffset=0,this.repeatCount=1,this.repeatDelay=0,this.startDelay=0,this._targets=[],this._playheadTime=0,this.target=e}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"duration",function(){return!this.durationExplicitlySet&&this._parentCompositeEffect?this._parentCompositeEffect.duration:this._duration},function(t){this.durationExplicitlySet=!0,this._duration=t}),n(a,"isPlaying",function(){return this._instances&&this._instances.length>0}),n(a,"isPaused",function(){return this.isPlaying?this._isPaused:!1}),n(a,"perElementOffset",function(){return this._perElementOffset},function(t){this._perElementOffset=t}),n(a,"target",function(){return this._targets.length>0?this._targets[0]:null},function(t){this._targets.splice(0),t&&(this._targets[0]=t)}),n(a,"targets",function(){return this._targets},function(t){for(var e=t.length,i=e-1;i>=0;i--)null==t[i]&&t.splice(i,1);this._targets=t}),n(a,"playheadTime",function(){for(var t=0;t<this._instances.length;t++)if(this._instances[t])return this._instances[t].playheadTime;return this._playheadTime},function(t){var e=!1;0==this._instances.length&&(this.play(),e=!0);for(var i=0;i<this._instances.length;i++)this._instances[i]&&(this._instances[i].playheadTime=t);e&&this.pause(),this._playheadTime=t}),a.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets);for(var e=[],i=0,n=t.length,s=0;n>s;s++){var a=t[s],r=this.createInstance(a);r&&(r.startDelay+=i,i+=this.perElementOffset,e.push(r))}return e},a.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var i=new this.instanceClass(t);return this._initInstance(i),i.addEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),i.addEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),i.addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),this._instances.push(i),i},a._initInstance=function(t){t.duration=this.duration,t.durationExplicitlySet=this.durationExplicitlySet,t.effect=this,t.repeatCount=this.repeatCount,t.repeatDelay=this.repeatDelay,t.startDelay=this.startDelay},a.deleteInstance=function(t){t.removeEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this);
for(var i=this._instances.length,n=0;i>n;n++)this._instances[n]===t&&this._instances.splice(n,1)},a.play=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1),this.effectStopped=!1,this._isPaused=!1,this.playReversed=e;for(var i=this.createInstances(t),n=i.length,s=0;n>s;s++){var a=i[s];a.playReversed=e,a.startEffect()}return i},a.pause=function(){if(this.isPlaying&&!this._isPaused){this._isPaused=!0;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].pause()}},a.stop=function(){for(var t=this._instances.length-1,e=t;e>=0;e--){var i=this._instances[e];i&&i.stop()}},a.resume=function(){if(this.isPlaying&&this._isPaused){this._isPaused=!1;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].resume()}},a.reverse=function(){if(this.isPlaying)for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].reverse()},a.end=function(t){if(void 0===t&&(t=null),t)t.end();else for(var e=this._instances.length,i=e-1;i>=0;i--){var n=this._instances[i];n&&n.end()}},a._effectStartHandler=function(t){this.dispatchEvent(t)},a._effectStopHandler=function(t){this.dispatchEvent(t),this.effectStopped=!0},a._effectEndHandler=function(t){var e=t.effectInstance;this.deleteInstance(e),this.dispatchEvent(t)},i}(t.EventDispatcher);e.Effect=i,t.registerClass(i,"egret.gui.Effect",["egret.gui.IEffect","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.numUpdateListeners=0,this._interpolator=null,this._repeatBehavior=e.RepeatBehavior.LOOP,this._disableLayout=!1,this.instanceClass=e.AnimateInstance}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"motionPaths",function(){return this._motionPaths},function(t){this._motionPaths=t}),n(a,"easer",function(){return this._easer},function(t){this._easer=t}),n(a,"interpolator",function(){return this._interpolator},function(t){this._interpolator=t}),n(a,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),n(a,"disableLayout",function(){return this._disableLayout},function(t){this._disableLayout=t}),a._initInstance=function(i){t.prototype._initInstance.call(this,i);var n=i;if(n.addEventListener(e.EffectEvent.EFFECT_REPEAT,this.animationEventHandler,this),this.numUpdateListeners>0&&n.addEventListener(e.EffectEvent.EFFECT_UPDATE,this.animationEventHandler,this),n.easer=this.easer,this.interpolator&&(n.interpolator=this.interpolator),isNaN(this.repeatCount)&&(n.repeatCount=this.repeatCount),n.repeatBehavior=this.repeatBehavior,n.disableLayout=this.disableLayout,this.motionPaths){n.motionPaths=new Array;for(var s=0;s<this.motionPaths.length;++s)n.motionPaths[s]=this.motionPaths[s].clone()}},a.addEventListener=function(i,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),t.prototype.addEventListener.call(this,i,n,s,a,r),i==e.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},a.removeEventListener=function(i,n,s){void 0===s&&(s=!1),t.prototype.removeEventListener.call(this,i,n,this,s),i==e.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},a.animationEventHandler=function(t){this.dispatchEvent(t)},i}(e.Effect);e.Animate=i,t.registerClass(i,"egret.gui.Animate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._easeInFraction=0,this._easeOutFraction=0,this.easeInFraction=t,this.easeOutFraction=e}var e=__define,i=t,n=i.prototype;return e(n,"easeInFraction",function(){return this._easeInFraction},function(t){this._easeInFraction=t}),e(n,"easeOutFraction",function(){return this._easeOutFraction},function(t){this._easeOutFraction=t}),n.ease=function(t){if(0==this.easeInFraction&&0==this.easeOutFraction)return t;var e=1/(1-this.easeInFraction/2-this.easeOutFraction/2);if(t<this.easeInFraction)return t*e*(t/this.easeInFraction)/2;if(t>1-this.easeOutFraction){var i=t-(1-this.easeOutFraction),n=i/this.easeOutFraction;return e*(1-this.easeInFraction/2-this.easeOutFraction+i*(2-n)/2)}return e*(t-this.easeInFraction/2)},t}();e.Linear=i,t.registerClass(i,"egret.gui.Linear",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this,t),this.autoCenterTransform=!1,this.instanceClass=e.AnimateTransformInstance}__extends(n,i);var s=(__define,n),a=s.prototype;return a.getOwningParallelEffect=function(){for(var t=null,i=this._parentCompositeEffect;i&&!(i instanceof e.Sequence);)t=i,i=i._parentCompositeEffect;return t},a.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var e=null,s=this.getOwningParallelEffect();if(null!=s&&(e=n.getSharedInstance(s,t)),e)return this._initInstance(e),null;var a=i.prototype.createInstance.call(this,t);return s&&n.storeSharedInstance(s,t,a),a},a._effectStartHandler=function(t){i.prototype._effectStartHandler.call(this,t);var e=this.getOwningParallelEffect();null!=e&&n.removeSharedInstance(e,t.effectInstance.target)},a.computeTransformCenterForTarget=function(e,i){void 0===i&&(i=null);var n;if(this.autoCenterTransform){var s=null!=i&&void 0!==i.width?i.width:e.width,a=null!=i&&void 0!==i.height?i.height:e.height;n=new t.Point(s/2,a/2)}else n=new t.Point(0,0),isNaN(this.transformX)||(n.x=this.transformX),isNaN(this.transformY)||(n.y=this.transformY);return n},a.insertKeyframe=function(t,e){for(var i=0;i<t.length;i++)if(t[i].time>e.time)return void t.splice(i,0,e);t.push(e)},a._addMotionPath=function(t,i,n,s){void 0===i&&(i=0/0),void 0===n&&(n=0/0),void 0===s&&(s=0/0),isNaN(i)&&(isNaN(n)||isNaN(s)||(i=n-s));var a=new e.MotionPath(t);if(a.keyframes=[new e.Keyframe(0,i),new e.Keyframe(this.duration,n,s)],a.keyframes[1].easer=this.easer,this.motionPaths)for(var r=this.motionPaths.length,o=0;r>o;o++){var h=this.motionPaths[o];if(h.property==a.property){for(var l=0;l<a.keyframes.length;l++)this.insertKeyframe(h.keyframes,a.keyframes[l]);return}}else this.motionPaths=new Array;this.motionPaths.push(a)},a._initInstance=function(e){var s=0,a=this.duration,r=e;if(this.motionPaths){var o=[];for(s=0;s<this.motionPaths.length;++s){o[s]=this.motionPaths[s].clone();var h=o[s];if(h.keyframes){for(var l=0;l<h.keyframes.length;++l){var u=h.keyframes[l];isNaN(u.time)&&(u.time=this.duration),0!=this.startDelay&&(u.time+=this.startDelay)}a=Math.max(a,h.keyframes[h.keyframes.length-1].time)}}var d=this.getGlobalStartTime();for(s=0;s<o.length;++s)r.addMotionPath(o[s],d)}if(!r.initialized){r.initialized=!0,this.autoCenterTransform||(r.transformCenter=this.computeTransformCenterForTarget(e.target)),r.autoCenterTransform=this.autoCenterTransform;var c=this.startDelay;this.startDelay=0;var p=this.motionPaths;this.motionPaths=null,i.prototype._initInstance.call(this,e),this.startDelay=c,this.motionPaths=p,r.duration=Math.max(this.duration,a),t.getQualifiedClassName(this)!=t.getQualifiedClassName(n)&&(r.easer=n.linearEaser)}},a.getGlobalStartTime=function(){for(var t=0,i=this._parentCompositeEffect;i;){if(t+=i.startDelay,i instanceof e.Sequence)for(var n=i,s=0;s<n.children.length;++s){var a=n.children[s];if(a==this)break;t+=a instanceof e.CompositeEffect?a.compositeDuration:a.startDelay+a.duration*a.repeatCount+(a.repeatDelay+(a.repeatCount-1))}i=i._parentCompositeEffect}return t},n.getSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(null!=i)return i[e.hashCode]}return null},n.removeSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(!i)return;i[e.hashCode]&&(delete i[e.hashCode],n.sharedObjectRefcounts[t.hashCode]-=1,n.sharedObjectRefcounts[t.hashCode]<=0&&(delete n.sharedObjectMaps[t.hashCode],delete n.sharedObjectRefcounts[t.hashCode]))}},n.storeSharedInstance=function(t,e,i){if(null!=t){var s=n.sharedObjectMaps[t.hashCode];s||(s={},n.sharedObjectMaps[t.hashCode]=s),s[e.hashCode]||(n.sharedObjectRefcounts[t.hashCode]?n.sharedObjectRefcounts[t.hashCode]+=1:n.sharedObjectRefcounts[t.hashCode]=1),s[e.hashCode]=i}},n.linearEaser=new e.Linear,n.sharedObjectMaps={},n.sharedObjectRefcounts={},n}(e.Animate);e.AnimateTransform=i,t.registerClass(i,"egret.gui.AnimateTransform")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this._children=[],this.instanceClass=e.CompositeEffectInstance}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"children",function(){return this._children},function(t){var e=0;if(this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=null);if(this._children=t,this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=this)}),n(a,"compositeDuration",function(){return this.duration}),a.createInstance=function(e){void 0===e&&(e=null),this.childTargets||(this.childTargets=[e]);var i=t.prototype.createInstance.call(this,e);return this.childTargets=null,i},a.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets),this.childTargets=t;var e=this.createInstance();return this.childTargets=null,e?[e]:[]},a._initInstance=function(e){t.prototype._initInstance.call(this,e);var i=e,n=this.childTargets;if(n instanceof Array||(n=[n]),this.children)for(var s=this.children.length,a=0;s>a;a++){var r=this.children[a];0==r.targets.length?i.addChildSet(this.children[a].createInstances(n)):i.addChildSet(this.children[a].createInstances(r.targets))}},a.addChild=function(t){this.children.push(t),t._parentCompositeEffect=this},i}(e.Effect);e.CompositeEffect=i,t.registerClass(i,"egret.gui.CompositeEffect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this),this.delayStartTime=0,this.delayElapsedTime=0,this.durationExplicitlySet=!1,this._playCount=0,this._stopRepeat=!1,this._duration=500,this._repeatCount=0,this._repeatDelay=0,this._startDelay=0,this.target=t}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"_actualDuration",function(){var t=0/0;return this.repeatCount>0&&(t=this.duration*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t}),s(r,"duration",function(){return!this.durationExplicitlySet&&this.parentCompositeEffectInstance?this.parentCompositeEffectInstance.duration:this._duration},function(t){this.durationExplicitlySet=!0,this._duration=t}),s(r,"effect",function(){return this._effect},function(t){this._effect=t}),s(r,"playheadTime",function(){return Math.max(this._playCount-1,0)*(this.duration+this.repeatDelay)+(this.playReversed?0:this.startDelay)},function(t){this._setPlayheadTime(t)}),r._setPlayheadTime=function(e){this._delayTimer&&this._delayTimer.running&&(this._delayTimer.reset(),e<this.startDelay?(this._delayTimer=new t.Timer(this.startDelay-e,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):(this._playCount=0,this.play()))},s(r,"playReversed",function(){return this._playReversed},function(t){this._setPlayReversed(t)}),r._setPlayReversed=function(t){this._playReversed=t},s(r,"repeatCount",function(){return this._repeatCount},function(t){this._repeatCount=t}),s(r,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),s(r,"startDelay",function(){return this._startDelay},function(t){this._startDelay=t}),s(r,"target",function(){return this._target},function(t){this._target=t}),r.startEffect=function(){this.startDelay>0&&!this.playReversed?(this._delayTimer=new t.Timer(this.startDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play()},r.play=function(){this._playCount++,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this))},r.pause=function(){this._delayTimer&&this._delayTimer.running&&!isNaN(this.delayStartTime)&&(this._delayTimer.stop(),this.delayElapsedTime=t.getTimer()-this.delayStartTime)},r.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.finishEffect()},r.resume=function(){!this._delayTimer||this._delayTimer.running||isNaN(this.delayElapsedTime)||(this._delayTimer.delay=this.playReversed?this.delayElapsedTime:this._delayTimer.delay-this.delayElapsedTime,this.delayStartTime=t.getTimer(),this._delayTimer.start())},r.reverse=function(){this.repeatCount>0&&(this._playCount=this.repeatCount-this._playCount+1)},r.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},r.finishEffect=function(){this._playCount=0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this))},r.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this.repeatCount||0==this.repeatCount)?this.repeatDelay>0?(this._delayTimer=new t.Timer(this.repeatDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play():this.finishEffect()},r._playWithNoDuration=function(){this.duration=0,this.repeatCount=1,this.repeatDelay=0,this.startDelay=0,this.startEffect()},r.delayTimerHandler=function(t){this._delayTimer.reset(),this.delayStartTime=0/0,this.delayElapsedTime=0/0,this.play()},n}(t.EventDispatcher);e.EffectInstance=i,t.registerClass(i,"egret.gui.EffectInstance",["egret.gui.IEffectInstance"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.FadeInstance}__extends(i,t);var n=(__define,i),s=n.prototype;return s._initInstance=function(e){t.prototype._initInstance.call(this,e);var i=e;i.alphaFrom=this.alphaFrom,i.alphaTo=this.alphaTo},i}(e.Animate);e.Fade=i,t.registerClass(i,"egret.gui.Fade")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=(__define,i),s=n.prototype;return s.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},s._initInstance=function(e){this._addMotionPath("translationX",this.xFrom,this.xTo,this.xBy),this._addMotionPath("translationY",this.yFrom,this.yTo,this.yBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Move=i,t.registerClass(i,"egret.gui.Move")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.ParallelInstance}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"compositeDuration",function(){for(var t=0,i=0;i<this.children.length;++i){var n,s=this.children[i];n=s instanceof e.CompositeEffect?s.compositeDuration:s.duration,n=n*s.repeatCount+s.repeatDelay*(s.repeatCount-1)+s.startDelay,t=Math.max(t,n)}return t}),i}(e.CompositeEffect);e.Parallel=i,t.registerClass(i,"egret.gui.Parallel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=(__define,i),s=n.prototype;return s.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},s._initInstance=function(e){this._addMotionPath("rotation",this.angleFrom,this.angleTo,this.angleBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Rotate=i,t.registerClass(i,"egret.gui.Rotate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=(__define,i),s=n.prototype;return s.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},s._initInstance=function(e){this._addMotionPath("scaleX",this.scaleXFrom,this.scaleXTo,this.scaleXBy),this._addMotionPath("scaleY",this.scaleYFrom,this.scaleYTo,this.scaleYBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Scale=i,t.registerClass(i,"egret.gui.Scale")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.SequenceInstance}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"compositeDuration",function(){for(var t=0,i=0;i<this.children.length;++i){var n,s=this.children[i];n=s instanceof e.CompositeEffect?s.compositeDuration:s.duration,n=n*s.repeatCount+s.repeatDelay*(s.repeatCount-1)+s.startDelay,t+=n}return t}),i}(e.CompositeEffect);e.Sequence=i,t.registerClass(i,"egret.gui.Sequence")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t){void 0===t&&(t=.5),this._easeInFraction=.5,this.easeInFraction=t}var e=__define,i=t,n=i.prototype;return e(n,"easeInFraction",function(){return this._easeInFraction},function(t){this._easeInFraction=t}),n.ease=function(t){var e=1-this._easeInFraction;return t<=this._easeInFraction&&this._easeInFraction>0?this._easeInFraction*this._easeIn(t/this._easeInFraction):this._easeInFraction+e*this._easeOut((t-this._easeInFraction)/e)},n._easeIn=function(t){return t},n._easeOut=function(t){return t},t}();e.EaseInOutBase=i,t.registerClass(i,"egret.gui.EaseInOutBase",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){void 0===e&&(e=.5),t.call(this,e)}__extends(e,t);var i=(__define,e),n=i.prototype;return n._easeIn=function(t){return 1-Math.cos(t*Math.PI/2)},n._easeOut=function(t){return Math.sin(t*Math.PI/2)},e}(e.EaseInOutBase);e.Sine=i,t.registerClass(i,"egret.gui.Sine")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t,n){this._easer=i.defaultEaser,this.thisObject=null,this.startFunction=null,this.endFunction=null,this.updateFunction=null,this.stopFunction=null,this.repeatFunction=null,this.id=-1,this._doSeek=!1,this._isPlaying=!1,this._doReverse=!1,this._invertValues=!1,this.started=!1,this.delayTime=-1,this.delayedStartTime=-1,this._playheadTime=0,this.duration=500,this._repeatBehavior=e.RepeatBehavior.LOOP,this._repeatCount=1,this._repeatDelay=0,this._startDelay=0,this.interpolator=null,this._cycleTime=0,this.updateFunction=t,this.thisObject=n}var n=__define,s=i,a=s.prototype;return n(a,"easer",function(){return this._easer},function(t){t||(t=i.defaultEaser),this._easer=t}),n(a,"playheadTime",function(){return this._playheadTime+this.startDelay},function(t){this._invertValues=!1,this.seek(t,!0)}),n(a,"isPlaying",function(){return this._isPlaying}),n(a,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),n(a,"repeatCount",function(){return this._repeatCount},function(t){this._repeatCount=t}),n(a,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),n(a,"startDelay",function(){return this._startDelay},function(t){this._startDelay=t}),n(a,"cycleTime",function(){return this._cycleTime}),n(a,"cycleFraction",function(){return this._cycleFraction}),n(a,"playReversed",function(){return this._playReversed},function(t){this._isPlaying&&this._invertValues!=t&&(this._invertValues=t,this.seek(this.duration-this._cycleTime,!0)),this._doReverse=t,this._playReversed=t}),i.addAnimation=function(e){if(e.motionPaths&&e.motionPaths.length>0&&e.motionPaths[0]&&("width"==e.motionPaths[0].property||"height"==e.motionPaths[0].property)){i.activeAnimations.splice(0,0,e),e.id=0;for(var n=1;n<i.activeAnimations.length;++n)i.activeAnimations[n].id=n}else e.id=i.activeAnimations.length,i.activeAnimations.push(e);i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start()),i.intervalTime=i.currentTime,e.cycleStartTime=i.intervalTime},i.removeAnimationAt=function(t){if(void 0===t&&(t=0),t>=0&&t<i.activeAnimations.length){i.activeAnimations.splice(t,1);for(var e=i.activeAnimations.length,n=t;e>n;n++){var s=i.activeAnimations[n];s.id--}}i.stopTimerIfDone()},i.removeAnimation=function(t){i.removeAnimationAt(t.id)},i.timerHandler=function(t){i.intervalTime=i.pulse();for(var e=0;e<i.activeAnimations.length;){var n=!0,s=i.activeAnimations[e];s&&(n=!s.doInterval()),n&&++e}for(;i.delayedStartAnims.length>0;){var a=i.delayedStartAnims[0],r=a.delayedStartTime;if(!(r<i.currentTime))break;a.playReversed?a.end():a.start()}},a.doInterval=function(){var n=!1,s=!1;if(this._isPlaying||this._doSeek){var a=i.intervalTime-this.cycleStartTime;if(this._playheadTime=i.intervalTime-this.startTime,a>=this.duration){var r=2;if(this.duration+this.repeatDelay>0&&(r+=Math.floor((this._playheadTime-this.duration)/(this.duration+this.repeatDelay))),0==this.repeatCount||r<=this.repeatCount){if(0!=this.repeatDelay){if(this._doSeek)return this._cycleTime=a%(this.duration+this.repeatDelay),this._cycleTime>this.duration&&(this._cycleTime=this.duration),this.calculateValue(this._cycleTime),this.sendUpdateEvent(),!1;this._cycleTime=this.duration,this.calculateValue(this._cycleTime),this.sendUpdateEvent(),i.removeAnimation(this);var o=new t.Timer(this.repeatDelay,1);return o.addEventListener(t.TimerEvent.TIMER,this.repeat,this),o.start(),!1}this._cycleTime=a%this.duration,this.cycleStartTime=i.intervalTime-this._cycleTime,a=this._cycleTime,this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this.repeatCount>1?this._invertValues=!(r%2):this._invertValues=!this._invertValues),s=!0}else a>this.duration&&(a=this.duration,this._playheadTime=this.duration)}this._cycleTime=a,this.calculateValue(a),a>=this.duration&&!this._doSeek?this.playReversed&&0!=this.startDelay?(this.stopAnimation(),this.addToDelayedAnimations(this.startDelay)):(this.end(),n=!0):(s&&this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent())}return n},a.sendUpdateEvent=function(){this.sendAnimationEvent("updateFunction")},a.sendAnimationEvent=function(t){null!=this[t]&&this[t].call(this.thisObject,this)},a.calculateValue=function(t){var e=0;if(this.currentValue={},0!=this.duration){if(this._invertValues&&(t=this.duration-t),this._cycleFraction=this.easer.ease(t/this.duration),this.motionPaths)for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this.motionPaths[e].getValue(this._cycleFraction)}else for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this._invertValues?this.motionPaths[e].keyframes[0].value:this.motionPaths[e].keyframes[this.motionPaths[e].keyframes.length-1].value},a.removeFromDelayedAnimations=function(){if(this.delayedStartTime>=0){for(var t=0;t<i.delayedStartAnims.length;++t)if(i.delayedStartAnims[t]==this){i.delayedStartAnims.splice(t,1);break}this.delayedStartTime=-1}},a.end=function(){this.startDelay>0&&i.delayedStartAnims.length>0&&this.removeFromDelayedAnimations(),this.started||this.sendAnimationEvent("startFunction"),this.repeatCount>1&&"reverse"==this.repeatBehavior&&this.repeatCount%2==0&&(this._invertValues=!0),this._doReverse&&this.startDelay>0||(this.calculateValue(this.duration),this.sendUpdateEvent()),this.sendAnimationEvent("endFunction"),this.isPlaying?this.stopAnimation():i.stopTimerIfDone()},i.stopTimerIfDone=function(){i.timer&&0==i.activeAnimations.length&&0==i.delayedStartAnims.length&&(i.intervalTime=0/0,i.timer.reset(),i.timer=null)},a.addToDelayedAnimations=function(e){i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start());for(var n=i.currentTime+e,s=-1,a=0;a<i.delayedStartAnims.length;++a){var r=i.delayedStartAnims[a].delayedStartTime;if(r>n){s=a;break}}s>=0?i.delayedStartAnims.splice(s,0,this):i.delayedStartAnims.push(this),this.delayedStartTime=n},a.play=function(){this.stopAnimation();var t=0,i=0;for(t=0;t<this.motionPaths.length;++t){var n=this.motionPaths[t].keyframes;if(isNaN(n[0].time))n[0].time=0;else if(n[0].time>0){var s=n[0].time;n.splice(0,0,new e.Keyframe(0,null)),n.splice(1,0,new e.Keyframe(s-1,null)),this.playReversed&&(n[0].value=n[2].value,n[1].value=n[2].value)}for(i=1;i<n.length;++i)isNaN(n[i].time)&&(n[i].time=this.duration)}for(t=0;t<this.motionPaths.length;++t)this.motionPaths[t]._scaleKeyframes(this.duration);this._doReverse&&(this._invertValues=!0),this.startDelay>0&&!this.playReversed?this.addToDelayedAnimations(this.startDelay):this.start()},a.seek=function(t,e){if(void 0===e&&(e=!1),this.startTime=this.cycleStartTime=i.intervalTime-t,this._doSeek=!0,!this._isPlaying||this.playReversed){var n=this._isPlaying;if(i.intervalTime=i.currentTime,e&&this.startDelay>0&&this.delayedStartTime>=0){this.removeFromDelayedAnimations();var s=t-this.startDelay;return this.playReversed&&(s-=this.duration),0>s?void this.addToDelayedAnimations(this.startDelay-t):(t-=this.startDelay,this.isPlaying||this.start(),this.startTime=this.cycleStartTime=i.intervalTime-t,this.doInterval(),void(this._doSeek=!1))}n||(this.sendAnimationEvent("startFunction"),this.setupInterpolation()),this.startTime=this.cycleStartTime=i.intervalTime-t}this.doInterval(),this._doSeek=!1},a.setupInterpolation=function(){if(this.interpolator&&this.motionPaths)for(var t=0;t<this.motionPaths.length;++t)this.motionPaths[t].interpolator=this.interpolator},a.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._cycleTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},a.pause=function(){this.delayedStartTime>=0&&(this.delayTime=this.delayedStartTime-i.currentTime,this.removeFromDelayedAnimations()),this._isPlaying=!1},a.stopAnimation=function(){this.removeFromDelayedAnimations(),this.id>=0&&(i.removeAnimationAt(this.id),this.id=-1,this._invertValues=!1,this._isPlaying=!1)},a.stop=function(){this.stopAnimation(),this.sendAnimationEvent("stopFunction")},a.resume=function(){this._isPlaying=!0,this.delayTime>=0?this.addToDelayedAnimations(this.delayTime):(this.cycleStartTime=i.intervalTime-this._cycleTime,this.startTime=i.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1))},a.repeat=function(t){void 0===t&&(t=null),this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=!this._invertValues),this.calculateValue(0),this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent(),i.addAnimation(this)},a.start=function(t){void 0===t&&(t=null);var e=0;if(!this.playReversed&&this.delayedStartTime>=0){var n=i.currentTime-this.delayedStartTime;n>0&&(e=Math.min(n,this.duration)),this.removeFromDelayedAnimations()}this.sendAnimationEvent("startFunction"),this.setupInterpolation(),this.calculateValue(0),this.sendUpdateEvent(),i.addAnimation(this),this.startTime=this.cycleStartTime,this._isPlaying=!0,e>0&&this.seek(e),this.started=!0},i.pulse=function(){return i.startTime<0?(i.startTime=t.getTimer(),i._currentTime=0,i._currentTime):(i._currentTime=t.getTimer()-i.startTime,i._currentTime)},n(i,"currentTime",function(){return i._currentTime<0?i.pulse():i._currentTime}),i.TIMER_RESOLUTION=1e3/60,i.defaultEaser=new e.Sine(.5),i.intervalTime=0/0,i.activeAnimations=new Array,i.timer=null,i.delayedStartAnims=new Array,i.startTime=-1,i._currentTime=-1,i}();e.Animation=i,t.registerClass(i,"egret.gui.Animation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e,i){void 0===t&&(t=0/0),void 0===e&&(e=null),void 0===i&&(i=null),this.value=e,this.time=t,this.valueBy=i}var e=(__define,t),i=e.prototype;return i.clone=function(){var e=new t(this.time,this.value,this.valueBy);return e.easer=this.easer,e._timeFraction=this._timeFraction,e},t}();e.Keyframe=i,t.registerClass(i,"egret.gui.Keyframe")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t){void 0===t&&(t=null),this.interpolator=e.NumberInterpolator.getInstance(),this.property=t}var i=(__define,t),n=i.prototype;return n.clone=function(){var e=new t(this.property);if(e.interpolator=this.interpolator,null!==this.keyframes){e.keyframes=new Array;for(var i=0;i<this.keyframes.length;++i)e.keyframes[i]=this.keyframes[i].clone()}return e},n._scaleKeyframes=function(t){for(var e=this.keyframes.length,i=0;e>i;++i){var n=this.keyframes[i];n._timeFraction=n.time/t}},n.getValue=function(t){if(!this.keyframes)return null;var e=this.keyframes.length;if(2==e&&1==this.keyframes[1]._timeFraction){var i=null!=this.keyframes[1].easer?this.keyframes[1].easer.ease(t):t;return this.interpolator.interpolate(i,this.keyframes[0].value,this.keyframes[1].value)}isNaN(this.keyframes[0]._timeFraction)&&this._scaleKeyframes(this.keyframes[this.keyframes.length-1].time);for(var n=0,s=this.keyframes[0].value,a=1;e>a;++a){var r=this.keyframes[a];if(t>=n&&t<r._timeFraction){var o=(t-n)/(r._timeFraction-n),h=null!=r.easer?r.easer.ease(o):o;return this.interpolator.interpolate(h,s,r.value)}n=r._timeFraction,s=r.value}return this.keyframes[e-1].value},t}();e.MotionPath=i,t.registerClass(i,"egret.gui.MotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.LOOP="loop",t.REVERSE="reverse",t}();e.RepeatBehavior=i,t.registerClass(i,"egret.gui.RepeatBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i,n,s,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),t.call(this),this.property=i,this.keyframes=[new e.Keyframe(0,n),new e.Keyframe(0/0,s,a)]}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"valueFrom",function(){return this.keyframes[0].value},function(t){this.keyframes[0].value=t}),n(a,"valueTo",function(){return this.keyframes[this.keyframes.length-1].value},function(t){this.keyframes[this.keyframes.length-1].value=t}),n(a,"valueBy",function(){return this.keyframes[this.keyframes.length-1].valueBy},function(t){this.keyframes[this.keyframes.length-1].valueBy=t}),i}(e.MotionPath);e.SimpleMotionPath=i,t.registerClass(i,"egret.gui.SimpleMotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t),i=e.prototype;return i.ease=function(t){return this.easeOut(t,0,1,1)},i.easeOut=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t}();e.Bounce=i,t.registerClass(i,"egret.gui.Bounce",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t),i=e.prototype;return i.ease=function(t){return this.easeOut(t,0,1,1)},i.easeOut=function(t,e,i,n,s,a){if(void 0===s&&(s=0),void 0===a&&(a=0),0==t)return e;if(1==(t/=n))return e+i;a||(a=.3*n);var r;return!s||s<Math.abs(i)?(s=i,r=a/4):r=a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/a)+i+e},t}();e.Elastic=i,t.registerClass(i,"egret.gui.Elastic",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;
!function(e){var i=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=2),t.call(this,e),this.exponent=i}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"exponent",function(){return this._exponent},function(t){this._exponent=t}),s._easeIn=function(t){return Math.pow(t,this._exponent)},s._easeOut=function(t){return 1-Math.pow(1-t,this._exponent)},e}(e.EaseInOutBase);e.Power=i,t.registerClass(i,"egret.gui.Power")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this,t),this.isStyleMap={},this._seekTime=0,this.numUpdateListeners=0}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"motionPaths",function(){return this._motionPaths},function(t){this._motionPaths||(this._motionPaths=t)}),s(r,"easer",function(){return this._easer},function(t){this._easer=t}),s(r,"interpolator",function(){return this._interpolator},function(t){this._interpolator=t}),s(r,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),r._setPlayReversed=function(t){i.prototype._setPlayReversed.call(this,t),t&&this.animation&&this.animation.reverse(),this.reverseAnimation=t},s(r,"playheadTime",function(){return this.animation?this.animation.playheadTime:this._seekTime},function(t){this.animation&&(this.animation.playheadTime=t),this._seekTime=t}),r.pause=function(){i.prototype.pause.call(this),this.animation&&this.animation.pause()},r.stop=function(){i.prototype.stop.call(this),this.animation&&this.animation.stop()},r.resume=function(){i.prototype.resume.call(this),this.animation&&this.animation.resume()},r.reverse=function(){i.prototype.reverse.call(this),this.animation&&this.animation.reverse(),this.reverseAnimation=!this.reverseAnimation},r.end=function(){this.animation&&(this.animation.end(),this.animation=null),i.prototype.end.call(this)},r.startEffect=function(){this.play()},r.play=function(){if(i.prototype.play.call(this),!this.motionPaths||0==this.motionPaths.length){var n=new t.Timer(this.duration,1);return n.addEventListener(t.TimerEvent.TIMER,this.noopAnimationHandler,this),void n.start()}this.isStyleMap=new Array(this.motionPaths.length);var s,a,r=0,o=0;for(r=0;r<this.motionPaths.length;++r){var h=this.motionPaths[r],l=h.keyframes;if(l&&(this.interpolator&&(h.interpolator=this.interpolator),this.duration>0))for(o=0;o<l.length;++o)isNaN(l[o].time)||(this.duration=Math.max(this.duration,l[o].time))}s&&this.motionPaths.push(new e.SimpleMotionPath("width")),a&&this.motionPaths.push(new e.SimpleMotionPath("height")),this.animation=new e.Animation(this.animationUpdate,this),this.animation.duration=this.duration,this.animation.startFunction=this.animationStart,this.animation.endFunction=this.animationEnd,this.animation.stopFunction=this.animationStop,this.animation.repeatFunction=this.animationRepeat,this.animation.motionPaths=this.motionPaths,this.reverseAnimation&&(this.animation.playReversed=!0),this.animation.interpolator=this.interpolator,this.animation.repeatCount=this.repeatCount,this.animation.repeatDelay=this.repeatDelay,this.animation.repeatBehavior=this.repeatBehavior,this.animation.easer=this.easer,this.animation.startDelay=this.startDelay,this.animation.play(),this._seekTime>0&&(this.animation.playheadTime=this._seekTime)},r.applyValues=function(t){for(var e=0;e<this.motionPaths.length;++e){var i=this.motionPaths[e].property;this.setValue(i,t.currentValue[i])}},r._isValidValue=function(t){return"number"==typeof t&&!isNaN(t)||!("number"==typeof t)&&null!==t},r.finalizeValues=function(){for(var t,e=0,i=0;i<this.motionPaths.length;++i){var n=this.motionPaths[i],s=n.keyframes;if(s&&0!=s.length)for(this._isValidValue(s[0].value)||(s.length>0&&this._isValidValue(s[1].valueBy)&&this._isValidValue(s[1].value)?s[0].value=n.interpolator.decrement(s[1].value,s[1].valueBy):s[0].value=this.getCurrentValue(n.property)),t=s[0].value,e=1;e<s.length;++e){var a=s[e];this._isValidValue(a.value)||(this._isValidValue(a.valueBy)?a.value=n.interpolator.increment(t,a.valueBy):e<=s.length-2&&this._isValidValue(s[e+1].value)&&this._isValidValue(s[e+1].valueBy)?a.value=n.interpolator.decrement(s[e+1].value,s[e+1].valueBy):a.value=t),t=a.value}}},r.animationStart=function(t){if(this.disableLayout)this.setupParentLayout(!1),this.cacheConstraints();else if(this.disabledConstraintsMap){for(var e in this.disabledConstraintsMap)this.cacheConstraint(e);this.disabledConstraintsMap=null}this.finalizeValues()},r.animationUpdate=function(t){if(this.applyValues(t),this.numUpdateListeners>0){var i=new e.EffectEvent(e.EffectEvent.EFFECT_UPDATE);i.effectInstance=this,this.dispatchEvent(i)}},r.animationRepeat=function(t){var i=new e.EffectEvent(e.EffectEvent.EFFECT_REPEAT);i.effectInstance=this,this.dispatchEvent(i)},r.animationCleanup=function(){this.disableLayout&&(this.reenableConstraints(),this.setupParentLayout(!0))},r.animationEnd=function(t){this.animationCleanup(),this.finishEffect()},r.animationStop=function(t){this.animationCleanup()},r.noopAnimationHandler=function(t){this.finishEffect()},r.addEventListener=function(t,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),i.prototype.addEventListener.call(this,t,n,s,a,r),t==e.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},r.removeEventListener=function(t,n,s){void 0===s&&(s=!1),i.prototype.removeEventListener.call(this,t,n,this,s),t==e.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},r.reenableConstraint=function(t){var e=this.constraintsHolder[t];return void 0!==e&&(t in this.target?this.target[t]=e:this.target.setStyle(t,e),delete this.constraintsHolder[t]),e},r.reenableConstraints=function(){if(this.constraintsHolder){var t=this.reenableConstraint("left"),e=this.reenableConstraint("right"),i=this.reenableConstraint("top"),n=this.reenableConstraint("bottom");this.reenableConstraint("horizontalCenter"),this.reenableConstraint("verticalCenter"),this.constraintsHolder=null,void 0!=t&&void 0!=e&&"explicitWidth"in this.target&&(this.target.width=this.oldWidth),void 0!=i&&void 0!=n&&"explicitHeight"in this.target&&(this.target.height=this.oldHeight)}},r.cacheConstraint=function(t){var e,i=t in this.target;return e=i?this.target[t]:this.target.getStyle(t),isNaN(e)||null==e||(this.constraintsHolder||(this.constraintsHolder={}),this.constraintsHolder[t]=e,i?this.target[t]=0/0:"setStyle"in this.target&&this.target.setStyle(t,void 0)),e},r.cacheConstraints=function(){var t=this.cacheConstraint("left"),e=this.cacheConstraint("right"),i=this.cacheConstraint("top"),n=this.cacheConstraint("bottom");if(this.cacheConstraint("verticalCenter"),this.cacheConstraint("horizontalCenter"),void 0!=t&&void 0!=e&&"explicitWidth"in this.target){var s=this.target.width;this.oldWidth=this.target.explicitWidth,this.target.width=s}if(void 0!=i&&void 0!=n&&"explicitHeight"in this.target){var a=this.target.height;this.oldHeight=this.target.explicitHeight,this.target.height=a}},r.setupParentLayout=function(t){var e=null;"parent"in this.target&&this.target.parent&&(e=this.target.parent),e&&"autoLayout"in e&&(e.autoLayout=t)},r._setupStyleMapEntry=function(t){if(void 0==this.isStyleMap[t])if(t in this.target)this.isStyleMap[t]=!1;else try{this.target.getStyle(t),this.isStyleMap[t]=!0}catch(e){throw new Error("propNotPropOrStyle")}},r.setValue=function(t,e){this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.setStyle(t,e):this.target[t]=e},r.getCurrentValue=function(t){return this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.getStyle(t):this.target[t]},n}(e.EffectInstance);e.AnimateInstance=i,t.registerClass(i,"egret.gui.AnimateInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this,t),this.started=!1,this.instanceStartTime=0,this.currentValues={rotation:0/0,scaleX:0/0,scaleY:0/0,translationX:0/0,translationY:0/0},this.initialized=!1}__extends(n,i);var s=(__define,n),a=s.prototype;return a.startEffect=function(){this.started||(this.started=!0,i.prototype.startEffect.call(this))},a.insertKeyframe=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1),e.time+=i;for(var s=0;s<t.length;s++)if(t[s].time>=e.time)return void(t[s].time==e.time?n?(e.time+=.01,t.splice(s+1,0,e)):(e.time-=.01,t.splice(s,0,e)):t.splice(s,0,e));t.push(e)},a.addMotionPath=function(t,e){void 0===e&&(e=0);var i=!1;if(this.motionPaths){var n,s=0,a=0,r=this.motionPaths.length;if(e<this.instanceStartTime){var o=this.instanceStartTime-e;for(s=0;r>s;s++)for(n=this.motionPaths[s],a=0;a<n.keyframes.length;a++)n.keyframes[a].time+=o;this.instanceStartTime=e}for(s=0;r>s;s++)if(n=this.motionPaths[s],n.property==t.property){for(a=0;a<t.keyframes.length;a++)this.insertKeyframe(n.keyframes,t.keyframes[a],e-this.instanceStartTime,0==a);i=!0;break}}else this.motionPaths=new Array,this.instanceStartTime=e;if(!i){if(e>this.instanceStartTime)for(a=0;a<t.keyframes.length;a++)t.keyframes[a].time+=e-this.instanceStartTime;this.motionPaths.push(t)}for(r=this.motionPaths.length,s=0;r>s;s++){n=this.motionPaths[s];var h=n.keyframes[n.keyframes.length-1];isNaN(h.time)||(this.duration=Math.max(this.duration,h.time))}},a.play=function(){if(this.motionPaths){var t=0,e=0;this.updateTransformCenter();var n=0!=this.transformCenter.x||0!=this.transformCenter.y;for(t=0;t<this.motionPaths.length;++t){var s=this.motionPaths[t];if(n&&("translationX"==s.property||"translationY"==s.property))for(e=0;e<s.keyframes.length;++e){var a=s.keyframes[e];this._isValidValue(a.value)&&("translationX"==s.property?a.value+=this.transformCenter.x:a.value+=this.transformCenter.y)}}}i.prototype.play.call(this)},a.animationEnd=function(t){this.started=!1,i.prototype.animationEnd.call(this,t)},a.updateTransformCenter=function(){this.transformCenter||(this.transformCenter=new t.Point(0,0)),this.autoCenterTransform&&(this.transformCenter.x=this.target.width/2,this.transformCenter.y=this.target.height/2)},a.getCurrentValue=function(t){switch(t){case"translationX":case"translationY":this.updateTransformCenter();var n=e.TransformUtil.transformPointToParent(this.target,this.transformCenter);if("translationX"==t)return n.x;if("translationY"==t)return n.y;break;default:return i.prototype.getCurrentValue.call(this,t)}},a.applyValues=function(t){for(var i,s,a,r,o=0;o<this.motionPaths.length;++o)void 0!==this.currentValues[this.motionPaths[o].property]?this.currentValues[this.motionPaths[o].property]=t.currentValue[this.motionPaths[o].property]:this.setValue(this.motionPaths[o].property,t.currentValue[this.motionPaths[o].property]);r=isNaN(this.currentValues.rotation)?this.getCurrentValue("rotation"):this.currentValues.rotation,i=isNaN(this.currentValues.scaleX)?this.getCurrentValue("scaleX"):this.currentValues.scaleX,s=isNaN(this.currentValues.scaleY)?this.getCurrentValue("scaleY"):this.currentValues.scaleY,n.position.x=isNaN(this.currentValues.translationX)?this.getCurrentValue("translationX"):this.currentValues.translationX,n.position.y=isNaN(this.currentValues.translationY)?this.getCurrentValue("translationY"):this.currentValues.translationY,this.lastTranslationPoint||(this.lastTranslationPoint=n.position.clone()),isNaN(this.currentValues.translationX)&&Math.abs(n.position.x-this.lastTranslationPoint.x)<.1&&(n.position.x=this.lastTranslationPoint.x),isNaN(this.currentValues.translationY)&&Math.abs(n.position.y-this.lastTranslationPoint.y)<.1&&(n.position.y=this.lastTranslationPoint.y),this.lastTranslationPoint.x=n.position.x,this.lastTranslationPoint.y=n.position.y,a=n.position,e.TransformUtil.transformAround(this.target,this.transformCenter,a,i,s,r)},n.position=new t.Point,n}(e.AnimateInstance);e.AnimateTransformInstance=i,t.registerClass(i,"egret.gui.AnimateTransformInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){t.call(this,e),this._activeEffectQueue=[],this._playheadTime=0,this._childSets=[]}__extends(i,t);var n=__define,s=i,a=s.prototype;return n(a,"_actualDuration",function(){var t=0/0;return this.repeatCount>0&&(t=this._durationWithoutRepeat*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t}),n(a,"playheadTime",function(){return this._playheadTime}),a._setPlayheadTime=function(e){this._timerAnimation?this._timerAnimation.playheadTime=e:this._playheadTime=e,t.prototype._setPlayheadTime.call(this,e)},n(a,"_durationWithoutRepeat",function(){return 0}),a.play=function(){this._timerAnimation=new e.Animation(this.animationUpdate,this),this._timerAnimation.duration=this._durationWithoutRepeat,this._timerAnimation.motionPaths=[new e.SimpleMotionPath("timer",0,0)],this._timerAnimation.endFunction=this.animationEnd,this._timerAnimation.play(),t.prototype.play.call(this)},a.pause=function(){t.prototype.pause.call(this),this._timerAnimation&&this._timerAnimation.pause()},a.stop=function(){t.prototype.stop.call(this),this._timerAnimation&&this._timerAnimation.stop()},a.end=function(){t.prototype.end.call(this),this._timerAnimation&&this._timerAnimation.end()},a.resume=function(){t.prototype.resume.call(this),this._timerAnimation&&this._timerAnimation.resume()},a.reverse=function(){t.prototype.reverse.call(this),this._setPlayReversed(!this.playReversed),this._timerAnimation&&this._timerAnimation.reverse()},a.finishEffect=function(){this._activeEffectQueue=null,t.prototype.finishEffect.call(this)},a.addChildSet=function(t){if(t){var i=t.length;if(i>0){this._childSets?this._childSets.push(t):this._childSets=[t];for(var n=0;i>n;n++)t[n].addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),t[n].parentCompositeEffectInstance=this}}},a._playWithNoDuration=function(){t.prototype._playWithNoDuration.call(this),this.end()},a.animationUpdate=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},a.animationEnd=function(t){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},a._onEffectEnd=function(t){},a._effectEndHandler=function(t){this._onEffectEnd(t.effectInstance)},i}(e.EffectInstance);e.CompositeEffectInstance=i,t.registerClass(i,"egret.gui.CompositeEffectInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){t.call(this,e)}__extends(i,t);var n=(__define,i),s=n.prototype;return s.play=function(){var i=this.alphaFrom,n=this.alphaTo;"visible"in this.target&&!this.target.visible&&(isNaN(i)&&(i=this.target.alpha),isNaN(n)&&(n=this.target.alpha),0==i&&0!=n&&(this.target.alpha=0,this.target.visible=!0)),this.motionPaths=[new e.MotionPath("alpha")],this.motionPaths[0].keyframes=[new e.Keyframe(0,this.alphaFrom),new e.Keyframe(this.duration,this.alphaTo)],t.prototype.play.call(this)},i}(e.AnimateInstance);e.FadeInstance=i,t.registerClass(i,"egret.gui.FadeInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t){e.call(this,t),this.isReversed=!1}__extends(i,e);var n=__define,s=i,a=s.prototype;return n(a,"_durationWithoutRepeat",function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t=Math.max(n[0]._actualDuration,t)}return t}),a._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i=this.effect.compositeDuration,n=i+this.startDelay+this.repeatDelay,s=i+this.repeatDelay,a=n+s*(this.repeatCount-1);if(n>=t)e=Math.min(t-this.startDelay,i),this._playCount=1;else if(t>=a&&0!=this.repeatCount)e=i,this._playCount=this.repeatCount;else{var r=t-n;e=r%s,this._playCount=1+r/s}for(var o=0;o<this._childSets.length;o++)for(var h=this._childSets[o],l=h.length,u=0;l>u;u++)h[u].playheadTime=this.playReversed?Math.max(0,e-(this._durationWithoutRepeat-h[u]._actualDuration)):e;if(this.playReversed&&null!=this.replayEffectQueue&&this.replayEffectQueue.length>0){var d=this._durationWithoutRepeat-this.playheadTime,c=this.replayEffectQueue.length;for(o=c-1;o>=0;o--){var p=this.replayEffectQueue[o];d<=p._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(p),this.replayEffectQueue.splice(o,1),p.playReversed=this.playReversed,p.startEffect())}}},a.play=function(){this.doneEffectQueue=[],this._activeEffectQueue=[],this.replayEffectQueue=[],e.prototype.play.call(this);var t=0,i=0;for(t=this._childSets.length,i=0;t>i;i++)for(var n=this._childSets[i],s=n.length,a=0;s>a&&null!=this._activeEffectQueue;a++){var r=n[a];this.playReversed&&r._actualDuration<this._durationWithoutRepeat?(this.replayEffectQueue.push(r),this.startTimer()):(r.playReversed=this.playReversed,this._activeEffectQueue.push(r))}if(this._activeEffectQueue.length>0){var o=this._activeEffectQueue.slice(0);for(i=0;i<o.length;i++)o[i].startEffect()}},a.pause=function(){if(e.prototype.pause.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].pause()},a.stop=function(){if(this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].stop()}e.prototype.stop.call(this)},a.resume=function(){if(e.prototype.resume.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].resume()},a.reverse=function(){e.prototype.reverse.call(this);var t=0,i=0;if(this.isReversed){for(t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.stopTimer()}else{for(this.replayEffectQueue=this.doneEffectQueue.splice(0),t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.startTimer()}this.isReversed=!this.isReversed},a.end=function(){if(this._endEffectCalled=!0,this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].end()}e.prototype.end.call(this)},a._onEffectEnd=function(t){if(!this._endEffectCalled&&null!=this._activeEffectQueue){for(var e=this._activeEffectQueue.length,i=0;e>i;i++)if(t==this._activeEffectQueue[i]){this.doneEffectQueue.push(t),this._activeEffectQueue.splice(i,1);break}1==e&&this.finishRepeat()}},a.startTimer=function(){this.timer||(this.timer=new t.Timer(10),this.timer.addEventListener(t.TimerEvent.TIMER,this.timerHandler,this)),this.timer.start()},a.stopTimer=function(){this.timer&&this.timer.reset()},a.timerHandler=function(t){var e=this._durationWithoutRepeat-this.playheadTime,i=this.replayEffectQueue.length;if(0==i)return void this.stopTimer();for(var n=i-1;n>=0;n--){var s=this.replayEffectQueue[n];e<=s._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(s),this.replayEffectQueue.splice(n,1),s.playReversed=this.playReversed,s.startEffect())}},i}(e.CompositeEffectInstance);e.ParallelInstance=i,t.registerClass(i,"egret.gui.ParallelInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){t.call(this,e),this.currentInstanceDuration=0,this.currentSetIndex=-1,this.isPaused=!1}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"_durationWithoutRepeat",function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t+=n[0]._actualDuration}return t}),s._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i,n,s,a=0,r=this.effect.compositeDuration,o=r+this.startDelay+this.repeatDelay,h=r+this.repeatDelay,l=o+h*(this.repeatCount-1);if(o>=t)s=Math.min(t-this.startDelay,r),this._playCount=1;else if(t>=l&&0!=this.repeatCount)s=r,this._playCount=this.repeatCount;else{var u=t-o;s=u%h,s=Math.min(s,r),this._playCount=1+u/h}if(this._activeEffectQueue&&this._activeEffectQueue.length>0){var d=0,c=this._activeEffectQueue.length;for(e=0;c>e;++e){var p,_=this.playReversed?c-1-e:e,g=d,v=d+this._childSets[_][0]._actualDuration;if(d=v,s>=g&&v>=s){if(this._endEffectCalled=!0,this.currentSetIndex==_)for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=s-g;else if(_<this.currentSetIndex){if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].end();for(i=this.currentSetIndex-1;i>_;--i)for(p=this._activeEffectQueue[i],n=0;n<p.length;n++)this.playReversed&&(p[n].playReversed=!0),p[n].play(),p[n].end()}else{for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(i=this.currentSetIndex-1;i>_;--i)for(p=this._activeEffectQueue[i],n=0;n<p.length;n++)p[n].play(),p[n].stop()}for(this.currentSetIndex=_,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=s-g,this.isPaused&&this.currentSet[n].pause()}else{if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(n=this.currentSetIndex+1;_>n;n++)for(p=this._activeEffectQueue[n],a=0;a<p.length;a++)p[a].playheadTime=0,p[a].stop()}else{var f=this.currentSet.concat();for(i=0;i<f.length;i++)f[i].end();for(n=this.currentSetIndex+1;_>n;n++)for(p=this._activeEffectQueue[n],a=0;a<p.length;a++)p[a].play(),p[a].end()}for(this.currentSetIndex=_,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=s-g,this.isPaused&&this.currentSet[n].pause()}this._endEffectCalled=!1;break}}}},s.play=function(){this.isPaused=!1,this._activeEffectQueue=[],this.currentSetIndex=this.playReversed?this._childSets.length:-1;var e=0,i=0;for(e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];this._activeEffectQueue.push(n)}return t.prototype.play.call(this),0==this._activeEffectQueue.length?void this.finishRepeat():void this.playNextChildSet()},s.pause=function(){if(t.prototype.pause.call(this),this.isPaused=!0,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].pause()},s.stop=function(){if(this.isPaused=!1,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,s=0;n>s;s++)i[s].stop();for(var a=e.length,r=this.currentSetIndex+1;a>r;r++)for(var o=e[r],h=o.length,l=0;h>l;l++){var u=o[l];u.effect.deleteInstance(u)}}t.prototype.stop.call(this)},s.resume=function(){if(t.prototype.resume.call(this),this.isPaused=!1,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].resume()},s.reverse=function(){if(t.prototype.reverse.call(this),this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].reverse()},s.end=function(){if(this._endEffectCalled=!0,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,s=0;n>s;s++)i[s].end();for(var a=e.length,r=this.currentSetIndex+1;a>r;r++)for(var o=e[r],h=o.length,l=0;h>l;l++)o[l]._playWithNoDuration()}this.isPaused=!1,t.prototype.end.call(this)},s._onEffectEnd=function(t){for(var e=0;e<this.currentSet.length;e++)if(t==this.currentSet[e]){this.currentSet.splice(e,1);break}this._endEffectCalled||0==this.currentSet.length&&0==this.playNextChildSet()&&this.finishRepeat()},s.playCurrentChildSet=function(){var t,e=this._activeEffectQueue[this.currentSetIndex];this.currentSet=[];for(var i=0;i<e.length;i++)t=e[i],this.currentSet.push(t),t.playReversed=this.playReversed,t.startEffect();this.currentInstanceDuration+=t._actualDuration},s.playNextChildSet=function(t){if(void 0===t&&(t=0),this.playReversed){if(this.currentSetIndex--<=0)return!1}else if(!this._activeEffectQueue||this.currentSetIndex++>=this._activeEffectQueue.length-1)return!1;return this.playCurrentChildSet(),!0},e}(e.CompositeEffectInstance);e.SequenceInstance=i,t.registerClass(i,"egret.gui.SequenceInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=(__define,e);i.prototype;return e.transformAround=function(i,n,s,a,r,o){if(void 0===s&&(s=null),void 0===a&&(a=0/0),void 0===r&&(r=0/0),void 0===o&&(o=0/0),null==s&&null!=n){t.$TempPoint.x=n.x,t.$TempPoint.y=n.y;var h=e.transformPointToParent(i,t.$TempPoint)}if(isNaN(o)||(i.rotation=o),isNaN(a)||(i.scaleX=a),isNaN(r)||(i.scaleY=r),null==n)null!=s&&(i.x=s.x,i.y=s.y);else{t.$TempPoint.x=n.x,t.$TempPoint.y=n.y;var l=e.transformPointToParent(i,t.$TempPoint);null!=s?(i.x+=s.x-l.x,i.y+=s.y-l.y):(i.x+=h.x-l.x,i.y+=h.y-l.y)}},e.transformPointToParent=function(e,i){void 0===i&&(i=null);var n=new t.Point;return i&&(n.x=i.x,n.y=i.y),e.parent&&(e.localToGlobal(n.x,n.y,n),e.parent.globalToLocal(n.x,n.y,n)),n},e}();e.TransformUtil=i,t.registerClass(i,"egret.gui.TransformUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return t.theInstance||(t.theInstance=new t),t.theInstance},i.interpolate=function(t,e,i){return 0==t?e:1==t?i:e+t*(i-e)},i.increment=function(t,e){return t+e},i.decrement=function(t,e){return t-e},t}();e.NumberInterpolator=i,t.registerClass(i,"egret.gui.NumberInterpolator",["egret.gui.IInterpolator"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=-1),e.call(this,t,i,n),this.detail=null,this.detail=s}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchCloseEvent=function(e,n,s){void 0===s&&(s=-1);var a=t.Event.create(i,n);a.detail=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},s.clean=function(){e.prototype.clean.call(this),this.detail=null},i.CLOSE="close",i}(t.Event);e.CloseEvent=i,t.registerClass(i,"egret.gui.CloseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=-1),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.kind=null,this.items=null,this.oldItems=null,this.kind=s,this.location=a,this.oldLocation=r,this.items=o?o:[],this.oldItems=h?h:[]}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchCollectionEvent=function(e,n,s,a,r,o,h){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=-1),void 0===o&&(o=null),void 0===h&&(h=null);var l=t.Event.create(i,n);l.kind=s,l.location=a,l.oldLocation=r,l.items=o,l.oldItems=h;var u=e.dispatchEvent(l);return t.Event.release(l),u},s.clean=function(){e.prototype.clean.call(this),this.kind=null,this.items=null,this.oldItems=null,this.oldLocation=null},i.COLLECTION_CHANGE="collectionChange",i}(t.Event);e.CollectionEvent=i,t.registerClass(i,"egret.gui.CollectionEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.ADD="add",t.MOVE="move",t.REFRESH="refresh",t.REMOVE="remove",t.REPLACE="replace",t.RESET="reset",t.UPDATE="update",t.OPEN="open",t.CLOSE="close",t}();e.CollectionEventKind=i,t.registerClass(i,"egret.gui.CollectionEventKind")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),t.call(this,e,i,n),this.effectInstance=s}__extends(e,t);var i=(__define,e);i.prototype;return e.EFFECT_END="effectEnd",e.EFFECT_STOP="effectStop",e.EFFECT_START="effectStart",e.EFFECT_REPEAT="effectRepeat",e.EFFECT_UPDATE="effectUpdate",e}(t.Event);e.EffectEvent=i,t.registerClass(i,"egret.gui.EffectEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),e.call(this,t,i,n),this.index=0/0,this.element=null,this.element=s,this.index=a}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchElementExistenceEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=-1);var r=t.Event.create(i,n);r.element=s,r.index=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},s.clean=function(){e.prototype.clean.call(this),this.element=null,this.index=0/0},i.ELEMENT_ADD="elementAdd",i.ELEMENT_REMOVE="elementRemove",i}(t.Event);e.ElementExistenceEvent=i,t.registerClass(i,"egret.gui.ElementExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=-1),void 0===a&&(a=-1),e.call(this,t,i,n),this.newIndex=0/0,this.oldIndex=0/0,this.oldIndex=s,this.newIndex=a}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchIndexChangeEvent=function(e,n,s,a,r){void 0===s&&(s=-1),void 0===a&&(a=-1),void 0===r&&(r=!1);var o=t.Event.create(i,n);o.oldIndex=s,o.newIndex=a;var h=e.dispatchEvent(o);return t.Event.release(o),h},s.clean=function(){e.prototype.clean.call(this),this.oldIndex=0/0,this.newIndex=0/0},i.CHANGE="change",i.CHANGING="changing",i}(t.Event);e.IndexChangeEvent=i,t.registerClass(i,"egret.gui.IndexChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===r&&(r=0),e.call(this,t,i,n,s,a,r),this.item=null,this.itemRenderer=null,this.itemIndex=0/0}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchListEvent=function(e,n,s,a,r,o){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null),void 0===o&&(o=null);var h=t.Event.create(i,n);h.touchPointID=s.touchPointID,h.$stageX=s.stageX,h.$stageY=s.stageY,h.touchDown=s.touchDown,h.itemIndex=a,h.item=r,h.itemRenderer=o;var l=e.dispatchEvent(h);return t.Event.release(h),l},s.clean=function(){e.prototype.clean.call(this),this.item=null,this.itemRenderer=null,this.itemIndex=0/0},i.ITEM_ROLL_OUT="itemRollOut",i.ITEM_ROLL_OVER="itemRollOver",i.ITEM_CLICK="itemClick",i}(t.TouchEvent);e.ListEvent=i,t.registerClass(i,"egret.gui.ListEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this.oldX=0/0,this.oldY=0/0}__extends(i,e);var n=(__define,i);n.prototype;return i.dispatchMoveEvent=function(e,n,s){void 0===n&&(n=0/0),void 0===s&&(s=0/0);var a=t.Event.create(i,i.MOVE);a.oldX=n,a.oldY=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},i.MOVE="move",i}(t.Event);e.MoveEvent=i,t.registerClass(i,"egret.gui.MoveEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=!1),e.call(this,t,i,n),this.popUp=null,this.modal=!1,this.popUp=s,this.modal=a}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchPopUpEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=!1);var r=t.Event.create(i,n);r.popUp=s,r.modal=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},s.clean=function(){e.prototype.clean.call(this),this.popUp=null},i.ADD_POPUP="addPopUp",i.REMOVE_POPUP="removePopUp",i.BRING_TO_FRONT="bringToFront",i}(t.Event);e.PopUpEvent=i,t.registerClass(i,"egret.gui.PopUpEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.kind=null,this.newValue=null,this.oldValue=null,this.property=null,this.source=null,this.kind=s,this.property=a,this.oldValue=r,this.newValue=o,this.source=h}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchPropertyChangeEvent=function(e,n,s,a,r,o){void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=null);
var h=t.Event.create(i,i.PROPERTY_CHANGE);h.kind=n,h.property=s,h.oldValue=a,h.newValue=r,h.source=o;var l=e.dispatchEvent(h);return t.Event.release(h),l},s.clean=function(){e.prototype.clean.call(this),this.kind=null,this.newValue=null,this.oldValue=null,this.property=null,this.source=null},i.PROPERTY_CHANGE="propertyChange",i}(t.Event);e.PropertyChangeEvent=i,t.registerClass(i,"egret.gui.PropertyChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.UPDATE="update",t.DELETE="delete",t}();e.PropertyChangeEventKind=i,t.registerClass(i,"egret.gui.PropertyChangeEventKind")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null),e.call(this,t,i,n),this.data=null,this.index=0/0,this.renderer=null,this.renderer=s,this.index=a,this.data=r}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchRendererExistenceEvent=function(e,n,s,a,r){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null);var o=t.Event.create(i,n);o.renderer=s,o.index=a,o.data=r;var h=e.dispatchEvent(o);return t.Event.release(o),h},s.clean=function(){e.prototype.clean.call(this),this.data=null,this.index=0/0,this.renderer=null},i.RENDERER_ADD="rendererAdd",i.RENDERER_REMOVE="rendererRemove",i}(t.Event);e.RendererExistenceEvent=i,t.registerClass(i,"egret.gui.RendererExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this.oldHeight=0/0,this.oldWidth=0/0}__extends(i,e);var n=(__define,i);n.prototype;return i.dispatchResizeEvent=function(e,n,s){void 0===n&&(n=0/0),void 0===s&&(s=0/0);var a=t.Event.create(i,i.RESIZE);a.oldWidth=n,a.oldHeight=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},i.RESIZE="resize",i}(t.Event);e.ResizeEvent=i,t.registerClass(i,"egret.gui.ResizeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),e.call(this,t,i,n),this.instance=null,this.partName=null,this.partName=s,this.instance=a}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchSkinPartEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var r=t.Event.create(i,n);r.partName=s,r.instance=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},s.clean=function(){e.prototype.clean.call(this),this.instance=null,this.partName=null},i.PART_ADDED="partAdded",i.PART_REMOVED="partRemoved",i}(t.Event);e.SkinPartEvent=i,t.registerClass(i,"egret.gui.SkinPartEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),e.call(this,t,i,n),this.newState=null,this.oldState=null,this.oldState=s,this.newState=a}__extends(i,e);var n=(__define,i);n.prototype;return i.dispatchStateChangeEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var r=t.Event.create(i,n);r.oldState=s,r.newState=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},i.CURRENT_STATE_CHANGE="currentStateChange",i.CURRENT_STATE_CHANGING="currentStateChanging",i.STATE_CHANGE_COMPLETE="stateChangeComplete",i}(t.Event);e.StateChangeEvent=i,t.registerClass(i,"egret.gui.StateChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=(__define,i);n.prototype;return i.dispatchTrackBaseEvent=function(e,n){var s=t.Event.create(i,n),a=e.dispatchEvent(s);return t.Event.release(s),a},i.THUMB_DRAG="thumbDrag",i.THUMB_PRESS="thumbPress",i.THUMB_RELEASE="thumbRelease",i}(t.Event);e.TrackBaseEvent=i,t.registerClass(i,"egret.gui.TrackBaseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===s&&(s=-1),void 0===a&&(a=null),void 0===r&&(r=null),e.call(this,t,i,n),this.item=null,this.itemRenderer=null,this.itemIndex=0/0,this.opening=!1,this.item=a,this.itemRenderer=r,this.itemIndex=s}__extends(i,e);var n=(__define,i),s=n.prototype;return i.dispatchTreeEvent=function(e,n,s,a,r,o,h,l){void 0===s&&(s=-1),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=!1),void 0===h&&(h=!1),void 0===l&&(l=!1);var u=t.Event.create(i,n);u.itemIndex=s,u.item=a,u.itemRenderer=r,u.opening=o;var d=e.dispatchEvent(u);return t.Event.release(u),d},s.clean=function(){e.prototype.clean.call(this),this.item=null,this.itemRenderer=null},i.ITEM_CLOSE="itemClose",i.ITEM_OPEN="itemOpen",i.ITEM_OPENING="itemOpening",i}(t.Event);e.TreeEvent=i,t.registerClass(i,"egret.gui.TreeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=(__define,i);n.prototype;return i.dispatchUIEvent=function(e,n){var s=t.Event.create(i,n),a=e.dispatchEvent(s);return t.Event.release(s),a},i.INITIALIZE="initialize",i.CREATION_COMPLETE="creationComplete",i.UPDATE_COMPLETE="updateComplete",i.BUTTON_DOWN="buttonDown",i.CHANGE_END="changeEnd",i.CHANGE_START="changeStart",i.CHANGING="changing",i.VALUE_COMMIT="valueCommit",i.SKIN_CHANGED="skinChanged",i.CONTENT_CHANGED="contentChanged",i.OPEN="open",i.CLOSE="close",i.PLAY_COMPLETE="playComplete",i}(t.Event);e.UIEvent=i,t.registerClass(i,"egret.gui.UIEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._target=null,this._useVirtualLayout=!1,this._typicalLayoutRect=null}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"target",function(){return this._target},function(t){this._target!=t&&(this._target=t,this.clearVirtualLayoutCache())}),i(s,"useVirtualLayout",function(){return this._useVirtualLayout},function(t){this._useVirtualLayout!=t&&(this._useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this._useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())}),i(s,"typicalLayoutRect",function(){return this._typicalLayoutRect},function(t){this._typicalLayoutRect!=t&&(this._typicalLayoutRect=t,this.target&&this.target.invalidateSize())}),s.scrollPositionChanged=function(){},s.clearVirtualLayoutCache=function(){},s.elementAdded=function(t){},s.elementRemoved=function(t){},s.measure=function(){},s.updateDisplayList=function(t,e){},e}(t.EventDispatcher);e.LayoutBase=i,t.registerClass(i,"egret.gui.LayoutBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._mouseWheelSpeed=20}__extends(i,e);var n=__define,s=i,a=s.prototype;return n(a,"useVirtualLayout",void 0,function(t){}),n(a,"mouseWheelSpeed",function(){return this._mouseWheelSpeed},function(t){0==t&&(t=1),this._mouseWheelSpeed=t}),a.getElementBoundsLeftOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.x-this._mouseWheelSpeed,i.right=e.x,i},a.getElementBoundsRightOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.right,i.right=e.right+this._mouseWheelSpeed,i},a.getElementBoundsAboveScrollRect=function(e){var i=new t.Rectangle;return i.y=e.y-this._mouseWheelSpeed,i.bottom=e.y,i},a.getElementBoundsBelowScrollRect=function(e){var i=new t.Rectangle;return i.y=e.bottom,i.bottom=e.bottom+this._mouseWheelSpeed,i},a.measure=function(){if(e.prototype.measure.call(this),null!=this.target){for(var t=0,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r,o,h=a.horizontalCenter,l=a.verticalCenter,u=a.left,d=a.right,c=a.top,p=a.bottom;isNaN(u)||isNaN(d)?isNaN(h)?isNaN(u)&&isNaN(d)?r=a.preferredX:(r=isNaN(u)?0:u,r+=isNaN(d)?0:d):r=2*Math.abs(h):r=u+d,isNaN(c)||isNaN(p)?isNaN(l)?isNaN(c)&&isNaN(p)?o=a.preferredY:(o=isNaN(c)?0:c,o+=isNaN(p)?0:p):o=2*Math.abs(l):o=c+p;var _=a.preferredWidth,g=a.preferredHeight;t=Math.ceil(Math.max(t,r+_)),i=Math.ceil(Math.max(i,o+g))}}this.target.measuredWidth=t,this.target.measuredHeight=i}},a.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),null!=this.target){for(var n=this.target.numElements,s=0,a=0,r=0;n>r;r++){var o=this.target.getElementAt(r);if(null!=o&&o.includeInLayout){var h=o.horizontalCenter,l=o.verticalCenter,u=o.left,d=o.right,c=o.top,p=o.bottom,_=o.percentWidth,g=o.percentHeight,v=0/0,f=0/0;isNaN(u)||isNaN(d)?isNaN(_)||(v=Math.round(t*Math.min(.01*_,1))):v=t-d-u,isNaN(c)||isNaN(p)?isNaN(g)||(f=Math.round(i*Math.min(.01*g,1))):f=i-p-c,o.setLayoutBoundsSize(v,f);var m=o.layoutBoundsWidth,E=o.layoutBoundsHeight,y=0/0,C=0/0;y=isNaN(h)?isNaN(u)?isNaN(d)?o.layoutBoundsX:t-m-d:u:Math.round((t-m)/2+h),C=isNaN(l)?isNaN(c)?isNaN(p)?o.layoutBoundsY:i-E-p:c:Math.round((i-E)/2+l),o.setLayoutBoundsPosition(y,C),s=Math.max(s,y+m),a=Math.max(a,C+E)}}this.target.setContentSize(s,a)}},i}(e.LayoutBase);e.BasicLayout=i,t.registerClass(i,"egret.gui.BasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.LEFT="left",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_WIDTH="justifyUsingWidth",t}();e.ColumnAlign=i,t.registerClass(i,"egret.gui.ColumnAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.elementSizeTable=[],this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1,this.maxElementHeight=0}__extends(i,e);var s=__define,a=i,r=a.prototype;return s(r,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(r,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(r,"gap",function(){return this._gap},function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(r,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),r.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},r.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},r.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=this.getElementTotalSize(),n=Math.max(this.maxElementHeight,t),s=this.target.getElementIndicesInView(),a=s.length,r=0;a>r;r++){var o=s[r],h=this.target.getElementAt(o);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,u=h.preferredHeight;i+=l,i-=isNaN(this.elementSizeTable[o])?e:this.elementSizeTable[o],n=Math.max(n,u)}}var d=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingLeft)?d:this._paddingLeft,p=isNaN(this._paddingRight)?d:this._paddingRight,_=isNaN(this._paddingTop)?d:this._paddingTop,g=isNaN(this._paddingBottom)?d:this._paddingBottom,v=c+p,f=_+g;this.target.measuredWidth=Math.ceil(i+v),this.target.measuredHeight=Math.ceil(n+f)},r.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;t>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r=a.preferredWidth,o=a.preferredHeight;i+=r,n=Math.max(n,o)}else e--}var h=isNaN(this._gap)?0:this._gap;i+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,u=isNaN(this._paddingLeft)?l:this._paddingLeft,d=isNaN(this._paddingRight)?l:this._paddingRight,c=isNaN(this._paddingTop)?l:this._paddingTop,p=isNaN(this._paddingBottom)?l:this._paddingBottom,_=u+d,g=c+p;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},r.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(s+a),Math.ceil(r+o))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},r.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var s;return this.target&&(s=this.target.getElementAt(t)),s?s.x:i}for(var a=this.typicalLayoutRect?this.typicalLayoutRect.width:71,r=i,o=0;t>o;o++){var h=this.elementSizeTable[o];isNaN(h)&&(h=a),r+=h+n}return r},r.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.width:71),e}return this.target?this.target.getElementAt(t).width:0},r.getElementTotalSize=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.width:71,e=isNaN(this._gap)?0:this._gap,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.elementSizeTable[s];isNaN(a)&&(a=t),i+=a+e}return i-=e},r.elementAdded=function(t){if(this.useVirtualLayout){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.width:71;this.elementSizeTable.splice(t,0,i)}},r.elementRemoved=function(t){this.useVirtualLayout&&(e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1))},r.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)},r.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),a=this.getElementSize(n),r=isNaN(this._gap)?0:this._gap;return t>=s&&s+a+r>t?n:e==i?-1:s>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},r.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},r.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?t:this._paddingLeft,i=isNaN(this._paddingRight)?t:this._paddingRight,n=(isNaN(this._paddingTop)?t:this._paddingTop,isNaN(this._paddingBottom)?t:this._paddingBottom,this.target.numElements),s=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,a=this.target.horizontalScrollPosition;if(a>s-i)return this.startIndex=-1,this.endIndex=-1,!1;var r=this.target.horizontalScrollPosition+this.target.width;if(e>r)return this.startIndex=-1,this.endIndex=-1,!1;var o=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(a,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(r,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),o!=this.startIndex||h!=this.endIndex},r.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n,s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingRight)?s:this._paddingRight,r=isNaN(this._paddingTop)?s:this._paddingTop,o=isNaN(this._paddingBottom)?s:this._paddingBottom,h=isNaN(this._gap)?0:this._gap,l=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return n=this.getStartPosition(l)-h+a,void this.target.setContentSize(Math.ceil(n),this.target.contentHeight);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var u=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,d=this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,c=0;u||(this._verticalAlign==t.VerticalAlign.MIDDLE?c=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(c=1));var p,_=Math.max(0,i-r-o),g=Math.ceil(_),v=this.typicalLayoutRect?this.typicalLayoutRect.height:22,f=this.typicalLayoutRect?this.typicalLayoutRect.width:71,m=Math.max(v,this.maxElementHeight);if(d){for(var E=this.startIndex;E<=this.endIndex;E++)p=this.target.getVirtualElementAt(E),p&&p.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,p.preferredHeight));g=Math.ceil(Math.max(_,this.maxElementHeight))}for(var y,C=0,S=0,I=0,T=!1,x=this.startIndex;x<=this.endIndex;x++){var P=0;p=this.target.getVirtualElementAt(x),p&&(p.includeInLayout?(u?(S=r,p.setLayoutBoundsSize(0/0,g)):(P=(_-p.layoutBoundsHeight)*c,P=P>0?P:0,S=r+P),d||(this.maxElementHeight=Math.max(this.maxElementHeight,p.preferredHeight)),I=Math.max(I,p.layoutBoundsHeight),T||(y=isNaN(this.elementSizeTable[x])?f:this.elementSizeTable[x],y!=p.layoutBoundsWidth&&(T=!0)),0==x&&this.elementSizeTable.length>0&&this.elementSizeTable[x]!=p.layoutBoundsWidth&&(this.typicalLayoutRect=null),this.elementSizeTable[x]=p.layoutBoundsWidth,C=this.getStartPosition(x),p.setLayoutBoundsPosition(Math.round(C),Math.round(S))):this.elementSizeTable[x]=0)}I+=r+o,n=this.getStartPosition(l)-h+a,this.target.setContentSize(Math.ceil(n),Math.ceil(I)),(T||m<this.maxElementHeight)&&this.target.invalidateSize()},r.updateDisplayListReal=function(e,s){var a=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?a:this._paddingLeft,o=isNaN(this._paddingRight)?a:this._paddingRight,h=isNaN(this._paddingTop)?a:this._paddingTop,l=isNaN(this._paddingBottom)?a:this._paddingBottom,u=isNaN(this._gap)?0:this._gap,d=Math.max(0,e-r-o),c=Math.max(0,s-h-l),p=this._horizontalAlign==t.HorizontalAlign.JUSTIFY,_=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,g=0;_||(this._verticalAlign==t.VerticalAlign.MIDDLE?g=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(g=1));var v,f,m,E=this.target.numElements,y=E,C=r,S=h,I=0,T=0,x=[],P=d;for(v=0;E>v;v++)f=this.target.getElementAt(v),f&&f.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,f.preferredHeight),p?I+=f.preferredWidth:isNaN(f.percentWidth)?P-=f.preferredWidth:(T+=f.percentWidth,m=new n,m.layoutElement=f,m.percent=f.percentWidth,m.min=f.minWidth,m.max=f.maxWidth,x.push(m))):y--;P-=u*(y-1),P=P>0?P:0;var L,D=d-I-u*(y-1),A=y,R=[];if(p){if(0>D){for(L=P/y,v=0;E>v;v++)if(f=this.target.getElementAt(v),f&&f.includeInLayout){var N=f.preferredWidth;L>=N&&(P-=N,A--)}P=P>0?P:0}}else if(T>0){i.flexChildrenProportionally(d,P,T,x);var w=0,U=x.length;for(v=0;U>v;v++){m=x[v];var H=Math.round(m.size+w);w+=m.size-H,R[m.layoutElement.hashCode]=H,P-=H}P=P>0?P:0}this._horizontalAlign==t.HorizontalAlign.CENTER?C=r+.5*P:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(C=r+P);var b=r,O=h,M=0,B=0,V=Math.ceil(c);this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(c,this.maxElementHeight))),w=0;var F,k;for(v=0;E>v;v++){var z=0;if(f=this.target.getElementAt(v),f&&f.includeInLayout){if(F=0/0,p?(k=0/0,D>0?k=P*f.preferredWidth/I:0>D&&f.preferredWidth>L&&(k=P/A),isNaN(k)||(F=Math.round(k+w),w+=k-F)):F=R[f.hashCode],_)S=h,f.setLayoutBoundsSize(F,V);else{var G=0/0;if(!isNaN(f.percentHeight)){var W=Math.min(100,f.percentHeight);G=Math.round(c*W*.01)}f.setLayoutBoundsSize(F,G),z=(c-f.layoutBoundsHeight)*g,z=z>0?z:0,S=h+z}f.setLayoutBoundsPosition(Math.round(C),Math.round(S)),M=Math.ceil(f.layoutBoundsWidth),B=Math.ceil(f.layoutBoundsHeight),b=Math.max(b,C+M),O=Math.max(O,S+B),C+=M+u}}this.target.setContentSize(Math.ceil(b+o),Math.ceil(O+l))},i.flexChildrenProportionally=function(t,e,i,n){var s,a=n.length;do{s=!0;var r=e-t*i/100;r>0?e-=r:r=0;for(var o=e/i,h=0;a>h;h++){var l=n[h],u=l.percent*o;if(u<l.min){var d=l.min;l.size=d,n[h]=n[--a],n[a]=l,i-=l.percent,r>=d?r-=d:(e-=d-r,r=0),s=!1;break}if(u>l.max){var c=l.max;l.size=c,n[h]=n[--a],n[a]=l,i-=l.percent,r>=c?r-=c:(e-=c-r,r=0),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.HorizontalLayout=i,t.registerClass(i,"egret.gui.HorizontalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}var e=(__define,t);e.prototype;return t}();t.registerClass(n,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.TOP="top",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_HEIGHT="justifyUsingHeight",t}();e.RowAlign=i,t.registerClass(i,"egret.gui.RowAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.explicitHorizontalGap=0/0,this._horizontalGap=6,this.explicitVerticalGap=0/0,this._verticalGap=6,this._columnCount=-1,this._requestedColumnCount=0,this._rowCount=-1,this._requestedRowCount=0,this.explicitColumnWidth=0/0,this._columnWidth=0/0,this.explicitRowHeight=0/0,this._rowHeight=0/0,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this._horizontalAlign=t.HorizontalAlign.JUSTIFY,this._verticalAlign=t.VerticalAlign.JUSTIFY,this._columnAlign=e.ColumnAlign.LEFT,this._rowAlign=e.RowAlign.TOP,this._orientation=e.TileOrientation.ROWS,this.maxElementWidth=0,this.maxElementHeight=0,this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1}__extends(n,i);var s=__define,a=n,r=a.prototype;return s(r,"horizontalGap",function(){return this._horizontalGap},function(t){t!=this._horizontalGap&&(this.explicitHorizontalGap=t,this._horizontalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(r,"verticalGap",function(){return this._verticalGap},function(t){t!=this._verticalGap&&(this.explicitVerticalGap=t,this._verticalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(r,"columnCount",function(){return this._columnCount}),s(r,"requestedColumnCount",function(){return this._requestedColumnCount},function(t){this._requestedColumnCount!=t&&(this._requestedColumnCount=t,this._columnCount=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"rowCount",function(){return this._rowCount}),s(r,"requestedRowCount",function(){return this._requestedRowCount},function(t){this._requestedRowCount!=t&&(this._requestedRowCount=t,this._rowCount=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"columnWidth",function(){return this._columnWidth},function(t){t!=this._columnWidth&&(this.explicitColumnWidth=t,this._columnWidth=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"rowHeight",function(){return this._rowHeight},function(t){t!=this._rowHeight&&(this.explicitRowHeight=t,this._rowHeight=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"columnAlign",function(){return this._columnAlign},function(t){this._columnAlign!=t&&(this._columnAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"rowAlign",function(){return this._rowAlign},function(t){this._rowAlign!=t&&(this._rowAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"orientation",function(){return this._orientation},function(t){this._orientation!=t&&(this._orientation=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("orientationChanged")&&this.dispatchEventWith("orientationChanged"))}),r.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},r.measure=function(){if(this.target){var t=this._columnCount,e=this._rowCount,i=this._columnWidth,n=this._rowHeight,s=0,a=0;this.calculateRowAndColumn(this.target.$getExplicitWidth(),this.target.$getExplicitHeight());var r=this._requestedColumnCount>0?this._requestedColumnCount:this._columnCount,o=this._requestedRowCount>0?this._requestedRowCount:this._rowCount,h=isNaN(this._horizontalGap)?0:this._horizontalGap,l=isNaN(this._verticalGap)?0:this._verticalGap;r>0&&(s=r*(this._columnWidth+h)-h),o>0&&(a=o*(this._rowHeight+l)-l);var u=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?u:this._paddingLeft,c=isNaN(this._paddingRight)?u:this._paddingRight,p=isNaN(this._paddingTop)?u:this._paddingTop,_=isNaN(this._paddingBottom)?u:this._paddingBottom,g=d+c,v=p+_;this.target.measuredWidth=Math.ceil(s+g),this.target.measuredHeight=Math.ceil(a+v),this._columnCount=t,this._rowCount=e,this._columnWidth=i,this._rowHeight=n}},r.calculateRowAndColumn=function(t,i){var n=isNaN(this._horizontalGap)?0:this._horizontalGap,s=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var a=this.target.numElements,r=a,o=0;r>o;o++){var h=this.target.getElementAt(o);h&&!h.includeInLayout&&a--}if(0==a)return void(this._rowCount=this._columnCount=0);(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize(),isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth,isNaN(this.explicitRowHeight)?this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;var l=this._columnWidth+n;0>=l&&(l=1);var u=this._rowHeight+s;0>=u&&(u=1);var d=this.orientation==e.TileOrientation.COLUMNS,c=!isNaN(t),p=!isNaN(i),_=isNaN(this._padding)?0:this._padding,g=isNaN(this._paddingLeft)?_:this._paddingLeft,v=isNaN(this._paddingRight)?_:this._paddingRight,f=isNaN(this._paddingTop)?_:this._paddingTop,m=isNaN(this._paddingBottom)?_:this._paddingBottom;if(this._requestedColumnCount>0||this._requestedRowCount>0)this._requestedRowCount>0&&(this._rowCount=Math.min(this._requestedRowCount,a)),this._requestedColumnCount>0&&(this._columnCount=Math.min(this._requestedColumnCount,a));else if(c||p)if(!c||p&&d){var E=Math.max(0,i-f-m);this._rowCount=Math.floor((E+s)/u),this._rowCount=Math.max(1,Math.min(this._rowCount,a))}else{var y=Math.max(0,t-g-v);this._columnCount=Math.floor((y+n)/l),this._columnCount=Math.max(1,Math.min(this._columnCount,a))}else{var C=Math.sqrt(a*l*u);d?this._rowCount=Math.max(1,Math.round(C/u)):this._columnCount=Math.max(1,Math.round(C/l))}-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(a/this._columnCount))),-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(a/this._rowCount))),this._requestedColumnCount>0&&this._requestedRowCount>0&&(this.orientation==e.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(a/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(a/this._requestedRowCount)))},r.updateMaxElementSize=function(){this.target&&(this.useVirtualLayout?this.updateMaxElementSizeVirtual():this.updateMaxElementSizeReal())},r.updateMaxElementSizeVirtual=function(){var t=this.typicalLayoutRect?this.typicalLayoutRect.height:22,e=this.typicalLayoutRect?this.typicalLayoutRect.width:22;if(this.maxElementWidth=Math.max(this.maxElementWidth,e),this.maxElementHeight=Math.max(this.maxElementHeight,t),-1!=this.startIndex&&-1!=this.endIndex)for(var i=this.startIndex;i<=this.endIndex;i++){var n=this.target.getVirtualElementAt(i);n&&n.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,n.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,n.preferredHeight))}},r.updateMaxElementSizeReal=function(){for(var t=this.target.numElements,e=0;t>e;e++){var i=this.target.getElementAt(e);i&&i.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,i.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,i.preferredHeight))}},r.clearVirtualLayoutCache=function(){i.prototype.clearVirtualLayoutCache.call(this),this.maxElementWidth=0,this.maxElementHeight=0},r.scrollPositionChanged=function(){if(i.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},r.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;var t=this.target.numElements;if(!this.useVirtualLayout)return this.startIndex=0,this.endIndex=t-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var i=this.startIndex,n=this.endIndex,s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?s:this._paddingLeft,r=isNaN(this._paddingTop)?s:this._paddingTop,o=isNaN(this._horizontalGap)?0:this._horizontalGap,h=isNaN(this._verticalGap)?0:this._verticalGap;if(this.orientation==e.TileOrientation.COLUMNS){var l=this._columnWidth+o;if(0>=l)return this.startIndex=0,this.endIndex=t-1,!1;var u=this.target.horizontalScrollPosition,d=this.target.horizontalScrollPosition+this.target.width,c=Math.floor((u-a)/l);0>c&&(c=0);var p=Math.ceil((d-a)/l);0>p&&(p=0),this.startIndex=Math.min(t-1,Math.max(0,c*this._rowCount)),this.endIndex=Math.min(t-1,Math.max(0,p*this._rowCount-1))}else{var _=this._rowHeight+h;if(0>=_)return this.startIndex=0,this.endIndex=t-1,!1;var g=this.target.verticalScrollPosition,v=this.target.verticalScrollPosition+this.target.height,f=Math.floor((g-r)/_);0>f&&(f=0);var m=Math.ceil((v-r)/_);0>m&&(m=0),this.startIndex=Math.min(t-1,Math.max(0,f*this._columnCount)),this.endIndex=Math.min(t-1,Math.max(0,m*this._columnCount-1))}return this.startIndex!=i||this.endIndex!=n},r.updateDisplayList=function(t,n){if(i.prototype.updateDisplayList.call(this,t,n),this.target){var s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?s:this._paddingLeft,r=isNaN(this._paddingRight)?s:this._paddingRight,o=isNaN(this._paddingTop)?s:this._paddingTop,h=isNaN(this._paddingBottom)?s:this._paddingBottom;
if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{if(this.calculateRowAndColumn(t,n),0==this._rowCount||0==this._columnCount)return void this.target.setContentSize(a+r,o+h);this.adjustForJustify(t,n),this.getIndexInView()}if(this.useVirtualLayout&&(this.calculateRowAndColumn(t,n),this.adjustForJustify(t,n)),-1==this.startIndex||-1==this.endIndex)return void this.target.setContentSize(0,0);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);for(var l,u,d,c,p,_=this.orientation==e.TileOrientation.COLUMNS,g=this.startIndex,v=isNaN(this._horizontalGap)?0:this._horizontalGap,f=isNaN(this._verticalGap)?0:this._verticalGap,m=this.startIndex;m<=this.endIndex;m++)l=this.useVirtualLayout?this.target.getVirtualElementAt(m):this.target.getElementAt(m),null!=l&&l.includeInLayout&&(_?(c=Math.ceil((g+1)/this._rowCount)-1,p=Math.ceil((g+1)%this._rowCount)-1,-1==p&&(p=this._rowCount-1)):(c=Math.ceil((g+1)%this._columnCount)-1,-1==c&&(c=this._columnCount-1),p=Math.ceil((g+1)/this._columnCount)-1),u=c*(this._columnWidth+v)+a,d=p*(this._rowHeight+f)+o,this.sizeAndPositionElement(l,u,d,this._columnWidth,this.rowHeight),g++);var E=a+r,y=o+h,C=(this._columnWidth+v)*this._columnCount-v,S=(this._rowHeight+f)*this._rowCount-f;this.target.setContentSize(Math.ceil(C+E),Math.ceil(S+y))}},r.sizeAndPositionElement=function(e,i,n,s,a){var r=0/0,o=0/0;this.horizontalAlign==t.HorizontalAlign.JUSTIFY?r=s:isNaN(e.percentWidth)||(r=s*e.percentWidth*.01),this.verticalAlign==t.VerticalAlign.JUSTIFY?o=a:isNaN(e.percentHeight)||(o=a*e.percentHeight*.01),e.setLayoutBoundsSize(Math.round(r),Math.round(o));var h=i;switch(this.horizontalAlign){case t.HorizontalAlign.RIGHT:h+=s-e.layoutBoundsWidth;break;case t.HorizontalAlign.CENTER:h=i+(s-e.layoutBoundsWidth)/2}var l=n;switch(this.verticalAlign){case t.VerticalAlign.BOTTOM:l+=a-e.layoutBoundsHeight;break;case t.VerticalAlign.MIDDLE:l+=(a-e.layoutBoundsHeight)/2}e.setLayoutBoundsPosition(Math.round(h),Math.round(l))},r.adjustForJustify=function(t,i){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom,h=Math.max(0,t-s-a),l=Math.max(0,i-r-o);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap),isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap),this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap,this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;var u=this._columnWidth+this._horizontalGap;0>=u&&(u=1);var d=this._rowHeight+this._verticalGap;0>=d&&(d=1);var c,p=l-this._rowHeight*this._rowCount,_=h-this._columnWidth*this._columnCount;p>0&&(this.rowAlign==e.RowAlign.JUSTIFY_USING_GAP?(c=Math.max(1,this._rowCount-1),this._verticalGap=p/c):this.rowAlign==e.RowAlign.JUSTIFY_USING_HEIGHT&&this._rowCount>0&&(this._rowHeight+=(p-(this._rowCount-1)*this._verticalGap)/this._rowCount)),_>0&&(this.columnAlign==e.ColumnAlign.JUSTIFY_USING_GAP?(c=Math.max(1,this._columnCount-1),this._horizontalGap=_/c):this.columnAlign==e.ColumnAlign.JUSTIFY_USING_WIDTH&&this._columnCount>0&&(this._columnWidth+=(_-(this._columnCount-1)*this._horizontalGap)/this._columnCount))},n}(e.LayoutBase);e.TileLayout=i,t.registerClass(i,"egret.gui.TileLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.ROWS="rows",t.COLUMNS="columns",t}();e.TileOrientation=i,t.registerClass(i,"egret.gui.TileOrientation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.elementSizeTable=[],this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1,this.maxElementWidth=0}__extends(i,e);var s=__define,a=i,r=a.prototype;return s(r,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(r,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(r,"gap",function(){return this._gap},function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(r,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(r,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),r.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},r.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},r.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=Math.max(this.maxElementWidth,e),n=this.getElementTotalSize(),s=this.target.getElementIndicesInView(),a=s.length,r=0;a>r;r++){var o=s[r],h=this.target.getElementAt(o);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,u=h.preferredHeight;n+=u,n-=isNaN(this.elementSizeTable[o])?t:this.elementSizeTable[o],i=Math.max(i,l)}}var d=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingLeft)?d:this._paddingLeft,p=isNaN(this._paddingRight)?d:this._paddingRight,_=isNaN(this._paddingTop)?d:this._paddingTop,g=isNaN(this._paddingBottom)?d:this._paddingBottom,v=c+p,f=_+g;this.target.measuredWidth=Math.ceil(i+v),this.target.measuredHeight=Math.ceil(n+f)},r.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;t>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r=a.preferredWidth,o=a.preferredHeight;n+=o,i=Math.max(i,r)}else e--}var h=isNaN(this._gap)?0:this._gap;n+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,u=isNaN(this._paddingLeft)?l:this._paddingLeft,d=isNaN(this._paddingRight)?l:this._paddingRight,c=isNaN(this._paddingTop)?l:this._paddingTop,p=isNaN(this._paddingBottom)?l:this._paddingBottom,_=u+d,g=c+p;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},r.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(s+a),Math.ceil(r+o))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},r.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingTop)?e:this._paddingTop,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var s;return this.target&&(s=this.target.getElementAt(t)),s?s.y:i}for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,r=i,o=0;t>o;o++){var h=this.elementSizeTable[o];isNaN(h)&&(h=a),r+=h+n}return r},r.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.height:22),e}return this.target?this.target.getElementAt(t).height:0},r.getElementTotalSize=function(){for(var t=isNaN(this._gap)?0:this._gap,e=this.typicalLayoutRect?this.typicalLayoutRect.height:22,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.elementSizeTable[s];isNaN(a)&&(a=e),i+=a+t}return i-=t},r.elementAdded=function(t){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.height:22;this.elementSizeTable.splice(t,0,i)},r.elementRemoved=function(t){e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1)},r.clearVirtualLayoutCache=function(){e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementWidth=0},r.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),a=this.getElementSize(n),r=isNaN(this._gap)?0:this._gap;return t>=s&&s+a+r>t?n:e==i?-1:s>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},r.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},r.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingTop)?t:this._paddingTop,i=isNaN(this._paddingBottom)?t:this._paddingBottom,n=this.target.numElements,s=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,a=this.target.verticalScrollPosition;if(a>s-i)return this.startIndex=-1,this.endIndex=-1,!1;var r=this.target.verticalScrollPosition+this.target.height;if(e>r)return this.startIndex=-1,this.endIndex=-1,!1;var o=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(a,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(r,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),o!=this.startIndex||h!=this.endIndex},r.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n,s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?s:this._paddingLeft,r=isNaN(this._paddingRight)?s:this._paddingRight,o=isNaN(this._paddingBottom)?s:this._paddingBottom,h=isNaN(this._gap)?0:this._gap,l=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return n=this.getStartPosition(l)-h+o,void this.target.setContentSize(this.target.contentWidth,Math.ceil(n));this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var u=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,d=this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,c=0;u||(this._horizontalAlign==t.HorizontalAlign.CENTER?c=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(c=1));var p,_=Math.max(0,e-a-r),g=Math.ceil(_),v=this.typicalLayoutRect?this.typicalLayoutRect.height:22,f=this.typicalLayoutRect?this.typicalLayoutRect.width:71,m=Math.max(f,this.maxElementWidth);if(d){for(var E=this.startIndex;E<=this.endIndex;E++)p=this.target.getVirtualElementAt(E),p&&p.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,p.preferredWidth));g=Math.ceil(Math.max(_,this.maxElementWidth))}for(var y,C=0,S=0,I=0,T=!1,x=this.startIndex;x<=this.endIndex;x++){var P=0;p=this.target.getVirtualElementAt(x),p&&(p.includeInLayout?(u?(C=a,p.setLayoutBoundsSize(g,0/0)):(P=(_-p.layoutBoundsWidth)*c,P=P>0?P:0,C=a+P),d||(this.maxElementWidth=Math.max(this.maxElementWidth,p.preferredWidth)),I=Math.max(I,p.layoutBoundsWidth),T||(y=isNaN(this.elementSizeTable[x])?v:this.elementSizeTable[x],y!=p.layoutBoundsHeight&&(T=!0)),0==x&&this.elementSizeTable.length>0&&this.elementSizeTable[x]!=p.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[x]=p.layoutBoundsHeight,S=this.getStartPosition(x),p.setLayoutBoundsPosition(Math.round(C),Math.round(S))):this.elementSizeTable[x]=0)}I+=a+r,n=this.getStartPosition(l)-h+o,this.target.setContentSize(Math.ceil(I),Math.ceil(n)),(T||m<this.maxElementWidth)&&this.target.invalidateSize()},r.updateDisplayListReal=function(e,s){var a=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?a:this._paddingLeft,o=isNaN(this._paddingRight)?a:this._paddingRight,h=isNaN(this._paddingTop)?a:this._paddingTop,l=isNaN(this._paddingBottom)?a:this._paddingBottom,u=isNaN(this._gap)?0:this._gap,d=Math.max(0,e-r-o),c=Math.max(0,s-h-l),p=this._verticalAlign==t.VerticalAlign.JUSTIFY,_=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,g=0;_||(this._horizontalAlign==t.HorizontalAlign.CENTER?g=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(g=1));var v,f,m,E=this.target.numElements,y=E,C=r,S=h,I=0,T=0,x=[],P=c;for(v=0;E>v;v++)f=this.target.getElementAt(v),f&&f.includeInLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,f.preferredWidth),p?I+=f.preferredHeight:isNaN(f.percentHeight)?P-=f.preferredHeight:(T+=f.percentHeight,m=new n,m.layoutElement=f,m.percent=f.percentHeight,m.min=f.minHeight,m.max=f.maxHeight,x.push(m))):y--;P-=(y-1)*u,P=P>0?P:0;var L,D=c-I-u*(y-1),A=y,R=[];if(p){if(0>D){for(L=P/y,v=0;E>v;v++)if(f=this.target.getElementAt(v),f&&f.includeInLayout){var N=f.preferredHeight;L>=N&&(P-=N,A--)}P=P>0?P:0}}else if(T>0){i.flexChildrenProportionally(c,P,T,x);var w=0,U=x.length;for(v=0;U>v;v++){m=x[v];var H=Math.round(m.size+w);w+=m.size-H,R[m.layoutElement.hashCode]=H,P-=H}P=P>0?P:0}this._verticalAlign==t.VerticalAlign.MIDDLE?S=h+.5*P:this._verticalAlign==t.VerticalAlign.BOTTOM&&(S=h+P);var b=r,O=h,M=0,B=0,V=Math.ceil(d);this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(d,this.maxElementWidth))),w=0;var F,k=0/0;for(v=0;E>v;v++){var z=0;if(f=this.target.getElementAt(v),f&&f.includeInLayout){if(k=0/0,p?(F=0/0,D>0?F=P*f.preferredHeight/I:0>D&&f.preferredHeight>L&&(F=P/A),isNaN(F)||(k=Math.round(F+w),w+=F-k)):k=R[f.hashCode],_)C=r,f.setLayoutBoundsSize(V,k);else{var G=0/0;if(!isNaN(f.percentWidth)){var W=Math.min(100,f.percentWidth);G=Math.round(d*W*.01)}f.setLayoutBoundsSize(G,k),z=(d-f.layoutBoundsWidth)*g,z=z>0?z:0,C=r+z}f.setLayoutBoundsPosition(Math.round(C),Math.round(S)),M=Math.ceil(f.layoutBoundsWidth),B=Math.ceil(f.layoutBoundsHeight),b=Math.max(b,C+M),O=Math.max(O,S+B),S+=B+u}}this.target.setContentSize(Math.ceil(b+o),Math.ceil(O+l))},i.flexChildrenProportionally=function(t,e,i,n){var s,a=n.length;do{s=!0;var r=e-t*i/100;r>0?e-=r:r=0;for(var o=e/i,h=0;a>h;h++){var l=n[h],u=l.percent*o;if(u<l.min){var d=l.min;l.size=d,n[h]=n[--a],n[a]=l,i-=l.percent,r>=d?r-=d:(e-=d-r,r=0),s=!1;break}if(u>l.max){var c=l.max;l.size=c,n[h]=n[--a],n[a]=l,i-=l.percent,r>=c?r-=c:(e-=c-r,r=0),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.VerticalLayout=i,t.registerClass(i,"egret.gui.VerticalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}var e=(__define,t);e.prototype;return t}();t.registerClass(n,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.targetLevel=Number.MAX_VALUE,this.updateCompleteQueue=new e.DepthQueue,this.invalidatePropertiesFlag=!1,this.invalidateClientPropertiesFlag=!1,this.invalidatePropertiesQueue=new e.DepthQueue,this.invalidateSizeFlag=!1,this.invalidateClientSizeFlag=!1,this.invalidateSizeQueue=new e.DepthQueue,this.invalidateDisplayListFlag=!1,this.invalidateDisplayListQueue=new e.DepthQueue,this.listenersAttached=!1}__extends(n,i);var s=(__define,n),a=s.prototype;return a.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},a.validateProperties=function(){for(var t=this.invalidatePropertiesQueue.shift();t;)t.parent&&(t.validateProperties(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidatePropertiesQueue.shift();this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)},a.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},a.validateSize=function(){for(var t=this.invalidateSizeQueue.pop();t;)t.parent&&(t.validateSize(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)},a.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},a.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue.shift();t;)t.parent&&(t.validateDisplayList(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)},a.attachListeners=function(){e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.invalidate(),this.listenersAttached=!0},a.doPhasedInstantiationCallBack=function(i){void 0===i&&(i=null),e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},a.doPhasedInstantiation=function(){if(this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=!1;for(var t=this.updateCompleteQueue.pop();t;)t.initialized||(t.initialized=!0),t.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(t,e.UIEvent.UPDATE_COMPLETE),t.updateCompletePendingFlag=!1,t=this.updateCompleteQueue.pop();e.UIEvent.dispatchUIEvent(this,e.UIEvent.UPDATE_COMPLETE)}},a.validateNow=function(){for(var t=0;this.listenersAttached&&t++<100;)this.doPhasedInstantiationCallBack()},a.validateClient=function(t,i){void 0===i&&(i=!1);var n,s=!1,a=this.targetLevel;for(this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=t.nestLevel);!s;){for(s=!0,n=this.invalidatePropertiesQueue.removeSmallestChild(t);n;)n.parent&&(n.validateProperties(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),n=this.invalidatePropertiesQueue.removeSmallestChild(t);for(this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,n=this.invalidateSizeQueue.removeLargestChild(t);n;){if(n.parent&&(n.validateSize(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}n=this.invalidateSizeQueue.removeLargestChild(t)}if(this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,!i){for(n=this.invalidateDisplayListQueue.removeSmallestChild(t);n;){if(n.parent&&(n.validateDisplayList(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}if(this.invalidateClientSizeFlag&&(n=this.invalidateSizeQueue.removeLargestChild(t))){this.invalidateSizeQueue.insert(n),s=!1;break}n=this.invalidateDisplayListQueue.removeSmallestChild(t)}this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)}}if(a==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!i))for(n=this.updateCompleteQueue.removeLargestChild(t);n;)n.initialized||(n.initialized=!0),n.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(n,e.UIEvent.UPDATE_COMPLETE),n.updateCompletePendingFlag=!1,n=this.updateCompleteQueue.removeLargestChild(t)},n}(t.EventDispatcher);e.LayoutManager=i,t.registerClass(i,"egret.gui.LayoutManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var i=__define,n=t;n.prototype;return t.getImpl=function(){if(!t._impl)try{t._impl=e.$getAdapter("egret.gui.IPopUpManager")}catch(i){t._impl=new e.PopUpManagerImpl}return t._impl},i(t,"modalColor",function(){return t.getImpl().modalColor},function(e){t.getImpl().modalColor=e}),i(t,"modalAlpha",function(){return t.getImpl().modalAlpha},function(e){t.getImpl().modalAlpha=e}),t.addPopUp=function(i,n,s){void 0===n&&(n=!1),void 0===s&&(s=!0),t.getImpl().addPopUp(i,n,s),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.ADD_POPUP,i,n)},t.removePopUp=function(i){t.getImpl().removePopUp(i),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.REMOVE_POPUP,i)},t.centerPopUp=function(e){t.getImpl().centerPopUp(e)},t.bringToFront=function(i){t.getImpl().bringToFront(i),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.BRING_TO_FRONT,i)},i(t,"popUpList",function(){return t.getImpl().popUpList}),t.addEventListener=function(e,i,n,s,a){void 0===s&&(s=!1),void 0===a&&(a=0),t.getImpl().addEventListener(e,i,n,s,a)},t.removeEventListener=function(e,i,n,s){void 0===s&&(s=!1),t.getImpl().removeEventListener(e,i,n,s)},t}();e.PopUpManager=i,t.registerClass(i,"egret.gui.PopUpManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function s(){i.call(this),this._popUpList=[],this.popUpDataList=[],this._modalColor=0,this._modalAlpha=.5,this.invalidateModalFlag=!1,this.modalMask=null}__extends(s,i);var a=__define,r=s,o=r.prototype;return a(o,"popUpList",function(){return this._popUpList.concat()}),o.findPopUpData=function(t){for(var e=this.popUpDataList,i=e.length,n=0;i>n;n++){var s=e[n];if(s.popUp==t)return s}return null},o.addPopUp=function(t,i,a){void 0===i&&(i=!1),void 0===a&&(a=!0);var r=e.UIGlobals.uiStage,o=this.findPopUpData(t);o?(o.modal=i,t.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(o=new n(t,i),this.popUpDataList.push(o),this._popUpList.push(t)),r.popUpContainer.addElement(t),a&&this.centerPopUp(t),"isPopUp"in t&&(t.isPopUp=!0),i&&this.invalidateModal(),t.addEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)},o.onRemoved=function(t){for(var e=0,i=this.popUpDataList,n=i.length,a=0;n>a;a++){var r=i[a];if(r.popUp==t.target){"isPopUp"in r.popUp&&(r.popUp.isPopUp=!1),r.popUp.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this),this.popUpDataList.splice(e,1),this._popUpList.splice(e,1),this.invalidateModal();break}e++}},a(o,"modalColor",function(){return this._modalColor},function(t){this._modalColor!=t&&(this._modalColor=t,this.invalidateModal())}),a(o,"modalAlpha",function(){return this._modalAlpha},function(t){this._modalAlpha!=t&&(this._modalAlpha=t,this.invalidateModal())}),o.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.validateModal,this),e.UIGlobals.stage.invalidate())},o.validateModal=function(i){this.invalidateModalFlag=!1,e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.validateModal,this),this.updateModal(e.UIGlobals.uiStage)},o.updateModal=function(t){for(var i=t.popUpContainer,n=!1,s=i.numElements-1;s>=0;s--){var a=i.getElementAt(s),r=this.findPopUpData(a);if(r&&r.modal){n=!0;break}}n?(this.modalMask||(this.modalMask=new e.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==t?(i.getElementIndex(this.modalMask)<s&&s--,i.setElementIndex(this.modalMask,s)):i.addElementAt(this.modalMask,s)):this.modalMask&&this.modalMask.parent==t&&i.removeElement(this.modalMask)},o.removePopUp=function(i){i&&i.parent&&this.findPopUpData(i)&&("removeElement"in i.parent?i.parent.removeElement(i):i.parent instanceof e.UIComponent?i.parent._removeFromDisplayList(i):i instanceof t.DisplayObject&&i.parent.removeChild(i))},o.centerPopUp=function(t){t.top=t.bottom=t.left=t.right=0/0,t.verticalCenter=t.horizontalCenter=0;var e=t.parent;e&&("validateNow"in t&&t.validateNow(),t.x=.5*(e.width-t.layoutBoundsWidth),t.y=.5*(e.height-t.layoutBoundsHeight))},o.bringToFront=function(t){var e=this.findPopUpData(t);if(e&&t.parent&&"popUpContainer"in t.parent){var i=t.parent;i.popUpContainer.setElementIndex(t,i.popUpContainer.numElements-1),this.invalidateModal()}},s.REMOVE_FROM_UISTAGE="removeFromUIStage",s}(t.EventDispatcher);e.PopUpManagerImpl=i,t.registerClass(i,"egret.gui.PopUpManagerImpl",["egret.gui.IPopUpManager","egret.IEventDispatcher"]);var n=function(){function t(t,e){this.popUp=null,this.modal=!1,this.popUp=t,this.modal=e}var e=(__define,t);e.prototype;return t}();t.registerClass(n,"PopUpData")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this.depthBins=[],this.minDepth=0,this.maxDepth=-1}var i=(__define,e),s=i.prototype;return s.insert=function(t){var e=t.nestLevel,i=t.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var s=this.depthBins[e];s?null==s.items[i]&&(s.items[i]=t,s.length++):(s=new n,this.depthBins[e]=s,s.items[i]=t,s.length++)},s.pop=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.maxDepth];!e||0==e.length;){if(this.maxDepth--,this.maxDepth<this.minDepth)return null;e=this.depthBins[this.maxDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.maxDepth);break}for(;!(e&&0!=e.length||(this.maxDepth--,this.maxDepth<this.minDepth));)e=this.depthBins[this.maxDepth]}return t},s.shift=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.minDepth];!e||0==e.length;){if(this.minDepth++,this.minDepth>this.maxDepth)return null;e=this.depthBins[this.minDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.minDepth);break}for(;!(e&&0!=e.length||(this.minDepth++,this.minDepth>this.maxDepth));)e=this.depthBins[this.minDepth]}return t},s.removeLargestChild=function(e){for(var i=this.maxDepth,n=e.nestLevel,s=e.hashCode;i>=n;){var a=this.depthBins[i];if(a&&a.length>0){if(i==e.nestLevel){if(a.items[s])return this.remove(e,i),e}else{var r=a.items;for(var o in r){var h=r[o];if(h instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(h))return this.remove(h,i),h}}i--}else if(i==this.maxDepth&&this.maxDepth--,i--,n>i)break}return null},s.removeSmallestChild=function(e){for(var i=e.nestLevel,n=e.hashCode;i<=this.maxDepth;){var s=this.depthBins[i];if(s&&s.length>0){if(i==e.nestLevel){if(s.items[n])return this.remove(e,i),e}else{var a=s.items;for(var r in a){var o=a[r];if(o instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(o))return this.remove(o,i),o}}i++}else if(i==this.minDepth&&this.minDepth++,i++,i>this.maxDepth)break}return null},s.remove=function(t,e){void 0===e&&(e=-1);var i=e>=0?e:t.nestLevel,n=t.hashCode,s=this.depthBins[i];return s&&null!=s.items[n]?(delete s.items[n],s.length--,t):null},s.removeAll=function(){this.depthBins.length=0,this.minDepth=0,this.maxDepth=-1},s.isEmpty=function(){return this.minDepth>this.maxDepth},e}();e.DepthQueue=i,t.registerClass(i,"egret.gui.DepthQueue");var n=function(){function t(){this.length=0,this.items=[]}var e=(__define,t);e.prototype;return t}();e.DepthBin=n,t.registerClass(n,"egret.gui.DepthBin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initialize=function(t){},n.apply=function(t){},n.remove=function(t){},n.initializeFromObject=function(t){for(var e in t)this[e]=t[e];return this},e}(t.HashObject);e.OverrideBase=i,t.registerClass(i,"egret.gui.OverrideBase",["egret.gui.IOverride"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e,n,s,a){t.call(this),this.propertyName="",this.position=i.LAST,this.relativeTo=null,this.target=null,this.target=e,this.propertyName=n,this.position=s,this.relativeTo=a}__extends(i,t);var n=(__define,i),s=n.prototype;return s.initialize=function(t){var i=t[this.target];if(i&&!(i instanceof e.SkinnableComponent)&&"_initialize"in i)try{i._initialize()}catch(n){}},s.apply=function(t){var e,n;try{n=t[this.relativeTo]}catch(s){}var a=t[this.target],r=this.propertyName?t[this.propertyName]:t;if(a&&r){switch(this.position){case i.FIRST:e=0;break;case i.LAST:e=-1;break;case i.BEFORE:e=r.getElementIndex(n);break;case i.AFTER:e=r.getElementIndex(n)+1}-1==e&&(e=r.numElements),r.addElementAt(a,e)}},s.remove=function(t){var e=null==this.propertyName||""==this.propertyName?t:t[this.propertyName],i=t[this.target];i&&e&&-1!=e.getElementIndex(i)&&e.removeElement(i)},i.FIRST="first",i.LAST="last",i.BEFORE="before",i.AFTER="after",i}(e.OverrideBase);e.AddItems=i,t.registerClass(i,"egret.gui.AddItems")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.END="end",t.STOP="stop",t}();e.InterruptionBehavior=i,t.registerClass(i,"egret.gui.InterruptionBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n){t.call(this),this.name=null,this.target=null,this.value=null,this.oldValue=null,this.target=e,this.name=i,this.value=n}__extends(e,t);var i=(__define,e),n=i.prototype;return n.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e[this.name],this.setPropertyValue(e,this.name,this.value,this.oldValue))},n.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setPropertyValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)},n.setPropertyValue=function(t,e,i,n){void 0===i||null===i?t[e]=i:"number"==typeof n?t[e]=parseFloat(i):"boolean"==typeof n?t[e]=this.toBoolean(i):t[e]=i},n.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(e.OverrideBase);e.SetProperty=i,t.registerClass(i,"egret.gui.SetProperty")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n){t.call(this),this.target=e,this.name=i,this.value=n}__extends(e,t);var i=(__define,e),n=i.prototype;return n.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e.getStyle(this.name),this.setStyleValue(e,this.name,this.value,this.oldValue))},n.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setStyleValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)
},n.setStyleValue=function(t,e,i,n){void 0===i?t.clearStyle(e):null===i?t.setStyle(e,i):"number"==typeof n?t.setStyle(e,parseFloat(i)):"boolean"==typeof n?t.setStyle(e,this.toBoolean(i)):t.setStyle(e,i)},n.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(e.OverrideBase);e.SetStyle=i,t.registerClass(i,"egret.gui.SetStyle")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i){t.call(this),this.initialized=!1,this.name=null,this.name=e,this.overrides=i}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initialize=function(t){if(!this.initialized){this.initialized=!0;for(var e=0;e<this.overrides.length;e++)this.overrides[e].initialize(t)}},e}(t.HashObject);e.State=i,t.registerClass(i,"egret.gui.State")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this.fromState="*",this.toState="*",this.autoReverse=!1,this.interruptionBehavior=e.InterruptionBehavior.END}var i=(__define,t);i.prototype;return t}();e.Transition=i,t.registerClass(i,"egret.gui.Transition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t,e,i){void 0===i&&(i=""),r.mapClass(t,e,i)}function n(t,e){return void 0===e&&(e=""),r.getInstance(t,e)}function s(t,e,i){void 0===i&&(i=""),r.mapValue(t,e,i)}e.mapClass=i,e.$getAdapter=n,e.mapValue=s;var a=function(){function e(){this.mapClassDic={},this.mapValueDic={}}var i=(__define,e),n=i.prototype;return n.mapClass=function(t,e,i){void 0===i&&(i="");var n=this.getKey(t)+"#"+i;this.mapClassDic[n]=e},n.getKey=function(e){return"string"==typeof e?e:t.getQualifiedClassName(e)},n.mapValue=function(t,e,i){void 0===i&&(i="");var n=this.getKey(t)+"#"+i;this.mapValueDic[n]=e},n.getInstance=function(e,i){void 0===i&&(i="");var n=this.getKey(e)+"#"+i;if(this.mapValueDic[n])return this.mapValueDic[n];var s=this.mapClassDic[n];if(s){var a=new s;return this.mapValueDic[n]=a,delete this.mapClassDic[n],a}throw new Error("#"+t.sys.tr(1028)+": "+n)},e}();e.Adapter=a,t.registerClass(a,"egret.gui.Adapter");var r=new a}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.adjustRelativeByXY=function(t,e){if(void 0===e&&(e=null),t&&(e||(e=t.parent),e)){var i=t.x,n=t.y,s=t.layoutBoundsHeight,a=t.layoutBoundsWidth,r=e.width,o=e.height;isNaN(t.left)||(t.left=i),isNaN(t.right)||(t.right=r-i-a),isNaN(t.horizontalCenter)||(t.horizontalCenter=i+.5*a-.5*r),isNaN(t.top)||(t.top=n),isNaN(t.bottom)||(t.bottom=o-n-s),isNaN(t.verticalCenter)||(t.verticalCenter=.5*s-.5*o+n)}},t}();e.LayoutUtil=i,t.registerClass(i,"egret.gui.LayoutUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){if(n[e])return n[e];if(!e)return null;var i=e.split(","),s=new t.Rectangle(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]));return n[e]=s,s}var n={};e.getScale9Grid=i}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t,e,i){for(var n=e.length,s=0;n>s;s++){var a=e[s];t[a]=i[s]}return t}t.setProperties=e}(e=t.gui||(t.gui={}))}(egret||(egret={}));