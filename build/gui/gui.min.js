var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__define=this.__define||function(t,e,i,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:i,set:n})},egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this),this._source=t?t:[]}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"source",function(){return this._source},function(t){t||(t=[]),this._source=t,this.dispatchCoEvent(e.CollectionEventKind.RESET)}),p.refresh=function(){this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},p.contains=function(t){return-1!=this.getItemIndex(t)},p.checkIndex=function(e){(0>e||e>=this._source.length)&&t.$error(3002,e)},s(p,"length",function(){return this._source.length}),p.addItem=function(t){this._source.push(t),this.dispatchCoEvent(e.CollectionEventKind.ADD,this._source.length-1,-1,[t])},p.addItemAt=function(i,n){(0>n||n>this._source.length)&&t.$error(3002,n),this._source.splice(n,0,i),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i])},p.getItemAt=function(t){return this._source[t]},p.getItemIndex=function(t){for(var e=this._source.length,i=0;e>i;i++)if(this._source[i]===t)return i;return-1},p.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},p.removeAll=function(){var t=this._source.concat();this._source.length=0,this.dispatchCoEvent(e.CollectionEventKind.REMOVE,0,-1,t)},p.removeItemAt=function(t){this.checkIndex(t);var i=this._source.splice(t,1)[0];return this.dispatchCoEvent(e.CollectionEventKind.REMOVE,t,-1,[i]),i},p.replaceItemAt=function(t,i){this.checkIndex(i);var n=this._source.splice(i,1,t)[0];return this.dispatchCoEvent(e.CollectionEventKind.REPLACE,i,-1,[t],[n]),n},p.replaceAll=function(t){t||(t=[]);for(var e=t.length,i=this._source.length,n=e;i>n;n++)this.removeItemAt(e);for(n=0;e>n;n++)n>=i?this.addItemAt(t[n],n):this.replaceItemAt(t[n],n);this._source=t},p.moveItemAt=function(t,i){this.checkIndex(t),this.checkIndex(i);var n=this._source.splice(t,1)[0];return this._source.splice(i,0,n),this.dispatchCoEvent(e.CollectionEventKind.MOVE,i,t,[n]),n},p.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},n}(t.EventDispatcher);e.ArrayCollection=i,t.registerClass(i,"egret.gui.ArrayCollection",["egret.gui.ICollection","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e,i){void 0===e&&(e="children"),void 0===i&&(i="parent"),t.call(this),this.childrenKey="children",this.parentKey="parent",this._source=null,this.nodeList=[],this._openNodes=[],this._showRoot=!1,this.childrenKey=e,this.parentKey=i}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"source",function(){return this._source},function(t){this._source=t,this._openNodes=[],this.nodeList=[],this._source&&(this._showRoot?this.nodeList.push(this._source):(this._openNodes=[this._source],this.addChildren(this._source,this.nodeList))),this.dispatchCoEvent(e.CollectionEventKind.RESET)}),n(p,"openNodes",function(){return this._openNodes.concat()},function(t){this._openNodes=t?t.concat():[],this.refresh()}),n(p,"length",function(){return this.nodeList.length}),p.getItemAt=function(t){return this.nodeList[t]},p.getItemIndex=function(t){for(var e=this.nodeList.length,i=0;e>i;i++)if(this.nodeList[i]===t)return i;return-1},p.itemUpdated=function(t){var i=this.getItemIndex(t);-1!=i&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,i,-1,[t])},p.removeItem=function(t){if(this.isItemOpen(t)&&this.closeNode(t),t){var i=t[this.parentKey];if(i){var n=i[this.childrenKey];if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1),t[this.parentKey]=null,s=this.nodeList.indexOf(t),-1!=s&&(this.nodeList.splice(s,1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,s,-1,[t]))}}}},n(p,"showRoot",function(){return this._showRoot},function(t){this._showRoot!=t&&(this._showRoot=t,this._source&&(this._showRoot?this.nodeList.splice(0,0,this._source):(this.nodeList.shift(),-1==this.openNodes.indexOf(this._source)&&this.openNodes.push(this._source)),this.refresh()))}),p.addChildren=function(t,e){if(t.hasOwnProperty(this.childrenKey)&&-1!=this._openNodes.indexOf(t))for(var i=t[this.childrenKey],n=i.length,s=0;n>s;s++){var a=i[s];e.push(a),this.addChildren(a,e)}},p.hasChildren=function(t){return t.hasOwnProperty(this.childrenKey)?t[this.childrenKey].length>0:!1},p.isItemOpen=function(t){return-1!=this._openNodes.indexOf(t)},p.expandItem=function(t,e){void 0===e&&(e=!0),e?this.openNode(t):this.closeNode(t)},p.openNode=function(t){if(-1==this._openNodes.indexOf(t)){this._openNodes.push(t);var i=this.nodeList.indexOf(t);if(-1!=i){var n=[];this.addChildren(t,n);for(var s=i;n.length;){s++;var a=n.shift();this.nodeList.splice(s,0,a),this.dispatchCoEvent(e.CollectionEventKind.ADD,s,-1,[a])}this.dispatchCoEvent("open",i,i,[t])}}},p.closeNode=function(t){var i=this._openNodes.indexOf(t);if(-1!=i){var n=[];if(this.addChildren(t,n),this._openNodes.splice(i,1),i=this.nodeList.indexOf(t),-1!=i){for(i++;n.length;){var s=this.nodeList.splice(i,1)[0];this.dispatchCoEvent(e.CollectionEventKind.REMOVE,i,-1,[s]),n.shift()}i--,this.dispatchCoEvent(e.CollectionEventKind.CLOSE,i,i,[t])}}},p.getDepth=function(t){for(var e=0,i=t[this.parentKey];i;)e++,i=i[this.parentKey];return e>0&&!this._showRoot&&e--,e},p.refresh=function(){this.nodeList=[],this._source&&(this._showRoot&&this.nodeList.push(this._source),this.addChildren(this._source,this.nodeList)),this.dispatchCoEvent(e.CollectionEventKind.REFRESH)},p.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},i.assignParent=function(t,e,n){if(void 0===e&&(e="children"),void 0===n&&(n="parent"),t.hasOwnProperty(e))for(var s=t[e],a=s.length,r=0;a>r;r++){var o=s[r];try{o[n]=t}catch(h){}i.assignParent(o,e,n)}},i}(t.EventDispatcher);e.ObjectCollection=i,t.registerClass(i,"egret.gui.ObjectCollection",["egret.gui.ICollection","egret.IEventDispatcher","egret.gui.ITreeCollection"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this.depthBins=[],this.minDepth=0,this.maxDepth=-1}var i=e;return p=i.prototype,p.insert=function(t){var e=t.nestLevel,i=t.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var s=this.depthBins[e];s?null==s.items[i]&&(s.items[i]=t,s.length++):(s=new n,this.depthBins[e]=s,s.items[i]=t,s.length++)},p.pop=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.maxDepth];!e||0==e.length;){if(this.maxDepth--,this.maxDepth<this.minDepth)return null;e=this.depthBins[this.maxDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.maxDepth);break}for(;!(e&&0!=e.length||(this.maxDepth--,this.maxDepth<this.minDepth));)e=this.depthBins[this.maxDepth]}return t},p.shift=function(){var t=null;if(this.minDepth<=this.maxDepth){for(var e=this.depthBins[this.minDepth];!e||0==e.length;){if(this.minDepth++,this.minDepth>this.maxDepth)return null;e=this.depthBins[this.minDepth]}var i=e.items;for(var n in i){t=i[n],this.remove(t,this.minDepth);break}for(;!(e&&0!=e.length||(this.minDepth++,this.minDepth>this.maxDepth));)e=this.depthBins[this.minDepth]}return t},p.removeLargestChild=function(e){for(var i=this.maxDepth,n=e.nestLevel,s=e.hashCode;i>=n;){var a=this.depthBins[i];if(a&&a.length>0){if(i==e.nestLevel){if(a.items[s])return this.remove(e,i),e}else{var r=a.items;for(var o in r){var h=r[o];if(h instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(h))return this.remove(h,i),h}}i--}else if(i==this.maxDepth&&this.maxDepth--,i--,n>i)break}return null},p.removeSmallestChild=function(e){for(var i=e.nestLevel,n=e.hashCode;i<=this.maxDepth;){var s=this.depthBins[i];if(s&&s.length>0){if(i==e.nestLevel){if(s.items[n])return this.remove(e,i),e}else{var a=s.items;for(var r in a){var o=a[r];if(o instanceof t.DisplayObject&&e instanceof t.DisplayObjectContainer&&e.contains(o))return this.remove(o,i),o}}i++}else if(i==this.minDepth&&this.minDepth++,i++,i>this.maxDepth)break}return null},p.remove=function(t,e){void 0===e&&(e=-1);var i=e>=0?e:t.nestLevel,n=t.hashCode,s=this.depthBins[i];return s&&null!=s.items[n]?(delete s.items[n],s.length--,t):null},p.removeAll=function(){this.depthBins.length=0,this.minDepth=0,this.maxDepth=-1},p.isEmpty=function(){return this.minDepth>this.maxDepth},e}();e.DepthQueue=i,t.registerClass(i,"egret.gui.DepthQueue");var n=function(){function t(){this.length=0,this.items=[]}var e=t;return p=e.prototype,t}();e.DepthBin=n,t.registerClass(n,"egret.gui.DepthBin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){if(i.call(this),this._UIC_Props_=new t.gui.UIComponentProperties,this.touchEnabled=!0,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),void 0===n.prototypeCanSet){var e={};n.prototypeCanSet=void 0!==e.__proto__}}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.onAddedToStage=function(){this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._initialize(),e.UIGlobals._initlize(this.stage),this._UIC_Props_._nestLevel>0&&this.checkInvalidateFlag()},s(p,"id",function(){return this._UIC_Props_._id},function(t){this._UIC_Props_._id=t}),s(p,"isPopUp",function(){return this._UIC_Props_._isPopUp},function(t){this._UIC_Props_._isPopUp=t}),s(p,"owner",function(){return this._UIC_Props_._owner?this._UIC_Props_._owner:this.parent}),p.ownerChanged=function(t){this._UIC_Props_._owner=t},s(p,"updateCompletePendingFlag",function(){return this._UIC_Props_._updateCompletePendingFlag},function(t){this._UIC_Props_._updateCompletePendingFlag=t}),s(p,"initialized",function(){return this._UIC_Props_._initialized},function(t){this._UIC_Props_._initialized!=t&&(this._UIC_Props_._initialized=t,t&&(this.childrenCreated(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CREATION_COMPLETE)))}),p._initialize=function(){this._UIC_Props_._initializeCalled||(e.UIGlobals.stage&&this.removeEventListener(t.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._UIC_Props_._initializeCalled=!0,e.UIEvent.dispatchUIEvent(this,e.UIEvent.INITIALIZE),this.createChildren(),this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},p.createChildren=function(){},p.childrenCreated=function(){},s(p,"nestLevel",function(){return this._UIC_Props_._nestLevel},function(e){this._UIC_Props_._nestLevel!=e&&(this._UIC_Props_._nestLevel=e,0==this._UIC_Props_._nestLevel?this.addEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(t.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this),this._updateChildrenNestLevel())}),p._updateChildrenNestLevel=function(){for(var t=this.numChildren-1;t>=0;t--){var e=this.getChildAt(t);e&&"nestLevel"in e&&(e.nestLevel=this._UIC_Props_._nestLevel+1)}},p.getStyle=function(t){var e=this._UIC_Props_._styleProtoChain;return e?e[t]:void 0},p.setStyle=function(t,e){var i=this._UIC_Props_._styleProtoChain;this._UIC_Props_._hasOwnStyleChain||(i=this._createOwnStyleProtoChain(i)),i[t]=e,this.styleChanged(t),this.notifyStyleChangeInChildren(t)},p.styleChanged=function(){},p.notifyStyleChangeInChildren=function(t){if(!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"styleChanged"in i&&(i.styleChanged(t),i.notifyStyleChangeInChildren(t))}},p._createOwnStyleProtoChain=function(t){if(this._UIC_Props_._hasOwnStyleChain=!0,n.prototypeCanSet?(this._UIC_Props_._styleProtoChain={},this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain):this._UIC_Props_._styleProtoChain=this.createProtoChain(t),t=this._UIC_Props_._styleProtoChain,!this._UIC_Props_._hasNoStyleChild)for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}return t},p.createProtoChain=function(t){function e(){}e.prototype=t;var i=new e;return e.prototype=null,i},p.clearStyle=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain;delete e[t],this.styleChanged(t),this.notifyStyleChangeInChildren(t)}},p.regenerateStyleCache=function(t){if(!n.prototypeCanSet)return void this.regenerateStyleCacheForIE(t);if(this._UIC_Props_._hasOwnStyleChain)this._UIC_Props_._styleProtoChain.__proto__=t?t:n.emptyStyleChain;else if(this._UIC_Props_._styleProtoChain!=t){this._UIC_Props_._styleProtoChain=t;for(var e=this.numChildren-1;e>=0;e--){var i=this.getChildAt(e);i&&"regenerateStyleCache"in i&&i.regenerateStyleCache(t)}}},p.regenerateStyleCacheForIE=function(t){if(this._UIC_Props_._hasOwnStyleChain){var e=this._UIC_Props_._styleProtoChain,i=this.createProtoChain(t);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);this._UIC_Props_._styleProtoChain=i,t=i}else this._UIC_Props_._styleProtoChain=t;if(!this._UIC_Props_._hasNoStyleChild)for(var s=this.numChildren-1;s>=0;s--){var a=this.getChildAt(s);a&&"regenerateStyleCacheForIE"in a&&a.regenerateStyleCacheForIE(t)}},p._addToDisplayList=function(t,e){void 0===e&&(e=!0);var i=this.numChildren;return t.parent==this&&i--,this._addingChild(t),this.$doAddChild(t,i,e),this._childAdded(t),t},p._addToDisplayListAt=function(t,e,i){return void 0===i&&(i=!0),this._addingChild(t),this.$doAddChild(t,e,i),this._childAdded(t),t},p._removeFromDisplayList=function(e,i){void 0===i&&(i=!0);var n=this.$children.indexOf(e);return n>=0?(this.$doRemoveChild(n,i),this._childRemoved(e),e):(t.$error(1008),null)},p._removeFromDisplayListAt=function(e,i){if(void 0===i&&(i=!0),e>=0&&e<this.$children.length){var n=this.$doRemoveChild(e,i);return this._childRemoved(n),n}return t.$error(1007),null},p.addChild=function(t){return this._addingChild(t),i.prototype.addChild.call(this,t),this._childAdded(t),t},p.addChildAt=function(t,e){return this._addingChild(t),i.prototype.addChildAt.call(this,t,e),this._childAdded(t),t},p._addingChild=function(t){if(t&&("nestLevel"in t&&(t.nestLevel=this._UIC_Props_._nestLevel+1),"styleChanged"in t)){var e=this._UIC_Props_._styleProtoChain;(e||t._UIC_Props_&&t._UIC_Props_._styleProtoChain)&&(t.regenerateStyleCache(e),t.styleChanged(null),t.notifyStyleChangeInChildren(null))}},p._childAdded=function(t){t instanceof n&&(t._initialize(),t.checkInvalidateFlag())},p.removeChild=function(t){return i.prototype.removeChild.call(this,t),this._childRemoved(t),t},p.removeChildAt=function(t){var e=i.prototype.removeChildAt.call(this,t);return this._childRemoved(e),e},p._childRemoved=function(t){t&&"nestLevel"in t&&(t.nestLevel=0)},p.checkInvalidateFlag=function(t){void 0===t&&(t=null),e.UIGlobals._layoutManager&&(this._UIC_Props_._invalidatePropertiesFlag&&e.UIGlobals._layoutManager.invalidateProperties(this),this._UIC_Props_._invalidateSizeFlag&&e.UIGlobals._layoutManager.invalidateSize(this),this._UIC_Props_._invalidateDisplayListFlag&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this._UIC_Props_._validateNowFlag&&(e.UIGlobals._layoutManager.validateClient(this),this._UIC_Props_._validateNowFlag=!1))},s(p,"enabled",function(){return this._UIC_Props_._enabled},function(t){this._UIC_Props_._enabled=t}),s(p,"width",function(){return this._UIC_Props_._uiWidth},function(t){this.$setWidth(t)}),p.$setWidth=function(t){if(this._UIC_Props_._uiWidth==t&&this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiWidth=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},s(p,"height",function(){return this._UIC_Props_._uiHeight},function(t){this.$setHeight(t)}),p.$setHeight=function(t){if(this._UIC_Props_._uiHeight==t&&this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return isNaN(t)?this.invalidateSize():this._UIC_Props_._uiHeight=t,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList(),e},p.$setScaleX=function(t){return i.prototype.$setScaleX.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},p.$setScaleY=function(t){return i.prototype.$setScaleY.call(this,t)?(this.invalidateParentSizeAndDisplayList(),!0):!1},s(p,"minWidth",function(){return this._UIC_Props_._minWidth},function(t){this._UIC_Props_._minWidth!=t&&(this._UIC_Props_._minWidth=t,this.invalidateSize())}),s(p,"maxWidth",function(){return this._UIC_Props_._maxWidth},function(t){this._UIC_Props_._maxWidth!=t&&(this._UIC_Props_._maxWidth=t,this.invalidateSize())}),p._getMaxWidth=function(){return this._UIC_Props_._maxWidth},s(p,"minHeight",function(){return this._UIC_Props_._minHeight},function(t){this._UIC_Props_._minHeight!=t&&(this._UIC_Props_._minHeight=t,this.invalidateSize())}),s(p,"maxHeight",function(){return this._UIC_Props_._maxHeight},function(t){this._UIC_Props_._maxHeight!=t&&(this._UIC_Props_._maxHeight=t,this.invalidateSize())}),s(p,"measuredWidth",function(){return this._UIC_Props_._measuredWidth},function(t){this._UIC_Props_._measuredWidth=t}),s(p,"measuredHeight",function(){return this._UIC_Props_._measuredHeight},function(t){this._UIC_Props_._measuredHeight=t}),p.setActualSize=function(t,e){var i=!1;this._UIC_Props_._uiWidth!=t&&(this._UIC_Props_._uiWidth=t,i=!0),this._UIC_Props_._uiHeight!=e&&(this._UIC_Props_._uiHeight=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchResizeEvent())},p.$setX=function(t){return i.prototype.$setX.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},p.$setY=function(t){return i.prototype.$setY.call(this,t)?(this.invalidateProperties(),this._UIC_Props_._includeInLayout&&this.parent&&this.parent instanceof n&&this.parent._childXYChanged(),!0):!1},p.invalidateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag||(this._UIC_Props_._invalidatePropertiesFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateProperties(this))},p.validateProperties=function(){this._UIC_Props_._invalidatePropertiesFlag&&(this.commitProperties(),this._UIC_Props_._invalidatePropertiesFlag=!1)},p.invalidateSize=function(){this._UIC_Props_._invalidateSizeFlag||(this._UIC_Props_._invalidateSizeFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateSize(this))},p.validateSize=function(t){if(void 0===t&&(t=!1),t)for(var e=0;e<this.numChildren;e++){var i=this.getChildAt(e);"validateSize"in i&&i.validateSize(!0)}if(this._UIC_Props_._invalidateSizeFlag){var n=this.measureSizes();n&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._UIC_Props_._invalidateSizeFlag=!1}},p.measureSizes=function(){var t=!1;return this._UIC_Props_._invalidateSizeFlag?(this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)),isNaN(this._UIC_Props_._oldPreferWidth)?(this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight,t=!0):((this.preferredWidth!=this._UIC_Props_._oldPreferWidth||this.preferredHeight!=this._UIC_Props_._oldPreferHeight)&&(t=!0),this._UIC_Props_._oldPreferWidth=this.preferredWidth,this._UIC_Props_._oldPreferHeight=this.preferredHeight),t):t},p.invalidateDisplayList=function(){this._UIC_Props_._invalidateDisplayListFlag||(this._UIC_Props_._invalidateDisplayListFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateDisplayList(this),this.$invalidateContentBounds())},p.validateDisplayList=function(){if(this._UIC_Props_._invalidateDisplayListFlag){var t=0,e=0;t=this._UIC_Props_._layoutWidthExplicitlySet?this._UIC_Props_._uiWidth:isNaN(this.$getExplicitWidth())?this.measuredWidth:this.$getExplicitWidth(),e=this._UIC_Props_._layoutHeightExplicitlySet?this._UIC_Props_._uiHeight:isNaN(this.$getExplicitHeight())?this.measuredHeight:this.$getExplicitHeight(),isNaN(t)&&(t=0),isNaN(e)&&(e=0),this.setActualSize(t,e),this.updateDisplayList(t,e),this._UIC_Props_._invalidateDisplayListFlag=!1}},p.validateNow=function(t){void 0===t&&(t=!1),this._UIC_Props_._validateNowFlag||null==e.UIGlobals._layoutManager?this._UIC_Props_._validateNowFlag=!0:e.UIGlobals._layoutManager.validateClient(this,t)},p.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._UIC_Props_._includeInLayout&&"invalidateSize"in this.parent){var t=this.parent;t.invalidateSize(),t.invalidateDisplayList()}},p.updateDisplayList=function(){},p.canSkipMeasurement=function(){return!isNaN(this.$getExplicitWidth())&&!isNaN(this.$getExplicitHeight())},p.commitProperties=function(){(this._UIC_Props_._oldWidth!=this._UIC_Props_._uiWidth||this._UIC_Props_._oldHeight!=this._UIC_Props_._uiHeight)&&this.dispatchResizeEvent(),(this._UIC_Props_._oldX!=this.x||this._UIC_Props_._oldY!=this.y)&&this.dispatchMoveEvent()},p.measure=function(){this._UIC_Props_._measuredHeight=0,this._UIC_Props_._measuredWidth=0},p.dispatchMoveEvent=function(){this.hasEventListener(e.MoveEvent.MOVE)&&e.MoveEvent.dispatchMoveEvent(this,this._UIC_Props_._oldX,this._UIC_Props_._oldY),this._UIC_Props_._oldX=this.x,this._UIC_Props_._oldY=this.y},p._childXYChanged=function(){},p.dispatchResizeEvent=function(){this.hasEventListener(e.ResizeEvent.RESIZE)&&e.ResizeEvent.dispatchResizeEvent(this,this._UIC_Props_._oldWidth,this._UIC_Props_._oldHeight),this._UIC_Props_._oldWidth=this._UIC_Props_._uiWidth,this._UIC_Props_._oldHeight=this._UIC_Props_._uiHeight},s(p,"includeInLayout",function(){return this._UIC_Props_._includeInLayout},function(t){this._UIC_Props_._includeInLayout!=t&&(this._UIC_Props_._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._UIC_Props_._includeInLayout=t)}),s(p,"left",function(){return this._UIC_Props_._left},function(t){this._UIC_Props_._left!=t&&(this._UIC_Props_._left=t,this.invalidateParentSizeAndDisplayList())}),s(p,"right",function(){return this._UIC_Props_._right},function(t){this._UIC_Props_._right!=t&&(this._UIC_Props_._right=t,this.invalidateParentSizeAndDisplayList())}),s(p,"top",function(){return this._UIC_Props_._top},function(t){this._UIC_Props_._top!=t&&(this._UIC_Props_._top=t,this.invalidateParentSizeAndDisplayList())}),s(p,"bottom",function(){return this._UIC_Props_._bottom},function(t){this._UIC_Props_._bottom!=t&&(this._UIC_Props_._bottom=t,this.invalidateParentSizeAndDisplayList())}),s(p,"horizontalCenter",function(){return this._UIC_Props_._horizontalCenter},function(t){this._UIC_Props_._horizontalCenter!=t&&(this._UIC_Props_._horizontalCenter=t,this.invalidateParentSizeAndDisplayList())}),s(p,"verticalCenter",function(){return this._UIC_Props_._verticalCenter},function(t){this._UIC_Props_._verticalCenter!=t&&(this._UIC_Props_._verticalCenter=t,this.invalidateParentSizeAndDisplayList())}),s(p,"percentWidth",function(){return this._UIC_Props_._percentWidth},function(t){this._UIC_Props_._percentWidth!=t&&(this._UIC_Props_._percentWidth=t,this.invalidateParentSizeAndDisplayList())}),s(p,"percentHeight",function(){return this._UIC_Props_._percentHeight},function(t){this._UIC_Props_._percentHeight!=t&&(this._UIC_Props_._percentHeight=t,this.invalidateParentSizeAndDisplayList())}),p.setLayoutBoundsSize=function(t,e){isNaN(t)?(this._UIC_Props_._layoutWidthExplicitlySet=!1,t=this.preferredWidth):this._UIC_Props_._layoutWidthExplicitlySet=!0,isNaN(e)?(this._UIC_Props_._layoutHeightExplicitlySet=!1,e=this.preferredHeight):this._UIC_Props_._layoutHeightExplicitlySet=!0,this.setActualSize(t/this.$getScaleX(),e/this.$getScaleY())},p.setLayoutBoundsPosition=function(t,e){this.$getScaleX()<0&&(t+=this.layoutBoundsWidth),this.$getScaleY()<0&&(e+=this.layoutBoundsHeight);var i=!1;this.$getX()!=t&&(this.$setX(t),i=!0),this.$getY()!=e&&(this.$setY(e),i=!0),i&&this.dispatchMoveEvent()},s(p,"preferredWidth",function(){var t=isNaN(this.$getExplicitWidth())?this._UIC_Props_._measuredWidth:this.$getExplicitWidth(),e=this.$getScaleX();return 0>e&&(e=-e),t*e}),s(p,"preferredHeight",function(){var t=isNaN(this.$getExplicitHeight())?this._UIC_Props_._measuredHeight:this.$getExplicitHeight(),e=this.$getScaleY();return 0>e&&(e=-e),t*e}),s(p,"preferredX",function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.preferredWidth;return this.$getX()-t}),s(p,"preferredY",function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.preferredHeight;return this.$getY()-t}),s(p,"layoutBoundsX",function(){if(this.$getScaleX()>=0)return this.$getX();var t=this.layoutBoundsWidth;return this.$getX()-t}),s(p,"layoutBoundsY",function(){if(this.$getScaleY()>=0)return this.$getY();var t=this.layoutBoundsHeight;return this.$getY()-t}),s(p,"layoutBoundsWidth",function(){var t=0;this._UIC_Props_._layoutWidthExplicitlySet?t=this._UIC_Props_._uiWidth:isNaN(t=this.$getExplicitWidth())&&(t=this._UIC_Props_._measuredWidth);var e=this.$getScaleX();return 0>e&&(e=-e),t*e}),s(p,"layoutBoundsHeight",function(){var t=0;this._UIC_Props_._layoutHeightExplicitlySet?t=this._UIC_Props_._uiHeight:isNaN(t=this.$getExplicitHeight())&&(t=this._UIC_Props_._measuredHeight);var e=this.$getScaleY();return 0>e&&(e=-e),t*e}),n.prototypeCanSet=void 0,n.emptyStyleChain={},n}(t.DisplayObjectContainer);e.UIComponent=i,t.registerClass(i,"egret.gui.UIComponent",["egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.ILayoutManagerClient","egret.gui.IInvalidating","egret.gui.IStyleClient"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.hostComponentKey=null,this._skinNameExplicitlySet=!1,this._skinName=null,this._createChildrenCalled=!1,this._skin=null,this.skinLayoutEnabled=!1,this.stateIsDirty=!1,this._autoMouseEnabled=!0,this.explicitMouseChildren=!0,this.explicitMouseEnabled=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"skinName",function(){return this._skinName},function(t){this._skinName!=t&&(this._skinName=t,this._skinNameExplicitlySet=!0,this._createChildrenCalled&&this.parseSkinName())}),p.createChildren=function(){i.prototype.createChildren.call(this),this.parseSkinName(),this._createChildrenCalled=!0},p.parseSkinName=function(){var e=n.skinAdapter;e||(e=this.getSkinAdapter());var i=this.hostComponentKey||t.getQualifiedClassName(this),s=e.getSkin(this._skinName,i);if(!s){var a=n._defaultTheme;a&&(s=a.getDefaultSkin(this))}this._setSkin(s)},p.getSkinAdapter=function(){var t;return t=new e.DefaultSkinAdapter,n.skinAdapter=t,t},s(p,"skin",function(){return this._skin}),p._setSkin=function(i){var n=this._skin;this.detachSkin(n),n instanceof t.DisplayObject&&this._removeFromDisplayList(n),this._skin=i,i instanceof t.DisplayObject&&this._addToDisplayListAt(this._skin,0),this.attachSkin(i),this.invalidateSkinState(),this.invalidateSize(),this.invalidateDisplayList(),this.hasEventListener(e.UIEvent.SKIN_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.SKIN_CHANGED)},p.attachSkin=function(e){if(this.skinLayoutEnabled=!e||e instanceof t.DisplayObject?!1:!0,e&&"hostComponent"in e){var i=e;i.hostComponent=this,this.findSkinParts()}},p.findSkinParts=function(){var t=this._skin;if(t&&"skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var s=e[n];if(s in t)try{this[s]=t[s],this.partAdded(s,t[s])}catch(a){}}},p.detachSkin=function(t){if(t){if("skinParts"in t)for(var e=t.skinParts,i=e.length,n=0;i>n;n++){var s=e[n];s in this&&(null!=this[s]&&this.partRemoved(s,this[s]),this[s]=null)}t.hostComponent=null}},p.partAdded=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_ADDED,t,i)},p.partRemoved=function(t,i){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_REMOVED,t,i)},p.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())},p.validateSkinState=function(){var t=this.getCurrentSkinState(),e=this._skin;e&&"currentState"in e&&(e.currentState=t),this.hasEventListener("stateChanged")&&this.dispatchEventWith("stateChanged")},s(p,"autoTouchEnabled",function(){return this._autoMouseEnabled},function(t){this._autoMouseEnabled!=t&&(this._autoMouseEnabled=t,this._autoMouseEnabled?(this.touchChildren=this.enabled?this.explicitMouseChildren:!1,this.touchEnabled=this.enabled?this.explicitMouseEnabled:!1):(this.touchChildren=this.explicitMouseChildren,this.touchEnabled=this.explicitMouseEnabled))}),s(p,"touchChildren",function(){return this.$getTouchChildren()},function(t){this.enabled&&this.$setTouchChildren(t),this.explicitMouseChildren=t}),s(p,"touchEnabled",function(){return this.$getTouchEnabled()},function(t){this.enabled&&this.$setTouchEnabled(t),this.explicitMouseEnabled=t}),s(p,"enabled",function(){return this._UIC_Props_._enabled},function(t){this.$setEnabled(t)}),p.$setEnabled=function(t){return this._UIC_Props_._enabled==t?!1:(this._UIC_Props_._enabled=t,this._autoMouseEnabled&&(this.touchChildren=t?this.explicitMouseChildren:!1,this.touchEnabled=t?this.explicitMouseEnabled:!1),this.invalidateSkinState(),!0)},p.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"},p.commitProperties=function(){i.prototype.commitProperties.call(this),this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())},p._childXYChanged=function(){this.skinLayoutEnabled&&(this.invalidateSize(),this.invalidateDisplayList())},p.measure=function(){i.prototype.measure.call(this);var t=this._skin;t&&(this.skinLayoutEnabled?(t.measure(),this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):"preferredWidth"in t?(this.measuredWidth=t.preferredWidth,this.measuredHeight=t.preferredHeight):(this.measuredWidth=t.width,this.measuredHeight=t.height))},p.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._skin;s&&(this.skinLayoutEnabled?s.updateDisplayList(e,n):"setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):s instanceof t.DisplayObject&&(s.scaleX=0==s.width?1:e/s.width,s.scaleY=0==s.height?1:n/s.height))},p.addChild=function(){return t.$error(3004,t.sys.tr(3003)),null},p.addChildAt=function(){return t.$error(3005,t.sys.tr(3003)),null},p.removeChild=function(){return t.$error(3006,t.sys.tr(3003)),null},p.removeChildAt=function(){return t.$error(3007,t.sys.tr(3003)),null},p.setChildIndex=function(){t.$error(3008,t.sys.tr(3003))},p.swapChildren=function(){t.$error(3009,t.sys.tr(3003))},p.swapChildrenAt=function(){t.$error(3010,t.sys.tr(3003))},n.skinAdapter=null,n._defaultTheme=null,n}(e.UIComponent);e.SkinnableComponent=i,t.registerClass(i,"egret.gui.SkinnableComponent",["egret.gui.ISkinnableClient","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.contentGroup=null,this._placeHolderGroup=null,this.contentGroupProperties={}}__extends(i,t);var n=__define,s=i;return p=s.prototype,p._getCurrentContentGroup=function(){return null==this.contentGroup?(null==this._placeHolderGroup&&(this._placeHolderGroup=new e.Group,this._placeHolderGroup.visible=!1,this._addToDisplayList(this._placeHolderGroup)),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this._placeHolderGroup):this.contentGroup
},n(p,"elementsContent",void 0,function(t){this._getCurrentContentGroup().elementsContent=t}),n(p,"numElements",function(){return this._getCurrentContentGroup().numElements}),p.getElementAt=function(t){return this._getCurrentContentGroup().getElementAt(t)},p.addElement=function(t){return this._getCurrentContentGroup().addElement(t)},p.addElementAt=function(t,e){return this._getCurrentContentGroup().addElementAt(t,e)},p.removeElement=function(t){return this._getCurrentContentGroup().removeElement(t)},p.removeElementAt=function(t){return this._getCurrentContentGroup().removeElementAt(t)},p.removeAllElements=function(){this._getCurrentContentGroup().removeAllElements()},p.getElementIndex=function(t){return this._getCurrentContentGroup().getElementIndex(t)},p.setElementIndex=function(t,e){this._getCurrentContentGroup().setElementIndex(t,e)},p.swapElements=function(t,e){this._getCurrentContentGroup().swapElements(t,e)},p.swapElementsAt=function(t,e){this._getCurrentContentGroup().swapElementsAt(t,e)},n(p,"layout",function(){return null!=this.contentGroup?this.contentGroup.layout:this.contentGroupProperties.layout},function(t){null!=this.contentGroup?this.contentGroup.layout=t:this.contentGroupProperties.layout=t}),p.partAdded=function(i,n){if(t.prototype.partAdded.call(this,i,n),n==this.contentGroup){if(void 0!==this.contentGroupProperties.layout&&(this.contentGroup.layout=this.contentGroupProperties.layout,this.contentGroupProperties={}),this._placeHolderGroup){this._placeHolderGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this);for(var s=this._placeHolderGroup._getElementsContent().concat(),a=this._placeHolderGroup.numElements;a>0;a--){var r=this._placeHolderGroup.removeElementAt(0);r.ownerChanged(null)}for(this._removeFromDisplayList(this._placeHolderGroup),this.contentGroup.elementsContent=s,a=s.length-1;a>=0;a--)r=s[a],r.ownerChanged(this);this._placeHolderGroup=null}this.contentGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}},p.partRemoved=function(i,n){if(t.prototype.partRemoved.call(this,i,n),n==this.contentGroup&&(this.contentGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.removeEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this.contentGroupProperties.layout=this.contentGroup.layout,this.contentGroup.layout=null,this.contentGroup.numElements>0)){for(this._placeHolderGroup=new e.Group;this.contentGroup.numElements>0;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this._placeHolderGroup.addEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}},p._contentGroup_elementAddedHandler=function(t){t.element.ownerChanged(this),this.dispatchEvent(t)},p._contentGroup_elementRemovedHandler=function(t){t.element.ownerChanged(null),this.dispatchEvent(t)},i}(e.SkinnableComponent);e.SkinnableContainer=i,t.registerClass(i,"egret.gui.SkinnableContainer",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.titleDisplay=null,this._title="",this.titleChanged=!1,this.touchEnabled=!1}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"title",function(){return this._title},function(t){this._title=t,this.titleDisplay&&(this.titleDisplay.text=this.title)}),p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.titleDisplay&&(this.titleDisplay.text=this.title)},e}(e.SkinnableContainer);e.Panel=i,t.registerClass(i,"egret.gui.Panel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.closeButton=null,this.moveArea=null,this._showCloseButton=!0,this._autoBackToStage=!0,this._offsetPointX=0/0,this._offsetPointY=0/0,this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onWindowMouseDown,this,!0,100)}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.onWindowMouseDown=function(t){this.enabled&&this.isPopUp&&t.target!=this.closeButton&&e.PopUpManager.bringToFront(this)},s(p,"showCloseButton",function(){return this._showCloseButton},function(t){this._showCloseButton!=t&&(this._showCloseButton=t,this.closeButton&&(this.closeButton.visible=this._showCloseButton))}),s(p,"autoBackToStage",function(){return this._autoBackToStage},function(t){this._autoBackToStage=t}),p.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.moveArea?this.moveArea.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&(this.closeButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this),this.closeButton.visible=this._showCloseButton)},p.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.moveArea?this.moveArea.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):n==this.closeButton&&this.closeButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this)},p.closeButton_clickHandler=function(){e.CloseEvent.dispatchCloseEvent(this,e.CloseEvent.CLOSE)},p.moveArea_mouseDownHandler=function(i){if(this.enabled&&this.isPopUp){var n=this.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._offsetPointX=n.x,this._offsetPointY=n.y,this._UIC_Props_._includeInLayout=!1,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this)}},p.moveArea_mouseMoveHandler=function(e){var i=this.globalToLocal(e.stageX,e.stageY,t.$TempPoint);this.x+=i.x-this._offsetPointX,this.y+=i.y-this._offsetPointY},p.moveArea_mouseUpHandler=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,this),this._autoBackToStage&&this.adjustPosForStage(),e.LayoutUtil.adjustRelativeByXY(this),this.includeInLayout=!0},p.adjustPosForStage=function(){if(this.moveArea&&this.stage){var t=this.moveArea.localToGlobal(0,0),e=t.x,i=t.y;t.x+this.moveArea.width<35&&(e=35-this.moveArea.width),t.x>this.stage.stageWidth-20&&(e=this.stage.stageWidth-20),t.y+this.moveArea.height<20&&(i=20-this.moveArea.height),t.y>this.stage.stageHeight-20&&(i=this.stage.stageHeight-20),this.x+=e-t.x,this.y+=i-t.y}},n}(e.Panel);e.TitleWindow=i,t.registerClass(i,"egret.gui.TitleWindow")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._firstButtonLabel="",this._secondButtonLabel="",this._contentText="",this.closeHandler=null,this.contentDisplay=null,this.firstButton=null,this.secondButton=null}__extends(n,i);var s=__define,a=n;return p=a.prototype,n.show=function(t,i,s,a,r,o,h,l){void 0===t&&(t=""),void 0===i&&(i=""),void 0===s&&(s=null),void 0===a&&(a="OK"),void 0===r&&(r=""),void 0===o&&(o=!0),void 0===h&&(h=!0);var u=new n;return u.contentText=t,u.title=i,u._firstButtonLabel=a,u._secondButtonLabel=r,u.closeHandler=s,u.thisObject=l,e.PopUpManager.addPopUp(u,o,h),u},s(p,"firstButtonLabel",function(){return this._firstButtonLabel},function(t){this._firstButtonLabel!=t&&(this._firstButtonLabel=t,this.firstButton&&(this.firstButton.label=t))}),s(p,"secondButtonLabel",function(){return this._secondButtonLabel},function(t){this._secondButtonLabel!=t&&(this._secondButtonLabel=t,this.secondButton&&(null==t||""==t)&&(this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel))}),s(p,"contentText",function(){return this._contentText},function(t){this._contentText!=t&&(this._contentText=t,this.contentDisplay&&(this.contentDisplay.text=t))}),p.onClose=function(t){if(e.PopUpManager.removePopUp(this),null!=this.closeHandler){var i=new e.CloseEvent(e.CloseEvent.CLOSE);switch(t.currentTarget){case this.firstButton:i.detail=n.FIRST_BUTTON;break;case this.secondButton:i.detail=n.SECOND_BUTTON}this.callCloseHandler(i)}},p.closeButton_clickHandler=function(t){i.prototype.closeButton_clickHandler.call(this,t),e.PopUpManager.removePopUp(this);var s=new e.CloseEvent(e.CloseEvent.CLOSE,!1,!1,n.CLOSE_BUTTON);this.callCloseHandler(s)},p.callCloseHandler=function(t){if(null!=this.closeHandler){var e=this.thisObject||this;this.closeHandler.call(e,t)}},p.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.contentDisplay?this.contentDisplay.text=this._contentText:n==this.firstButton?(this.firstButton.label=this._firstButtonLabel,this.firstButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)):n==this.secondButton&&(this.secondButton.label=this._secondButtonLabel,this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel,this.secondButton.addEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this))},p.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.firstButton?this.firstButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this):n==this.secondButton&&this.secondButton.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onClose,this)},n.FIRST_BUTTON="firstButton",n.SECOND_BUTTON="secondButton",n.CLOSE_BUTTON="closeButton",n}(e.TitleWindow);e.Alert=i,t.registerClass(i,"egret.gui.Alert")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._bitmapText=null,this._textChanged=!1,this._text="",this.fontChanged=!1,this._isLetterSpacingChanged=!1,this._letterSpacing=0,this._isLineSpacingChanged=!1,this._lineSpacing=0,this.createChildrenCalled=!1,this.lastUnscaledWidth=0/0,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.updateCompleteHandler=function(){this.lastUnscaledWidth=0/0},s(p,"text",function(){return this._text},function(t){this._text!=t&&(this._text=t,this._textChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(p,"font",function(){return this._font},function(t){this._font!=t&&(this._font=t,this.createChildrenCalled?this.parseFont():this.fontChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(p,"letterSpacing",function(){return this._letterSpacing},function(t){this._setLetterSpacing(t)}),p._setLetterSpacing=function(t){this._letterSpacing=t,this._isLetterSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},s(p,"lineSpacing",function(){return this._lineSpacing},function(t){this._setLineSpacing(t)}),p._setLineSpacing=function(t){this._lineSpacing=t,this._isLineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()},p.createChildren=function(){i.prototype.createChildren.call(this),this._bitmapText||this.checkBitmapText(),this.fontChanged&&this.parseFont(),this.createChildrenCalled=!0},p.parseFont=function(){this.fontChanged=!1;var t=n.assetAdapter;t||(t=this.getAdapter()),this._font?t.getAsset(this._font,this.onFontChanged,this,null):this.onFontChanged(null,null)},p.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},p.onFontChanged=function(t,e){e===this._font&&(this._bitmapText.font=t,this.invalidateSize(),this.invalidateDisplayList())},s(p,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())}),s(p,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())}),s(p,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())}),s(p,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())}),s(p,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())}),p.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},p.isSpecialCase=function(){return(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitWidth())&&isNaN(this.percentHeight)},p.measureUsingWidth=function(t){this._textChanged&&(this._bitmapText.text=this._text),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,s=isNaN(this._paddingTop)?e:this._paddingTop,a=isNaN(this._paddingBottom)?e:this._paddingBottom;this._bitmapText.width=0/0,this._bitmapText.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)):(this._bitmapText.width=t-i-n,this.measuredWidth=Math.ceil(this._bitmapText.width),this.measuredHeight=Math.ceil(this._bitmapText.height)),this.measuredWidth+=i+n,this.measuredHeight+=s+a},p.updateDisplayList=function(t,e){if(i.prototype.updateDisplayList.call(this,t,e),this._bitmapText){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;if(this._bitmapText.x=s,this._bitmapText.y=r,this.isSpecialCase()){var h=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,h)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._bitmapText.visible||(this._bitmapText.visible=!0),this._bitmapText.width=t-s-a;var l=e-r-o;this._bitmapText.height=l}},p.checkBitmapText=function(){this._bitmapText||(this._bitmapText=new t.BitmapText,this._bitmapText.text=this._text,this._bitmapText.letterSpacing=this._letterSpacing,this._bitmapText.lineSpacing=this._lineSpacing,this._textChanged=!1,this._isLetterSpacingChanged=!1,this._isLineSpacingChanged=!1,this._addToDisplayList(this._bitmapText))},p.commitProperties=function(){i.prototype.commitProperties.call(this),this._bitmapText||this.checkBitmapText(),this._textChanged&&(this._bitmapText.text=this._text,this._textChanged=!1),this._isLetterSpacingChanged&&(this._bitmapText.letterSpacing=this._letterSpacing,this._isLetterSpacingChanged=!1),this._isLineSpacingChanged&&(this._bitmapText.lineSpacing=this._lineSpacing,this._isLineSpacingChanged=!1)},n}(e.UIComponent);e.BitmapLabel=i,t.registerClass(i,"egret.gui.BitmapLabel",["egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._downEventFired=!1,this.autoRepeatTimer=null,this.labelDisplay=null,this._autoRepeat=!1,this._repeatDelay=35,this._repeatInterval=35,this._hovered=!1,this._keepDown=!1,this._label="",this._mouseCaptured=!1,this._stickyHighlighting=!1,this.touchChildren=!1,this.addHandlers()}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"autoRepeat",function(){return this._autoRepeat},function(t){t!=this._autoRepeat&&(this._autoRepeat=t,this.checkAutoRepeatTimerConditions(this.isDown()))}),s(p,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),s(p,"repeatInterval",function(){return this._repeatInterval},function(t){this._repeatInterval=t}),s(p,"hovered",function(){return this._hovered},function(t){t!=this._hovered&&(this._hovered=t,this.invalidateSkinState(),this.checkButtonDownConditions())}),p._setKeepDown=function(t){this._keepDown!=t&&(this._keepDown=t,this.invalidateSkinState())},s(p,"label",function(){return this._getLabel()},function(t){this._setLabel(t)}),p._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label},p._setLabel=function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},s(p,"mouseCaptured",function(){return this._mouseCaptured},function(t){t!=this._mouseCaptured&&(this._mouseCaptured=t,this.invalidateSkinState(),t||this.removeStageMouseHandlers(),this.checkButtonDownConditions())}),s(p,"stickyHighlighting",function(){return this._stickyHighlighting},function(t){t!=this._stickyHighlighting&&(this._stickyHighlighting=t,this.invalidateSkinState(),this.checkButtonDownConditions())}),p.checkButtonDownConditions=function(){var t=this.isDown();this._downEventFired!=t&&(t&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN),this._downEventFired=t,this.checkAutoRepeatTimerConditions(t))},p.addHandlers=function(){this.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_END,this.mouseEventHandler,this),this.addEventListener(t.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)},p.addStageMouseHandlers=function(){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},p.removeStageMouseHandlers=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)},p.isDown=function(){return this.enabled&&this.mouseCaptured&&(this.hovered||this.stickyHighlighting)?!0:!1},p.checkAutoRepeatTimerConditions=function(t){var e=this.autoRepeat&&t,i=null!=this.autoRepeatTimer;e!=i&&(e?this.startTimer():this.stopTimer())},p.startTimer=function(){this.autoRepeatTimer=new t.Timer(1),this.autoRepeatTimer.delay=this._repeatDelay,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.start()},p.stopTimer=function(){this.autoRepeatTimer.stop(),this.autoRepeatTimer=null},p.mouseEventHandler=function(e){switch(e.type){case t.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers(),this.mouseCaptured=!0,this.hovered=!0;break;case t.TouchEvent.TOUCH_END:e.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case t.TouchEvent.TOUCH_TAP:return void(this.enabled?this.clickHandler(e):e.stopImmediatePropagation())}},p.buttonReleased=function(){},p.clickHandler=function(){},p.stage_mouseUpHandler=function(t){t.target!=this&&(this.mouseCaptured=!1,this.hovered=!1)},p.autoRepeat_timerDelayHandler=function(){this.autoRepeatTimer.reset(),this.autoRepeatTimer.removeEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerDelayHandler,this),this.autoRepeatTimer.delay=this._repeatInterval,this.autoRepeatTimer.addEventListener(t.TimerEvent.TIMER,this.autoRepeat_timerHandler,this),this.autoRepeatTimer.start()},p.autoRepeat_timerHandler=function(){e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN)},p.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":"up":i.prototype.getCurrentSkinState.call(this)},p.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.labelDisplay&&(this.labelDisplay.text=this._label)},n}(e.SkinnableComponent);e.ButtonBase=i,t.registerClass(i,"egret.gui.ButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.iconDisplay=null,this._icon=null}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"icon",function(){return this._getIcon()},function(t){this._setIcon(t)}),p._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},p._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(e.ButtonBase);e.Button=i,t.registerClass(i,"egret.gui.Button")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.maxWidth=1e4,this.minWidth=0,this.maxHeight=1e4,this.minHeight=0,this._hasWidthSet=!1,this._width=0/0,this._hasHeightSet=!1,this._height=0/0,this._measuredWidth=0,this.measuredHeight=0,this._initialized=!1,this._hostComponent=null,this._elementsContent=[],this.skinLayout=null,this._states=[],this.playStateTransition=!0,this.currentStateChanged=!1,this._currentState=null,this.requestedCurrentState=null,this.initialized=!1,this.skinLayout=new e.SkinBasicLayout,this.skinLayout.target=this}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"width",function(){return this._width},function(e){this._width!=e&&(this._width=e,this._hasWidthSet=t.NumberUtils.isNumber(e))}),s(p,"height",function(){return this._height},function(e){this._height!=e&&(this._height=e,this._hasHeightSet=t.NumberUtils.isNumber(e))}),s(p,"measuredWidth",function(){return this._measuredWidth},function(t){this._measuredWidth=t}),s(p,"preferredWidth",function(){return this._hasWidthSet?this._width:this.measuredWidth}),s(p,"preferredHeight",function(){return this._hasHeightSet?this._height:this.measuredHeight}),p.createChildren=function(){},s(p,"hostComponent",function(){return this._hostComponent},function(t){this._setHostComponent(t)}),p._setHostComponent=function(t){if(this._hostComponent!=t){var e;if(this._hostComponent)for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);if(this._hostComponent=t,this._initialized||(this._initialized=!0,this.createChildren()),this._hostComponent){var i=this._elementsContent.length;for(e=0;i>e;e++)this._elementAdded(this._elementsContent[e],e);this.initializeStates(),this.currentStateChanged&&this.commitCurrentState()}}},p._getElementsContent=function(){return this._elementsContent},s(p,"elementsContent",void 0,function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this._hostComponent){var e;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}}else this._elementsContent=t.concat()}),s(p,"numElements",function(){return this._elementsContent.length}),p.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},p.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},p.addElement=function(t){var e=this.numElements;return t.owner==this&&(e=this.numElements-1),this.addElementAt(t,e)},p.addElementAt=function(t,e){this.checkForRangeError(e,!0);var i=t.owner;return i==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&i.removeElement(t),this._elementsContent.splice(e,0,t),this._hostComponent?this._elementAdded(t,e):t.ownerChanged(this),t)},p.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},p.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this._hostComponent?this._elementRemoved(e,t):e.ownerChanged(null),this._elementsContent.splice(t,1),e},p.getElementIndex=function(t){return this._elementsContent.indexOf(t)},p.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this._hostComponent&&this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this._hostComponent&&this._elementAdded(t,e,!1))},p._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),i.ownerChanged(this),i instanceof t.DisplayObject){var a=i;this._hostComponent._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},p._elementRemoved=function(i,n,s){if(void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this._hostComponent){var a=i;this._hostComponent._removeFromDisplayList(a,s)}i.ownerChanged(null),this._hostComponent.invalidateSize(),this._hostComponent.invalidateDisplayList()},p.measure=function(){this.skinLayout.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=this.maxHeight)},p.updateDisplayList=function(t,e){this.skinLayout.updateDisplayList(t,e)},s(p,"states",function(){return this._states},function(t){this._setStates(t)}),p._setStates=function(t){if(t||(t=[]),"string"==typeof t[0])for(var i=t.length,n=0;i>n;n++){var s=new e.State(t[n],[]);t[n]=s}this._states=t,this.currentStateChanged=!0,this.requestedCurrentState=this._currentState,this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())},s(p,"transitions",function(){return this._transitions},function(t){this._transitions=t}),s(p,"currentState",function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:this.getDefaultState()},function(t){t||(t=this.getDefaultState()),t!=this.currentState&&t&&this.currentState&&(this.requestedCurrentState=t,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())}),p.hasState=function(t){return null!=this.getState(t)},p.getDefaultState=function(){return this._states.length>0?this._states[0].name:null},p.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=!1;var t=this.getState(this.requestedCurrentState);t||(this.requestedCurrentState=this.getDefaultState());var i;this.playStateTransition&&(i=this.getTransition(this._currentState,this.requestedCurrentState));var n,s;this._currentTransition&&(this._currentTransition.effect.removeEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i&&this._currentTransition.interruptionBehavior==e.InterruptionBehavior.STOP?(s=this._currentTransition.effect,s.stop()):(this._currentTransition.autoReverse&&this.transitionFromState==this.requestedCurrentState&&this.transitionToState==this._currentState&&(n=0==this._currentTransition.effect.duration?0:this._currentTransition.effect.playheadTime/this.getTotalDuration(this._currentTransition.effect)),this._currentTransition.effect.end()),this._currentTransition=null);var a=this._currentState?this._currentState:"";if(this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGING)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGING,a,this.requestedCurrentState?this.requestedCurrentState:""),this.removeState(this._currentState),this._currentState=this.requestedCurrentState,this._currentState&&this.applyState(this._currentState),this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGE,a,this._currentState?this._currentState:""),i){var r=i&&i.autoReverse&&(i.toState==a||i.fromState==this._currentState);e.UIGlobals._layoutManager.validateNow(),this._currentTransition=i,this.transitionFromState=a,this.transitionToState=this._currentState,i.effect.addEventListener(e.EffectEvent.EFFECT_END,this.transition_effectEndHandler,this),i.effect.play(null,r),isNaN(n)||0==i.effect.duration||(i.effect.playheadTime=(1-n)*this.getTotalDuration(i.effect))}else this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,a,this._currentState)}},p.transition_effectEndHandler=function(){this._currentTransition=null,this.hasEventListener(e.StateChangeEvent.STATE_CHANGE_COMPLETE)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.STATE_CHANGE_COMPLETE,this.transitionFromState,this.transitionToState)},p.getState=function(t){if(!t)return null;for(var e=this._states,i=e.length,n=0;i>n;n++){var s=e[n];if(s.name==t)return s}return null},p.removeState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length-1;n>=0;n--)i[n].remove(this)},p.applyState=function(t){var e=this.getState(t);if(e)for(var i=e.overrides,n=i.length,s=0;n>s;s++)i[s].apply(this)},p.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var t=this._states,e=t.length,i=0;e>i;i++){var n=t[i];n.initialize(this)}}},p.getTransition=function(t,e){var i=null,n=0;if(!this.transitions)return null;t||(t=""),e||(e="");for(var s=0;s<this.transitions.length;s++){var a=this.transitions[s];if("*"==a.fromState&&"*"==a.toState&&1>n)i=a,n=1;else if(a.toState==t&&"*"==a.fromState&&a.autoReverse&&2>n)i=a,n=2;else if("*"==a.toState&&a.fromState==e&&a.autoReverse&&3>n)i=a,n=3;else if(a.toState==t&&a.fromState==e&&a.autoReverse&&4>n)i=a,n=4;else if(a.fromState==t&&"*"==a.toState&&5>n)i=a,n=5;else if("*"==a.fromState&&a.toState==e&&6>n)i=a,n=6;else if(a.fromState==t&&a.toState==e&&7>n){i=a,n=7;break}}return i&&!i.effect&&(i=null),i},p.getTotalDuration=function(t){var i=0,n=t;i=t instanceof e.CompositeEffect?n.compositeDuration:t.duration;var s="repeatDelay"in t?n.repeatDelay:0,a="repeatCount"in t?n.repeatCount:0,r="startDelay"in t?n.startDelay:0;return i=i*a+s*(a-1)+r},n}(t.EventDispatcher);e.Skin=i,t.registerClass(i,"egret.gui.Skin",["egret.gui.IStateClient","egret.IEventDispatcher","egret.gui.ISkin","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n,s){void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=null),i.call(this),this.labelDisplay=new t.gui.Label,this.iconDisplay=new t.gui.UIAsset;var a={};a.up=e,a.down=n,a.disabled=s,this.stateMap=a,this._setStates(["up","down","disabled"])}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"skinParts",function(){return n._skinParts}),p.createChildren=function(){i.prototype.createChildren.call(this);
var t=new e.UIAsset;t.left=t.top=t.bottom=t.right=0,this.addElement(t),this.backgroundAsset=t,this.iconDisplay.includeInLayout=!1,this.addElement(this.iconDisplay),this.labelDisplay.includeInLayout=!1,this.labelDisplay.paddingLeft=5,this.labelDisplay.paddingRight=5,this.addElement(this.labelDisplay)},p.commitCurrentState=function(){i.prototype.commitCurrentState.call(this);var t=this.currentState,e=this.stateMap[t];e&&(this.backgroundAsset.source=this.stateMap[t])},p.measure=function(){i.prototype.measure.call(this);var t=this.iconDisplay.preferredWidth+this.labelDisplay.preferredWidth+20,e=Math.max(this.iconDisplay.preferredHeight,this.labelDisplay.preferredHeight)+20;t>this.measuredWidth&&(t<this.minWidth&&(t=this.minWidth),t>this.maxWidth&&(t=this.maxWidth),this.measuredWidth=t),e>this.measuredHeight&&(e<this.minHeight&&(e=this.minHeight),e>this.maxHeight&&(e=this.maxHeight),this.measuredHeight=e)},p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e);var n=this.iconDisplay.layoutBoundsWidth,s=this.iconDisplay.layoutBoundsHeight,a=this.labelDisplay.layoutBoundsWidth,r=this.labelDisplay.layoutBoundsHeight,o=.5*(t-n-a),h=.5*(e-s);this.iconDisplay.setLayoutBoundsPosition(o,h);var l=o+n,u=.5*(e-r);this.labelDisplay.setLayoutBoundsPosition(l,u)},n._skinParts=["labelDisplay","iconDisplay"],n}(e.Skin);e.ButtonSkin=i,t.registerClass(i,"egret.gui.ButtonSkin")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._selected=!1,this._autoSelected=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"selected",function(){return this._selected},function(t){this._setSelected(t)}),p._setSelected=function(t){t!=this._selected&&(this._selected=t,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.invalidateSkinState())},p.getCurrentSkinState=function(){var t=i.prototype.getCurrentSkinState.call(this);if(this.selected){var e=t+"AndSelected",n=this.skin;return n&&n.hasState(e)?e:"disabled"==t?"disabled":"down"}return t},p.buttonReleased=function(){i.prototype.buttonReleased.call(this),this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(t.Event.CHANGE))},n}(e.ButtonBase);e.ToggleButtonBase=i,t.registerClass(i,"egret.gui.ToggleButtonBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=e;return p=i.prototype,e}(e.ToggleButtonBase);e.CheckBox=i,t.registerClass(i,"egret.gui.CheckBox")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.generator=null,this.generator=e}__extends(e,t);var i=e;return p=i.prototype,p.newInstance=function(){var t=new this.generator;return t},e}(t.HashObject);e.ClassFactory=i,t.registerClass(i,"egret.gui.ClassFactory",["egret.gui.IFactory"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.dataChangedFlag=!1,this._data=null,this._selected=!1,this._itemIndex=-1,this.touchChildren=!0}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"data",function(){return this._data},function(t){this._data=t,this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())}),p.dataChanged=function(){},i(p,"selected",function(){return this._selected},function(t){this._selected!=t&&(this._selected=t,this.invalidateSkinState())}),i(p,"itemIndex",function(){return this._itemIndex},function(t){this._itemIndex=t}),p.commitProperties=function(){t.prototype.commitProperties.call(this),this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())},p.getCurrentSkinState=function(){return this._selected?"down":t.prototype.getCurrentSkinState.call(this)},e}(e.ButtonBase);e.ItemRenderer=i,t.registerClass(i,"egret.gui.ItemRenderer",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this._id=null,this._isPopUp=!1,this._owner=null,this._updateCompletePendingFlag=!1,this._initialized=!1,this._nestLevel=0,this._enabled=!0,this._uiWidth=0,this._uiHeight=0,this._minWidth=0,this._maxWidth=1e4,this._minHeight=0,this._maxHeight=1e4,this._measuredWidth=0,this._measuredHeight=0,this._left=0/0,this._right=0/0,this._top=0/0,this._bottom=0/0,this._horizontalCenter=0/0,this._verticalCenter=0/0,this._percentWidth=0/0,this._percentHeight=0/0,this._includeInLayout=!0,this._oldWidth=0/0,this._oldHeight=0/0,this._oldX=0/0,this._oldY=0/0,this._invalidatePropertiesFlag=!1,this._invalidateSizeFlag=!1,this._oldPreferWidth=0/0,this._oldPreferHeight=0/0,this._invalidateDisplayListFlag=!1,this._validateNowFlag=!1,this._initializeCalled=!1,this._hasOwnStyleChain=!1,this._styleProtoChain=null,this._hasNoStyleChild=!1,this._layoutWidthExplicitlySet=!1,this._layoutHeightExplicitlySet=!1}var e=t;return p=e.prototype,t}();e.UIComponentProperties=i,t.registerClass(i,"egret.gui.UIComponentProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var i=__define,n=t;return p=n.prototype,i(t,"stage",function(){return t._stage}),t._initlize=function(i){t.initlized||(t._stage=i,t._layoutManager=new e.LayoutManager,t.initlized=!0)},i(t,"uiStage",function(){return t._uiStage}),t.initlized=!1,t}();e.UIGlobals=i,t.registerClass(i,"egret.gui.UIGlobals")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.targetLevel=Number.MAX_VALUE,this.updateCompleteQueue=new e.DepthQueue,this.invalidatePropertiesFlag=!1,this.invalidateClientPropertiesFlag=!1,this.invalidatePropertiesQueue=new e.DepthQueue,this.invalidateSizeFlag=!1,this.invalidateClientSizeFlag=!1,this.invalidateSizeQueue=new e.DepthQueue,this.invalidateDisplayListFlag=!1,this.invalidateDisplayListQueue=new e.DepthQueue,this.listenersAttached=!1}__extends(n,i);var s=n;return p=s.prototype,p.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},p.validateProperties=function(){for(var t=this.invalidatePropertiesQueue.shift();t;)t.parent&&(t.validateProperties(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidatePropertiesQueue.shift();this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)},p.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},p.validateSize=function(){for(var t=this.invalidateSizeQueue.pop();t;)t.parent&&(t.validateSize(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)},p.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},p.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue.shift();t;)t.parent&&(t.validateDisplayList(),t.updateCompletePendingFlag||(this.updateCompleteQueue.insert(t),t.updateCompletePendingFlag=!0)),t=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)},p.attachListeners=function(){e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.invalidate(),this.listenersAttached=!0},p.doPhasedInstantiationCallBack=function(i){void 0===i&&(i=null),e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},p.doPhasedInstantiation=function(){if(this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=!1;for(var t=this.updateCompleteQueue.pop();t;)t.initialized||(t.initialized=!0),t.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(t,e.UIEvent.UPDATE_COMPLETE),t.updateCompletePendingFlag=!1,t=this.updateCompleteQueue.pop();e.UIEvent.dispatchUIEvent(this,e.UIEvent.UPDATE_COMPLETE)}},p.validateNow=function(){for(var t=0;this.listenersAttached&&t++<100;)this.doPhasedInstantiationCallBack()},p.validateClient=function(t,i){void 0===i&&(i=!1);var n,s=!1,a=this.targetLevel;for(this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=t.nestLevel);!s;){for(s=!0,n=this.invalidatePropertiesQueue.removeSmallestChild(t);n;)n.parent&&(n.validateProperties(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),n=this.invalidatePropertiesQueue.removeSmallestChild(t);for(this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,n=this.invalidateSizeQueue.removeLargestChild(t);n;){if(n.parent&&(n.validateSize(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}n=this.invalidateSizeQueue.removeLargestChild(t)}if(this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,!i){for(n=this.invalidateDisplayListQueue.removeSmallestChild(t);n;){if(n.parent&&(n.validateDisplayList(),n.updateCompletePendingFlag||(this.updateCompleteQueue.insert(n),n.updateCompletePendingFlag=!0)),this.invalidateClientPropertiesFlag&&(n=this.invalidatePropertiesQueue.removeSmallestChild(t))){this.invalidatePropertiesQueue.insert(n),s=!1;break}if(this.invalidateClientSizeFlag&&(n=this.invalidateSizeQueue.removeLargestChild(t))){this.invalidateSizeQueue.insert(n),s=!1;break}n=this.invalidateDisplayListQueue.removeSmallestChild(t)}this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)}}if(a==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!i))for(n=this.updateCompleteQueue.removeLargestChild(t);n;)n.initialized||(n.initialized=!0),n.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(n,e.UIEvent.UPDATE_COMPLETE),n.updateCompletePendingFlag=!1,n=this.updateCompleteQueue.removeLargestChild(t)},n}(t.EventDispatcher);e.LayoutManager=i,t.registerClass(i,"egret.gui.LayoutManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._contentWidth=0,this._contentHeight=0,this._layout=null,this._clipAndEnableScrolling=!1,this._horizontalScrollPosition=0,this._verticalScrollPosition=0,this._layoutInvalidateDisplayListFlag=!1,this._layoutInvalidateSizeFlag=!1,this.touchEnabled=!1}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.createChildren=function(){i.prototype.createChildren.call(this),this._layout||(this.layout=new e.BasicLayout)},s(p,"contentWidth",function(){return this._contentWidth}),p.setContentWidth=function(t){if(t!=this._contentWidth){var i=this._contentWidth;this._contentWidth=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentWidth",i,t,this)}},s(p,"contentHeight",function(){return this._contentHeight}),p.setContentHeight=function(t){if(t!=this._contentHeight){var i=this._contentHeight;this._contentHeight=t,this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentHeight",i,t,this)}},p.setContentSize=function(t,e){(t!=this._contentWidth||e!=this._contentHeight)&&(this.setContentWidth(t),this.setContentHeight(e))},s(p,"layout",function(){return this._layout},function(t){this._setLayout(t)}),p._setLayout=function(t){this._layout!=t&&(this._layout&&(this._layout.target=null),this._layout=t,this._layout&&(this._layout.target=this),this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEventWith("layoutChanged"))},s(p,"clipAndEnableScrolling",function(){return this._clipAndEnableScrolling},function(e){e!=this._clipAndEnableScrolling&&(this._clipAndEnableScrolling=e,this.scrollRect=this._clipAndEnableScrolling?new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,400,800):null)}),s(p,"horizontalScrollPosition",function(){return this._horizontalScrollPosition},function(t){if(t!=this._horizontalScrollPosition){var i=this._horizontalScrollPosition;this._horizontalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",i,t,this)}}),s(p,"verticalScrollPosition",function(){return this._verticalScrollPosition},function(t){if(t!=this._verticalScrollPosition){var i=this._verticalScrollPosition;this._verticalScrollPosition=t,this.scrollPositionChanged(),e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",i,t,this)}}),p.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),this._layout&&this._layout.scrollPositionChanged())},p.updateScrollRect=function(e,i){var n=this.scrollRect;this._clipAndEnableScrolling?n?(n.x=this._horizontalScrollPosition,n.y=this._verticalScrollPosition,n.width=e,n.height=i,this.scrollRect=n):this.scrollRect=new t.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,e,i):n&&(this.scrollRect=null)},p.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(i.prototype.measure.call(this),this._layout.measure())},p._invalidateDisplayListExceptLayout=function(){i.prototype.invalidateDisplayList.call(this)},p.invalidateDisplayList=function(){i.prototype.invalidateDisplayList.call(this),this._layoutInvalidateDisplayListFlag=!0},p._childXYChanged=function(){this.invalidateSize(),this.invalidateDisplayList()},p._invalidateSizeExceptLayout=function(){i.prototype.invalidateSize.call(this)},p.invalidateSize=function(){i.prototype.invalidateSize.call(this),this._layoutInvalidateSizeFlag=!0},p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._layoutInvalidateDisplayListFlag&&this._layout&&(this._layoutInvalidateDisplayListFlag=!1,this._layout.updateDisplayList(t,e),this.updateScrollRect(t,e))},s(p,"numElements",function(){return-1}),p.getElementAt=function(){return null},p.getElementIndex=function(){return-1},p.getElementIndicesInView=function(){var e,i=[];if(this.scrollRect)for(e=0;e<this.numChildren;e++){var n=this.getChildAt(e);if(n){var s=new t.Rectangle;s.x=n.layoutBoundsX,s.y=n.layoutBoundsY,s.width=n.layoutBoundsWidth,s.height=n.layoutBoundsHeight,this.scrollRect.intersects(s)&&i.push(e)}}else for(e=0;e<this.numChildren;e++)i.push(e);return i},p.setVirtualElementIndicesInView=function(){},p.getVirtualElementAt=function(t){return this.getElementAt(t)},n}(e.UIComponent);e.GroupBase=i,t.registerClass(i,"egret.gui.GroupBase",["egret.gui.IViewport","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._rendererOwner=null,this.useVirtualLayoutChanged=!1,this.rendererToClassMap=[],this.freeRenderers=[],this.createNewRendererFlag=!1,this.cleanTimer=null,this.dataProviderChanged=!1,this._dataProvider=null,this.recyclerDic={},this.itemRendererChanged=!1,this._itemRenderer=null,this.itemRendererSkinNameChange=!1,this._itemRendererSkinName=null,this._itemRendererFunction=null,this.virtualLayoutUnderway=!1,this.typicalItemChanged=!1,this.typicalLayoutRect=null,this.indexToRenderer=[],this.cleanFreeRenderer=!1,this.renderersBeingUpdated=!1}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"layout",function(){return this._layout},function(t){t!=this.layout&&(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&t&&this.layout.useVirtualLayout!=t.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(t),t&&(t.typicalLayoutRect=this.typicalLayoutRect,t.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))}),p.layout_useVirtualLayoutChangedHandler=function(){this.changeUseVirtualLayout()},p.setVirtualElementIndicesInView=function(t,e){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var i=t;e>=i;i++)this.virtualRendererIndices.push(i);for(var n in this.indexToRenderer)n=parseInt(n),-1==this.virtualRendererIndices.indexOf(n)&&this.freeRendererByIndex(n)}},p.getVirtualElementAt=function(t){if(0>t||t>=this.dataProvider.length)return null;var i=this.indexToRenderer[t];if(!i){var n=this.dataProvider.getItemAt(t),s=this.createVirtualRenderer(t);this.indexToRenderer[t]=s,this.updateRenderer(s,t,n),this.createNewRendererFlag&&("validateNow"in s&&s.validateNow(),this.createNewRendererFlag=!1,e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,s,t,n)),i=s}return i},p.freeRendererByIndex=function(e){if(this.indexToRenderer[e]){var i=this.indexToRenderer[e];delete this.indexToRenderer[e],i&&i instanceof t.DisplayObject&&this.doFreeRenderer(i)}},p.doFreeRenderer=function(t){var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.freeRenderers[i]||(this.freeRenderers[i]=[]),this.freeRenderers[i].push(t),t.visible=!1},p.invalidateSize=function(){this.createNewRendererFlag||i.prototype.invalidateSize.call(this)},p.createVirtualRenderer=function(t){var e,i=this.dataProvider.getItemAt(t),n=this.itemToRendererClass(i),s=n.hashCode,a=this.freeRenderers;return a[s]&&a[s].length>0?(e=a[s].pop(),e.visible=!0,e):(this.createNewRendererFlag=!0,this.createOneRenderer(n))},p.createOneRenderer=function(e){var i,n=e.hashCode,s=this.recyclerDic[n];return s&&(i=s.pop(),0==s.length&&delete this.recyclerDic[n]),i||(i=e.newInstance(),this.rendererToClassMap[i.hashCode]=e),i&&i instanceof t.DisplayObject?(this._itemRendererSkinName&&this.setItemRenderSkinName(i),this._addToDisplayList(i),i.setLayoutBoundsSize(0/0,0/0),i):null},p.setItemRenderSkinName=function(t){if(t){var e=t;if(e)e._skinNameExplicitlySet||(e.skinName=this._itemRendererSkinName);else{var i=t;i&&!i.skinName&&(i.skinName=this._itemRendererSkinName)}}},p.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){this.virtualLayoutUnderway=!1;var e=!1;for(var i in this.freeRenderers)if(this.freeRenderers[i].length>0){e=!0;break}e&&(this.cleanTimer||(this.cleanTimer=new t.Timer(3e3,1),this.cleanTimer.addEventListener(t.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}},p.cleanAllFreeRenderer=function(t){void 0===t&&(t=null);var e,i=this.freeRenderers;for(var n in i)for(var s=i[n],a=s.length,r=0;a>r;r++)e=s[r],e.visible=!0,this.recycle(e);this.freeRenderers=[],this.cleanFreeRenderer=!1},p.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:i.prototype.getElementIndicesInView.call(this)},p.changeUseVirtualLayout=function(){this.useVirtualLayoutChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties()},s(p,"dataProvider",function(){return this._dataProvider},function(t){this._dataProvider!=t&&(this.removeDataProviderListener(),this._dataProvider=t,this.dataProviderChanged=!0,this.cleanFreeRenderer=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),p.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)},p.onCollectionChange=function(t){switch(t.kind){case e.CollectionEventKind.ADD:this.itemAddedHandler(t.items,t.location);break;case e.CollectionEventKind.MOVE:this.itemMovedHandler(t.items[0],t.location,t.oldLocation);break;case e.CollectionEventKind.REMOVE:this.itemRemovedHandler(t.items,t.location);break;case e.CollectionEventKind.UPDATE:this.itemUpdatedHandler(t.items[0],t.location);break;case e.CollectionEventKind.REPLACE:this.itemRemoved(t.oldItems[0],t.location),this.itemAdded(t.items[0],t.location);break;case e.CollectionEventKind.RESET:case e.CollectionEventKind.REFRESH:if(this.layout&&this.layout.useVirtualLayout)for(var i in this.indexToRenderer)i=parseInt(i),this.freeRendererByIndex(i);this.dataProviderChanged=!0,this.invalidateProperties()}this.invalidateSize(),this.invalidateDisplayList()},p.itemAddedHandler=function(t,e){for(var i=t.length,n=0;i>n;n++)this.itemAdded(t[n],e+n);this.resetRenderersIndices()},p.itemMovedHandler=function(t,e,i){this.itemRemoved(t,i),this.itemAdded(t,e),this.resetRenderersIndices()},p.itemRemovedHandler=function(t,e){for(var i=t.length,n=i-1;n>=0;n--)this.itemRemoved(t[n],e+n);this.resetRenderersIndices()},p.itemAdded=function(t,i){if(this.layout&&this.layout.elementAdded(i),this.layout&&this.layout.useVirtualLayout){var n=this.virtualRendererIndices;if(n){for(var s=n.length,a=0;s>a;a++){var r=n[a];r>=i&&(n[a]=r+1)}this.indexToRenderer.splice(i,0,null)}}else{var o=this.itemToRendererClass(t),h=this.createOneRenderer(o);this.indexToRenderer.splice(i,0,h),h&&(this.updateRenderer(h,i,t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,h,i,t))}},p.itemRemoved=function(i,n){this.layout&&this.layout.elementRemoved(n);var s=this.virtualRendererIndices;if(s&&s.length>0){for(var a=-1,r=s.length,o=0;r>o;o++){var h=s[o];h==n?a=o:h>n&&(s[o]=h-1)}-1!=a&&s.splice(a,1)}var l=this.indexToRenderer[n];this.indexToRenderer.length>n&&this.indexToRenderer.splice(n,1),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,l,n,i),l&&l instanceof t.DisplayObject&&this.recycle(l)},p.recycle=function(t){this._removeFromDisplayList(t),"ownerChanged"in t&&t.ownerChanged(null);var e=this.rendererToClassMap[t.hashCode],i=e.hashCode;this.recyclerDic[i]||(this.recyclerDic[i]=[]),this.recyclerDic[i].push(t)},p.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var t=this.virtualRendererIndices,e=t.length,i=0;e>i;i++){var n=t[i];this.resetRendererItemIndex(n)}else{var s=this.indexToRenderer.length;for(n=0;s>n;n++)this.resetRendererItemIndex(n)}},p.itemUpdatedHandler=function(t,e){if(!this.renderersBeingUpdated){var i=this.indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},p.resetRendererItemIndex=function(t){var e=this.indexToRenderer[t];e&&(e.itemIndex=t)},s(p,"itemRenderer",function(){return this._itemRenderer},function(t){this._itemRenderer!==t&&(this._itemRenderer=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.cleanFreeRenderer=!0,this.removeDataProviderListener(),this.invalidateProperties())}),s(p,"itemRendererSkinName",function(){return this._itemRendererSkinName},function(t){this._itemRendererSkinName!=t&&(this._itemRendererSkinName=t,this._itemRendererSkinName&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties()))}),s(p,"itemRendererFunction",function(){return this._itemRendererFunction},function(t){this._itemRendererFunction!=t&&(this._itemRendererFunction=t,this.itemRendererChanged=!0,this.typicalItemChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())}),p.itemToRendererClass=function(t){var e;return null!=this._itemRendererFunction?(e=this._itemRendererFunction(t),e||(e=this._itemRenderer)):e=this._itemRenderer,e?e:n.defaultRendererFactory},p.createChildren=function(){if(!this.layout){var n=new e.VerticalLayout;n.gap=0,n.horizontalAlign=t.HorizontalAlign.CONTENT_JUSTIFY,this.layout=n}i.prototype.createChildren.call(this)},p.commitProperties=function(){if((this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)&&(this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.useVirtualLayoutChanged=!1,this.itemRendererChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0)),i.prototype.commitProperties.call(this),this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())),this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=!1;for(var t=this.indexToRenderer.length,n=0;t>n;n++)this.setItemRenderSkinName(this.indexToRenderer[n]);var s=this.freeRenderers;for(var a in s){var r=s[a];if(r)for(t=r.length,n=0;t>n;n++)this.setItemRenderSkinName(r[n])}}},p.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement(),i.prototype.measure.call(this)},p.updateDisplayList=function(t,e){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=!0,this.ensureTypicalLayoutElement()),i.prototype.updateDisplayList.call(this,t,e),this.virtualLayoutUnderway&&this.finishVirtualLayout()},p.ensureTypicalLayoutElement=function(){this.layout.typicalLayoutRect||this._dataProvider&&this._dataProvider.length>0&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())},p.measureRendererSize=function(){if(!this.typicalItem)return void this.setTypicalLayoutRect(null);var e=this.itemToRendererClass(this.typicalItem),i=this.createOneRenderer(e);if(!i)return void this.setTypicalLayoutRect(null);this.createNewRendererFlag=!0,this.updateRenderer(i,0,this.typicalItem),"validateNow"in i&&i.validateNow();var n=new t.Rectangle(0,0,i.preferredWidth,i.preferredHeight);this.recycle(i),this.setTypicalLayoutRect(n),this.createNewRendererFlag=!1},p.setTypicalLayoutRect=function(t){this.typicalLayoutRect=t,this.layout&&(this.layout.typicalLayoutRect=t)},p.removeAllRenderers=function(){for(var t,i=this.indexToRenderer.length,n=0;i>n;n++)t=this.indexToRenderer[n],t&&(this.recycle(t),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,t,t.itemIndex,t.data));this.indexToRenderer=[],this.virtualRendererIndices=null,this.cleanFreeRenderer&&this.cleanAllFreeRenderer()},p.createRenderers=function(){if(this._dataProvider)for(var t=0,i=this._dataProvider.length,n=0;i>n;n++){var s=this._dataProvider.getItemAt(n),a=this.itemToRendererClass(s),r=this.createOneRenderer(a);r&&(this.indexToRenderer[t]=r,this.updateRenderer(r,t,s),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,r,t,s),t++)}},p.updateRenderer=function(t,e,i){return this.renderersBeingUpdated=!0,this._rendererOwner?t=this._rendererOwner.updateRenderer(t,e,i):("ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i),this.renderersBeingUpdated=!1,t},p.itemToLabel=function(t){return t?t.toString():" "},p.getElementAt=function(t){return this.indexToRenderer[t]},p.getElementIndex=function(t){return t?this.indexToRenderer.indexOf(t):-1},s(p,"numElements",function(){return this._dataProvider?this._dataProvider.length:0}),p.addChild=function(){return t.$error(3004,t.sys.tr(3003)),null},p.addChildAt=function(){return t.$error(3005,t.sys.tr(3003)),null},p.removeChild=function(){return t.$error(3006,t.sys.tr(3003)),null},p.removeChildAt=function(){return t.$error(3007,t.sys.tr(3003)),null},p.setChildIndex=function(){t.$error(3008,t.sys.tr(3003))},p.swapChildren=function(){t.$error(3009,t.sys.tr(3003))},p.swapChildrenAt=function(){t.$error(3010,t.sys.tr(3003))},n.defaultRendererFactory=new e.ClassFactory(e.ItemRenderer),n}(e.GroupBase);e.DataGroup=i,t.registerClass(i,"egret.gui.DataGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.dataGroup=null,this._dataGroupProperties={}}__extends(i,t);var n=__define,s=i;return p=s.prototype,p.updateRenderer=function(t,e,i){return"ownerChanged"in t&&t.ownerChanged(this),t.itemIndex=e,t.label=this.itemToLabel(i),t.data=i,t},p.itemToLabel=function(t){return null!==t?t.toString():" "},n(p,"dataProvider",function(){return this._getDataProvider()},function(t){this._setDataProvider(t)}),p._getDataProvider=function(){return null!=this.dataGroup?this.dataGroup.dataProvider:this._dataGroupProperties.dataProvider},p._setDataProvider=function(t){null==this.dataGroup?this._dataGroupProperties.dataProvider=t:(this.dataGroup.dataProvider=t,this._dataGroupProperties.dataProvider=!0)},n(p,"itemRenderer",function(){return this.dataGroup?this.dataGroup.itemRenderer:this._dataGroupProperties.itemRenderer},function(t){null==this.dataGroup?this._dataGroupProperties.itemRenderer=t:(this.dataGroup.itemRenderer=t,this._dataGroupProperties.itemRenderer=!0)}),n(p,"itemRendererSkinName",function(){return this.dataGroup?this.dataGroup.itemRendererSkinName:this._dataGroupProperties.itemRendererSkinName},function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererSkinName=t:(this.dataGroup.itemRendererSkinName=t,this._dataGroupProperties.itemRendererSkinName=!0)}),n(p,"itemRendererFunction",function(){return this.dataGroup?this.dataGroup.itemRendererFunction:this._dataGroupProperties.itemRendererFunction},function(t){null==this.dataGroup?this._dataGroupProperties.itemRendererFunction=t:(this.dataGroup.itemRendererFunction=t,this._dataGroupProperties.itemRendererFunction=!0)}),n(p,"layout",function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},function(t){this._setLayout(t)}),p._setLayout=function(t){null==this.dataGroup?this._dataGroupProperties.layout=t:(this.dataGroup.layout=t,this._dataGroupProperties.layout=!0)},p.partAdded=function(i,n){if(t.prototype.partAdded.call(this,i,n),n==this.dataGroup){var s={};void 0!==this._dataGroupProperties.layout&&(this.dataGroup.layout=this._dataGroupProperties.layout,s.layout=!0),void 0!==this._dataGroupProperties.dataProvider&&(this.dataGroup.dataProvider=this._dataGroupProperties.dataProvider,s.dataProvider=!0),void 0!==this._dataGroupProperties.itemRenderer&&(this.dataGroup.itemRenderer=this._dataGroupProperties.itemRenderer,s.itemRenderer=!0),void 0!==this._dataGroupProperties.itemRendererSkinName&&(this.dataGroup.itemRendererSkinName=this._dataGroupProperties.itemRendererSkinName,s.itemRendererSkinName=!0),void 0!==this._dataGroupProperties.itemRendererFunction&&(this.dataGroup.itemRendererFunction=this._dataGroupProperties.itemRendererFunction,s.itemRendererFunction=!0),this.dataGroup._rendererOwner=this,this._dataGroupProperties=s,this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD)&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE)&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)
}},p.partRemoved=function(i,n){if(t.prototype.partRemoved.call(this,i,n),n==this.dataGroup){this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this);var s={};this._dataGroupProperties.layout&&(s.layout=this.dataGroup.layout),this._dataGroupProperties.dataProvider&&(s.dataProvider=this.dataGroup.dataProvider),this._dataGroupProperties.itemRenderer&&(s.itemRenderer=this.dataGroup.itemRenderer),this._dataGroupProperties.itemRendererSkinName&&(s.itemRendererSkinName=this.dataGroup.itemRendererSkinName),this._dataGroupProperties.itemRendererFunction&&(s.itemRendererFunction=this.dataGroup.itemRendererFunction),this._dataGroupProperties=s,this.dataGroup._rendererOwner=null,this.dataGroup.dataProvider=null,this.dataGroup.layout=null}},p.addEventListener=function(i,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),t.prototype.addEventListener.call(this,i,n,s,a,r),i==e.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this),i==e.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)},p.removeEventListener=function(i,n,s,a){void 0===a&&(a=!1),t.prototype.removeEventListener.call(this,i,n,s,a),i==e.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&(this.hasEventListener(e.RendererExistenceEvent.RENDERER_ADD)||this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this)),i==e.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&(this.hasEventListener(e.RendererExistenceEvent.RENDERER_REMOVE)||this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))},i}(e.SkinnableComponent);e.SkinnableDataContainer=i,t.registerClass(i,"egret.gui.SkinnableDataContainer",["egret.gui.IItemRendererOwner"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._doingWholesaleChanges=!1,this.dataProviderChanged=!1,this._labelField="label",this.labelFieldOrFunctionChanged=!1,this._labelFunction=null,this._requireSelection=!1,this.requireSelectionChanged=!1,this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._selectedIndex=n.NO_SELECTION,this._allowCustomSelectedItem=!1,this._dispatchChangeAfterSelection=!1,this._pendingSelectedItem=void 0,this._selectedItem=null,this._useVirtualLayout=!1,this.selectedIndexAdjusted=!1}__extends(n,i);var s=__define,a=n;return p=a.prototype,p._setDataProvider=function(t){this.dataProvider&&this.dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),this.dataProviderChanged=!0,this._doingWholesaleChanges=!0,t&&t.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this),i.prototype._setDataProvider.call(this,t),this.invalidateProperties()},s(p,"layout",function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},function(t){t&&this.useVirtualLayout&&(t.useVirtualLayout=!0),this._setLayout(t)}),s(p,"labelField",function(){return this._labelField},function(t){this._setLabelField(t)}),p._setLabelField=function(t){t!=this._labelField&&(this._labelField=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},s(p,"labelFunction",function(){return this._labelFunction},function(t){this._setLabelFunction(t)}),p._setLabelFunction=function(t){t!=this._labelFunction&&(this._labelFunction=t,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())},s(p,"requireSelection",function(){return this._requireSelection},function(t){this._setRequireSelection(t)}),p._setRequireSelection=function(t){t!=this._requireSelection&&(this._requireSelection=t,t&&(this.requireSelectionChanged=!0,this.invalidateProperties()))},s(p,"selectedIndex",function(){return this._getSelectedIndex()},function(t){this._setSelectedIndex(t,!1)}),p._getSelectedIndex=function(){return this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex:this._selectedIndex},p._setSelectedIndex=function(t,e){void 0===e&&(e=!1),t!=this.selectedIndex&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._proposedSelectedIndex=t,this.invalidateProperties())},s(p,"selectedItem",function(){return void 0!==this._pendingSelectedItem?this._pendingSelectedItem:this._allowCustomSelectedItem&&this.selectedIndex==n.CUSTOM_SELECTED_ITEM?this._selectedItem:this.selectedIndex==n.NO_SELECTION||null==this.dataProvider?void 0:this.dataProvider.length>this.selectedIndex?this.dataProvider.getItemAt(this.selectedIndex):void 0},function(t){this._setSelectedItem(t,!1)}),p._setSelectedItem=function(t,e){void 0===e&&(e=!1),this.selectedItem!==t&&(e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._pendingSelectedItem=t,this.invalidateProperties())},s(p,"useVirtualLayout",function(){return this._getUseVirtualLayout()},function(t){this._setUseVirtualLayout(t)}),p._getUseVirtualLayout=function(){return this.layout?this.layout.useVirtualLayout:this._useVirtualLayout},p._setUseVirtualLayout=function(t){t!=this.useVirtualLayout&&(this._useVirtualLayout=t,this.layout&&(this.layout.useVirtualLayout=t))},p.commitProperties=function(){i.prototype.commitProperties.call(this),this.dataProviderChanged&&(this.dataProviderChanged=!1,this._doingWholesaleChanges=!1,this.selectedIndex>=0&&this.dataProvider&&this.selectedIndex<this.dataProvider.length?this.itemSelected(this.selectedIndex,!0):this.requireSelection?this._proposedSelectedIndex=0:this._setSelectedIndex(-1,!1)),this.requireSelectionChanged&&(this.requireSelectionChanged=!1,this.requireSelection&&this.selectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0&&(this._proposedSelectedIndex=0)),void 0!==this._pendingSelectedItem&&(this._proposedSelectedIndex=this.dataProvider?this.dataProvider.getItemIndex(this._pendingSelectedItem):n.NO_SELECTION,this._allowCustomSelectedItem&&-1==this._proposedSelectedIndex&&(this._proposedSelectedIndex=n.CUSTOM_SELECTED_ITEM,this._selectedItem=this._pendingSelectedItem),this._pendingSelectedItem=void 0);var t=!1;if(this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(t=this.commitSelection()),this.selectedIndexAdjusted&&(this.selectedIndexAdjusted=!1,t||e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),this.labelFieldOrFunctionChanged){if(null!=this.dataGroup){var s;if(this.layout&&this.layout.useVirtualLayout)for(var a=this.dataGroup.getElementIndicesInView(),r=a.length,o=0;r>o;o++){var s=a[o];this.updateRendererLabelProperty(s)}else{var h=this.dataGroup.numElements;for(s=0;h>s;s++)this.updateRendererLabelProperty(s)}}this.labelFieldOrFunctionChanged=!1}},p.updateRendererLabelProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.label=this.itemToLabel(e.data))},p.partAdded=function(t,n){i.prototype.partAdded.call(this,t,n),n==this.dataGroup&&(this._useVirtualLayout&&this.dataGroup.layout&&(this.dataGroup.layout.useVirtualLayout=!0),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},p.partRemoved=function(t,n){i.prototype.partRemoved.call(this,t,n),n==this.dataGroup&&(this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))},p.updateRenderer=function(t,e,n){return this.itemSelected(e,this._isItemIndexSelected(e)),i.prototype.updateRenderer.call(this,t,e,n)},p.itemToLabel=function(t){if(null!=this._labelFunction)return this._labelFunction(t);if("string"==typeof t)return t;if(t instanceof Object)try{null!=t[this.labelField]&&(t=t[this.labelField])}catch(e){}if("string"==typeof t)return t;try{if(null!==t)return t.toString()}catch(e){}return" "},p.itemSelected=function(t,e){if(this.dataGroup){var i=this.dataGroup.getElementAt(t);null!=i&&(i.selected=e)}},p._isItemIndexSelected=function(t){return t==this.selectedIndex},p.commitSelection=function(t){void 0===t&&(t=!0);var i=this.dataProvider?this.dataProvider.length-1:-1,s=this._selectedIndex;if((!this._allowCustomSelectedItem||this._proposedSelectedIndex!=n.CUSTOM_SELECTED_ITEM)&&(this._proposedSelectedIndex<n.NO_SELECTION&&(this._proposedSelectedIndex=n.NO_SELECTION),this._proposedSelectedIndex>i&&(this._proposedSelectedIndex=i),this.requireSelection&&this._proposedSelectedIndex==n.NO_SELECTION&&this.dataProvider&&this.dataProvider.length>0))return this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1;var a=this._proposedSelectedIndex;if(this._dispatchChangeAfterSelection){var r=e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGING,this._selectedIndex,this._proposedSelectedIndex,!0);if(!r)return this.itemSelected(this._proposedSelectedIndex,!1),this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1,!1}return this._selectedIndex=a,this._proposedSelectedIndex=n.NO_PROPOSED_SELECTION,s!=n.NO_SELECTION&&this.itemSelected(s,!1),this._selectedIndex!=n.NO_SELECTION&&this.itemSelected(this._selectedIndex,!0),t&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,s,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),!0},p.adjustSelection=function(t,e){void 0===e&&(e=!1),this._proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this._proposedSelectedIndex=t:this._selectedIndex=t,this.selectedIndexAdjusted=!0,this.invalidateProperties()},p.itemAdded=function(t){this._doingWholesaleChanges||(this.selectedIndex==n.NO_SELECTION?this.requireSelection&&this.adjustSelection(t,!0):t<=this.selectedIndex&&this.adjustSelection(this.selectedIndex+1,!0))},p.itemRemoved=function(t){this.selectedIndex==n.NO_SELECTION||this._doingWholesaleChanges||(t==this.selectedIndex?this.requireSelection&&this.dataProvider&&this.dataProvider.length>0?0==t?(this._proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this.adjustSelection(-1,!1):t<this.selectedIndex&&this.adjustSelection(this.selectedIndex-1,!1))},p.dataGroup_rendererAddHandler=function(e){var i=e.renderer;null!=i&&(i.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},p.dataGroup_rendererRemoveHandler=function(e){var i=e.renderer;null!=i&&(i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),i.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))},p.item_mouseEventHandler=function(t){var e=t.type;if(e=n.TYPE_MAP[e],this.hasEventListener(e)){var i=t.currentTarget;this._dispatchListEvent(t,e,i)}},p._dispatchListEvent=function(t,i,n){var s=-1;s=n?n.itemIndex:this.dataGroup.getElementIndex(t.currentTarget);var a=this.dataProvider.getItemAt(s);e.ListEvent.dispatchListEvent(this,i,t,s,a,n)},p.dataProvider_collectionChangeHandler=function(t){var i=t.items;if(t.kind==e.CollectionEventKind.ADD)for(var s=i.length,a=0;s>a;a++)this.itemAdded(t.location+a);else if(t.kind==e.CollectionEventKind.REMOVE)for(s=i.length,a=s-1;a>=0;a--)this.itemRemoved(t.location+a);else t.kind==e.CollectionEventKind.MOVE?(this.itemRemoved(t.oldLocation),this.itemAdded(t.location)):t.kind==e.CollectionEventKind.RESET?0==this.dataProvider.length?this._setSelectedIndex(n.NO_SELECTION,!1):(this.dataProviderChanged=!0,this.invalidateProperties()):t.kind==e.CollectionEventKind.REFRESH&&this.dataProviderRefreshed()},p.dataProviderRefreshed=function(){this._setSelectedIndex(n.NO_SELECTION,!1)},n.NO_SELECTION=-1,n.NO_PROPOSED_SELECTION=-2,n.CUSTOM_SELECTED_ITEM=-3,n.TYPE_MAP={rollOver:"itemRollOver",rollOut:"itemRollOut"},n}(e.SkinnableDataContainer);e.ListBase=i,t.registerClass(i,"egret.gui.ListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){var t=this;i.call(this),this._allowMultipleSelection=!1,this._selectedIndices=[],this.isValidIndex=function(e){return t.dataProvider&&e>=0&&e<t.dataProvider.length},this._captureItemRenderer=!0,this._mouseDownItemRenderer=null,this.useVirtualLayout=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.createChildren=function(){this.itemRenderer||(this.itemRenderer=e.DataGroup.defaultRendererFactory),i.prototype.createChildren.call(this)},s(p,"useVirtualLayout",function(){return this._getUseVirtualLayout()},function(t){this._setUseVirtualLayout(t)}),s(p,"allowMultipleSelection",function(){return this._allowMultipleSelection},function(t){this._allowMultipleSelection=t}),s(p,"selectedIndices",function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},function(t){this._setSelectedIndices(t,!1)}),s(p,"selectedIndex",function(){return this._proposedSelectedIndices?this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1:this._getSelectedIndex()},function(t){this._setSelectedIndex(t)}),s(p,"selectedItems",function(){var t=[],e=this.selectedIndices;if(e)for(var i=e.length,n=0;i>n;n++)t[n]=this.dataProvider.getItemAt(e[n]);return t},function(t){var e=[];if(t)for(var i=t.length,n=0;i>n;n++){var s=this.dataProvider.getItemIndex(t[n]);if(-1!=s&&e.splice(0,0,s),-1==s){e=[];break}}this._setSelectedIndices(e,!1)}),p._setSelectedIndices=function(t,e){void 0===e&&(e=!1),e&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||e),this._proposedSelectedIndices=t?t:[],this.invalidateProperties()},p.commitProperties=function(){i.prototype.commitProperties.call(this),this._proposedSelectedIndices&&this.commitSelection()},p.commitSelection=function(t){void 0===t&&(t=!0);var n=this._selectedIndex;if(this._proposedSelectedIndices){if(this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex),!this.allowMultipleSelection&&this._proposedSelectedIndices.length>0){var s=[];s.push(this._proposedSelectedIndices[0]),this._proposedSelectedIndices=s}this._proposedSelectedIndex=this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1}var a=i.prototype.commitSelection.call(this,!1);return a?(this.selectedIndex>e.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(this.selectedIndex)&&this._proposedSelectedIndices.push(this.selectedIndex):this._proposedSelectedIndices=[this.selectedIndex]),this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(n)&&this.itemSelected(n,!0),this.commitMultipleSelection()),t&&a&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,n,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)),a):(this._proposedSelectedIndices=null,!1)},p.commitMultipleSelection=function(){var t,e,i=[],n=[];if(this._selectedIndices.length>0&&this._proposedSelectedIndices.length>0){for(e=this._proposedSelectedIndices.length,t=0;e>t;t++)-1==this._selectedIndices.indexOf(this._proposedSelectedIndices[t])&&n.push(this._proposedSelectedIndices[t]);for(e=this._selectedIndices.length,t=0;e>t;t++)-1==this._proposedSelectedIndices.indexOf(this._selectedIndices[t])&&i.push(this._selectedIndices[t])}else this._selectedIndices.length>0?i=this._selectedIndices:this._proposedSelectedIndices.length>0&&(n=this._proposedSelectedIndices);if(this._selectedIndices=this._proposedSelectedIndices,i.length>0)for(e=i.length,t=0;e>t;t++)this.itemSelected(i[t],!1);if(n.length>0)for(e=n.length,t=0;e>t;t++)this.itemSelected(n[t],!0);this._proposedSelectedIndices=null},p._isItemIndexSelected=function(t){return this._allowMultipleSelection?-1!=this._selectedIndices.indexOf(t):i.prototype._isItemIndexSelected.call(this,t)},p.dataGroup_rendererAddHandler=function(e){i.prototype.dataGroup_rendererAddHandler.call(this,e);var n=e.renderer;null!=n&&(n.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.addEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},p.dataProviderRefreshed=function(){this._allowMultipleSelection||i.prototype.dataProviderRefreshed.call(this)},p.dataGroup_rendererRemoveHandler=function(e){i.prototype.dataGroup_rendererRemoveHandler.call(this,e);var n=e.renderer;null!=n&&(n.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._item_touchBeginHandler,this),n.removeEventListener(t.TouchEvent.TOUCH_END,this._item_touchEndHandler,this))},p._item_touchBeginHandler=function(i){if(!i.$isDefaultPrevented){var n=i.currentTarget;this._mouseDownItemRenderer=n,e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this)}},p.calculateSelectedIndices=function(t){var e=[];if(this._selectedIndices.length>0){if(1==this._selectedIndices.length&&this._selectedIndices[0]==t)return this.requireSelection?(e.splice(0,0,this._selectedIndices[0]),e):e;for(var i=!1,n=0;n<this._selectedIndices.length;n++)this._selectedIndices[n]==t?i=!0:this._selectedIndices[n]!=t&&e.splice(0,0,this._selectedIndices[n]);return i||e.splice(0,0,t),e}return e.splice(0,0,t),e},p._item_touchEndHandler=function(t){var i=t.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(t.currentTarget),this._allowMultipleSelection?this._setSelectedIndices(this.calculateSelectedIndices(n),!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(t,e.ListEvent.ITEM_CLICK,i)}},p.stage_touchEndHandler=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_touchEndHandler,this),this._mouseDownItemRenderer=null},n}(e.ListBase);e.List=i,t.registerClass(i,"egret.gui.List")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.dropDown=null,this.openButton=null,this._labelChanged=!1,this._dropDownController=null,this._userProposedSelectedIndex=e.ListBase.NO_SELECTION,this._captureItemRenderer=!1,this.dropDownController=new e.DropDownController}__extends(i,t);var n=__define,s=i;return p=s.prototype,p._setDataProvider=function(e){this.dataProvider!==e&&(t.prototype._setDataProvider.call(this,e),this._labelChanged=!0,this.invalidateProperties())},p._setLabelField=function(e){this.labelField!=e&&(t.prototype._setLabelField.call(this,e),this._labelChanged=!0,this.invalidateProperties())},p._setLabelFunction=function(e){this.labelFunction!=e&&(t.prototype._setLabelFunction.call(this,e),this._labelChanged=!0,this.invalidateProperties())},n(p,"dropDownController",function(){return this._dropDownController},function(t){this._dropDownController!=t&&(this._dropDownController=t,this._dropDownController.addEventListener(e.UIEvent.OPEN,this._dropDownController_openHandler,this),this._dropDownController.addEventListener(e.UIEvent.CLOSE,this.dropDownController_closeHandler,this),this.openButton&&(this._dropDownController.openButton=this.openButton),this.dropDown&&(this._dropDownController.dropDown=this.dropDown))}),n(p,"isDropDownOpen",function(){return this.dropDownController?this.dropDownController.isOpen:!1}),p.commitProperties=function(){t.prototype.commitProperties.call(this),this._labelChanged&&(this._labelChanged=!1,this.updateLabelDisplay())},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.openButton?this.dropDownController&&(this.dropDownController.openButton=this.openButton):i==this.dropDown&&this.dropDownController&&(this.dropDownController.dropDown=this.dropDown)},p.partRemoved=function(e,i){this.dropDownController&&(i==this.openButton&&(this.dropDownController.openButton=null),i==this.dropDown&&(this.dropDownController.dropDown=null)),t.prototype.partRemoved.call(this,e,i)},p.getCurrentSkinState=function(){return this.enabled?this.isDropDownOpen?"open":"normal":"disabled"},p.commitSelection=function(e){void 0===e&&(e=!0);var i=t.prototype.commitSelection.call(this,e);return this.updateLabelDisplay(),i},p._isItemIndexSelected=function(t){return this._userProposedSelectedIndex==t},p.openDropDown=function(){this.dropDownController.openDropDown()},p.closeDropDown=function(t){this.dropDownController.closeDropDown(t)},p.updateLabelDisplay=function(t){void 0===t&&(t=void 0)},p._changeHighlightedSelection=function(t,e){void 0===e&&(e=!1),this.itemSelected(this._userProposedSelectedIndex,!1),this._userProposedSelectedIndex=t,this.itemSelected(this._userProposedSelectedIndex,!0)},p.dataProvider_collectionChangeHandler=function(e){t.prototype.dataProvider_collectionChangeHandler.call(this,e),this._labelChanged=!0,this.invalidateProperties()},p._item_touchEndHandler=function(i){t.prototype._item_touchEndHandler.call(this,i);var n=i.currentTarget;n==this._mouseDownItemRenderer&&(this._dispatchListEvent(i,e.ListEvent.ITEM_CLICK,n),this._userProposedSelectedIndex=this.selectedIndex,this.closeDropDown(!0))},p._dropDownController_openHandler=function(){this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),this._userProposedSelectedIndex=this.selectedIndex,this.invalidateSkinState()},p._open_updateCompleteHandler=function(){this.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN)},p.dropDownController_closeHandler=function(t){this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),this.invalidateSkinState(),t.isDefaultPrevented()?this._changeHighlightedSelection(this.selectedIndex):this._setSelectedIndex(this._userProposedSelectedIndex,!0)},p.close_updateCompleteHandler=function(){this.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CLOSE)},i.PAGE_SIZE=5,i}(e.List);e.DropDownListBase=i,t.registerClass(i,"egret.gui.DropDownListBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.labelDisplay=null,this._prompt=""}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"prompt",function(){return this._prompt},function(t){this._prompt!=t&&(this._prompt=t,this._labelChanged=!0,this.invalidateProperties())}),p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.labelDisplay&&(this._labelChanged=!0,this.invalidateProperties())},p.updateLabelDisplay=function(t){void 0===t&&(t=void 0),this.labelDisplay&&(void 0==t&&(t=this.selectedItem),this.labelDisplay.text=null!=t&&void 0!=t?this.itemToLabel(t):this._prompt)},e}(e.DropDownListBase);e.DropDownList=i,t.registerClass(i,"egret.gui.DropDownList")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._textField=null,this.allStyleChanged=!1,this.fontFamilyChanged=!1,this._fontFamily="SimSun",this._sizeChanged=!1,this._size=30,this._focusEnabled=!0,this.boldChanged=!1,this._bold=!1,this.italicChanged=!1,this._italic=!1,this.textAlignChanged=!1,this._textAlign=t.HorizontalAlign.LEFT,this.verticalAlignChanged=!1,this._verticalAlign=t.VerticalAlign.TOP,this.lineSpacingChanged=!1,this._lineSpacing=0,this.textColorChanged=!1,this._textColor=16777215,this._textChanged=!1,this._text="",this._textFlow=null,this._textFlowChanged=!1,this._UIC_Props_._hasNoStyleChild=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.styleChanged=function(t){if(!this.allStyleChanged){if(t)switch(t){case"textColor":this.textColorChanged=!0;break;case"fontFamily":this.fontFamilyChanged=!0;break;case"size":this._sizeChanged=!0;break;case"bold":this.boldChanged=!0;break;case"italic":this.italicChanged=!0;break;case"textAlign":this.textAlignChanged=!0;break;case"verticalAlign":this.verticalAlignChanged=!0}else this.allStyleChanged=!0;this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}},s(p,"fontFamily",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.fontFamily?t.fontFamily:this._fontFamily},function(t){this.setStyle("fontFamily",t)}),s(p,"size",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.size?t.size:this._size},function(t){void 0===t&&(t=0),this.setStyle("size",t)}),s(p,"focusEnabled",function(){return this._focusEnabled},function(t){this._focusEnabled=t}),p.setFocus=function(){0!=this._focusEnabled&&this._textField&&this._textField.setFocus()},s(p,"bold",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.bold?t.bold:this._bold},function(t){this.setStyle("bold",t)}),s(p,"italic",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.italic?t.italic:this._italic},function(t){this.setStyle("italic",t)}),s(p,"textAlign",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textAlign?t.textAlign:this._textAlign},function(t){this.setStyle("textAlign",t)}),s(p,"verticalAlign",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.verticalAlign?t.verticalAlign:this._verticalAlign},function(t){this.setStyle("verticalAlign",t)}),s(p,"lineSpacing",function(){return this._getLineSpacing()},function(t){this._setLineSpacing(t)}),p._getLineSpacing=function(){return this._lineSpacing},p._setLineSpacing=function(t){this._lineSpacing!=t&&(this._lineSpacing=t,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},s(p,"textColor",function(){var t=this._UIC_Props_._styleProtoChain;return t&&void 0!==t.textColor?t.textColor:this._textColor},function(t){this.setStyle("textColor",t)}),s(p,"text",function(){return this._text},function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._textFlowChanged=!1,this._textFlow=[],this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(p,"textFlow",function(){return this._textFlow},function(t){this._textFlow=t||[],this._textFlowChanged=!0,this._textChanged=!1,this._text="",this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList()}),s(p,"textHeight",function(){return null==this._textField?0:this._textField.textHeight}),s(p,"textWidth",function(){return null==this._textField?0:this._textField.textWidth}),p.createChildren=function(){i.prototype.createChildren.call(this),this._textField||this.checkTextField()},p.commitProperties=function(){i.prototype.commitProperties.call(this),this._textField||this.checkTextField(),this.allStyleChanged&&(this.allStyleChanged=!1,this.textColorChanged=!0,this.fontFamilyChanged=!0,this._sizeChanged=!0,this.boldChanged=!0,this.italicChanged=!0,this.textAlignChanged=!0,this.verticalAlignChanged=!0),this.fontFamilyChanged&&(this._textField.fontFamily=this.fontFamily,this.fontFamilyChanged=!1),this._sizeChanged&&(this._textField.size=this.size,this._sizeChanged=!1),this.boldChanged&&(this._textField.bold=this.bold,this.boldChanged=!1),this.italic&&(this._textField.italic=this.italic,this.italicChanged=!1),this.textAlignChanged&&(this._textField.textAlign=this.textAlign,this.textAlignChanged=!1),this.verticalAlignChanged&&(this._textField.verticalAlign=this.verticalAlign,this.verticalAlignChanged=!1),this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1),this.textColorChanged&&(this._textField.textColor=this.textColor,this.textColorChanged=!1),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),(this._textChanged||this._textFlowChanged)&&(this._text=this._textField.text,this._textFlow=this._textField.textFlow,this._textChanged=!1,this._textFlowChanged=!1)},p.checkTextField=function(){this._textField||(this._createTextField(),this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow),this.invalidateProperties())},p._createTextField=function(){this._textField=new t.TextField,this._textField.fontFamily=this.fontFamily,this._textField.size=this.size,this._textField.textAlign=this.textAlign,this._textField.verticalAlign=this.verticalAlign,this._textField.lineSpacing=this._lineSpacing,this._textField.textColor=this.textColor,this._textField.multiline=!0,this._addToDisplayList(this._textField)},p._textFieldChanged=function(){this._text=this._textField.text,this._textFlow=this._textField.textFlow},p.measure=function(){i.prototype.measure.call(this),this.measuredWidth=n.DEFAULT_MEASURED_WIDTH,this.measuredHeight=n.DEFAULT_MEASURED_HEIGHT},p.$updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e)},p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this._textField.width=t,this._textField.height=e},p.dispatchPropertyChangeEvent=function(t,i,n){this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,t,i,n,this)},n.DEFAULT_MEASURED_WIDTH=160,n.DEFAULT_MEASURED_HEIGHT=22,n}(e.UIComponent);e.TextBase=i,t.registerClass(i,"egret.gui.TextBase",["egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._selectable=!0,this._displayAsPassword=!1,this.displayAsPasswordChanged=!0,this.pendingEditable=!0,this._editable=!0,this.editableChanged=!1,this._maxChars=0,this.maxCharsChanged=!1,this._multiline=!1,this.multilineChanged=!1,this._restrict=null,this.restrictChanged=!1,this._heightInLines=0/0,this.heightInLinesChanged=!1,this._widthInChars=0/0,this.widthInCharsChanged=!1,this._contentWidth=0,this._contentHeight=0,this._horizontalScrollPosition=0,this._verticalScrollPosition=0,this._clipAndEnableScrolling=!1,this.defaultHeight=0/0,this.defaultWidth=0/0,this.isValidating=!1,this.selectable=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"selectable",function(){return this._selectable},function(t){this._selectable=t}),s(p,"displayAsPassword",function(){return this._displayAsPassword},function(t){t!=this._displayAsPassword&&(this._displayAsPassword=t,this.displayAsPasswordChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())}),s(p,"editable",function(){return this._UIC_Props_._enabled?this._editable:this.pendingEditable},function(t){this._editable!=t&&(this._UIC_Props_._enabled?(this._editable=t,this.editableChanged=!0,this.invalidateProperties()):this.pendingEditable=t)}),s(p,"enabled",function(){return this._editable},function(t){t!=this._UIC_Props_._enabled&&(this._UIC_Props_._enabled=t,this._UIC_Props_._enabled?(this._editable!=this.pendingEditable&&(this.editableChanged=!0),this._editable=this.pendingEditable):(this.editable&&(this.editableChanged=!0),this.pendingEditable=this._editable,this._editable=!1),this.invalidateProperties())}),s(p,"maxChars",function(){return this._maxChars},function(t){void 0===t&&(t=0),t!=this._maxChars&&(this._maxChars=t,this.maxCharsChanged=!0,this.invalidateProperties())}),s(p,"multiline",function(){return this._multiline},function(t){t!=this.multiline&&(this._multiline=t,this.multilineChanged=!0,this.invalidateProperties())}),s(p,"restrict",function(){return this._restrict},function(t){t!=this._restrict&&(this._restrict=t,this.restrictChanged=!0,this.invalidateProperties())}),p.styleChanged=function(t){i.prototype.styleChanged.call(this,t),t&&"size"!=t||(this.heightInLinesChanged=!0,this.widthInCharsChanged=!0)
},p._setLineSpacing=function(t){this._lineSpacing!=t&&(i.prototype._setLineSpacing.call(this,t),this.heightInLinesChanged=!0)},s(p,"heightInLines",function(){return this._heightInLines},function(t){this._heightInLines!=t&&(this._heightInLines=t,this.heightInLinesChanged=!0,this.invalidateProperties())}),s(p,"widthInChars",function(){return this._widthInChars},function(t){this._widthInChars!=t&&(this._widthInChars=t,this.widthInCharsChanged=!0,this.invalidateProperties())}),s(p,"contentWidth",function(){return this._contentWidth}),p.setContentWidth=function(t){if(t!=this._contentWidth){var e=this._contentWidth;this._contentWidth=t,this.dispatchPropertyChangeEvent("contentWidth",e,t)}},s(p,"contentHeight",function(){return this._contentHeight}),p.setContentHeight=function(t){if(t!=this._contentHeight){var e=this._contentHeight;this._contentHeight=t,this.dispatchPropertyChangeEvent("contentHeight",e,t)}},s(p,"horizontalScrollPosition",function(){return this._horizontalScrollPosition},function(t){this._horizontalScrollPosition!=t&&(this._horizontalScrollPosition=t)}),s(p,"verticalScrollPosition",function(){return this._verticalScrollPosition},function(t){this._verticalScrollPosition!=t&&(t=Math.round(t),this._verticalScrollPosition=t)}),p.getScrollVByVertitcalPos=function(t){if(0==this._textField.numLines)return 1;var e=this._textField.$getLineHeight(),i=(this.height-4)%e;return this._textField.height+i-this.height==t?this._textField.maxScrollV:parseInt((t-2)/e)+1},p.getVerticalPosByScrollV=function(t){if(void 0===t&&(t=0),1==t||0==this._textField.numLines)return 0;var e=this._textField.$getLineHeight();if(t==this._textField.maxScrollV){var i=(this.height-4)%e;return this._textField.height+i-this.height}return e*(t-1)+2},p.getHorizontalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentWidth-this._horizontalScrollPosition-this.width,s=-this._horizontalScrollPosition;switch(t){case e.NavigationUnit.LEFT:i=this._horizontalScrollPosition<=0?0:Math.max(s,-this.size);break;case e.NavigationUnit.RIGHT:i=this._horizontalScrollPosition+this.width>=this.contentWidth?0:Math.min(n,this.size);break;case e.NavigationUnit.PAGE_LEFT:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_RIGHT:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},p.getVerticalScrollPositionDelta=function(t){void 0===t&&(t=0);var i=0,n=this._contentHeight-this._verticalScrollPosition-this.height,s=-this._verticalScrollPosition;switch(t){case e.NavigationUnit.UP:i=this.getVScrollDelta(-1);break;case e.NavigationUnit.DOWN:i=this.getVScrollDelta(1);break;case e.NavigationUnit.PAGE_UP:i=Math.max(s,-this.width);break;case e.NavigationUnit.PAGE_DOWN:i=Math.min(n,this.width);break;case e.NavigationUnit.HOME:i=s;break;case e.NavigationUnit.END:i=n}return i},p.getVScrollDelta=function(t){if(void 0===t&&(t=0),!this._textField)return 0;var e=this.getScrollVByVertitcalPos(this._verticalScrollPosition),i=e+t;i=Math.max(1,Math.min(this._textField.maxScrollV,i));var n=this.getVerticalPosByScrollV(i),s=n-this._verticalScrollPosition;return s},s(p,"clipAndEnableScrolling",function(){return this._clipAndEnableScrolling},function(t){this._clipAndEnableScrolling!=t&&(this._clipAndEnableScrolling=t)}),p.commitProperties=function(){if(this._textField||(this.editableChanged=!0,this.displayAsPasswordChanged=!0,this.maxCharsChanged=!0,this.multilineChanged=!0,this.restrictChanged=!0),i.prototype.commitProperties.call(this),this.editableChanged&&(this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this.editableChanged=!1),this.displayAsPasswordChanged&&(this._textField.displayAsPassword=this._displayAsPassword,this.displayAsPasswordChanged=!1),this.maxCharsChanged&&(this._textField.maxChars=this._maxChars,this.maxCharsChanged=!1),this.multilineChanged&&(this._textField.multiline=this._multiline,this.multilineChanged=!1),this.restrictChanged&&(this.restrictChanged=!1),this.heightInLinesChanged)if(this.heightInLinesChanged=!1,isNaN(this._heightInLines))this.defaultHeight=0/0;else{var e=parseInt(this.heightInLines),n=22;this._textField.$getText().length>0?n=this._textField.$getLineHeight():(this._textField.$setText("M"),n=this._textField.$getLineHeight(),this._textField.$setText("")),this.defaultHeight=e*n+4}if(this.widthInCharsChanged)if(this.widthInCharsChanged=!1,isNaN(this._widthInChars))this.defaultWidth=0/0;else{var s=parseInt(this._widthInChars);this.defaultWidth=this.size*s+5}},p.updateDisplayList=function(t,e){this.isValidating=!0,i.prototype.updateDisplayList.call(this,t,e),this.updateContentSize(),this.isValidating=!1},p.updateContentSize=function(){if(this.clipAndEnableScrolling){this.setContentWidth(this._textField.width);var t=0,e=this._textField.numLines;if(0==e)t=4;else{var i=this._textField.$getLineHeight(),n=(this.height-4)%i;t=this._textField.height+n}this.setContentHeight(t)}},s(p,"selectionBeginIndex",function(){return this.validateProperties(),this._textField?this._textField.selectionBeginIndex:0}),s(p,"selectionEndIndex",function(){return this.validateProperties(),this._textField?this._textField.selectionEndIndex:0}),s(p,"caretIndex",function(){return this.validateProperties(),this._textField?this._textField.caretIndex:0}),p.setSelection=function(t,e){void 0===e&&(e=0),this.validateProperties(),this._textField&&this._textField.$setSelection(t,e)},p.selectAll=function(){this.validateProperties(),this._textField&&this._textField.$setSelection(0,this._textField.text.length)},p.measure=function(){this.measuredWidth=isNaN(this.defaultWidth)?e.TextBase.DEFAULT_MEASURED_WIDTH:this.defaultWidth,0!=this._maxChars&&(this.measuredWidth=Math.min(this.measuredWidth,this._textField.width)),this.measuredHeight=this._multiline?isNaN(this.defaultHeight)?2*e.TextBase.DEFAULT_MEASURED_HEIGHT:this.defaultHeight:this._textField.height},p._createTextField=function(){i.prototype._createTextField.call(this),this._textField.type=this._editable?t.TextFieldType.INPUT:t.TextFieldType.DYNAMIC,this._textField.multiline=this._multiline,this._textField.addEventListener(t.Event.CHANGE,this.textField_changeHandler,this),this._textField.addEventListener("scroll",this.textField_scrollHandler,this),this._textField.addEventListener("input",this.textField_textInputHandler,this)},p.textField_changeHandler=function(e){this._textFieldChanged(),e.stopImmediatePropagation(),this.dispatchEvent(new t.Event(t.Event.CHANGE)),this.invalidateSize(),this.invalidateDisplayList(),this.updateContentSize()},p.textField_scrollHandler=function(){},p.textField_textInputHandler=function(e){e.stopImmediatePropagation();var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.TextBase);e.EditableText=i,t.registerClass(i,"egret.gui.EditableText",["egret.gui.IEditableText","egret.gui.IDisplayText","egret.gui.IUIComponent","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IViewport"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.createChildrenCalled=!1,this.elementsContentChanged=!1,this._elementsContent=[]}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.createChildren=function(){i.prototype.createChildren.call(this),this.createChildrenCalled=!0,this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))},p._getElementsContent=function(){return this._elementsContent},s(p,"elementsContent",void 0,function(t){if(null==t&&(t=[]),t!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(t);else{this.elementsContentChanged=!0;for(var e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t}}),p.setElementsContent=function(t){var e;for(e=this._elementsContent.length-1;e>=0;e--)this._elementRemoved(this._elementsContent[e],e);this._elementsContent=t.concat();var i=this._elementsContent.length;for(e=0;i>e;e++){var n=this._elementsContent[e];n.parent&&"removeElement"in n.parent?n.parent.removeElement(n):n.owner&&"removeElement"in n.owner&&n.owner.removeElement(n),this._elementAdded(n,e)}},s(p,"numElements",function(){return this._elementsContent.length}),p.getElementAt=function(t){return this.checkForRangeError(t),this._elementsContent[t]},p.checkForRangeError=function(e,i){void 0===i&&(i=!1);var n=this._elementsContent.length-1;i&&n++,(0>e||e>n)&&t.$error(3011,e)},p.addElement=function(t){var e=this.numElements;return t.parent==this&&(e=this.numElements-1),this.addElementAt(t,e)},p.addElementAt=function(t,e){if(t==this)return t;this.checkForRangeError(e,!0);var i=t.owner;return i==this||t.parent==this?(this.setElementIndex(t,e),t):(i&&"removeElement"in i&&t.owner.removeElement(t),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e),t)},p.removeElement=function(t){return this.removeElementAt(this.getElementIndex(t))},p.removeElementAt=function(t){this.checkForRangeError(t);var e=this._elementsContent[t];return this.elementsContentChanged||this._elementRemoved(e,t),this._elementsContent.splice(t,1),e},p.removeAllElements=function(){for(var t=this.numElements-1;t>=0;t--)this.removeElementAt(t)},p.getElementIndex=function(t){return this._elementsContent.indexOf(t)},p.setElementIndex=function(t,e){this.checkForRangeError(e);var i=this.getElementIndex(t);-1!=i&&i!=e&&(this.elementsContentChanged||this._elementRemoved(t,i,!1),this._elementsContent.splice(i,1),this._elementsContent.splice(e,0,t),this.elementsContentChanged||this._elementAdded(t,e,!1))},p.swapElements=function(t,e){this.swapElementsAt(this.getElementIndex(t),this.getElementIndex(e))},p.swapElementsAt=function(t,e){if(this.checkForRangeError(t),this.checkForRangeError(e),t>e){var i=e;e=t,t=i}else if(t==e)return;var n=this._elementsContent,s=n[t],a=n[e];this.elementsContentChanged||(this._elementRemoved(s,t,!1),this._elementRemoved(a,e,!1)),n[t]=a,n[e]=s,this.elementsContentChanged||(this._elementAdded(a,t,!1),this._elementAdded(s,e,!1))},p._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),i instanceof t.DisplayObject){var a=i;this._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),this.invalidateSize(),this.invalidateDisplayList()},p._elementRemoved=function(i,n,s){if(void 0===s&&(s=!0),s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,i,n),i instanceof t.DisplayObject&&i.parent==this){var a=i;this._removeFromDisplayList(a,s)}this.invalidateSize(),this.invalidateDisplayList()},p.addChild=function(){return t.$error(3004,t.sys.tr(3003)),null},p.addChildAt=function(){return t.$error(3005,t.sys.tr(3003)),null},p.removeChild=function(){return t.$error(3006,t.sys.tr(3003)),null},p.removeChildAt=function(){return t.$error(3007,t.sys.tr(3003)),null},p.setChildIndex=function(){t.$error(3008,t.sys.tr(3003))},p.swapChildren=function(){t.$error(3009,t.sys.tr(3003))},p.swapChildrenAt=function(){t.$error(3010,t.sys.tr(3003))},n}(e.GroupBase);e.Group=i,t.registerClass(i,"egret.gui.Group",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._maximum=100,this.maxChanged=!1,this._minimum=0,this.minChanged=!1,this._stepSize=1,this.stepSizeChanged=!1,this._value=0,this._changedValue=0,this.valueChanged=!1,this._snapInterval=1,this.snapIntervalChanged=!1,this._explicitSnapInterval=!1}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"maximum",function(){return this._maximum},function(t){this._setMaximun(t)}),p._setMaximun=function(t){t!=this._maximum&&(this._maximum=t,this.maxChanged=!0,this.invalidateProperties())},n(p,"minimum",function(){return this._minimum},function(t){this._setMinimun(t)}),p._setMinimun=function(t){t!=this._minimum&&(this._minimum=t,this.minChanged=!0,this.invalidateProperties())},n(p,"stepSize",function(){return this._stepSize},function(t){t!=this._stepSize&&(this._stepSize=t,this.stepSizeChanged=!0,this.invalidateProperties())}),n(p,"value",function(){return this._getValue()},function(t){this._setValue(t)}),p._setValue=function(t){t!=this.value&&(this._changedValue=t,this.valueChanged=!0,this.invalidateProperties())},p._getValue=function(){return this.valueChanged?this._changedValue:this._value},n(p,"snapInterval",function(){return this._snapInterval},function(t){this._explicitSnapInterval=!0,t!=this._snapInterval&&(isNaN(t)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=t,this.snapIntervalChanged=!0,this.stepSizeChanged=!0,this.invalidateProperties())}),p.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum),this.valueChanged||this.maxChanged||this.minChanged||this.snapIntervalChanged){var e=this.valueChanged?this._changedValue:this._value;this.valueChanged=!1,this.maxChanged=!1,this.minChanged=!1,this.snapIntervalChanged=!1,this.setValue(this.nearestValidValue(e,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)},p.nearestValidSize=function(t){var e=this.snapInterval;if(0==e)return t;var i=Math.round(t/e)*e;return Math.abs(i)<e?e:i},p.nearestValidValue=function(t,e){if(0==e)return Math.max(this.minimum,Math.min(this.maximum,t));var i=this.maximum-this.minimum,n=1;if(t-=this.minimum,e!=Math.round(e)){var s=(1+e).toString().split(".");n=Math.pow(10,s[1].length),i*=n,t=Math.round(t*n),e=Math.round(e*n)}var a=Math.max(0,Math.floor(t/e)*e),r=Math.min(i,Math.floor((t+e)/e)*e),o=t-a>=(r-a)/2?r:a;return o/n+this.minimum},p.setValue=function(t){this._value!=t&&(isNaN(t)&&(t=0),this._value=!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?Math.min(this.maximum,Math.max(this.minimum,t)):t,this.valueChanged=!1,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT))},p.changeValueByStep=function(t){if(void 0===t&&(t=!0),0!=this.stepSize){var e=t?this.value+this.stepSize:this.value-this.stepSize;this.setValue(this.nearestValidValue(e,this.snapInterval))}},i}(e.SkinnableComponent);e.Range=i,t.registerClass(i,"egret.gui.Range")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._slideDuration=300,this.thumb=null,this.track=null,this._clickOffsetX=0/0,this._clickOffsetY=0/0,this.needUpdateValue=!1,this._moveStageX=0/0,this._moveStageY=0/0,this.mouseDownTarget=null,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.mouseDownHandler,this)}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"slideDuration",function(){return this._slideDuration},function(t){this._slideDuration=t}),s(p,"maximum",function(){return this._maximum},function(t){t!=this._maximum&&(this._setMaximun(t),this.invalidateDisplayList())}),s(p,"minimum",function(){return this._minimum},function(t){t!=this._minimum&&(this._setMinimun(t),this.invalidateDisplayList())}),s(p,"value",function(){return this._getValue()},function(t){t!=this._getValue()&&(this._setValue(t),this.invalidateDisplayList())}),p.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},p.pointToValue=function(){return this.minimum},p.changeValueByStep=function(e){void 0===e&&(e=!0);var n=this.value;i.prototype.changeValueByStep.call(this,e),this.value!=n&&this.dispatchEventWith(t.Event.CHANGE)},p.partAdded=function(n,s){i.prototype.partAdded.call(this,n,s),s==this.thumb?(this.thumb.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.addEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):s==this.track&&(this.track.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},p.partRemoved=function(n,s){i.prototype.partRemoved.call(this,n,s),s==this.thumb?(this.thumb.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):s==this.track&&(this.track.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))},p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},p.updateSkinDisplayList=function(){},p.addedToStageHandler=function(){this.updateSkinDisplayList()},p.track_resizeHandler=function(){this.updateSkinDisplayList()},p.thumb_resizeHandler=function(){this.updateSkinDisplayList()},p.thumb_updateCompleteHandler=function(){this.updateSkinDisplayList(),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)},p.thumb_mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.addEventListener(t.Event.ENTER_FRAME,this.onEnterFrame,this);var n=this.thumb.globalToLocal(i.stageX,i.stageY,t.$TempPoint);this._clickOffsetX=n.x,this._clickOffsetY=n.y,e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_PRESS),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},p.onEnterFrame=function(){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)},p.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.value&&(this.setValue(n),this.validateDisplayList(),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(t.Event.CHANGE))}},p.stage_mouseMoveHandler=function(t){this._moveStageX=t.stageX,this._moveStageY=t.stageY,this.needUpdateValue||(this.needUpdateValue=!0)},p.stage_mouseUpHandler=function(){e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.removeEventListener(t.Event.ENTER_FRAME,this.updateWhenMouseMove,this),this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1),e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_RELEASE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},p.track_mouseDownHandler=function(){},p.mouseDownHandler=function(i){e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget=i.target},p.stage_mouseUpSomewhereHandler=function(i){if(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this),this.mouseDownTarget!=i.target&&i instanceof t.TouchEvent&&this.contains(i.target)){var n=i,s=i.target.localToGlobal(n.localX,n.localY);t.TouchEvent.dispatchTouchEvent(this,t.TouchEvent.TOUCH_TAP,!1,!1,s.x,s.y,n.touchPointID,n.touchDown)}this.mouseDownTarget=null},n}(e.Range);e.TrackBase=i,t.registerClass(i,"egret.gui.TrackBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.trackHighlight=null,this._showTrackHighlight=!0,this.animator=null,this._pendingValue=0,this.slideToValue=0/0,this._liveDragging=!0,this.maximum=10}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"showTrackHighlight",function(){return this._showTrackHighlight},function(t){this._showTrackHighlight!=t&&(this._showTrackHighlight=t,this.trackHighlight&&(this.trackHighlight.visible=t),this.invalidateDisplayList())}),s(p,"pendingValue",function(){return this._pendingValue},function(t){t!=this._pendingValue&&(this._pendingValue=t,this.invalidateDisplayList())}),p.setValue=function(t){this._pendingValue=t,i.prototype.setValue.call(this,t)},p._animationUpdateHandler=function(t){this.pendingValue=t.currentValue.value},p.animationEndHandler=function(){this.setValue(this.slideToValue),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},p.stopAnimation=function(){this.animator.stop(),this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval)),this.dispatchEventWith(t.Event.CHANGE),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},p.thumb_mouseDownHandler=function(t){this.animator&&this.animator.isPlaying&&this.stopAnimation(),i.prototype.thumb_mouseDownHandler.call(this,t)},s(p,"liveDragging",function(){return this._liveDragging},function(t){this._liveDragging=t}),p.updateWhenMouseMove=function(){if(this.track){var i=this.track.globalToLocal(this._moveStageX,this._moveStageY,t.$TempPoint),n=this.pointToValue(i.x-this._clickOffsetX,i.y-this._clickOffsetY);n=this.nearestValidValue(n,this.snapInterval),n!=this.pendingValue&&(e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),1==this.liveDragging?(this.setValue(n),this.dispatchEventWith(t.Event.CHANGE)):this.pendingValue=n)}},p.stage_mouseUpHandler=function(e){i.prototype.stage_mouseUpHandler.call(this,e),0==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(t.Event.CHANGE))},p.track_mouseDownHandler=function(i){if(this.enabled){var n=this.thumb?this.thumb.width:0,s=this.thumb?this.thumb.height:0,a=i.stageX-n/2,r=i.stageY-s/2,o=this.track.globalToLocal(a,r,t.$TempPoint),h=this.pointToValue(o.x,o.y);h=this.nearestValidValue(h,this.snapInterval),h!=this.pendingValue&&(0!=this.slideDuration?(this.animator||(this.animator=new e.Animation(this._animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=h,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[new e.SimpleMotionPath("value",this.pendingValue,this.slideToValue)],e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(h),this.dispatchEventWith(t.Event.CHANGE)))}},p.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof t.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)},n}(e.TrackBase);e.SliderBase=i,t.registerClass(i,"egret.gui.SliderBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i;return p=n.prototype,p.pointToValue=function(t){if(!this.thumb||!this.track)return 0;var e=this.maximum-this.minimum,i=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=i?t/i*e:0)},p.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,i=this.maximum-this.minimum,n=i>0?(this.pendingValue-this.minimum)/i*e:0,s=this.track.localToGlobal(n,0),a=s.x,r=s.y,o=this.thumb.parent.globalToLocal(a,r,t.$TempPoint).x;if(this.thumb.setLayoutBoundsPosition(Math.round(o),this.thumb.layoutBoundsY),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent){var h=this.trackHighlight.parent.globalToLocal(a,r,t.$TempPoint).x-n;this.trackHighlight.x=Math.round(h),this.trackHighlight.width=Math.round(n)}}},i}(e.SliderBase);e.HSlider=i,t.registerClass(i,"egret.gui.HSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.apply(this,arguments),this._thumbLengthRatio=1}__extends(i,e);var n=__define,s=i;return p=s.prototype,p._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._setMaximun(i),this._setMinimun(0),this._thumbLengthRatio=e>t?t/e:1},n(p,"trackAlpha",function(){return 1},function(){t.$warn(1016,"HScrollBar.trackAlpha")}),n(p,"thumbAlpha",function(){return 1},function(){t.$warn(1016,"HScrollBar.thumbAlpha")}),p.setPosition=function(t){this._setValue(t)},p.getPosition=function(){return this._getValue()},p._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},p.setValue=function(t){e.prototype.setValue.call(this,t)},p._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},p.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsWidth*this._thumbLengthRatio,i=this.thumb.layoutBoundsWidth,n=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,s=this.maximum-this.minimum,a=s>0?(this.pendingValue-this.minimum)/s*n:0,r=this.track.localToGlobal(a,0),o=r.x,h=r.y,l=this.thumb.parent.globalToLocal(o,h,t.$TempPoint).x;this.thumb.setLayoutBoundsPosition(Math.round(l),this.thumb.layoutBoundsY),e!=i&&this.thumb.setLayoutBoundsSize(e,this.thumb.layoutBoundsHeight)}},i}(e.HSlider);e.HScrollBar=i,t.registerClass(i,"egret.gui.HScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._maxDisplayedLines=0,this.lastUnscaledWidth=0/0,this.strokeColorChanged=!1,this._strokeColor=0,this._stroke=0,this.strokeChanged=!1,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(i,t);var n=__define,s=i;return p=s.prototype,p.updateCompleteHandler=function(){this.lastUnscaledWidth=0/0},n(p,"maxDisplayedLines",function(){return this._maxDisplayedLines},function(t){this._maxDisplayedLines!=t&&(this._maxDisplayedLines=t,this.invalidateSize(),this.invalidateDisplayList())}),n(p,"strokeColor",function(){return this._strokeColor},function(t){this._setStrokeColor(t)}),p._setStrokeColor=function(t){this._strokeColor!=t&&(this._strokeColor=t,this.strokeColorChanged=!0,this.invalidateProperties())},n(p,"stroke",function(){return this._stroke},function(t){this._stroke!=t&&(this._stroke=t,this.strokeChanged=!0,this.invalidateProperties())}),n(p,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateSize(),this.invalidateDisplayList())}),n(p,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateSize(),this.invalidateDisplayList())}),n(p,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateSize(),this.invalidateDisplayList())}),n(p,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateSize(),this.invalidateDisplayList())}),n(p,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateSize(),this.invalidateDisplayList())}),p.commitProperties=function(){t.prototype.commitProperties.call(this),this.strokeColorChanged&&(this._textField.strokeColor=this._strokeColor,this.strokeColorChanged=!1),this.strokeChanged&&(this._textField.stroke=this._stroke,this.strokeChanged=!1)},p.measure=function(){if(this._UIC_Props_._invalidatePropertiesFlag&&this.validateProperties(),this.isSpecialCase()){if(!isNaN(this.lastUnscaledWidth))return void this.measureUsingWidth(this.lastUnscaledWidth);this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0}var t;isNaN(this.$getExplicitWidth())?1e4!=this.maxWidth&&(t=this.maxWidth):t=this.$getExplicitWidth(),this.measureUsingWidth(t)},p.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.$getExplicitHeight())&&isNaN(this.percentHeight)},p.measureUsingWidth=function(t){this._textChanged&&(this._textField.text=this._text),this._textFlowChanged&&(this._textField.textFlow=this._textFlow);var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._paddingRight)?e:this._paddingRight,s=isNaN(this._paddingTop)?e:this._paddingTop,a=isNaN(this._paddingBottom)?e:this._paddingBottom;if(this._textField.width=0/0,this._textField.height=0/0,isNaN(t)?(this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)):(this._textField.width=t-i-n,this.measuredWidth=Math.ceil(this._textField.measuredWidth),this.measuredHeight=Math.ceil(this._textField.measuredHeight)),this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var r=this._textField.size,o=this._textField.lineSpacing;this.measuredHeight=(r+o)*this._maxDisplayedLines-o}this.measuredWidth+=i+n,this.measuredHeight+=s+a},p.updateDisplayList=function(t,e){this.$updateDisplayList(t,e);var i=isNaN(this._padding)?0:this._padding,n=isNaN(this._paddingLeft)?i:this._paddingLeft,s=isNaN(this._paddingRight)?i:this._paddingRight,a=isNaN(this._paddingTop)?i:this._paddingTop,r=isNaN(this._paddingBottom)?i:this._paddingBottom;if(this._textField.x=n,this._textField.y=a,this.isSpecialCase()){var o=isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=t;if(this.lastUnscaledWidth=t,o)return this._UIC_Props_._oldPreferWidth=0/0,this._UIC_Props_._oldPreferHeight=0/0,void this.invalidateSize()}this._UIC_Props_._invalidateSizeFlag&&this.validateSize(),this._textField.visible||(this._textField.visible=!0),this._textField.width=t-n-s;var h=e-a-r;if(this._textField.height=h,this._maxDisplayedLines>0&&this._textField.numLines>this._maxDisplayedLines){var l=this._textField.size,u=this._textField.lineSpacing,d=(l+u)*this._maxDisplayedLines-u;this._textField.height=Math.min(h,d)}},i}(e.TextBase);e.Label=i,t.registerClass(i,"egret.gui.Label")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.popUpIsDisplayed=!1,this.addedToStage=!1,this._popUpHeightMatchesAnchorHeight=!1,this._popUpWidthMatchesAnchorWidth=!1,this._displayPopUp=!1,this._popUp=null,this._relativeToStage=!1,this._popUpPosition=e.PopUpPosition.TOP_LEFT,this.inAnimation=!1,this.animator=null,this._openDuration=250,this._closeDuration=150,this.valueRange=1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.addedToStageHandler,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.removedFromStageHandler,this)}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"popUpHeightMatchesAnchorHeight",function(){return this._popUpHeightMatchesAnchorHeight},function(t){this._popUpHeightMatchesAnchorHeight!=t&&(this._popUpHeightMatchesAnchorHeight=t,this.invalidateDisplayList())}),s(p,"popUpWidthMatchesAnchorWidth",function(){return this._popUpWidthMatchesAnchorWidth
},function(t){this._popUpWidthMatchesAnchorWidth!=t&&(this._popUpWidthMatchesAnchorWidth=t,this.invalidateDisplayList())}),s(p,"displayPopUp",function(){return this._displayPopUp},function(t){this._displayPopUp!=t&&(this._displayPopUp=t,this.addOrRemovePopUp())}),s(p,"popUp",function(){return this._popUp},function(t){this._popUp!=t&&(this._popUp=t,this.dispatchEventWith("popUpChanged"))}),s(p,"popUpPosition",function(){return this._popUpPosition},function(t){this._popUpPosition!=t&&(this._relativeToStage=t==e.PopUpPosition.SCREEN_CENTER,this._popUpPosition=t,this.invalidateDisplayList())}),p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.applyPopUpTransform(t,e)},p.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)},p.calculatePopUpPosition=function(){var i=t.$TempPoint;switch(this._popUpPosition){case e.PopUpPosition.SCREEN_CENTER:break;case e.PopUpPosition.BELOW:i.x=0,i.y=this.height;break;case e.PopUpPosition.ABOVE:i.x=0,i.y=-this.popUp.layoutBoundsHeight;break;case e.PopUpPosition.LEFT:i.x=-this.popUp.layoutBoundsWidth,i.y=0;break;case e.PopUpPosition.RIGHT:i.x=this.width,i.y=0;break;case e.PopUpPosition.CENTER:i.x=.5*(this.width-this.popUp.layoutBoundsWidth),i.y=.5*(this.height-this.popUp.layoutBoundsHeight);break;case e.PopUpPosition.TOP_LEFT:}return i=this.localToGlobal(i.x,i.y,i),i=this.popUp.parent.globalToLocal(i.x,i.y,i)},s(p,"openDuration",function(){return this._openDuration},function(t){this._openDuration=t}),s(p,"closeDuration",function(){return this._closeDuration},function(t){this._closeDuration=t}),p.animationStartHandler=function(){this.inAnimation=!0,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)},p.animationUpdateHandler=function(e){var i=this.popUp.scrollRect,n=Math.round(e.currentValue.x),s=Math.round(e.currentValue.y);i?(i.x=n,i.y=s,i.width=this.popUp.width,i.height=this.popUp.height,this.popUp.scrollRect=i):this.popUp.scrollRect=new t.Rectangle(n,s,this.popUp.width,this.popUp.height)},p.animationEndHandler=function(){this.inAnimation=!1,this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0),this.popUp.scrollRect=null,this.popUpIsDisplayed||(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},p.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?(e.PopUpManager.addPopUp(this.popUp,this._relativeToStage,this._relativeToStage),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),this._openDuration>0&&this.startAnimation()):t.callLater(function(){this.openDuration>0&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())},p.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end(),this.popUpIsDisplayed=!1,this._closeDuration>0?this.startAnimation():(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))},p.applyPopUpTransform=function(t,e){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=t),this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=e),"validateNow"in this.popUp&&this.popUp.validateNow();var i=this.calculatePopUpPosition();this.popUp.x=i.x,this.popUp.y=i.y}},p.startAnimation=function(){this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler),this.animator.motionPaths=this.createMotionPath(),this.animator.duration=this.popUpIsDisplayed?this._openDuration:this._closeDuration,this.animator.play()},p.createMotionPath=function(){var t=new e.SimpleMotionPath("x"),i=new e.SimpleMotionPath("y"),n=[t,i];switch(this._popUpPosition){case e.PopUpPosition.TOP_LEFT:case e.PopUpPosition.CENTER:case e.PopUpPosition.BELOW:t.valueFrom=t.valueTo=0,i.valueFrom=this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.ABOVE:t.valueFrom=t.valueTo=0,i.valueFrom=-this.popUp.height,i.valueTo=0,this.valueRange=this.popUp.height;break;case e.PopUpPosition.LEFT:i.valueFrom=i.valueTo=0,t.valueFrom=-this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;case e.PopUpPosition.RIGHT:i.valueFrom=i.valueTo=0,t.valueFrom=this.popUp.width,t.valueTo=0,this.valueRange=this.popUp.width;break;default:this.valueRange=1}if(this.valueRange=Math.abs(this.valueRange),!this.popUpIsDisplayed){var s=t.valueFrom;t.valueFrom=t.valueTo,t.valueTo=s,s=i.valueFrom,i.valueFrom=i.valueTo,i.valueTo=s}return n},p.addedToStageHandler=function(){this.addedToStage=!0,t.callLater(this.checkPopUpState,this)},p.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()},p.removedFromStageHandler=function(){this.addedToStage=!1,t.callLater(this.checkPopUpState,this)},n}(e.UIComponent);e.PopUpAnchor=i,t.registerClass(i,"egret.gui.PopUpAnchor")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.thumb=null,this.track=null,this.labelDisplay=null,this._labelFunction=null,this._slideDuration=500,this._direction=e.ProgressBarDirection.LEFT_TO_RIGHT,this.animator=null,this.slideToValue=0/0,this.animationValue=0,this.trackResizedOrMoved=!1}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"labelFunction",function(){return this._labelFunction},function(t){this._labelFunction!=t&&(this._labelFunction=t,this.invalidateDisplayList())}),p.valueToLabel=function(t,e){return null!=this.labelFunction?this._labelFunction(t,e):t+" / "+e},s(p,"slideDuration",function(){return this._slideDuration},function(t){this._slideDuration!=t&&(this._slideDuration=t,this.animator&&this.animator.isPlaying&&(this.animator.stop(),this._setValue(this.slideToValue)))}),s(p,"direction",function(){return this._direction},function(t){this._direction!=t&&(this._direction=t,this.invalidateDisplayList())}),s(p,"value",function(){return this._getValue()},function(t){if(this._getValue()!=t)if(this._setValue(t),this._slideDuration>0&&this.stage){if(this.validateProperties(),this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this)),this.animator.isPlaying&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),this.animator.stop()),this.slideToValue=this.nearestValidValue(t,this.snapInterval),this.slideToValue==this.animationValue)return;var i=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(this.maximum-this.minimum));this.animator.duration=1/0===i?0:i,this.animator.motionPaths=[new e.SimpleMotionPath("value",this.animationValue,this.slideToValue)],this.animator.play()}else this.animationValue=this._getValue()}),p.animationUpdateHandler=function(t){var e=this.nearestValidValue(t.currentValue.value,this.snapInterval);this.animationValue=Math.min(this.maximum,Math.max(this.minimum,e)),this.invalidateDisplayList()},p.setValue=function(t){i.prototype.setValue.call(this,t),this.invalidateDisplayList()},p.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.updateSkinDisplayList()},p.partAdded=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.addEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.addEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},p.partRemoved=function(t,i){i==this.track&&this.track instanceof e.UIComponent&&(this.track.removeEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.removeEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))},p.onTrackResizeOrMove=function(){this.trackResizedOrMoved=!0,this.invalidateProperties()},p.commitProperties=function(){i.prototype.commitProperties.call(this),this.trackResizedOrMoved&&(this.trackResizedOrMoved=!1,this.updateSkinDisplayList())},p.updateSkinDisplayList=function(){this.trackResizedOrMoved=!1;var i=this.value;this.animator&&this.animator.isPlaying?i=this.animationValue:(i=this.value,isNaN(i)&&(i=0));var n=isNaN(this.maximum)?0:this.maximum;if(this.thumb&&this.track){var s=isNaN(this.track.width)?0:this.track.width;s*=this.track.scaleX;var a=isNaN(this.track.height)?0:this.track.height;a*=this.track.scaleY;var r=Math.round(i/n*s);(isNaN(r)||0>r||1/0===r)&&(r=0);var o=Math.round(i/n*a);(isNaN(o)||0>o||1/0===o)&&(o=0);var h=this.track.localToGlobal(0,0),l=this.globalToLocal(h.x,h.y,t.$TempPoint),u=l.x,d=l.y;switch(this._direction){case e.ProgressBarDirection.LEFT_TO_RIGHT:this.thumb.width=r,this.thumb.height=a,this.thumb.x=u;break;case e.ProgressBarDirection.RIGHT_TO_LEFT:this.thumb.width=r,this.thumb.height=a,this.thumb.x=u+s-r;break;case e.ProgressBarDirection.TOP_TO_BOTTOM:this.thumb.width=s,this.thumb.height=o,this.thumb.y=d;break;case e.ProgressBarDirection.BOTTOM_TO_TOP:this.thumb.width=s,this.thumb.height=o,this.thumb.y=d+a-o}}this.labelDisplay&&(this.labelDisplay.text=this.valueToLabel(i,n))},n}(e.Range);e.ProgressBar=i,t.registerClass(i,"egret.gui.ProgressBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.LEFT_TO_RIGHT="leftToRight",t.RIGHT_TO_LEFT="rightToLeft",t.TOP_TO_BOTTOM="topToBottom",t.BOTTOM_TO_TOP="bottomToTop",t}();e.ProgressBarDirection=i,t.registerClass(i,"egret.gui.ProgressBarDirection")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this._indexNumber=0,this._radioButtonGroup=null,this._group=null,this.groupChanged=!1,this._groupName="radioGroup",this._value=null,this.groupName="radioGroup"}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"enabled",function(){return this._UIC_Props_._enabled?!this._radioButtonGroup||this._radioButtonGroup.enabled:!1},function(t){this.$setEnabled(t)}),n(p,"group",function(){if(!this._group&&this._groupName){i.automaticRadioButtonGroups||(i.automaticRadioButtonGroups={});var t=i.automaticRadioButtonGroups[this._groupName];t||(t=new e.RadioButtonGroup,t._name=this._groupName,i.automaticRadioButtonGroups[this._groupName]=t),this._group=t}return this._group},function(t){this._group!=t&&(this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=t,this._groupName=t?this.group._name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())}),n(p,"groupName",function(){return this._groupName},function(t){t&&""!=t&&(this._groupName=t,this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())}),p._setSelected=function(e){t.prototype._setSelected.call(this,e),this.invalidateDisplayList()},n(p,"value",function(){return this._value},function(t){this._value!=t&&(this._value=t,this.selected&&this.group&&e.UIEvent.dispatchUIEvent(this.group,e.UIEvent.VALUE_COMMIT))}),p.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1),t.prototype.commitProperties.call(this)},p.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.group&&(this.selected?this._group.selection=this:this.group.selection==this&&(this._group.selection=null))},p.buttonReleased=function(){this.enabled&&!this.selected&&(this._radioButtonGroup||this.addToGroup(),t.prototype.buttonReleased.call(this),this.group._setSelection(this))},p.addToGroup=function(){var t=this.group;return t&&t._addInstance(this),t},i.automaticRadioButtonGroups=null,i}(e.ToggleButtonBase);e.RadioButton=i,t.registerClass(i,"egret.gui.RadioButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._name=null,this.radioButtons=[],this._enabled=!0,this._selectedValue=null,this._selection=null,this._name="_radioButtonGroup"+n.groupCount,n.groupCount++}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"enabled",function(){return this._enabled},function(t){if(this._enabled!=t){this._enabled=t;for(var e=0;e<this.numRadioButtons;e++)this.getRadioButtonAt(e).invalidateSkinState()}}),s(p,"numRadioButtons",function(){return this.radioButtons.length}),s(p,"selectedValue",function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},function(t){if(this._selectedValue=t,null==t)return void this._setSelection(null,!1);for(var i=this.numRadioButtons,n=0;i>n;n++){var s=this.getRadioButtonAt(n);if(s.value==t||s.label==t){this.changeSelection(n,!1),this._selectedValue=null,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT);break}}}),s(p,"selection",function(){return this._selection},function(t){this._selection!=t&&this._setSelection(t,!1)}),p.getRadioButtonAt=function(t){return t>=0&&t<this.numRadioButtons?this.radioButtons[t]:null},p._addInstance=function(i){function n(t,i){var s=t.parent,a=i.parent;if(!s||!a)return 0;var r=t instanceof e.UIComponent?t.nestLevel:-1,o=i instanceof e.UIComponent?i.nestLevel:-1,h=0,l=0;return s==a&&(h="getElementIndex"in s&&"ownerChanged"in t?s.getElementIndex(t):s.getChildIndex(t),l="getElementIndex"in a&&"ownerChanged"in i?a.getElementIndex(i):a.getChildIndex(i)),r>o||h>l?1:o>r||l>h?-1:t==i?0:n(s,a)}i.addEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.radioButtons.push(i),this.radioButtons.sort(n);for(var s=0;s<this.radioButtons.length;s++)this.radioButtons[s]._indexNumber=s;this._selectedValue&&(this.selectedValue=this._selectedValue),1==i.selected&&(this.selection=i),i._radioButtonGroup=this,i.invalidateSkinState(),this.dispatchEventWith("numRadioButtonsChanged")},p._removeInstance=function(t){this.doRemoveInstance(t,!1)},p.doRemoveInstance=function(e,i){if(void 0===i&&(i=!0),e){for(var n=!1,s=0;s<this.numRadioButtons;s++){var a=this.getRadioButtonAt(s);n?a._indexNumber=a._indexNumber-1:a==e&&(i&&e.addEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),e==this._selection&&(this._selection=null),e._radioButtonGroup=null,e.invalidateSkinState(),this.radioButtons.splice(s,1),n=!0,s--)}n&&this.dispatchEventWith("numRadioButtonsChanged")}},p._setSelection=function(i,n){if(void 0===n&&(n=!0),this._selection!=i){if(i){for(var s=this.numRadioButtons,a=0;s>a;a++)if(i==this.getRadioButtonAt(a)){this.changeSelection(a,n);break}}else this.selection&&(this._selection.selected=!1,this._selection=null,n&&this.dispatchEventWith(t.Event.CHANGE));e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)}},p.changeSelection=function(e,i){void 0===i&&(i=!0);var n=this.getRadioButtonAt(e);n&&n!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=n,this._selection.selected=!0,i&&this.dispatchEventWith(t.Event.CHANGE))},p.radioButton_addedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.ADDED,this.radioButton_addedHandler,this),this._addInstance(i))},p.radioButton_removedHandler=function(e){var i=e.target;i&&(i.removeEventListener(t.Event.REMOVED,this.radioButton_removedHandler,this),this.doRemoveInstance(i))},n.groupCount=0,n}(t.EventDispatcher);e.RadioButtonGroup=i,t.registerClass(i,"egret.gui.RadioButtonGroup")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._fillColor=16777215,this._fillAlpha=1,this._strokeColor=4473924,this._strokeAlpha=0,this._strokeWeight=1,this.touchChildren=!1,this.$renderRegion=new t.sys.Region}__extends(i,e);var n=__define,s=i;return p=s.prototype,n(p,"graphics",function(){return this.$graphics||(this.$graphics=new t.Graphics,this.$graphics.$renderContext.$targetDisplay=this),this.$graphics}),p.$render=function(t){this.$graphics&&this.$graphics.$render(t),e.prototype.$render.call(this,t)},p.$hitTest=function(t,i){var n=e.prototype.$hitTest.call(this,t,i);return n==this&&(n=this.$graphics.$hitTest(t,i)),n},p.$measureContentBounds=function(t){this.$graphics&&this.$graphics.$measureContentBounds(t)},n(p,"fillColor",function(){return this._fillColor},function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidateDisplayList())}),n(p,"fillAlpha",function(){return this._fillAlpha},function(t){this._fillAlpha!=t&&(this._fillAlpha=t,this.invalidateDisplayList())}),n(p,"strokeColor",function(){return this._strokeColor},function(t){this._strokeColor!=t&&(this._strokeColor=t,this.invalidateDisplayList())}),n(p,"strokeAlpha",function(){return this._strokeAlpha},function(t){this._strokeAlpha!=t&&(this._strokeAlpha=t,this.invalidateDisplayList())}),n(p,"strokeWeight",function(){return this._strokeWeight},function(t){this._strokeWeight!=t&&(this._strokeWeight=t,this.invalidateDisplayList())}),p.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,t);var n=this.graphics;n.clear(),n.beginFill(this._fillColor,this._fillAlpha),this._strokeAlpha>0&&n.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter"),n.drawRect(0,0,t,i),n.endFill()},i}(e.UIComponent);e.Rect=i,t.registerClass(i,"egret.gui.Rect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this),this.scrollBeginThreshold=10,this.scrollSpeed=1,this._content=null,this.delayTouchBeginEvent=null,this.touchBeginTimer=null,this.touchEnabled=!0,this._ScrV_Props_=new e.ScrollerViewProperties,t&&this.setContent(t)}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"bounces",function(){return this._ScrV_Props_._bounces},function(t){this._ScrV_Props_._bounces=!!t}),p.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,i.prototype.addChild.call(this,t),this._addEvents()))},p.removeContent=function(){this._content&&(this._removeEvents(),i.prototype.removeChildAt.call(this,0)),this._content=null},s(p,"verticalScrollPolicy",function(){return this._ScrV_Props_._verticalScrollPolicy},function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)}),s(p,"horizontalScrollPolicy",function(){return this._ScrV_Props_._horizontalScrollPolicy},function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)}),s(p,"scrollLeft",function(){return this._ScrV_Props_._scrollLeft},function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())}),s(p,"scrollTop",function(){return this._ScrV_Props_._scrollTop},function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())}),p.setScrollPosition=function(t,e,i){if(void 0===i&&(i=!1),!(i&&0==t&&0==e||!i&&this._ScrV_Props_._scrollTop==t&&this._ScrV_Props_._scrollLeft==e)){var n=this._ScrV_Props_._scrollTop,s=this._ScrV_Props_._scrollLeft;if(i){var a=this.getMaxScrollLeft(),r=this.getMaxScrollTop();(0>=n||n>=r)&&(t/=2),(0>=s||s>=a)&&(e/=2);var o=n+t,h=s+e,l=this._ScrV_Props_._bounces;l||((0>=o||o>=r)&&(o=Math.max(0,Math.min(o,r))),(0>=h||h>=a)&&(h=Math.max(0,Math.min(h,a)))),this._ScrV_Props_._scrollTop=o,this._ScrV_Props_._scrollLeft=h}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},p._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,n=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,n>i?n-i/2:i/2)}if(e){var s=this.width,a=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-s)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,a>s?a-s/2:s/2)}},p.$setWidth=function(t){if(this.$getExplicitWidth()==t)return!1;var e=i.prototype.$setWidth.call(this,t);return this._updateContentPosition(),e},p.$setHeight=function(t){if(this.$getExplicitHeight()==t)return!1;var e=i.prototype.$setHeight.call(this,t);return this._updateContentPosition(),e},p._updateContentPosition=function(){var e=this.height,i=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),i,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},p._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var i=this._ScrV_Props_._verticalScrollPolicy,n=this.__checkScrollPolicy(i,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=n,e||n},p.__checkScrollPolicy=function(t,e,i){return"on"==t?!0:"off"==t?!1:e>i},p._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},p._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},p._onTouchBegin=function(e){if(!e.$isDefaultPrevented){var i=this._checkScrollPolicy();i&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},p._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var n=e.target;n!=this;){if("_checkScrollPolicy"in n&&(i=n._checkScrollPolicy()))return;n=n.parent}e.stopPropagation();var s=this.cloneTouchEvent(e);this.delayTouchBeginEvent=s,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},p._onTouchEndCapture=function(){this.delayTouchBeginEvent&&this._onTouchBeginTimer()},p._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},p.dispatchPropagationEvent=function(e){for(var i=e.$target,n=this.$getPropagationList(i),s=n.length,a=.5*n.length,r=-1,o=0;s>o;o++)if(n[o]===this._content){r=o;break}n.splice(0,r+1),a-=r+1,this.$dispatchPropagationEvent(e,n,a),t.Event.release(e)},p._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y,n=Math.sqrt(e*e+i*i);if(n<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var s=this._getPointChange(t);this.setScrollPosition(s.y,s.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},p._onTouchEnd=function(){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},p._onEnterFrame=function(){var e=t.getTimer();e-this._ScrV_Props_._lastTouchTime>100&&e-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},p._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},p._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},p._calcVelocitys=function(e){var i=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=i);var n=this._getPointChange(e),s=i-this._ScrV_Props_._lastTouchTime;n.x/=s,n.y/=s,this._ScrV_Props_._velocitys.push(n),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},p._getContentWidth=function(){return this._content.$getExplicitWidth()||this._content.width},p._getContentHeight=function(){return this._content.$getExplicitHeight()||this._content.height},p.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},p.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},p._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,i=0;i<this._ScrV_Props_._velocitys.length;i++){var s=this._ScrV_Props_._velocitys[i],a=n.weight[i];t.x+=s.x*a,t.y+=s.y*a,e+=a}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var r=t.x/e*this.scrollSpeed,o=t.y/e*this.scrollSpeed,h=Math.abs(r),l=Math.abs(o),u=this.getMaxScrollLeft(),d=this.getMaxScrollTop(),p=h>.02?this.getAnimationDatas(r,this._ScrV_Props_._scrollLeft,u):{position:this._ScrV_Props_._scrollLeft,duration:1},c=l>.02?this.getAnimationDatas(o,this._ScrV_Props_._scrollTop,d):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(p.position,p.duration),this.setScrollTop(c.position,c.duration)}},p.onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},p._onScrollStarted=function(){},p._onScrollFinished=function(){e.ScrollerTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},p.setScrollTop=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollTop(),Math.max(t,0));if(0==i)return void(this.scrollTop=n);0==this._ScrV_Props_._bounces&&(t=n);var s=e.ScrollerTween.get(this).to({scrollTop:t},i,e.ScrollerEase.quartOut);n!=t&&s.to({scrollTop:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=s,s.call(this.onTweenFinished,this,[s]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},p.setScrollLeft=function(t,i){void 0===i&&(i=0);var n=Math.min(this.getMaxScrollLeft(),Math.max(t,0));if(0==i)return void(this.scrollLeft=n);0==this._ScrV_Props_._bounces&&(t=n);var s=e.ScrollerTween.get(this).to({scrollLeft:t},i,e.ScrollerEase.quartOut);n!=t&&s.to({scrollLeft:n},300,e.ScrollerEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=s,s.call(this.onTweenFinished,this,[s]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},p.getAnimationDatas=function(t,e,i){var n=Math.abs(t),s=.95,a=0,r=.998,o=.02,h=e+500*t;if(0>h||h>i)for(h=e;1/0!=Math.abs(t)&&Math.abs(t)>o;)h+=t,t*=0>h||h>i?r*s:r,a++;else a=500*-Math.log(o/n);var l={position:Math.min(i+50,Math.max(h,-50)),duration:a};return l},p.cloneTouchEvent=function(e){var i=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i.$stageX=e.stageX,i.$stageY=e.stageY,i.touchDown=e.touchDown,i.$isDefaultPrevented=!1,i.$target=e.target,i},p.throwNotSupportedError=function(){t.$error(1023)},p.addChild=function(){return this.throwNotSupportedError(),null},p.addChildAt=function(){return this.throwNotSupportedError(),null},p.removeChild=function(){return this.throwNotSupportedError(),null},p.removeChildAt=function(){return this.throwNotSupportedError(),null},p.setChildIndex=function(){this.throwNotSupportedError()},p.swapChildren=function(){this.throwNotSupportedError()},p.swapChildrenAt=function(){this.throwNotSupportedError()},n.weight=[1,1.33,1.66,2,2.33],n}(t.DisplayObjectContainer);e.ScrollerView=i,t.registerClass(i,"egret.gui.ScrollerView")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function s(){i.call(this),this.horizontalScrollBar=null,this.verticalScrollBar=null,e.ScrollerView.call(this),this._Scr_Props_=new t.gui.ScrollerProperties}__extends(s,i);var a=__define,r=s;return n=r.prototype,n.setContent=function(t){this._content=t,this._removeEvents(),this._addEvents(),this._ScrV_Props_._scrollLeft=t.horizontalScrollPosition,this._ScrV_Props_._scrollTop=t.verticalScrollPosition},n._updateContentPosition=function(){var e=this._content;e.horizontalScrollPosition=this._ScrV_Props_._scrollLeft,e.verticalScrollPosition=this._ScrV_Props_._scrollTop,e.setLayoutBoundsSize(this._UIC_Props_._uiWidth,this._UIC_Props_._uiHeight),this.dispatchEvent(new t.Event(t.Event.CHANGE))},n.getMaxScrollLeft=function(){var t=this._content,e=t.contentWidth-t.width,i=t.initialized?0:t.horizontalScrollPosition||0;return Math.max(e,i)},n.getMaxScrollTop=function(){var t=this._content,e=t.contentHeight-t.height,i=t.initialized?0:t.verticalScrollPosition||0;return Math.max(e,i)},n._getContentWidth=function(){return this._content.contentWidth},n._getContentHeight=function(){return this._content.contentHeight},n._onScrollStarted=function(){e.ScrollerView.prototype._onScrollStarted.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)},n._onScrollFinished=function(){e.ScrollerView.prototype._onScrollFinished.call(this),e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)},n.measure=function(){this._Scr_Props_._viewport&&(this.measuredWidth=this._Scr_Props_._viewport.preferredWidth,this.measuredHeight=this._Scr_Props_._viewport.preferredHeight)},n.updateDisplayList=function(t,i){if(this.viewport&&this.viewport.setLayoutBoundsSize(t,i),this._checkScrollPolicy(),"off"!=this._ScrV_Props_._horizontalScrollPolicy){var n=this.viewport.horizontalScrollPosition,s=this.getMaxScrollLeft(),n=Math.min(n,s);this.setViewportHScrollPosition(n);var a=this.horizontalScrollBar;a&&(a._setViewportMetric(t,this._Scr_Props_._viewport.contentWidth),a.$setWidth(t-(a.left||0)-(a.right||0)),a.x=a.left||0,a.y=i-this.horizontalScrollBar.layoutBoundsHeight,a.visible=this._ScrV_Props_._horizontalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._hCanScroll,this._Scr_Props_._autoHideScrollBars&&(a.alpha=0))}if("off"!=this._ScrV_Props_._verticalScrollPolicy){var n=this.viewport.verticalScrollPosition,s=this.getMaxScrollTop();n=Math.min(n,s),this.setViewportVScrollPosition(n);var r=this.verticalScrollBar;r&&(r._setViewportMetric(i,this._Scr_Props_._viewport.contentHeight),r.$setHeight(i-(r.top||0)-(r.bottom||0)),r.y=r.top||0,r.x=t-this.verticalScrollBar.layoutBoundsWidth,r.visible=this._ScrV_Props_._verticalScrollPolicy==e.ScrollPolicy.ON||this._ScrV_Props_._vCanScroll,this._Scr_Props_._autoHideScrollBars&&(r.alpha=0))}},a(n,"verticalScrollPolicy",function(){return this._ScrV_Props_._verticalScrollPolicy},function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t,this._checkVbar(),this.verticalScrollPolicy=t)}),a(n,"horizontalScrollPolicy",function(){return this._ScrV_Props_._horizontalScrollPolicy
},function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t,this._checkHbar(),this.horizontalScrollPolicy=t)}),a(n,"viewport",function(){return this._Scr_Props_._viewport},function(t){t!=this._Scr_Props_._viewport&&(this.uninstallViewport(),this._Scr_Props_._viewport=t,this.installViewport(),this.dispatchEventWith("viewportChanged"))}),n.installViewport=function(){var e=this.viewport;this.addEventListener(t.Event.CHANGE,this._scrollerChangedHandler,this),this._createChildrenCalled&&e&&(e.clipAndEnableScrolling=!0,this.setContent(e),this._addToDisplayListAt(e,0),e.addEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this))},n.uninstallViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(t.gui.PropertyChangeEvent.PROPERTY_CHANGE,this._viewportChangedHandler,this),this._removeFromDisplayList(this.viewport))},n._viewportChangedHandler=function(t){"horizontalScrollPosition"==t.property&&this.setViewportHScrollPosition(this.viewport.horizontalScrollPosition),"verticalScrollPosition"==t.property&&this.setViewportVScrollPosition(this.viewport.verticalScrollPosition),("contentWidth"==t.property||"contentHeight"==t.property)&&(this.invalidateDisplayList(),this.invalidateSize())},n._scrollerChangedHandler=function(){this.setViewportHScrollPosition(this.scrollLeft),this.setViewportVScrollPosition(this.scrollTop)},n.setViewportVScrollPosition=function(t){this.scrollTop!=t&&(this.scrollTop=t),this.verticalScrollBar&&this.verticalScrollBar.value!=t&&(this.verticalScrollBar.setPosition(t),this.hideOrShow(!0),this.setAutoHideTimer())},n.setViewportHScrollPosition=function(t){this.scrollLeft!=t&&(this.scrollLeft=t),this.horizontalScrollBar&&this.horizontalScrollBar.value!=t&&(this.horizontalScrollBar._setValue(t),this.hideOrShow(!0),this.setAutoHideTimer())},n.throwHorizontally=function(t,e){void 0===e&&(e=500),this.setScrollLeft(t,e)},n.throwVertically=function(t,e){void 0===e&&(e=500),this.setScrollTop(t,e)},a(n,"autoHideScrollBars",function(){return this._Scr_Props_._autoHideScrollBars},function(t){this._Scr_Props_._autoHideScrollBars!=t&&(this._Scr_Props_._autoHideScrollBars=t,t?this.setAutoHideTimer():this.hideOrShow(!0))}),a(n,"autoHideDelay",function(){return this._Scr_Props_._autoHideDelay},function(t){this._Scr_Props_._autoHideDelay!=t&&(this._Scr_Props_._autoHideDelay=t)}),n.setAutoHideTimer=function(){this._Scr_Props_._autoHideScrollBars&&this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)&&(0/0!=this._Scr_Props_._autoHideTimer&&t.gui.$clearTimer(this._Scr_Props_._autoHideTimer),this._Scr_Props_._autoHideTimer=t.gui.$addTimer(this.hideOrShow.bind(this,!1),this,this._Scr_Props_._autoHideDelay))},n.hideOrShow=function(t){var i=this;if(this.initialized&&(this.horizontalScrollBar||this.verticalScrollBar)){if(null==this._Scr_Props_._autoHideShowAnimat)this._Scr_Props_._autoHideShowAnimat=new e.Animation(function(t){var e=t.currentValue.alpha;i.horizontalScrollBar&&(i.horizontalScrollBar.alpha=e),i.verticalScrollBar&&(i.verticalScrollBar.alpha=e)},this);else{if(this._Scr_Props_._animatTargetIsShow==t)return;this._Scr_Props_._autoHideShowAnimat.isPlaying&&this._Scr_Props_._autoHideShowAnimat.stop()}this._Scr_Props_._animatTargetIsShow=t;var n=this._Scr_Props_._autoHideShowAnimat;n.motionPaths=[new e.SimpleMotionPath("alpha",t?0:1,t?1:0)],n.duration=t?100:300,n.play()}},a(n,"numElements",function(){return this.viewport?1:0}),n.throwRangeError=function(e){t.$error(3011,e)},n.getElementAt=function(t){return this.viewport&&0==t?this.viewport:(this.throwRangeError(t),null)},n.getElementIndex=function(t){return null!=t&&t==this.viewport?0:-1},n.containsElement=function(t){return null!=t&&t==this.viewport?!0:!1},n.throwNotSupportedError=function(){t.$error(3012)},n.addElement=function(){return this.throwNotSupportedError(),null},n.addElementAt=function(){return this.throwNotSupportedError(),null},n.removeElement=function(){return this.throwNotSupportedError(),null},n.removeElementAt=function(){return this.throwNotSupportedError(),null},n.removeAllElements=function(){this.throwNotSupportedError()},n.setElementIndex=function(){this.throwNotSupportedError()},n.swapElements=function(){this.throwNotSupportedError()},n.swapElementsAt=function(){this.throwNotSupportedError()},n.addChild=function(){return this.throwNotSupportedError(),null},n.addChildAt=function(){return this.throwNotSupportedError(),null},n.removeChild=function(){return this.throwNotSupportedError(),null},n.removeChildAt=function(){return this.throwNotSupportedError(),null},n.setChildIndex=function(){this.throwNotSupportedError()},n.swapChildren=function(){this.throwNotSupportedError()},n.swapChildrenAt=function(){this.throwNotSupportedError()},n._checkHbar=function(){if("off"==this._ScrV_Props_._horizontalScrollPolicy)return void this._uninstallHorizontalScrollBar();if(this.horizontalScrollBar){var e=this.horizontalScrollBar;e.addEventListener(t.Event.CHANGE,this.hBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.width,this._Scr_Props_._viewport.contentWidth),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.horizontalScrollBar)}},n._checkVbar=function(){if("off"==this._ScrV_Props_._verticalScrollPolicy)return void this._uninstallVerticalScrollBar();if(this.verticalScrollBar&&this.verticalScrollBar.owner!=this){var e=this.verticalScrollBar;e.addEventListener(t.Event.CHANGE,this.vBarChanged,this,!1),e._setViewportMetric(this._Scr_Props_._viewport.height,this._Scr_Props_._viewport.contentHeight),e.owner&&"removeElement"in e.owner&&e.owner.removeElement(e),this._addToDisplayList(this.verticalScrollBar)}},n.createChildren=function(){i.prototype.createChildren.call(this),this.installViewport()},n.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.horizontalScrollBar&&this._checkHbar(),e==this.verticalScrollBar&&this._checkVbar()},n.partRemoved=function(t,e){i.prototype.partRemoved.call(this,t,e),this.horizontalScrollBar==e&&(this.horizontalScrollBar.parent==this&&this._uninstallHorizontalScrollBar(),this.horizontalScrollBar=null),this.verticalScrollBar==e&&(this.verticalScrollBar.parent==this&&this._uninstallVerticalScrollBar(),this.verticalScrollBar=null)},n._uninstallHorizontalScrollBar=function(){null!=this.horizontalScrollBar&&(this._removeFromDisplayList(this.horizontalScrollBar),this.horizontalScrollBar.removeEventListener(t.Event.CHANGE,this.hBarChanged,this,!1))},n._uninstallVerticalScrollBar=function(){null!=this.verticalScrollBar&&(this._removeFromDisplayList(this.verticalScrollBar),this.verticalScrollBar.removeEventListener(t.Event.CHANGE,this.vBarChanged,this,!1))},n.hBarChanged=function(){this.setViewportHScrollPosition(this.horizontalScrollBar._getValue())},n.vBarChanged=function(){this.setViewportVScrollPosition(this.verticalScrollBar.getPosition())},s}(e.SkinnableComponent);e.Scroller=i,t.registerClass(i,"egret.gui.Scroller",["egret.gui.IVisualElementContainer","egret.gui.IVisualElement","egret.gui.ILayoutElement","egret.IEventDispatcher","egret.gui.IContainer"]);for(var n in e.ScrollerView.prototype)if(e.ScrollerView.prototype.hasOwnProperty(n)&&!i.prototype.hasOwnProperty(n)&&!e.SkinnableComponent.prototype.hasOwnProperty(n)&&!e.UIComponent.prototype.hasOwnProperty(n)){var s=Object.getOwnPropertyDescriptor(e.ScrollerView.prototype,n);s&&(s.get||s.set)?Object.defineProperty(i.prototype,n,s):i.prototype[n]=e.ScrollerView.prototype[n]}}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this._viewport=null,this._autoHideScrollBars=!0,this._autoHideTimer=0/0,this._autoHideDelay=300,this._autoHideShowAnimat=null,this._animatTargetIsShow=!1}var e=t;return p=e.prototype,t}();e.ScrollerProperties=i,t.registerClass(i,"egret.gui.ScrollerProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=e;return p=i.prototype,e}(e.UIComponent);e.Spacer=i,t.registerClass(i,"egret.gui.Spacer")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.requireSelectionChanged_tabBar=!1,this.requireSelection=!0}__extends(i,t);var n=__define,s=i;return p=s.prototype,p.createChildren=function(){e.ListBase.prototype.createChildren.call(this)},n(p,"requireSelection",function(){return this._requireSelection},function(e){e!=this._requireSelection&&(t.prototype._setRequireSelection.call(this,e),this.requireSelectionChanged_tabBar=!0,this.invalidateProperties())}),p._setDataProvider=function(i){this.dataProvider instanceof e.ViewStack&&(this.dataProvider.removeEventListener("IndexChanged",this.onViewStackIndexChange,this),this.removeEventListener(e.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),i instanceof e.ViewStack&&(i.addEventListener("IndexChanged",this.onViewStackIndexChange,this),this.addEventListener(e.IndexChangeEvent.CHANGE,this.onIndexChanged,this)),t.prototype._setDataProvider.call(this,i)},p.onIndexChanged=function(t){this.dataProvider._setSelectedIndex(t.newIndex,!1)},p.onViewStackIndexChange=function(){this._setSelectedIndex(this.dataProvider.selectedIndex,!1)},p.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.requireSelectionChanged_tabBar&&this.dataGroup){this.requireSelectionChanged_tabBar=!1;for(var e=this.dataGroup.numElements,i=0;e>i;i++){var n=this.dataGroup.getElementAt(i);n&&(n.allowDeselection=!this.requireSelection)}}},p.dataGroup_rendererAddHandler=function(i){t.prototype.dataGroup_rendererAddHandler.call(this,i),null!=i.renderer&&i.renderer instanceof e.TabBarButton&&(i.renderer.allowDeselection=!this.requireSelection)},p._item_touchEndHandler=function(t){var i=t.currentTarget;if(i==this._mouseDownItemRenderer){var n;n=i?i.itemIndex:this.dataGroup.getElementIndex(t.currentTarget),n==this.selectedIndex?this.requireSelection||this._setSelectedIndex(e.ListBase.NO_SELECTION,!0):this._setSelectedIndex(n,!0),this._captureItemRenderer&&this._dispatchListEvent(t,e.ListEvent.ITEM_CLICK,i)}},i}(e.List);e.TabBar=i,t.registerClass(i,"egret.gui.TabBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._allowDeselection=!0,this._data=null,this._itemIndex=0/0}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"allowDeselection",function(){return this._allowDeselection},function(t){this._allowDeselection=t}),i(p,"data",function(){return this._data},function(t){this._data=t,this.dispatchEventWith("dataChange")}),i(p,"itemIndex",function(){return this._itemIndex},function(t){this._itemIndex=t}),p._setLabel=function(e){e!=this._getLabel()&&(t.prototype._setLabel.call(this,e),this.labelDisplay&&(this.labelDisplay.text=this._getLabel()))},p.buttonReleased=function(){(!this.selected||this.allowDeselection)&&t.prototype.buttonReleased.call(this)},e}(e.ToggleButtonBase);e.TabBarButton=i,t.registerClass(i,"egret.gui.TabBarButton",["egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._focusEnabled=!0,this.isFocus=!1,this.textDisplay=null,this.textDisplayProperties={},this.promptDisplay=null,this._prompt=null,this.focusEnabled=!0}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"focusEnabled",function(){return this._focusEnabled},function(t){this._focusEnabled=t}),p.focusInHandler=function(t){return this.isFocus=!0,t.target==this?void this.setFocus():void this.invalidateSkinState()},p.focusOutHandler=function(t){this.isFocus=!1,t.target!=this&&this.invalidateSkinState()},s(p,"prompt",function(){return this._prompt},function(t){this._prompt!=t&&(this._prompt=t,this.promptDisplay&&(this.promptDisplay.text=t),this.invalidateProperties(),this.invalidateSkinState())}),s(p,"maxWidth",function(){if(this.textDisplay)return this.textDisplay.maxWidth;var t=this.textDisplayProperties.maxWidth;return void 0===t?i.prototype._getMaxWidth.call(this):t},function(t){this.textDisplay?(this.textDisplay.maxWidth=t,this.textDisplayProperties.maxWidth=!0):this.textDisplayProperties.maxWidth=t,this.invalidateProperties()}),s(p,"textColor",function(){if(this.textDisplay)return this.textDisplay.textColor;var t=this.textDisplayProperties.textColor;return void 0===t?0:t},function(t){this.textDisplay?(this.textDisplay.textColor=t,this.textDisplayProperties.textColor=!0):this.textDisplayProperties.textColor=t,this.invalidateProperties()}),s(p,"displayAsPassword",function(){if(this.textDisplay)return this.textDisplay.displayAsPassword;var t=this.textDisplayProperties.displayAsPassword;return void 0===t?!1:t},function(t){this.textDisplay?(this.textDisplay.displayAsPassword=t,this.textDisplayProperties.displayAsPassword=!0):this.textDisplayProperties.displayAsPassword=t,this.invalidateProperties()}),s(p,"editable",function(){if(this.textDisplay)return this.textDisplay.editable;var t=this.textDisplayProperties.editable;return void 0===t?!0:t},function(t){this.textDisplay?(this.textDisplay.editable=t,this.textDisplayProperties.editable=!0):this.textDisplayProperties.editable=t,this.invalidateProperties()}),s(p,"maxChars",function(){if(this.textDisplay)return this.textDisplay.maxChars;var t=this.textDisplayProperties.maxChars;return void 0===t?0:t},function(t){this.textDisplay?(this.textDisplay.maxChars=t,this.textDisplayProperties.maxChars=!0):this.textDisplayProperties.maxChars=t,this.invalidateProperties()}),s(p,"restrict",function(){if(this.textDisplay)return this.textDisplay.restrict;var t=this.textDisplayProperties.restrict;return void 0===t?null:t},function(t){this.textDisplay?(this.textDisplay.restrict=t,this.textDisplayProperties.restrict=!0):this.textDisplayProperties.restrict=t,this.invalidateProperties()}),s(p,"selectable",function(){if(this.textDisplay)return this.textDisplay.selectable;var t=this.textDisplayProperties.selectable;return void 0===t?!0:t},function(t){this.textDisplay?(this.textDisplay.selectable=t,this.textDisplayProperties.selectable=!0):this.textDisplayProperties.selectable=t,this.invalidateProperties()}),s(p,"selectionBeginIndex",function(){return this.textDisplay?this.textDisplay.selectionBeginIndex:void 0===this.textDisplayProperties.selectionBeginIndex?-1:this.textDisplayProperties.selectionBeginIndex}),s(p,"selectionEndIndex",function(){return this.textDisplay?this.textDisplay.selectionEndIndex:void 0===this.textDisplayProperties.selectionEndIndex?-1:this.textDisplayProperties.selectionEndIndex}),s(p,"caretIndex",function(){return this.textDisplay?this.textDisplay.caretIndex:0}),p.setSelection=function(t,e){void 0===e&&(e=0),this.textDisplay?this.textDisplay.setSelection(t,e):(this.textDisplayProperties.selectionBeginIndex=t,this.textDisplayProperties.selectionEndIndex=e)},p.selectAll=function(){this.textDisplay?this.textDisplay.selectAll():void 0!==this.textDisplayProperties.text&&this.setSelection(0,this.textDisplayProperties.text.length-1)},s(p,"text",function(){return this._getText()},function(t){this._setText(t)}),p._getText=function(){if(this.textDisplay)return this.textDisplay.text;var t=this.textDisplayProperties.text;return void 0===t?"":t},p._setText=function(t){this.textDisplay?(this.textDisplay.text=t,this.textDisplayProperties.text=!0):(this.textDisplayProperties.text=t,this.textDisplayProperties.selectionBeginIndex=0,this.textDisplayProperties.selectionEndIndex=0),this.invalidateProperties(),this.invalidateSkinState()},p._getWidthInChars=function(){var t=this.textDisplay;if(t)return t.widthInChars;var e=this.textDisplay?void 0:this.textDisplayProperties.widthInChars;return void 0===e?0/0:e},p._setWidthInChars=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.widthInChars=t),this.textDisplayProperties.widthInChars=!0}else this.textDisplayProperties.widthInChars=t;this.invalidateProperties()},p._getHeightInLines=function(){var t=this.textDisplay;if(t)return t.heightInLines;var e=this.textDisplay?void 0:this.textDisplayProperties.heightInLines;return void 0===e?0/0:e},p._setHeightInLines=function(t){if(this.textDisplay){var e=this.textDisplay;e&&(e.heightInLines=t),this.textDisplayProperties.heightInLines=!0}else this.textDisplayProperties.heightInLines=t;this.invalidateProperties()},p.getCurrentSkinState=function(){var t=this.skin;if(this._prompt&&!this.isFocus&&""==this.text){if(this.enabled&&t.hasState("normalWithPrompt"))return"normalWithPrompt";if(!this.enabled&&t.hasState("disabledWithPrompt"))return"disabledWithPrompt"}return i.prototype.getCurrentSkinState.call(this)},p.partAdded=function(n,s){i.prototype.partAdded.call(this,n,s),s==this.textDisplay?(this.textDisplayAdded(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.addEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.addEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.addEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this)):s==this.promptDisplay&&(this.promptDisplay.text=this._prompt)},p.partRemoved=function(n,s){i.prototype.partRemoved.call(this,n,s),s==this.textDisplay&&(this.textDisplayRemoved(),this.textDisplay instanceof e.EditableText&&(this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_IN,this.focusInHandler,this),this.textDisplay._textField.removeEventListener(t.FocusEvent.FOCUS_OUT,this.focusOutHandler,this)),this.textDisplay.removeEventListener("input",this.textDisplay_changingHandler,this),this.textDisplay.removeEventListener(t.Event.CHANGE,this.textDisplay_changeHandler,this))},p.setFocus=function(){0!=this._focusEnabled&&this.textDisplay&&this.textDisplay.setFocus()},p._createTextDisplay=function(){},p._removeSkinParts=function(){this.textDisplay&&(this.partRemoved("textDisplay",this.textDisplay),this._removeFromDisplayList(this.textDisplay),this.textDisplay=null)},p.textDisplayAdded=function(){var t={},e=this.textDisplay;void 0!==this.textDisplayProperties.displayAsPassword&&(this.textDisplay.displayAsPassword=this.textDisplayProperties.displayAsPassword,t.displayAsPassword=!0),void 0!==this.textDisplayProperties.textColor&&(this.textDisplay.textColor=this.textDisplayProperties.textColor,t.textColor=!0),void 0!==this.textDisplayProperties.editable&&(this.textDisplay.editable=this.textDisplayProperties.editable,t.editable=!0),void 0!==this.textDisplayProperties.maxChars&&(this.textDisplay.maxChars=this.textDisplayProperties.maxChars,t.maxChars=!0),void 0!==this.textDisplayProperties.maxHeight&&(this.textDisplay.maxHeight=this.textDisplayProperties.maxHeight,t.maxHeight=!0),void 0!==this.textDisplayProperties.maxWidth&&(this.textDisplay.maxWidth=this.textDisplayProperties.maxWidth,t.maxWidth=!0),void 0!==this.textDisplayProperties.restrict&&(this.textDisplay.restrict=this.textDisplayProperties.restrict,t.restrict=!0),void 0!==this.textDisplayProperties.selectable&&(this.textDisplay.selectable=this.textDisplayProperties.selectable,t.selectable=!0),void 0!==this.textDisplayProperties.text&&(this.textDisplay.text=this.textDisplayProperties.text,t.text=!0),void 0!==this.textDisplayProperties.selectionBeginIndex&&this.textDisplay.setSelection(this.textDisplayProperties.selectionBeginIndex,this.textDisplayProperties.selectionEndIndex),void 0!==this.textDisplayProperties.widthInChars&&e&&(e.widthInChars=this.textDisplayProperties.widthInChars,t.widthInChars=!0),void 0!==this.textDisplayProperties.heightInLines&&e&&(e.heightInLines=this.textDisplayProperties.heightInLines,t.heightInLines=!0),this.textDisplayProperties=t},p.textDisplayRemoved=function(){var t={},e=this.textDisplay;this.textDisplayProperties.displayAsPassword&&(t.displayAsPassword=this.textDisplay.displayAsPassword),this.textDisplayProperties.textColor&&(t.textColor=this.textDisplay.textColor),this.textDisplayProperties.editable&&(t.editable=this.textDisplay.editable),this.textDisplayProperties.maxChars&&(t.maxChars=this.textDisplay.maxChars),this.textDisplayProperties.maxHeight&&(t.maxHeight=this.textDisplay.maxHeight),this.textDisplayProperties.maxWidth&&(t.maxWidth=this.textDisplay.maxWidth),this.textDisplayProperties.restrict&&(t.restrict=this.textDisplay.restrict),this.textDisplayProperties.selectable&&(t.selectable=this.textDisplay.selectable),this.textDisplayProperties.text&&(t.text=this.textDisplay.text),this.textDisplayProperties.heightInLines&&e&&(t.heightInLines=e.heightInLines),this.textDisplayProperties.widthInChars&&e&&(t.widthInChars=e.widthInChars),this.textDisplayProperties=t},p.textDisplay_changeHandler=function(t){this.invalidateDisplayList(),this.dispatchEvent(t)},p.textDisplay_changingHandler=function(e){var i=new t.Event(e.type,!1,!0);i.data=e.data,this.dispatchEvent(i),i.isDefaultPrevented()&&e.preventDefault()},n}(e.SkinnableComponent);e.SkinnableTextBase=i,t.registerClass(i,"egret.gui.SkinnableTextBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.horizontalScrollPolicyChanged=!1,this._horizontalScrollPolicy=null,this.verticalScrollPolicyChanged=!1,this._verticalScrollPolicy=null,this.scroller=null}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"widthInChars",function(){return this._getWidthInChars()},function(t){this._setWidthInChars(t)}),s(p,"heightInLines",function(){return this._getHeightInLines()},function(t){this._setHeightInLines(t)}),s(p,"horizontalScrollPolicy",function(){return this._horizontalScrollPolicy},function(t){this._horizontalScrollPolicy!=t&&(this._horizontalScrollPolicy=t,this.horizontalScrollPolicyChanged=!0,this.invalidateProperties())}),s(p,"verticalScrollPolicy",function(){return this._verticalScrollPolicy},function(t){this._verticalScrollPolicy!=t&&(this._verticalScrollPolicy=t,this.verticalScrollPolicyChanged=!0,this.invalidateProperties())}),p._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},p.commitProperties=function(){i.prototype.commitProperties.call(this),this.horizontalScrollPolicyChanged&&(this.scroller&&(this.scroller.horizontalScrollPolicy=this.horizontalScrollPolicy),this.horizontalScrollPolicyChanged=!1),this.verticalScrollPolicyChanged&&(this.scroller&&(this.scroller.verticalScrollPolicy=this.verticalScrollPolicy),this.verticalScrollPolicyChanged=!1)},p.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay?this.textDisplay.multiline=!0:e==this.scroller},p.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=15,this.textDisplay.heightInLines=10,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextArea=i,t.registerClass(i,"egret.gui.TextArea")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this)}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"widthInChars",function(){return i.prototype._getWidthInChars.call(this)},function(t){i.prototype._setWidthInChars.call(this,t)}),p._setText=function(e){i.prototype._setText.call(this,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},p.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.textDisplay&&(this.textDisplay.multiline=!1)},p.createSkinParts=function(){this.textDisplay=new e.EditableText,this.textDisplay.widthInChars=10,this.textDisplay.multiline=!1,this.textDisplay.left=1,this.textDisplay.right=1,this.textDisplay.top=1,this.textDisplay.bottom=1,this._addToDisplayList(this.textDisplay),this.partAdded("textDisplay",this.textDisplay)},n}(e.SkinnableTextBase);e.TextInput=i,t.registerClass(i,"egret.gui.TextInput")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this.iconDisplay=null,this._icon=null}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"icon",function(){return this._getIcon()},function(t){this._setIcon(t)}),p._getIcon=function(){return this.iconDisplay?this.iconDisplay.source:this._icon},p._setIcon=function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e}(e.ToggleButtonBase);e.ToggleButton=i,t.registerClass(i,"egret.gui.ToggleButton")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=e;return p=i.prototype,e}(e.ToggleButtonBase);e.ToggleSwitch=i,t.registerClass(i,"egret.gui.ToggleSwitch")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.iconDisplay=null,this.disclosureButton=null,this.contentGroup=null,this._indentation=17,this._iconSkinName=null,this._depth=0,this._hasChildren=!1,this._isOpen=!1,this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onItemMouseDown,this,!1,1e3)}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.onItemMouseDown=function(t){t.target==this.disclosureButton&&t.stopImmediatePropagation()},s(p,"indentation",function(){return this._indentation},function(t){this._indentation=t}),s(p,"iconSkinName",function(){return this._iconSkinName},function(t){this._iconSkinName!=t&&(this._iconSkinName=t,this.iconDisplay&&(this.iconDisplay.source=this._iconSkinName))}),s(p,"depth",function(){return this._depth},function(t){t!=this._depth&&(this._depth=t,this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation))}),s(p,"hasChildren",function(){return this._hasChildren},function(t){this._hasChildren!=t&&(this._hasChildren=t,this.disclosureButton&&(this.disclosureButton.visible=this._hasChildren))}),s(p,"opened",function(){return this._isOpen},function(t){this._isOpen!=t&&(this._isOpen=t,this.disclosureButton&&(this.disclosureButton.selected=this._isOpen))}),p.partAdded=function(e,n){i.prototype.partAdded.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=this._iconSkinName:n==this.disclosureButton?(this.disclosureButton.visible=this._hasChildren,this.disclosureButton.selected=this._isOpen,this.disclosureButton._autoSelected=!1,this.disclosureButton.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this)):n==this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation)},p.partRemoved=function(e,n){i.prototype.partRemoved.call(this,e,n),n==this.iconDisplay?this.iconDisplay.source=null:n==this.disclosureButton&&(this.disclosureButton.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this),this.disclosureButton._autoSelected=!0,this.disclosureButton.visible=!0)},p.disclosureButton_mouseDownHandler=function(){e.TreeEvent.dispatchTreeEvent(this,e.TreeEvent.ITEM_OPENING,this.itemIndex,this.data,this,!this._isOpen,!1,!0)},n}(e.ItemRenderer);e.TreeItemRenderer=i,t.registerClass(i,"egret.gui.TreeItemRenderer",["egret.gui.ITreeItemRenderer","egret.gui.IItemRenderer","egret.gui.ILayoutElement","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(){t.call(this),this.iconFieldOrFunctionChanged=!1,this._iconField=null,this._iconFunction=null}__extends(i,t);var n=__define,s=i;return p=s.prototype,p.createChildren=function(){this.itemRenderer||(this.itemRenderer=i.defaultTreeRendererFactory),t.prototype.createChildren.call(this)},p.updateRenderer=function(e,i,n){if("hasChildren"in e&&"hasChildren"in this.dataProvider){var s=this.dataProvider,a=e;a.hasChildren=s.hasChildren(n),a.opened=s.isItemOpen(n),a.depth=s.getDepth(n),a.iconSkinName=this.itemToIcon(n)}return t.prototype.updateRenderer.call(this,e,i,n)},p.itemToIcon=function(t){if(!t)return null;if(null!=this._iconFunction)return this._iconFunction(t);var e;if(t instanceof Object)try{t[this.iconField]&&(e=t[this.iconField])}catch(i){}return e},p.dataGroup_rendererAddHandler=function(i){t.prototype.dataGroup_rendererAddHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.addEventListener(e.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},p.onItemOpening=function(t){var i=t.itemRenderer,n=t.item,s=this._getDataProvider();if(i&&s&&"hasChildren"in s&&this.dispatchEvent(t)){var a=!i.opened;s.expandItem(n,a);var r=a?e.TreeEvent.ITEM_OPEN:e.TreeEvent.ITEM_CLOSE;e.TreeEvent.dispatchTreeEvent(this,r,i.itemIndex,n,i)}},p.dataGroup_rendererRemoveHandler=function(i){t.prototype.dataGroup_rendererRemoveHandler.call(this,i),i.renderer&&"hasChildren"in i.renderer&&i.renderer.removeEventListener(e.TreeEvent.ITEM_OPENING,this.onItemOpening,this)},n(p,"iconField",function(){return this._iconField},function(t){this._iconField!=t&&(this._iconField=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())}),n(p,"iconFunction",function(){return this._iconFunction},function(t){this._iconFunction!=t&&(this._iconFunction=t,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())}),p.expandItem=function(t,e){void 0===e&&(e=!0);var i=this._getDataProvider();i&&"hasChildren"in i&&i.expandItem(t,e)},p.isItemOpen=function(t){var e=this._getDataProvider();return e&&"hasChildren"in e?e.isItemOpen(t):!1},p.dataProvider_collectionChangeHandler=function(i){if(t.prototype.dataProvider_collectionChangeHandler.call(this,i),i.kind==e.CollectionEventKind.OPEN||i.kind==e.CollectionEventKind.CLOSE){var n=this.dataGroup?this.dataGroup.getElementAt(i.location):null;n&&(this.updateRenderer(n,i.location,i.items[0]),i.kind==e.CollectionEventKind.CLOSE&&this.layout&&this.layout.useVirtualLayout&&(this.layout.clearVirtualLayoutCache(),this.invalidateSize()))}},p.commitProperties=function(){if(t.prototype.commitProperties.call(this),this.iconFieldOrFunctionChanged){if(null!=this.dataGroup){var e;if(this.layout&&this.layout.useVirtualLayout)for(var i=this.dataGroup.getElementIndicesInView(),n=i.length,s=0;n>s;s++){var e=i[s];this.updateRendererIconProperty(e)}else{var a=this.dataGroup.numElements;for(e=0;a>e;e++)this.updateRendererIconProperty(e)}}this.iconFieldOrFunctionChanged=!1}},p.updateRendererIconProperty=function(t){var e=this.dataGroup.getElementAt(t);e&&(e.iconSkinName=this.itemToIcon(e.data))},i.defaultTreeRendererFactory=new e.ClassFactory(e.TreeItemRenderer),i}(e.List);e.Tree=i,t.registerClass(i,"egret.gui.Tree")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(e,n){void 0===n&&(n=!0),i.call(this),this.scale9Grid=null,this.fillMode="scale",this.sourceChanged=!1,this._source=null,this._content=null,this._contentIsTexture=!1,this.createChildrenCalled=!1,this.contentReused=!1,this.autoScale=!0,this.touchChildren=!1,e&&(this.source=e),this.$renderRegion=new t.sys.Region,this.autoScale=n}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"source",function(){return this._source},function(t){this._source!=t&&(this._source=t,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0,this.$invalidateContentBounds())}),s(p,"content",function(){return this._content}),p.createChildren=function(){i.prototype.createChildren.call(this),this.sourceChanged&&this.parseSource(),this.createChildrenCalled=!0},p.parseSource=function(){this.sourceChanged=!1;var t=n.assetAdapter;if(t||(t=this.getAdapter()),this._source){var e=this.contentReused?null:this._content;this.contentReused=!0,t.getAsset(this._source,this.contentChanged,this,e)}else this.contentChanged(null,null)},p.getAdapter=function(){var t;try{t=e.$getAdapter("egret.gui.IAssetAdapter")}catch(i){t=new e.DefaultAssetAdapter}return n.assetAdapter=t,t},p.contentChanged=function(i,n){if(n===this._source){var s=this._content;
this._content=i,this._contentIsTexture=this._content instanceof t.Texture?!0:!1,s!==i&&(s instanceof t.DisplayObject&&s.parent==this&&this._removeFromDisplayList(s),i instanceof t.DisplayObject&&this._addToDisplayListAt(i,0)),this.invalidateSize(),this.invalidateDisplayList(),this.contentReused=!1,this.hasEventListener(e.UIEvent.CONTENT_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.CONTENT_CHANGED)}},p.measure=function(){i.prototype.measure.call(this);var e=this._content;if(e instanceof t.DisplayObject)if("preferredWidth"in e)this.measuredWidth=e.preferredWidth,this.measuredHeight=e.preferredHeight;else{var n=e.explicitWidth,s=e.explicitHeight;e.width=0/0,e.height=0/0,this.measuredWidth=e.measuredWidth*e.scaleX,this.measuredHeight=e.measuredHeight*e.scaleY,e.width=n,e.height=s}else this._contentIsTexture&&(this.measuredWidth=e.$getTextureWidth(),this.measuredHeight=e.$getTextureHeight())},p.updateDisplayList=function(e,n){i.prototype.updateDisplayList.call(this,e,n);var s=this._content;this.autoScale&&s instanceof t.DisplayObject&&("setLayoutBoundsSize"in s?s.setLayoutBoundsSize(e,n):(s.width=e/s.scaleX,s.height=n/s.scaleY)),this.$invalidateContentBounds()},p.$render=function(e){if(this._contentIsTexture){var n=this._content;e.imageSmoothingEnabled=!1;var s,a;this.autoScale?(s=this._UIC_Props_._uiWidth,a=this._UIC_Props_._uiHeight):(s=n.$getTextureWidth(),a=n.$getTextureHeight()),t.Bitmap.$drawImage(e,n._bitmapData,n._bitmapX,n._bitmapY,n._bitmapWidth,n._bitmapHeight,n._offsetX,n._offsetY,n.$getTextureWidth(),n.$getTextureHeight(),s,a,this.scale9Grid||n.scale9Grid,this.fillMode,!0)}i.prototype.$render.call(this,e)},p.$measureContentBounds=function(t){if(this._contentIsTexture){var e=this._content,n=0/0,s=0/0;this.autoScale&&(n=1e4==this._UIC_Props_._uiWidth?this.$getExplicitWidth():this._UIC_Props_._uiWidth,s=1e4==this._UIC_Props_._uiHeight?this.$getExplicitHeight():this._UIC_Props_._uiHeight),isNaN(n)&&(n=e.$getTextureWidth()),isNaN(s)&&(s=e.$getTextureHeight()),t.setTo(0,0,n,s)}else i.prototype.$measureContentBounds.call(this,t)},p.addChild=function(){return t.$error(3004,t.sys.tr(3003)),null},p.addChildAt=function(){return t.$error(3005,t.sys.tr(3003)),null},p.removeChild=function(){return t.$error(3006,t.sys.tr(3003)),null},p.removeChildAt=function(){return t.$error(3007,t.sys.tr(3003)),null},p.setChildIndex=function(){t.$error(3008,t.sys.tr(3003))},p.swapChildren=function(){t.$error(3009,t.sys.tr(3003))},p.swapChildrenAt=function(){t.$error(3010,t.sys.tr(3003))},n.assetAdapter=null,n}(e.UIComponent);e.UIAsset=i,t.registerClass(i,"egret.gui.UIAsset")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this)}__extends(i,e);var n=i;return p=n.prototype,p.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?(n-e)/n*i:0)},p.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.thumb.layoutBoundsHeight,i=this.track.layoutBoundsHeight-e,n=this.maximum-this.minimum,s=n>0?i-(this.pendingValue-this.minimum)/n*i:0,a=this.track.localToGlobal(0,s),r=a.x,o=a.y,h=this.thumb.parent.globalToLocal(r,o,t.$TempPoint).y;if(this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(h)),this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.$parent){var l=this.trackHighlight.$parent.globalToLocal(r,o,t.$TempPoint).y;this.trackHighlight.y=Math.round(l+e),this.trackHighlight.height=Math.round(i-l)}}},i}(e.SliderBase);e.VSlider=i,t.registerClass(i,"egret.gui.VSlider")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._thumbLengthRatio=1}__extends(i,e);var n=__define,s=i;return p=s.prototype,p._setViewportMetric=function(t,e){var i=Math.max(0,e-t);this._thumbLengthRatio=t>=e?1:t/e,this._setMaximun(i),this._setMinimun(0)},n(p,"trackAlpha",function(){return 1},function(){t.$warn(1016,"VScrollBar.trackAlpha")}),n(p,"thumbAlpha",function(){return 1},function(){t.$warn(1016,"VScrollBar.thumbAlpha")}),p.setPosition=function(t){this._setValue(t)},p.getPosition=function(){return this._getValue()},p._setValue=function(t){t=Math.max(0,t),e.prototype._setValue.call(this,t)},p.setValue=function(t){e.prototype.setValue.call(this,t)},p._animationUpdateHandler=function(e){this.pendingValue=e.currentValue.value,this.value=e.currentValue.value,this.dispatchEventWith(t.Event.CHANGE)},p.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.maximum-this.minimum,n=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=n?e/n*i:0)},p.updateSkinDisplayList=function(){if(this.thumb&&this.track){var e=this.track.layoutBoundsHeight*this._thumbLengthRatio,i=this.thumb.layoutBoundsHeight,n=this.track.layoutBoundsHeight-e,s=this.maximum-this.minimum,a=s>0?(this.pendingValue-this.minimum)/s*n:0,r=this.track.localToGlobal(0,a),o=r.x,h=r.y,l=this.thumb.parent.globalToLocal(o,h,t.$TempPoint).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(l)),e!=i&&this.thumb.setLayoutBoundsSize(this.thumb.layoutBoundsWidth,e)}},i}(e.VSlider);e.VScrollBar=i,t.registerClass(i,"egret.gui.VScrollBar")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._createAllChildren=!1,this._selectedChild=null,this.proposedSelectedIndex=n.NO_PROPOSED_SELECTION,this._selectedIndex=-1,this.notifyTabBar=!1,this.childOrderingChanged=!1,this._setLayout(new e.BasicLayout)}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"layout",function(){return this._layout},function(){}),s(p,"createAllChildren",function(){return this._createAllChildren},function(e){if(this._createAllChildren!=e&&(this._createAllChildren=e,this._createAllChildren)){for(var i=this._getElementsContent(),n=i.length,s=0;n>s;s++){var a=i[s];a instanceof t.DisplayObject&&a.parent!=this&&(this.childOrderingChanged=!0,this._addToDisplayList(a))}this.childOrderingChanged&&this.invalidateProperties()}}),s(p,"selectedChild",function(){var t=this.selectedIndex;return t>=0&&t<this.numElements?this.getElementAt(t):null},function(t){var e=this.getElementIndex(t);e>=0&&e<this.numElements&&this._setSelectedIndex(e)}),s(p,"selectedIndex",function(){return this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},function(t){this._setSelectedIndex(t)}),p._setSelectedIndex=function(t,i){void 0===i&&(i=!0),t!=this.selectedIndex&&(this.proposedSelectedIndex=t,this.invalidateProperties(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.notifyTabBar=this.notifyTabBar||i)},p._elementAdded=function(i,n,s){if(void 0===s&&(s=!0),this._createAllChildren&&i instanceof t.DisplayObject){var a=i;this._addToDisplayListAt(a,n,s)}s&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,i,n),i.visible=!1,i.includeInLayout=!1,-1==this.selectedIndex?this._setSelectedIndex(n,!1):n<=this.selectedIndex&&this.initialized&&this._setSelectedIndex(this.selectedIndex+1),this.dispatchCoEvent(e.CollectionEventKind.ADD,n,-1,[i.name])},p._elementRemoved=function(t,n,s){void 0===s&&(s=!0),i.prototype._elementRemoved.call(this,t,n,s),t.visible=!0,t.includeInLayout=!0,n==this.selectedIndex?this.numElements>0?0==n?(this.proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this._setSelectedIndex(-1):n<this.selectedIndex&&this._setSelectedIndex(this.selectedIndex-1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,n,-1,[t.name])},p.commitProperties=function(){if(i.prototype.commitProperties.call(this),this.proposedSelectedIndex!=n.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=n.NO_PROPOSED_SELECTION),this.childOrderingChanged){this.childOrderingChanged=!1;for(var e=this._getElementsContent(),s=e.length,a=0;s>a;a++){var r=e[a];r instanceof t.DisplayObject&&r.parent==this&&this._addToDisplayList(r)}}this.notifyTabBar&&(this.notifyTabBar=!0,this.dispatchEventWith("IndexChanged"))},p.commitSelection=function(e){this._selectedIndex;e>=0&&e<this.numElements?(this._selectedIndex=e,this._selectedChild&&this._selectedChild.parent==this&&(this._selectedChild.visible=!1,this._selectedChild.includeInLayout=!1),this._selectedChild=this.getElementAt(this._selectedIndex),this._selectedChild.visible=!0,this._selectedChild.includeInLayout=!0,this._selectedChild.parent!=this&&this._selectedChild instanceof t.DisplayObject&&(this._addToDisplayList(this._selectedChild),this.childOrderingChanged||(this.childOrderingChanged=!0))):(this._selectedChild=null,this._selectedIndex=-1),this.invalidateSize(),this.invalidateDisplayList()},s(p,"length",function(){return this.numElements}),p.getItemAt=function(t){var e=this.getElementAt(t);return e?e.name:""},p.getItemIndex=function(t){for(var e=this._getElementsContent(),i=e.length,n=0;i>n;n++)if(e[n].name===t)return n;return-1},p.dispatchCoEvent=function(t,i,n,s,a){void 0===t&&(t=null),void 0===i&&(i=-1),void 0===n&&(n=-1),void 0===s&&(s=null),void 0===a&&(a=null),e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,t,i,n,s,a)},n.NO_PROPOSED_SELECTION=-2,n}(e.Group);e.ViewStack=i,t.registerClass(i,"egret.gui.ViewStack",["egret.gui.IViewStack","egret.gui.ICollection","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e,i,n){for(var l=[],u=3;u<arguments.length;u++)l[u-3]=arguments[u];var d={listener:e,thisObject:i,delay:n,params:l};return o++,1==o&&t.sys.$ticker&&(h=t.getTimer(),t.sys.$ticker.$startTick(s,null)),r++,a[r]=d,r}function n(e){a[e]&&(o--,delete a[e],0==o&&t.sys.$ticker&&t.sys.$ticker.$stopTick(s,null))}function s(e){var i=e-h;h=e;for(var n in a){var s=a[n];s.delay-=i,s.delay<=0&&(s.listener.apply(s.thisObject,s.params),t.clearTimeout(n))}return!1}var a={},r=0,o=0,h=0;e.$addTimer=i,e.$clearTimer=n}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){t.$error(1014)}var i=e;return p=i.prototype,e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.quintOut=e.getPowOut(5),e.quartOut=e.getPowOut(4),e}();e.ScrollerEase=i,t.registerClass(i,"egret.gui.ScrollerEase");var n=function(e){function i(t,i,n){e.call(this),this._target=null,this._useTicks=!1,this.ignoreGlobalPause=!1,this.loop=!1,this.pluginData=null,this._steps=null,this._actions=null,this.paused=!1,this.duration=0,this._prevPos=-1,this.position=null,this._prevPosition=0,this._stepPosition=0,this.passive=!1,this.initialize(t,i,n)}__extends(i,e);var n=i;return p=n.prototype,i.get=function(t,e,n,s){return void 0===e&&(e=null),void 0===n&&(n=null),void 0===s&&(s=!1),s&&i.removeTweens(t),new i(t,e,n)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,n=e.length-1;n>=0;n--)e[n]._target==t&&(e[n].paused=!0,e.splice(n,1));t.tween_count=0}},i.tick=function(t,e){void 0===e&&(e=!1);var n=t-i._lastTime;i._lastTime=t;for(var s=i._tweens.concat(),a=s.length-1;a>=0;a--){var r=s[a];e&&!r.ignoreGlobalPause||r.paused||r.tick(r._useTicks?1:n)}return!1},i._register=function(e,n){var s=e._target,a=i._tweens;if(n)s&&(s.tween_count=s.tween_count>0?s.tween_count+1:1),a.push(e),i._inited||(i._lastTime=t.getTimer(),t.sys.$ticker.$startTick(i.tick,null),i._inited=!0);else{s&&s.tween_count--;for(var r=a.length;r--;)if(a[r]==e)return void a.splice(r,1)}},p.initialize=function(t,e,n){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position)},p.setPosition=function(t){0>t&&(t=0);var e=t,i=!1;if(e>=this.duration&&(this.loop?e%=this.duration:(e=this.duration,i=!0)),e==this._prevPos)return i;if(this.position=this._prevPos=e,this._prevPosition=t,this._target)if(i)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var n=0,s=this._steps.length;s>n&&!(this._steps[n].t>e);n++);var a=this._steps[n-1];this._updateTargetProps(a,(this._stepPosition=e-a.t)/a.d)}return i&&this.setPaused(!0),this.dispatchEventWith("change"),i},p._runActions=function(t,e,i){void 0===i&&(i=!1);var n=t,s=e,a=-1,r=this._actions.length,o=1;for(t>e&&(n=e,s=t,a=r,r=o=-1);(a+=o)!=r;){var h=this._actions[a],l=h.t;(l==s||l>n&&s>l||i&&l==t)&&h.f.apply(h.o,h.p)}},p._updateTargetProps=function(t,e){var n,s,a,r,o,h;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),n=t.p0,s=t.p1}else this.passive=!1,n=s=this._curQueueProps;for(var l in this._initQueueProps){null==(r=n[l])&&(n[l]=r=this._initQueueProps[l]),null==(o=s[l])&&(s[l]=o=r),a=r==o||0==e||1==e||"number"!=typeof r?1==e?o:r:r+(o-r)*e;var u=!1;if(h=i._plugins[l])for(var d=0,p=h.length;p>d;d++){var c=h[d].tween(this,l,a,n,s,e,!!t&&n==s,!t);c==i.IGNORE?u=!0:a=c}u||(this._target[l]=a)}},p.setPaused=function(t){return this.paused=t,i._register(this,!t),this},p._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},p._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},p._appendQueueProps=function(e){var n,s,a,r,o;for(var h in e)if(t.sys.isUndefined(this._initQueueProps[h])){if(s=this._target[h],n=i._plugins[h])for(a=0,r=n.length;r>a;a++)s=n[a].init(this,h,s);this._initQueueProps[h]=this._curQueueProps[h]=void 0===s?null:s}else s=this._curQueueProps[h];for(var h in e){if(s=this._curQueueProps[h],n=i._plugins[h])for(o=o||{},a=0,r=n.length;r>a;a++)n[a].step&&n[a].step(this,h,s,e[h],o);this._curQueueProps[h]=e[h]}return o&&this._appendQueueProps(o),this._curQueueProps},p._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},p.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},p.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},p.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);e.ScrollerTween=n,t.registerClass(n,"egret.gui.ScrollerTween")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}var i=e;return p=i.prototype,e}();e.ScrollerViewProperties=i,t.registerClass(i,"egret.gui.ScrollerViewProperties")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=e;return p=i.prototype,p.getAsset=function(e,i,n){var s=e;if(e.prototype&&(s=new e),s instanceof t.DisplayObject||s instanceof t.Texture)i.call(n,s,e);else if("string"==typeof e){var a=e,r=new t.ImageLoader;r.addEventListener(t.Event.COMPLETE,function(){s=new t.Texture,s._setBitmapData(r.data),i.call(n,s,e)},this),r.load(a)}else i.call(n,s,e)},e}();e.DefaultAssetAdapter=i,t.registerClass(i,"egret.gui.DefaultAssetAdapter",["egret.gui.IAssetAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=e;return p=i.prototype,p.getSkin=function(e){if(!e)return null;if(e.prototype)return new e;if("string"==typeof e){var i=t.getDefinitionByName(e);return i?new i:null}return e},e}();e.DefaultSkinAdapter=i,t.registerClass(i,"egret.gui.DefaultSkinAdapter",["egret.gui.ISkinAdapter"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.mouseIsDown=!1,this._openButton=null,this._dropDown=null,this._isOpen=!1,this._closeOnResize=!0,this._rollOverOpenDelay=0/0,this.rollOverOpenDelayTimer=null}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"openButton",function(){return this._openButton},function(t){this._openButton!==t&&(this.removeOpenTriggers(),this._openButton=t,this.addOpenTriggers())}),s(p,"dropDown",function(){return this._dropDown},function(t){this._dropDown!==t&&(this._dropDown=t)}),s(p,"isOpen",function(){return this._isOpen}),s(p,"closeOnResize",function(){return this._closeOnResize},function(t){this._closeOnResize!=t&&(this.isOpen&&this.removeCloseOnResizeTrigger(),this._closeOnResize=t,this.addCloseOnResizeTrigger())}),s(p,"rollOverOpenDelay",function(){return this._rollOverOpenDelay},function(t){this._rollOverOpenDelay!=t&&(this.removeOpenTriggers(),this._rollOverOpenDelay=t,this.addOpenTriggers())}),p.addOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.addEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},p.removeOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.removeEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))},p.addCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),this.addCloseOnResizeTrigger())},p.removeCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)),this.removeCloseOnResizeTrigger())},p.addCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.addEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},p.removeCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.removeEventListener(t.Event.RESIZE,this.stage_resizeHandler,this)},p.isTargetOverDropDownOrOpenButton=function(e){if(e){if(this.openButton&&this.openButton.contains(e))return!0;if(null!=this.hitAreaAdditions)for(var i=0;i<this.hitAreaAdditions.length;i++)if(this.hitAreaAdditions[i]==e||this.hitAreaAdditions[i]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[i].contains(e))return!0;if(this.dropDown instanceof t.DisplayObjectContainer){if(this.dropDown.contains(e))return!0}else if(e==this.dropDown)return!0}return!1},p.openDropDown=function(){this.openDropDownHelper()},p.openDropDownHelper=function(){this.isOpen||(this.addCloseTriggers(),this._isOpen=!0,this.openButton&&this.openButton._setKeepDown(!0),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN))},p.closeDropDown=function(t){if(this.isOpen){this._isOpen=!1,this.openButton&&this.openButton._setKeepDown(!1);var i=new e.UIEvent(e.UIEvent.CLOSE,!1,!0);t||i.preventDefault(),this.dispatchEvent(i),this.removeCloseTriggers()}},p._openButton_buttonDownHandler=function(){this.isOpen?this.closeDropDown(!0):(this.mouseIsDown=!0,this.openDropDownHelper())},p._openButton_rollOverHandler=function(){0==this.rollOverOpenDelay?this.openDropDownHelper():(this.openButton.addEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=new t.Timer(this.rollOverOpenDelay,1),this.rollOverOpenDelayTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this.rollOverDelay_timerCompleteHandler,this),this.rollOverOpenDelayTimer.start())},p.openButton_rollOutHandler=function(){this.rollOverOpenDelayTimer&&this.rollOverOpenDelayTimer.running&&(this.rollOverOpenDelayTimer.stop(),this.rollOverOpenDelayTimer=null),this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this)},p.rollOverDelay_timerCompleteHandler=function(){this.openButton.removeEventListener(t.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=null,this.openDropDownHelper()},p.stage_mouseDownHandler=function(e){if(this.mouseIsDown)return void(this.mouseIsDown=!1);if(!this.dropDown||this.dropDown&&(e.target==this.dropDown||this.dropDown instanceof t.DisplayObjectContainer&&!this.dropDown.contains(e.target))){var i=e.target;if(this.openButton&&i&&this.openButton.contains(i))return;if(null!=this.hitAreaAdditions)for(var n=0;n<this.hitAreaAdditions.length;n++)if(this.hitAreaAdditions[n]==e.target||this.hitAreaAdditions[n]instanceof t.DisplayObjectContainer&&this.hitAreaAdditions[n].contains(e.target))return;this.closeDropDown(!0)}},p.stage_mouseMoveHandler=function(i){var n=i.target,s=this.isTargetOverDropDownOrOpenButton(n);return s?void 0:i instanceof t.TouchEvent&&i.touchDown?(e.UIGlobals.stage.addEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.addEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},p.stage_mouseUpHandler_noRollOverOpenDelay=function(){return this.mouseIsDown?void(this.mouseIsDown=!1):void 0},p.stage_mouseUpHandler=function(i){var n=i.target,s=this.isTargetOverDropDownOrOpenButton(n);return s?(e.UIGlobals.stage.removeEventListener(t.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),void e.UIGlobals.stage.removeEventListener(t.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):void this.closeDropDown(!0)},p.stage_resizeHandler=function(){this.closeDropDown(!0)},p.stage_mouseWheelHandler=function(t){!this.dropDown||this.dropDown.contains(t.target)&&t.isDefaultPrevented()||this.closeDropDown(!1)},n}(t.EventDispatcher);e.DropDownController=i,t.registerClass(i,"egret.gui.DropDownController")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._target=null}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"target",function(){return this._target},function(t){this._target=t}),p.measure=function(){if(null!=this.target){for(var t=0,e=0,i=this._target,n=i.numElements,s=0;n>s;s++){var a=i.getElementAt(s);if(a&&a.includeInLayout){var r,o,h=a.horizontalCenter,l=a.verticalCenter,u=a.left,d=a.right,p=a.top,c=a.bottom;isNaN(u)||isNaN(d)?isNaN(h)?isNaN(u)&&isNaN(d)?r=a.preferredX:(r=isNaN(u)?0:u,r+=isNaN(d)?0:d):r=2*Math.abs(h):r=u+d,isNaN(p)||isNaN(c)?isNaN(l)?isNaN(p)&&isNaN(c)?o=a.preferredY:(o=isNaN(p)?0:p,o+=isNaN(c)?0:c):o=2*Math.abs(l):o=p+c;var _=a.preferredWidth,g=a.preferredHeight;t=Math.ceil(Math.max(t,r+_)),e=Math.ceil(Math.max(e,o+g))}}this.target.measuredWidth=t,this.target.measuredHeight=e}},p.updateDisplayList=function(t,e){if(null!=this.target)for(var i=this.target.numElements,n=0;i>n;n++){var s=this.target.getElementAt(n);if(null!=s&&s.includeInLayout){var a=s.horizontalCenter,r=s.verticalCenter,o=s.left,h=s.right,l=s.top,u=s.bottom,d=s.percentWidth,p=s.percentHeight,c=0/0,_=0/0;isNaN(o)||isNaN(h)?isNaN(d)||(c=Math.round(t*Math.min(.01*d,1))):c=t-h-o,isNaN(l)||isNaN(u)?isNaN(p)||(_=Math.round(e*Math.min(.01*p,1))):_=e-u-l,s.setLayoutBoundsSize(c,_);var g=s.layoutBoundsWidth,v=s.layoutBoundsHeight,f=0/0,m=0/0;f=isNaN(a)?isNaN(o)?isNaN(h)?s.layoutBoundsX:t-g-h:o:Math.round((t-g)/2+a),m=isNaN(r)?isNaN(l)?isNaN(u)?s.layoutBoundsY:e-v-u:l:Math.round((e-v)/2+r),s.setLayoutBoundsPosition(f,m)}}},e}(t.HashObject);e.SkinBasicLayout=i,t.registerClass(i,"egret.gui.SkinBasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t){this.skinMap={},this.delyList=[],this.loadConfig(t)}var n=i;return p=n.prototype,i.load=function(t){this.initialized||(this.initialized=!0,e.SkinnableComponent._defaultTheme=new i(t))},p.loadConfig=function(e){this._configURL=e;var i=new t.HttpRequest;i.addEventListener(t.Event.COMPLETE,this.onLoadComplete,this),i.addEventListener(t.IOErrorEvent.IO_ERROR,this.onLoadError,this),i.responseType=t.HttpResponseType.TEXT,i.open(e),i.send()},p.onLoadComplete=function(e){var i=e.target;try{var n=i.response,s=JSON.parse(n);this.skinMap=s.skins}catch(a){t.$warn(1017,this._configURL,i.response)}this.handleDelyList()},p.onLoadError=function(e){e.target;t.$warn(3e3,this._configURL),this.handleDelyList()},p.handleDelyList=function(){if(!this.skinMap)return this.skinMap={},void(this.delyList=[]);var t=this.delyList;this.delyList=[];for(var e=t.length,i=0;e>i;i++){var n=t[i];if(!n._skin){var s=this.getDefaultSkin(n);n._setSkin(s)}}},p.getDefaultSkin=function(e){var i=this.skinMap;if(!i)return-1==this.delyList.indexOf(e)&&this.delyList.push(e),null;var n,s=e.hostComponentKey;if(s)n=i[s];else for(var a=e;a&&(s=t.getQualifiedClassName(a),!(n=i[s]));)a=t.getDefinitionByName(t.getQualifiedSuperclassName(a));if(!n)return null;var r=t.getDefinitionByName(n);return r?new r:(t.$warn(3001,n),null)},i.initialized=!1,i}();e.Theme=i,t.registerClass(i,"egret.gui.Theme")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.DOWN=40,t.END=35,t.HOME=36,t.LEFT=37,t.PAGE_DOWN=34,t.PAGE_LEFT=9111,t.PAGE_RIGHT=9112,t.PAGE_UP=33,t.RIGHT=39,t.UP=38,t}();e.NavigationUnit=i,t.registerClass(i,"egret.gui.NavigationUnit")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.ABOVE="above",t.BELOW="below",t.CENTER="center",t.TOP_LEFT="topLeft",t.LEFT="left",t.RIGHT="right",t.SCREEN_CENTER="screenCenter",t}();e.PopUpPosition=i,t.registerClass(i,"egret.gui.PopUpPosition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.AUTO="auto",t.OFF="off",t.ON="on",t}();e.ScrollPolicy=i,t.registerClass(i,"egret.gui.ScrollPolicy")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e,i){this.owner=null,this.lowerBoundReference=null,this.upperBoundReference=null,this.raw_getElementAt="raw_getElementAt",this.raw_addElementAt="raw_addElementAt",this.raw_getElementIndex="raw_getElementIndex",this.raw_removeElement="raw_removeElement",this.raw_removeElementAt="raw_removeElementAt",this.raw_setElementIndex="raw_setElementIndex",this.owner=t,this.lowerBoundReference=e,this.upperBoundReference=i}var e=__define,i=t;return p=i.prototype,e(p,"numElements",function(){return this.owner[this.upperBoundReference]-this.owner[this.lowerBoundReference]}),p.getElementAt=function(t){var e=this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+t);return e},p.addElement=function(t){var e=this.owner[this.upperBoundReference];return t.parent===this.owner&&e--,this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,e),t.ownerChanged(this),t},p.addElementAt=function(t,e){return this.owner[this.upperBoundReference]++,this.owner[this.raw_addElementAt](t,this.owner[this.lowerBoundReference]+e),t.ownerChanged(this),t},p.removeElement=function(t){var e=this.owner[this.raw_getElementIndex](t);return this.owner[this.lowerBoundReference]<=e&&e<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](t),this.owner[this.upperBoundReference]--),t.ownerChanged(null),t},p.removeElementAt=function(t){t+=this.owner[this.lowerBoundReference];var e;return this.owner[this.lowerBoundReference]<=t&&t<this.owner[this.upperBoundReference]&&(e=this.owner[this.raw_removeElementAt](t),this.owner[this.upperBoundReference]--),e.ownerChanged(null),e},p.getElementIndex=function(t){var e=this.owner[this.raw_getElementIndex](t);return e-=this.owner[this.lowerBoundReference]},p.setElementIndex=function(t,e){this.owner[this.raw_setElementIndex](t,this.owner[this.lowerBoundReference]+e)},t}();e.UILayer=i,t.registerClass(i,"egret.gui.UILayer",["egret.gui.IContainer"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this._autoResize=!0,this._popUpContainer=null,this._toolTipContainer=null,this._cursorContainer=null,this._noTopMostIndex=0,this._topMostIndex=0,this._toolTipIndex=0,this._cursorIndex=0,this.touchEnabled=!1,this.addEventListener(t.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(t.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(n,i);var s=__define,a=n;return p=a.prototype,p.onAddToStage=function(i){void 0===i&&(i=null),e.UIGlobals._uiStage&&t.$error(3013),e.UIGlobals._uiStage=this,this._autoResize&&(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize())},p.onRemoveFromStage=function(){e.UIGlobals._uiStage=null,this._autoResize&&this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)},p.onResize=function(t){void 0===t&&(t=null),this.$setWidth(this.stage.stageWidth),this.$setHeight(this.stage.stageHeight)},s(p,"autoResize",function(){return this._autoResize},function(e){this._autoResize!=e&&(this._autoResize=e,this.stage&&(this._autoResize?(this.stage.addEventListener(t.Event.RESIZE,this.onResize,this),this.onResize()):this.stage.removeEventListener(t.Event.RESIZE,this.onResize,this)))}),s(p,"x",function(){return this.$getX()},function(t){this._autoResize||this.$setX(t)}),s(p,"y",function(){return this.$getY()},function(t){this._autoResize||this.$setY(t)}),s(p,"width",function(){return this._UIC_Props_._uiWidth},function(t){this._autoResize||this.$setWidth(t)}),s(p,"height",function(){return this._UIC_Props_._uiHeight},function(t){this._autoResize||this.$setHeight(t)}),s(p,"scaleX",function(){return this.$getScaleX()},function(t){this._autoResize||this.$setScaleX(t)}),s(p,"scaleY",function(){return this.$getScaleY()},function(t){this._autoResize||this.$setScaleY(t)}),p.setActualSize=function(t,e){this._autoResize||i.prototype.setActualSize.call(this,t,e)},p.setLayoutBoundsPosition=function(t,e){this._autoResize||i.prototype.setLayoutBoundsPosition.call(this,t,e)},p.setLayoutBoundsSize=function(t,e){this._autoResize||i.prototype.setLayoutBoundsSize.call(this,t,e)},s(p,"layout",function(){return this._layout},function(t){t instanceof e.BasicLayout&&this._setLayout(t)}),s(p,"popUpContainer",function(){return this._popUpContainer||(this._popUpContainer=new e.UILayer(this,"noTopMostIndex","topMostIndex")),this._popUpContainer}),s(p,"toolTipContainer",function(){return this._toolTipContainer||(this._toolTipContainer=new e.UILayer(this,"topMostIndex","toolTipIndex")),this._toolTipContainer}),s(p,"cursorContainer",function(){return this._cursorContainer||(this._cursorContainer=new e.UILayer(this,"toolTipIndex","cursorIndex")),this._cursorContainer}),s(p,"noTopMostIndex",function(){return this._noTopMostIndex},function(t){var e=t-this._noTopMostIndex;this._noTopMostIndex=t,this.topMostIndex+=e
}),s(p,"topMostIndex",function(){return this._topMostIndex},function(t){var e=t-this._topMostIndex;this._topMostIndex=t,this.toolTipIndex+=e}),s(p,"toolTipIndex",function(){return this._toolTipIndex},function(t){var e=t-this._toolTipIndex;this._toolTipIndex=t,this.cursorIndex+=e}),s(p,"cursorIndex",function(){return this._cursorIndex},function(t){t-this._cursorIndex;this._cursorIndex=t}),p.addElement=function(t){var e=this._noTopMostIndex;return t.parent==this&&e--,this.addElementAt(t,e)},p.addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return e<=this._noTopMostIndex?this.noTopMostIndex++:e>this._noTopMostIndex&&e<=this._topMostIndex?this.topMostIndex++:e>this._topMostIndex&&e<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++,i.prototype.addElementAt.call(this,t,e)},p.removeElement=function(t){return this.removeElementAt(i.prototype.getElementIndex.call(this,t))},p.removeElementAt=function(t){var e=i.prototype.removeElementAt.call(this,t);return t<this._noTopMostIndex?this.noTopMostIndex--:t>=this._noTopMostIndex&&t<this._topMostIndex?this.topMostIndex--:t>=this._topMostIndex&&t<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--,e},p.removeAllElements=function(){for(;this._noTopMostIndex>0;)i.prototype.removeElementAt.call(this,0),this.noTopMostIndex--},p._elementRemoved=function(e,n,s){void 0===s&&(s=!0),s&&t.Event.dispatchEvent(e,"removeFromUIStage"),i.prototype._elementRemoved.call(this,e,n,s)},p.raw_getElementAt=function(t){return i.prototype.getElementAt.call(this,t)},p.raw_addElement=function(t){var e=this.numElements;return t.parent==this&&e--,this.raw_addElementAt(t,e)},p.raw_addElementAt=function(t,e){if(t.parent==this){var n=this.getElementIndex(t);n<this._noTopMostIndex?this.noTopMostIndex--:n>=this._noTopMostIndex&&n<this._topMostIndex?this.topMostIndex--:n>=this._topMostIndex&&n<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return i.prototype.addElementAt.call(this,t,e)},p.raw_removeElement=function(t){return i.prototype.removeElementAt.call(this,i.prototype.getElementIndex.call(this,t))},p.raw_removeElementAt=function(t){return i.prototype.removeElementAt.call(this,t)},p.raw_removeAllElements=function(){for(;this.numElements>0;)i.prototype.removeElementAt.call(this,0)},p.raw_getElementIndex=function(t){return i.prototype.getElementIndex.call(this,t)},p.raw_setElementIndex=function(t,e){i.prototype.setElementIndex.call(this,t,e)},p.raw_swapElements=function(t,e){i.prototype.swapElementsAt.call(this,i.prototype.getElementIndex.call(this,t),i.prototype.getElementIndex.call(this,e))},p.raw_swapElementsAt=function(t,e){i.prototype.swapElementsAt.call(this,t,e)},n}(e.Group);e.UIStage=i,t.registerClass(i,"egret.gui.UIStage",["egret.gui.IUIStage","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){void 0===e&&(e=null),t.call(this),this._instances=[],this._isPaused=!1,this._duration=500,this.durationExplicitlySet=!1,this._perElementOffset=0,this.repeatCount=1,this.repeatDelay=0,this.startDelay=0,this._targets=[],this._playheadTime=0,this.target=e}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"duration",function(){return!this.durationExplicitlySet&&this._parentCompositeEffect?this._parentCompositeEffect.duration:this._duration},function(t){this.durationExplicitlySet=!0,this._duration=t}),n(p,"isPlaying",function(){return this._instances&&this._instances.length>0}),n(p,"isPaused",function(){return this.isPlaying?this._isPaused:!1}),n(p,"perElementOffset",function(){return this._perElementOffset},function(t){this._perElementOffset=t}),n(p,"target",function(){return this._targets.length>0?this._targets[0]:null},function(t){this._targets.splice(0),t&&(this._targets[0]=t)}),n(p,"targets",function(){return this._targets},function(t){for(var e=t.length,i=e-1;i>=0;i--)null==t[i]&&t.splice(i,1);this._targets=t}),n(p,"playheadTime",function(){for(var t=0;t<this._instances.length;t++)if(this._instances[t])return this._instances[t].playheadTime;return this._playheadTime},function(t){var e=!1;0==this._instances.length&&(this.play(),e=!0);for(var i=0;i<this._instances.length;i++)this._instances[i]&&(this._instances[i].playheadTime=t);e&&this.pause(),this._playheadTime=t}),p.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets);for(var e=[],i=0,n=t.length,s=0;n>s;s++){var a=t[s],r=this.createInstance(a);r&&(r.startDelay+=i,i+=this.perElementOffset,e.push(r))}return e},p.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var i=new this.instanceClass(t);return this._initInstance(i),i.addEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),i.addEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),i.addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),this._instances.push(i),i},p._initInstance=function(t){t.duration=this.duration,t.durationExplicitlySet=this.durationExplicitlySet,t.effect=this,t.repeatCount=this.repeatCount,t.repeatDelay=this.repeatDelay,t.startDelay=this.startDelay},p.deleteInstance=function(t){t.removeEventListener(e.EffectEvent.EFFECT_START,this._effectStartHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_STOP,this._effectStopHandler,this),t.removeEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this);for(var i=this._instances.length,n=0;i>n;n++)this._instances[n]===t&&this._instances.splice(n,1)},p.play=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1),this.effectStopped=!1,this._isPaused=!1,this.playReversed=e;for(var i=this.createInstances(t),n=i.length,s=0;n>s;s++){var a=i[s];a.playReversed=e,a.startEffect()}return i},p.pause=function(){if(this.isPlaying&&!this._isPaused){this._isPaused=!0;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].pause()}},p.stop=function(){for(var t=this._instances.length-1,e=t;e>=0;e--){var i=this._instances[e];i&&i.stop()}},p.resume=function(){if(this.isPlaying&&this._isPaused){this._isPaused=!1;for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].resume()}},p.reverse=function(){if(this.isPlaying)for(var t=this._instances.length,e=0;t>e;e++)this._instances[e].reverse()},p.end=function(t){if(void 0===t&&(t=null),t)t.end();else for(var e=this._instances.length,i=e-1;i>=0;i--){var n=this._instances[i];n&&n.end()}},p._effectStartHandler=function(t){this.dispatchEvent(t)},p._effectStopHandler=function(t){this.dispatchEvent(t),this.effectStopped=!0},p._effectEndHandler=function(t){var e=t.effectInstance;this.deleteInstance(e),this.dispatchEvent(t)},i}(t.EventDispatcher);e.Effect=i,t.registerClass(i,"egret.gui.Effect",["egret.gui.IEffect","egret.IEventDispatcher"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.numUpdateListeners=0,this._interpolator=null,this._repeatBehavior=e.RepeatBehavior.LOOP,this._disableLayout=!1,this.instanceClass=e.AnimateInstance}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"motionPaths",function(){return this._motionPaths},function(t){this._motionPaths=t}),n(p,"easer",function(){return this._easer},function(t){this._easer=t}),n(p,"interpolator",function(){return this._interpolator},function(t){this._interpolator=t}),n(p,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),n(p,"disableLayout",function(){return this._disableLayout},function(t){this._disableLayout=t}),p._initInstance=function(i){t.prototype._initInstance.call(this,i);var n=i;if(n.addEventListener(e.EffectEvent.EFFECT_REPEAT,this.animationEventHandler,this),this.numUpdateListeners>0&&n.addEventListener(e.EffectEvent.EFFECT_UPDATE,this.animationEventHandler,this),n.easer=this.easer,this.interpolator&&(n.interpolator=this.interpolator),isNaN(this.repeatCount)&&(n.repeatCount=this.repeatCount),n.repeatBehavior=this.repeatBehavior,n.disableLayout=this.disableLayout,this.motionPaths){n.motionPaths=new Array;for(var s=0;s<this.motionPaths.length;++s)n.motionPaths[s]=this.motionPaths[s].clone()}},p.addEventListener=function(i,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),t.prototype.addEventListener.call(this,i,n,s,a,r),i==e.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},p.removeEventListener=function(i,n,s){void 0===s&&(s=!1),t.prototype.removeEventListener.call(this,i,n,this,s),i==e.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},p.animationEventHandler=function(t){this.dispatchEvent(t)},i}(e.Effect);e.Animate=i,t.registerClass(i,"egret.gui.Animate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._easeInFraction=0,this._easeOutFraction=0,this.easeInFraction=t,this.easeOutFraction=e}var e=__define,i=t;return p=i.prototype,e(p,"easeInFraction",function(){return this._easeInFraction},function(t){this._easeInFraction=t}),e(p,"easeOutFraction",function(){return this._easeOutFraction},function(t){this._easeOutFraction=t}),p.ease=function(t){if(0==this.easeInFraction&&0==this.easeOutFraction)return t;var e=1/(1-this.easeInFraction/2-this.easeOutFraction/2);if(t<this.easeInFraction)return t*e*(t/this.easeInFraction)/2;if(t>1-this.easeOutFraction){var i=t-(1-this.easeOutFraction),n=i/this.easeOutFraction;return e*(1-this.easeInFraction/2-this.easeOutFraction+i*(2-n)/2)}return e*(t-this.easeInFraction/2)},t}();e.Linear=i,t.registerClass(i,"egret.gui.Linear",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){void 0===t&&(t=null),i.call(this,t),this.autoCenterTransform=!1,this.instanceClass=e.AnimateTransformInstance}__extends(n,i);var s=n;return p=s.prototype,p.getOwningParallelEffect=function(){for(var t=null,i=this._parentCompositeEffect;i&&!(i instanceof e.Sequence);)t=i,i=i._parentCompositeEffect;return t},p.createInstance=function(t){void 0===t&&(t=null),t||(t=this.target);var e=null,s=this.getOwningParallelEffect();if(null!=s&&(e=n.getSharedInstance(s,t)),e)return this._initInstance(e),null;var a=i.prototype.createInstance.call(this,t);return s&&n.storeSharedInstance(s,t,a),a},p._effectStartHandler=function(t){i.prototype._effectStartHandler.call(this,t);var e=this.getOwningParallelEffect();null!=e&&n.removeSharedInstance(e,t.effectInstance.target)},p.computeTransformCenterForTarget=function(e,i){void 0===i&&(i=null);var n;if(this.autoCenterTransform){var s=null!=i&&void 0!==i.width?i.width:e.width,a=null!=i&&void 0!==i.height?i.height:e.height;n=new t.Point(s/2,a/2)}else n=new t.Point(0,0),isNaN(this.transformX)||(n.x=this.transformX),isNaN(this.transformY)||(n.y=this.transformY);return n},p.insertKeyframe=function(t,e){for(var i=0;i<t.length;i++)if(t[i].time>e.time)return void t.splice(i,0,e);t.push(e)},p._addMotionPath=function(t,i,n,s){void 0===i&&(i=0/0),void 0===n&&(n=0/0),void 0===s&&(s=0/0),isNaN(i)&&(isNaN(n)||isNaN(s)||(i=n-s));var a=new e.MotionPath(t);if(a.keyframes=[new e.Keyframe(0,i),new e.Keyframe(this.duration,n,s)],a.keyframes[1].easer=this.easer,this.motionPaths)for(var r=this.motionPaths.length,o=0;r>o;o++){var h=this.motionPaths[o];if(h.property==a.property){for(var l=0;l<a.keyframes.length;l++)this.insertKeyframe(h.keyframes,a.keyframes[l]);return}}else this.motionPaths=new Array;this.motionPaths.push(a)},p._initInstance=function(e){var s=0,a=this.duration,r=e;if(this.motionPaths){var o=[];for(s=0;s<this.motionPaths.length;++s){o[s]=this.motionPaths[s].clone();var h=o[s];if(h.keyframes){for(var l=0;l<h.keyframes.length;++l){var u=h.keyframes[l];isNaN(u.time)&&(u.time=this.duration),0!=this.startDelay&&(u.time+=this.startDelay)}a=Math.max(a,h.keyframes[h.keyframes.length-1].time)}}var d=this.getGlobalStartTime();for(s=0;s<o.length;++s)r.addMotionPath(o[s],d)}if(!r.initialized){r.initialized=!0,this.autoCenterTransform||(r.transformCenter=this.computeTransformCenterForTarget(e.target)),r.autoCenterTransform=this.autoCenterTransform;var p=this.startDelay;this.startDelay=0;var c=this.motionPaths;this.motionPaths=null,i.prototype._initInstance.call(this,e),this.startDelay=p,this.motionPaths=c,r.duration=Math.max(this.duration,a),t.getQualifiedClassName(this)!=t.getQualifiedClassName(n)&&(r.easer=n.linearEaser)}},p.getGlobalStartTime=function(){for(var t=0,i=this._parentCompositeEffect;i;){if(t+=i.startDelay,i instanceof e.Sequence)for(var n=i,s=0;s<n.children.length;++s){var a=n.children[s];if(a==this)break;t+=a instanceof e.CompositeEffect?a.compositeDuration:a.startDelay+a.duration*a.repeatCount+(a.repeatDelay+(a.repeatCount-1))}i=i._parentCompositeEffect}return t},n.getSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(null!=i)return i[e.hashCode]}return null},n.removeSharedInstance=function(t,e){if(null!=t){var i=n.sharedObjectMaps[t.hashCode];if(!i)return;i[e.hashCode]&&(delete i[e.hashCode],n.sharedObjectRefcounts[t.hashCode]-=1,n.sharedObjectRefcounts[t.hashCode]<=0&&(delete n.sharedObjectMaps[t.hashCode],delete n.sharedObjectRefcounts[t.hashCode]))}},n.storeSharedInstance=function(t,e,i){if(null!=t){var s=n.sharedObjectMaps[t.hashCode];s||(s={},n.sharedObjectMaps[t.hashCode]=s),s[e.hashCode]||(n.sharedObjectRefcounts[t.hashCode]?n.sharedObjectRefcounts[t.hashCode]+=1:n.sharedObjectRefcounts[t.hashCode]=1),s[e.hashCode]=i}},n.linearEaser=new e.Linear,n.sharedObjectMaps={},n.sharedObjectRefcounts={},n}(e.Animate);e.AnimateTransform=i,t.registerClass(i,"egret.gui.AnimateTransform")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this._children=[],this.instanceClass=e.CompositeEffectInstance}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"children",function(){return this._children},function(t){var e=0;if(this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=null);if(this._children=t,this._children)for(e=0;e<this._children.length;++e)this._children[e]&&(this._children[e]._parentCompositeEffect=this)}),n(p,"compositeDuration",function(){return this.duration}),p.createInstance=function(e){void 0===e&&(e=null),this.childTargets||(this.childTargets=[e]);var i=t.prototype.createInstance.call(this,e);return this.childTargets=null,i},p.createInstances=function(t){void 0===t&&(t=null),t||(t=this.targets),this.childTargets=t;var e=this.createInstance();return this.childTargets=null,e?[e]:[]},p._initInstance=function(e){t.prototype._initInstance.call(this,e);var i=e,n=this.childTargets;if(n instanceof Array||(n=[n]),this.children)for(var s=this.children.length,a=0;s>a;a++){var r=this.children[a];i.addChildSet(0==r.targets.length?this.children[a].createInstances(n):this.children[a].createInstances(r.targets))}},p.addChild=function(t){this.children.push(t),t._parentCompositeEffect=this},i}(e.Effect);e.CompositeEffect=i,t.registerClass(i,"egret.gui.CompositeEffect")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this),this.delayStartTime=0,this.delayElapsedTime=0,this.durationExplicitlySet=!1,this._playCount=0,this._stopRepeat=!1,this._duration=500,this._repeatCount=0,this._repeatDelay=0,this._startDelay=0,this.target=t}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"_actualDuration",function(){var t=0/0;return this.repeatCount>0&&(t=this.duration*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t}),s(p,"duration",function(){return!this.durationExplicitlySet&&this.parentCompositeEffectInstance?this.parentCompositeEffectInstance.duration:this._duration},function(t){this.durationExplicitlySet=!0,this._duration=t}),s(p,"effect",function(){return this._effect},function(t){this._effect=t}),s(p,"playheadTime",function(){return Math.max(this._playCount-1,0)*(this.duration+this.repeatDelay)+(this.playReversed?0:this.startDelay)},function(t){this._setPlayheadTime(t)}),p._setPlayheadTime=function(e){this._delayTimer&&this._delayTimer.running&&(this._delayTimer.reset(),e<this.startDelay?(this._delayTimer=new t.Timer(this.startDelay-e,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):(this._playCount=0,this.play()))},s(p,"playReversed",function(){return this._playReversed},function(t){this._setPlayReversed(t)}),p._setPlayReversed=function(t){this._playReversed=t},s(p,"repeatCount",function(){return this._repeatCount},function(t){this._repeatCount=t}),s(p,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),s(p,"startDelay",function(){return this._startDelay},function(t){this._startDelay=t}),s(p,"target",function(){return this._target},function(t){this._target=t}),p.startEffect=function(){this.startDelay>0&&!this.playReversed?(this._delayTimer=new t.Timer(this.startDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play()},p.play=function(){this._playCount++,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_START,!1,!1,this))},p.pause=function(){this._delayTimer&&this._delayTimer.running&&!isNaN(this.delayStartTime)&&(this._delayTimer.stop(),this.delayElapsedTime=t.getTimer()-this.delayStartTime)},p.stop=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_STOP,!1,!1,this)),this.finishEffect()},p.resume=function(){!this._delayTimer||this._delayTimer.running||isNaN(this.delayElapsedTime)||(this._delayTimer.delay=this.playReversed?this.delayElapsedTime:this._delayTimer.delay-this.delayElapsedTime,this.delayStartTime=t.getTimer(),this._delayTimer.start())},p.reverse=function(){this.repeatCount>0&&(this._playCount=this.repeatCount-this._playCount+1)},p.end=function(){this._delayTimer&&this._delayTimer.reset(),this._stopRepeat=!0,this.finishEffect()},p.finishEffect=function(){this._playCount=0,this.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this)),this.target&&"dispatchEvent"in this.target&&this.target.dispatchEvent(new e.EffectEvent(e.EffectEvent.EFFECT_END,!1,!1,this))},p.finishRepeat=function(){!this._stopRepeat&&0!=this._playCount&&(this._playCount<this.repeatCount||0==this.repeatCount)?this.repeatDelay>0?(this._delayTimer=new t.Timer(this.repeatDelay,1),this.delayStartTime=t.getTimer(),this._delayTimer.addEventListener(t.TimerEvent.TIMER,this.delayTimerHandler,this),this._delayTimer.start()):this.play():this.finishEffect()},p._playWithNoDuration=function(){this.duration=0,this.repeatCount=1,this.repeatDelay=0,this.startDelay=0,this.startEffect()},p.delayTimerHandler=function(){this._delayTimer.reset(),this.delayStartTime=0/0,this.delayElapsedTime=0/0,this.play()},n}(t.EventDispatcher);e.EffectInstance=i,t.registerClass(i,"egret.gui.EffectInstance",["egret.gui.IEffectInstance"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.FadeInstance}__extends(i,t);var n=i;return p=n.prototype,p._initInstance=function(e){t.prototype._initInstance.call(this,e);var i=e;i.alphaFrom=this.alphaFrom,i.alphaTo=this.alphaTo},i}(e.Animate);e.Fade=i,t.registerClass(i,"egret.gui.Fade")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=i;return p=n.prototype,p.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},p._initInstance=function(e){this._addMotionPath("translationX",this.xFrom,this.xTo,this.xBy),this._addMotionPath("translationY",this.yFrom,this.yTo,this.yBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Move=i,t.registerClass(i,"egret.gui.Move")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.ParallelInstance}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"compositeDuration",function(){for(var t=0,i=0;i<this.children.length;++i){var n,s=this.children[i];n=s instanceof e.CompositeEffect?s.compositeDuration:s.duration,n=n*s.repeatCount+s.repeatDelay*(s.repeatCount-1)+s.startDelay,t=Math.max(t,n)}return t}),i}(e.CompositeEffect);e.Parallel=i,t.registerClass(i,"egret.gui.Parallel")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=i;return p=n.prototype,p.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},p._initInstance=function(e){this._addMotionPath("rotation",this.angleFrom,this.angleTo,this.angleBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Rotate=i,t.registerClass(i,"egret.gui.Rotate")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.AnimateTransformInstance}__extends(i,t);var n=i;return p=n.prototype,p.createInstance=function(e){return void 0===e&&(e=null),this.motionPaths=new Array,t.prototype.createInstance.call(this,e)},p._initInstance=function(e){this._addMotionPath("scaleX",this.scaleXFrom,this.scaleXTo,this.scaleXBy),this._addMotionPath("scaleY",this.scaleYFrom,this.scaleYTo,this.scaleYBy),t.prototype._initInstance.call(this,e)},i}(e.AnimateTransform);e.Scale=i,t.registerClass(i,"egret.gui.Scale")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i){void 0===i&&(i=null),t.call(this,i),this.instanceClass=e.SequenceInstance}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"compositeDuration",function(){for(var t=0,i=0;i<this.children.length;++i){var n,s=this.children[i];n=s instanceof e.CompositeEffect?s.compositeDuration:s.duration,n=n*s.repeatCount+s.repeatDelay*(s.repeatCount-1)+s.startDelay,t+=n}return t}),i}(e.CompositeEffect);e.Sequence=i,t.registerClass(i,"egret.gui.Sequence")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t){void 0===t&&(t=.5),this._easeInFraction=.5,this.easeInFraction=t}var e=__define,i=t;return p=i.prototype,e(p,"easeInFraction",function(){return this._easeInFraction},function(t){this._easeInFraction=t}),p.ease=function(t){var e=1-this._easeInFraction;return t<=this._easeInFraction&&this._easeInFraction>0?this._easeInFraction*this._easeIn(t/this._easeInFraction):this._easeInFraction+e*this._easeOut((t-this._easeInFraction)/e)},p._easeIn=function(t){return t},p._easeOut=function(t){return t},t}();e.EaseInOutBase=i,t.registerClass(i,"egret.gui.EaseInOutBase",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){void 0===e&&(e=.5),t.call(this,e)}__extends(e,t);var i=e;return p=i.prototype,p._easeIn=function(t){return 1-Math.cos(t*Math.PI/2)},p._easeOut=function(t){return Math.sin(t*Math.PI/2)},e}(e.EaseInOutBase);e.Sine=i,t.registerClass(i,"egret.gui.Sine")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function i(t,n){this._easer=i.defaultEaser,this.thisObject=null,this.startFunction=null,this.endFunction=null,this.updateFunction=null,this.stopFunction=null,this.repeatFunction=null,this.id=-1,this._doSeek=!1,this._isPlaying=!1,this._doReverse=!1,this._invertValues=!1,this.started=!1,this.delayTime=-1,this.delayedStartTime=-1,this._playheadTime=0,this.duration=500,this._repeatBehavior=e.RepeatBehavior.LOOP,this._repeatCount=1,this._repeatDelay=0,this._startDelay=0,this.interpolator=null,this._cycleTime=0,this.updateFunction=t,this.thisObject=n}var n=__define,s=i;return p=s.prototype,n(p,"easer",function(){return this._easer},function(t){t||(t=i.defaultEaser),this._easer=t}),n(p,"playheadTime",function(){return this._playheadTime+this.startDelay},function(t){this._invertValues=!1,this.seek(t,!0)}),n(p,"isPlaying",function(){return this._isPlaying}),n(p,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),n(p,"repeatCount",function(){return this._repeatCount},function(t){this._repeatCount=t}),n(p,"repeatDelay",function(){return this._repeatDelay},function(t){this._repeatDelay=t}),n(p,"startDelay",function(){return this._startDelay},function(t){this._startDelay=t}),n(p,"cycleTime",function(){return this._cycleTime}),n(p,"cycleFraction",function(){return this._cycleFraction}),n(p,"playReversed",function(){return this._playReversed},function(t){this._isPlaying&&this._invertValues!=t&&(this._invertValues=t,this.seek(this.duration-this._cycleTime,!0)),this._doReverse=t,this._playReversed=t}),i.addAnimation=function(e){if(e.motionPaths&&e.motionPaths.length>0&&e.motionPaths[0]&&("width"==e.motionPaths[0].property||"height"==e.motionPaths[0].property)){i.activeAnimations.splice(0,0,e),e.id=0;for(var n=1;n<i.activeAnimations.length;++n)i.activeAnimations[n].id=n}else e.id=i.activeAnimations.length,i.activeAnimations.push(e);i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start()),i.intervalTime=i.currentTime,e.cycleStartTime=i.intervalTime},i.removeAnimationAt=function(t){if(void 0===t&&(t=0),t>=0&&t<i.activeAnimations.length){i.activeAnimations.splice(t,1);for(var e=i.activeAnimations.length,n=t;e>n;n++){var s=i.activeAnimations[n];s.id--}}i.stopTimerIfDone()},i.removeAnimation=function(t){i.removeAnimationAt(t.id)},i.timerHandler=function(){i.intervalTime=i.pulse();for(var t=0;t<i.activeAnimations.length;){var e=!0,n=i.activeAnimations[t];n&&(e=!n.doInterval()),e&&++t}for(;i.delayedStartAnims.length>0;){var s=i.delayedStartAnims[0],a=s.delayedStartTime;if(!(a<i.currentTime))break;s.playReversed?s.end():s.start()}},p.doInterval=function(){var n=!1,s=!1;if(this._isPlaying||this._doSeek){var a=i.intervalTime-this.cycleStartTime;if(this._playheadTime=i.intervalTime-this.startTime,a>=this.duration){var r=2;if(this.duration+this.repeatDelay>0&&(r+=Math.floor((this._playheadTime-this.duration)/(this.duration+this.repeatDelay))),0==this.repeatCount||r<=this.repeatCount){if(0!=this.repeatDelay){if(this._doSeek)return this._cycleTime=a%(this.duration+this.repeatDelay),this._cycleTime>this.duration&&(this._cycleTime=this.duration),this.calculateValue(this._cycleTime),this.sendUpdateEvent(),!1;this._cycleTime=this.duration,this.calculateValue(this._cycleTime),this.sendUpdateEvent(),i.removeAnimation(this);var o=new t.Timer(this.repeatDelay,1);return o.addEventListener(t.TimerEvent.TIMER,this.repeat,this),o.start(),!1}this._cycleTime=a%this.duration,this.cycleStartTime=i.intervalTime-this._cycleTime,a=this._cycleTime,this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=this.repeatCount>1?!(r%2):!this._invertValues),s=!0}else a>this.duration&&(a=this.duration,this._playheadTime=this.duration)}this._cycleTime=a,this.calculateValue(a),a>=this.duration&&!this._doSeek?this.playReversed&&0!=this.startDelay?(this.stopAnimation(),this.addToDelayedAnimations(this.startDelay)):(this.end(),n=!0):(s&&this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent())}return n},p.sendUpdateEvent=function(){this.sendAnimationEvent("updateFunction")},p.sendAnimationEvent=function(t){null!=this[t]&&this[t].call(this.thisObject,this)},p.calculateValue=function(t){var e=0;if(this.currentValue={},0!=this.duration){if(this._invertValues&&(t=this.duration-t),this._cycleFraction=this.easer.ease(t/this.duration),this.motionPaths)for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this.motionPaths[e].getValue(this._cycleFraction)}else for(e=0;e<this.motionPaths.length;++e)this.currentValue[this.motionPaths[e].property]=this._invertValues?this.motionPaths[e].keyframes[0].value:this.motionPaths[e].keyframes[this.motionPaths[e].keyframes.length-1].value},p.removeFromDelayedAnimations=function(){if(this.delayedStartTime>=0){for(var t=0;t<i.delayedStartAnims.length;++t)if(i.delayedStartAnims[t]==this){i.delayedStartAnims.splice(t,1);break}this.delayedStartTime=-1}},p.end=function(){this.startDelay>0&&i.delayedStartAnims.length>0&&this.removeFromDelayedAnimations(),this.started||this.sendAnimationEvent("startFunction"),this.repeatCount>1&&"reverse"==this.repeatBehavior&&this.repeatCount%2==0&&(this._invertValues=!0),this._doReverse&&this.startDelay>0||(this.calculateValue(this.duration),this.sendUpdateEvent()),this.sendAnimationEvent("endFunction"),this.isPlaying?this.stopAnimation():i.stopTimerIfDone()},i.stopTimerIfDone=function(){i.timer&&0==i.activeAnimations.length&&0==i.delayedStartAnims.length&&(i.intervalTime=0/0,i.timer.reset(),i.timer=null)},p.addToDelayedAnimations=function(e){i.timer||(i.pulse(),i.timer=new t.Timer(i.TIMER_RESOLUTION),i.timer.addEventListener(t.TimerEvent.TIMER,i.timerHandler,i),i.timer.start());for(var n=i.currentTime+e,s=-1,a=0;a<i.delayedStartAnims.length;++a){var r=i.delayedStartAnims[a].delayedStartTime;if(r>n){s=a;break}}s>=0?i.delayedStartAnims.splice(s,0,this):i.delayedStartAnims.push(this),this.delayedStartTime=n},p.play=function(){this.stopAnimation();var t=0,i=0;for(t=0;t<this.motionPaths.length;++t){var n=this.motionPaths[t].keyframes;if(isNaN(n[0].time))n[0].time=0;else if(n[0].time>0){var s=n[0].time;n.splice(0,0,new e.Keyframe(0,null)),n.splice(1,0,new e.Keyframe(s-1,null)),this.playReversed&&(n[0].value=n[2].value,n[1].value=n[2].value)}for(i=1;i<n.length;++i)isNaN(n[i].time)&&(n[i].time=this.duration)}for(t=0;t<this.motionPaths.length;++t)this.motionPaths[t]._scaleKeyframes(this.duration);this._doReverse&&(this._invertValues=!0),this.startDelay>0&&!this.playReversed?this.addToDelayedAnimations(this.startDelay):this.start()},p.seek=function(t,e){if(void 0===e&&(e=!1),this.startTime=this.cycleStartTime=i.intervalTime-t,this._doSeek=!0,!this._isPlaying||this.playReversed){var n=this._isPlaying;if(i.intervalTime=i.currentTime,e&&this.startDelay>0&&this.delayedStartTime>=0){this.removeFromDelayedAnimations();var s=t-this.startDelay;return this.playReversed&&(s-=this.duration),0>s?void this.addToDelayedAnimations(this.startDelay-t):(t-=this.startDelay,this.isPlaying||this.start(),this.startTime=this.cycleStartTime=i.intervalTime-t,this.doInterval(),void(this._doSeek=!1))}n||(this.sendAnimationEvent("startFunction"),this.setupInterpolation()),this.startTime=this.cycleStartTime=i.intervalTime-t}this.doInterval(),this._doSeek=!1},p.setupInterpolation=function(){if(this.interpolator&&this.motionPaths)for(var t=0;t<this.motionPaths.length;++t)this.motionPaths[t].interpolator=this.interpolator},p.reverse=function(){this._isPlaying?(this._doReverse=!1,this.seek(this.duration-this._cycleTime),this._invertValues=!this._invertValues):this._doReverse=!this._doReverse},p.pause=function(){this.delayedStartTime>=0&&(this.delayTime=this.delayedStartTime-i.currentTime,this.removeFromDelayedAnimations()),this._isPlaying=!1},p.stopAnimation=function(){this.removeFromDelayedAnimations(),this.id>=0&&(i.removeAnimationAt(this.id),this.id=-1,this._invertValues=!1,this._isPlaying=!1)
},p.stop=function(){this.stopAnimation(),this.sendAnimationEvent("stopFunction")},p.resume=function(){this._isPlaying=!0,this.delayTime>=0?this.addToDelayedAnimations(this.delayTime):(this.cycleStartTime=i.intervalTime-this._cycleTime,this.startTime=i.intervalTime-this._playheadTime,this._doReverse&&(this.reverse(),this._doReverse=!1))},p.repeat=function(t){void 0===t&&(t=null),this.repeatBehavior==e.RepeatBehavior.REVERSE&&(this._invertValues=!this._invertValues),this.calculateValue(0),this.sendAnimationEvent("repeatFunction"),this.sendUpdateEvent(),i.addAnimation(this)},p.start=function(t){void 0===t&&(t=null);var e=0;if(!this.playReversed&&this.delayedStartTime>=0){var n=i.currentTime-this.delayedStartTime;n>0&&(e=Math.min(n,this.duration)),this.removeFromDelayedAnimations()}this.sendAnimationEvent("startFunction"),this.setupInterpolation(),this.calculateValue(0),this.sendUpdateEvent(),i.addAnimation(this),this.startTime=this.cycleStartTime,this._isPlaying=!0,e>0&&this.seek(e),this.started=!0},i.pulse=function(){return i.startTime<0?(i.startTime=t.getTimer(),i._currentTime=0,i._currentTime):(i._currentTime=t.getTimer()-i.startTime,i._currentTime)},n(i,"currentTime",function(){return i._currentTime<0?i.pulse():i._currentTime}),i.TIMER_RESOLUTION=1e3/60,i.defaultEaser=new e.Sine(.5),i.intervalTime=0/0,i.activeAnimations=new Array,i.timer=null,i.delayedStartAnims=new Array,i.startTime=-1,i._currentTime=-1,i}();e.Animation=i,t.registerClass(i,"egret.gui.Animation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t,e,i){void 0===t&&(t=0/0),void 0===e&&(e=null),void 0===i&&(i=null),this.value=e,this.time=t,this.valueBy=i}var e=t;return p=e.prototype,p.clone=function(){var e=new t(this.time,this.value,this.valueBy);return e.easer=this.easer,e._timeFraction=this._timeFraction,e},t}();e.Keyframe=i,t.registerClass(i,"egret.gui.Keyframe")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(t){void 0===t&&(t=null),this.interpolator=e.NumberInterpolator.getInstance(),this.property=t}var i=t;return p=i.prototype,p.clone=function(){var e=new t(this.property);if(e.interpolator=this.interpolator,null!==this.keyframes){e.keyframes=new Array;for(var i=0;i<this.keyframes.length;++i)e.keyframes[i]=this.keyframes[i].clone()}return e},p._scaleKeyframes=function(t){for(var e=this.keyframes.length,i=0;e>i;++i){var n=this.keyframes[i];n._timeFraction=n.time/t}},p.getValue=function(t){if(!this.keyframes)return null;var e=this.keyframes.length;if(2==e&&1==this.keyframes[1]._timeFraction){var i=null!=this.keyframes[1].easer?this.keyframes[1].easer.ease(t):t;return this.interpolator.interpolate(i,this.keyframes[0].value,this.keyframes[1].value)}isNaN(this.keyframes[0]._timeFraction)&&this._scaleKeyframes(this.keyframes[this.keyframes.length-1].time);for(var n=0,s=this.keyframes[0].value,a=1;e>a;++a){var r=this.keyframes[a];if(t>=n&&t<r._timeFraction){var o=(t-n)/(r._timeFraction-n),h=null!=r.easer?r.easer.ease(o):o;return this.interpolator.interpolate(h,s,r.value)}n=r._timeFraction,s=r.value}return this.keyframes[e-1].value},t}();e.MotionPath=i,t.registerClass(i,"egret.gui.MotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.LOOP="loop",t.REVERSE="reverse",t}();e.RepeatBehavior=i,t.registerClass(i,"egret.gui.RepeatBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(i,n,s,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),t.call(this),this.property=i,this.keyframes=[new e.Keyframe(0,n),new e.Keyframe(0/0,s,a)]}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"valueFrom",function(){return this.keyframes[0].value},function(t){this.keyframes[0].value=t}),n(p,"valueTo",function(){return this.keyframes[this.keyframes.length-1].value},function(t){this.keyframes[this.keyframes.length-1].value=t}),n(p,"valueBy",function(){return this.keyframes[this.keyframes.length-1].valueBy},function(t){this.keyframes[this.keyframes.length-1].valueBy=t}),i}(e.MotionPath);e.SimpleMotionPath=i,t.registerClass(i,"egret.gui.SimpleMotionPath")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,p.ease=function(t){return this.easeOut(t,0,1,1)},p.easeOut=function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t}();e.Bounce=i,t.registerClass(i,"egret.gui.Bounce",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,p.ease=function(t){return this.easeOut(t,0,1,1)},p.easeOut=function(t,e,i,n,s,a){if(void 0===s&&(s=0),void 0===a&&(a=0),0==t)return e;if(1==(t/=n))return e+i;a||(a=.3*n);var r;return!s||s<Math.abs(i)?(s=i,r=a/4):r=a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*n-r)*Math.PI/a)+i+e},t}();e.Elastic=i,t.registerClass(i,"egret.gui.Elastic",["egret.gui.IEaser"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=2),t.call(this,e),this.exponent=i}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"exponent",function(){return this._exponent},function(t){this._exponent=t}),p._easeIn=function(t){return Math.pow(t,this._exponent)},p._easeOut=function(t){return 1-Math.pow(1-t,this._exponent)},e}(e.EaseInOutBase);e.Power=i,t.registerClass(i,"egret.gui.Power")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this,t),this.isStyleMap={},this._seekTime=0,this.numUpdateListeners=0}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"motionPaths",function(){return this._motionPaths},function(t){this._motionPaths||(this._motionPaths=t)}),s(p,"easer",function(){return this._easer},function(t){this._easer=t}),s(p,"interpolator",function(){return this._interpolator},function(t){this._interpolator=t}),s(p,"repeatBehavior",function(){return this._repeatBehavior},function(t){this._repeatBehavior=t}),p._setPlayReversed=function(t){i.prototype._setPlayReversed.call(this,t),t&&this.animation&&this.animation.reverse(),this.reverseAnimation=t},s(p,"playheadTime",function(){return this.animation?this.animation.playheadTime:this._seekTime},function(t){this.animation&&(this.animation.playheadTime=t),this._seekTime=t}),p.pause=function(){i.prototype.pause.call(this),this.animation&&this.animation.pause()},p.stop=function(){i.prototype.stop.call(this),this.animation&&this.animation.stop()},p.resume=function(){i.prototype.resume.call(this),this.animation&&this.animation.resume()},p.reverse=function(){i.prototype.reverse.call(this),this.animation&&this.animation.reverse(),this.reverseAnimation=!this.reverseAnimation},p.end=function(){this.animation&&(this.animation.end(),this.animation=null),i.prototype.end.call(this)},p.startEffect=function(){this.play()},p.play=function(){if(i.prototype.play.call(this),!this.motionPaths||0==this.motionPaths.length){var n=new t.Timer(this.duration,1);return n.addEventListener(t.TimerEvent.TIMER,this.noopAnimationHandler,this),void n.start()}this.isStyleMap=new Array(this.motionPaths.length);var s,a,r=0,o=0;for(r=0;r<this.motionPaths.length;++r){var h=this.motionPaths[r],l=h.keyframes;if(l&&(this.interpolator&&(h.interpolator=this.interpolator),this.duration>0))for(o=0;o<l.length;++o)isNaN(l[o].time)||(this.duration=Math.max(this.duration,l[o].time))}s&&this.motionPaths.push(new e.SimpleMotionPath("width")),a&&this.motionPaths.push(new e.SimpleMotionPath("height")),this.animation=new e.Animation(this.animationUpdate,this),this.animation.duration=this.duration,this.animation.startFunction=this.animationStart,this.animation.endFunction=this.animationEnd,this.animation.stopFunction=this.animationStop,this.animation.repeatFunction=this.animationRepeat,this.animation.motionPaths=this.motionPaths,this.reverseAnimation&&(this.animation.playReversed=!0),this.animation.interpolator=this.interpolator,this.animation.repeatCount=this.repeatCount,this.animation.repeatDelay=this.repeatDelay,this.animation.repeatBehavior=this.repeatBehavior,this.animation.easer=this.easer,this.animation.startDelay=this.startDelay,this.animation.play(),this._seekTime>0&&(this.animation.playheadTime=this._seekTime)},p.applyValues=function(t){for(var e=0;e<this.motionPaths.length;++e){var i=this.motionPaths[e].property;this.setValue(i,t.currentValue[i])}},p._isValidValue=function(t){return"number"==typeof t&&!isNaN(t)||!("number"==typeof t)&&null!==t},p.finalizeValues=function(){for(var t,e=0,i=0;i<this.motionPaths.length;++i){var n=this.motionPaths[i],s=n.keyframes;if(s&&0!=s.length)for(this._isValidValue(s[0].value)||(s[0].value=s.length>0&&this._isValidValue(s[1].valueBy)&&this._isValidValue(s[1].value)?n.interpolator.decrement(s[1].value,s[1].valueBy):this.getCurrentValue(n.property)),t=s[0].value,e=1;e<s.length;++e){var a=s[e];this._isValidValue(a.value)||(a.value=this._isValidValue(a.valueBy)?n.interpolator.increment(t,a.valueBy):e<=s.length-2&&this._isValidValue(s[e+1].value)&&this._isValidValue(s[e+1].valueBy)?n.interpolator.decrement(s[e+1].value,s[e+1].valueBy):t),t=a.value}}},p.animationStart=function(){if(this.disableLayout)this.cacheConstraints();else if(this.disabledConstraintsMap){for(var t in this.disabledConstraintsMap)this.cacheConstraint(t);this.disabledConstraintsMap=null}this.finalizeValues()},p.animationUpdate=function(t){if(this.applyValues(t),this.numUpdateListeners>0){var i=new e.EffectEvent(e.EffectEvent.EFFECT_UPDATE);i.effectInstance=this,this.dispatchEvent(i)}},p.animationRepeat=function(){var t=new e.EffectEvent(e.EffectEvent.EFFECT_REPEAT);t.effectInstance=this,this.dispatchEvent(t)},p.animationCleanup=function(){this.disableLayout&&this.reenableConstraints()},p.animationEnd=function(){this.animationCleanup(),this.finishEffect()},p.animationStop=function(){this.animationCleanup()},p.noopAnimationHandler=function(){this.finishEffect()},p.addEventListener=function(t,n,s,a,r){void 0===a&&(a=!1),void 0===r&&(r=0),i.prototype.addEventListener.call(this,t,n,s,a,r),t==e.EffectEvent.EFFECT_UPDATE&&++this.numUpdateListeners},p.removeEventListener=function(t,n,s){void 0===s&&(s=!1),i.prototype.removeEventListener.call(this,t,n,this,s),t==e.EffectEvent.EFFECT_UPDATE&&--this.numUpdateListeners},p.reenableConstraint=function(t){var e=this.constraintsHolder[t];return void 0!==e&&(t in this.target?this.target[t]=e:this.target.setStyle(t,e),delete this.constraintsHolder[t]),e},p.reenableConstraints=function(){if(this.constraintsHolder){var t=this.reenableConstraint("left"),e=this.reenableConstraint("right"),i=this.reenableConstraint("top"),n=this.reenableConstraint("bottom");this.reenableConstraint("horizontalCenter"),this.reenableConstraint("verticalCenter"),this.constraintsHolder=null,void 0!=t&&void 0!=e&&"explicitWidth"in this.target&&(this.target.width=this.oldWidth),void 0!=i&&void 0!=n&&"explicitHeight"in this.target&&(this.target.height=this.oldHeight)}},p.cacheConstraint=function(t){var e,i=t in this.target;return e=i?this.target[t]:this.target.getStyle(t),isNaN(e)||null==e||(this.constraintsHolder||(this.constraintsHolder={}),this.constraintsHolder[t]=e,i?this.target[t]=0/0:"setStyle"in this.target&&this.target.setStyle(t,void 0)),e},p.cacheConstraints=function(){var t=this.cacheConstraint("left"),e=this.cacheConstraint("right"),i=this.cacheConstraint("top"),n=this.cacheConstraint("bottom");if(this.cacheConstraint("verticalCenter"),this.cacheConstraint("horizontalCenter"),void 0!=t&&void 0!=e&&"explicitWidth"in this.target){var s=this.target.width;this.oldWidth=this.target.explicitWidth,this.target.width=s}if(void 0!=i&&void 0!=n&&"explicitHeight"in this.target){var a=this.target.height;this.oldHeight=this.target.explicitHeight,this.target.height=a}},p._setupStyleMapEntry=function(t){if(void 0==this.isStyleMap[t])if(t in this.target)this.isStyleMap[t]=!1;else try{this.target.getStyle(t),this.isStyleMap[t]=!0}catch(e){throw new Error("propNotPropOrStyle")}},p.setValue=function(t,e){this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.setStyle(t,e):this.target[t]=e},p.getCurrentValue=function(t){return this._setupStyleMapEntry(t),this.isStyleMap[t]?this.target.getStyle(t):this.target[t]},n}(e.EffectInstance);e.AnimateInstance=i,t.registerClass(i,"egret.gui.AnimateInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(t){i.call(this,t),this.started=!1,this.instanceStartTime=0,this.currentValues={rotation:0/0,scaleX:0/0,scaleY:0/0,translationX:0/0,translationY:0/0},this.initialized=!1}__extends(n,i);var s=n;return p=s.prototype,p.startEffect=function(){this.started||(this.started=!0,i.prototype.startEffect.call(this))},p.insertKeyframe=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=!1),e.time+=i;for(var s=0;s<t.length;s++)if(t[s].time>=e.time)return void(t[s].time==e.time?n?(e.time+=.01,t.splice(s+1,0,e)):(e.time-=.01,t.splice(s,0,e)):t.splice(s,0,e));t.push(e)},p.addMotionPath=function(t,e){void 0===e&&(e=0);var i=!1;if(this.motionPaths){var n,s=0,a=0,r=this.motionPaths.length;if(e<this.instanceStartTime){var o=this.instanceStartTime-e;for(s=0;r>s;s++)for(n=this.motionPaths[s],a=0;a<n.keyframes.length;a++)n.keyframes[a].time+=o;this.instanceStartTime=e}for(s=0;r>s;s++)if(n=this.motionPaths[s],n.property==t.property){for(a=0;a<t.keyframes.length;a++)this.insertKeyframe(n.keyframes,t.keyframes[a],e-this.instanceStartTime,0==a);i=!0;break}}else this.motionPaths=new Array,this.instanceStartTime=e;if(!i){if(e>this.instanceStartTime)for(a=0;a<t.keyframes.length;a++)t.keyframes[a].time+=e-this.instanceStartTime;this.motionPaths.push(t)}for(r=this.motionPaths.length,s=0;r>s;s++){n=this.motionPaths[s];var h=n.keyframes[n.keyframes.length-1];isNaN(h.time)||(this.duration=Math.max(this.duration,h.time))}},p.play=function(){if(this.motionPaths){var t=0,e=0;this.updateTransformCenter();var n=0!=this.transformCenter.x||0!=this.transformCenter.y;for(t=0;t<this.motionPaths.length;++t){var s=this.motionPaths[t];if(n&&("translationX"==s.property||"translationY"==s.property))for(e=0;e<s.keyframes.length;++e){var a=s.keyframes[e];this._isValidValue(a.value)&&(a.value+="translationX"==s.property?this.transformCenter.x:this.transformCenter.y)}}}i.prototype.play.call(this)},p.animationEnd=function(t){this.started=!1,i.prototype.animationEnd.call(this,t)},p.updateTransformCenter=function(){this.transformCenter||(this.transformCenter=new t.Point(0,0)),this.autoCenterTransform&&(this.transformCenter.x=this.target.width/2,this.transformCenter.y=this.target.height/2)},p.getCurrentValue=function(t){switch(t){case"translationX":case"translationY":this.updateTransformCenter();var n=e.TransformUtil.transformPointToParent(this.target,this.transformCenter);if("translationX"==t)return n.x;if("translationY"==t)return n.y;break;default:return i.prototype.getCurrentValue.call(this,t)}},p.applyValues=function(t){for(var i,s,a,r,o=0;o<this.motionPaths.length;++o)void 0!==this.currentValues[this.motionPaths[o].property]?this.currentValues[this.motionPaths[o].property]=t.currentValue[this.motionPaths[o].property]:this.setValue(this.motionPaths[o].property,t.currentValue[this.motionPaths[o].property]);r=isNaN(this.currentValues.rotation)?this.getCurrentValue("rotation"):this.currentValues.rotation,i=isNaN(this.currentValues.scaleX)?this.getCurrentValue("scaleX"):this.currentValues.scaleX,s=isNaN(this.currentValues.scaleY)?this.getCurrentValue("scaleY"):this.currentValues.scaleY,n.position.x=isNaN(this.currentValues.translationX)?this.getCurrentValue("translationX"):this.currentValues.translationX,n.position.y=isNaN(this.currentValues.translationY)?this.getCurrentValue("translationY"):this.currentValues.translationY,this.lastTranslationPoint||(this.lastTranslationPoint=n.position.clone()),isNaN(this.currentValues.translationX)&&Math.abs(n.position.x-this.lastTranslationPoint.x)<.1&&(n.position.x=this.lastTranslationPoint.x),isNaN(this.currentValues.translationY)&&Math.abs(n.position.y-this.lastTranslationPoint.y)<.1&&(n.position.y=this.lastTranslationPoint.y),this.lastTranslationPoint.x=n.position.x,this.lastTranslationPoint.y=n.position.y,a=n.position,e.TransformUtil.transformAround(this.target,this.transformCenter,a,i,s,r)},n.position=new t.Point,n}(e.AnimateInstance);e.AnimateTransformInstance=i,t.registerClass(i,"egret.gui.AnimateTransformInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){t.call(this,e),this._activeEffectQueue=[],this._playheadTime=0,this._childSets=[]}__extends(i,t);var n=__define,s=i;return p=s.prototype,n(p,"_actualDuration",function(){var t=0/0;return this.repeatCount>0&&(t=this._durationWithoutRepeat*this.repeatCount+this.repeatDelay*(this.repeatCount-1)+this.startDelay),t}),n(p,"playheadTime",function(){return this._playheadTime}),p._setPlayheadTime=function(e){this._timerAnimation?this._timerAnimation.playheadTime=e:this._playheadTime=e,t.prototype._setPlayheadTime.call(this,e)},n(p,"_durationWithoutRepeat",function(){return 0}),p.play=function(){this._timerAnimation=new e.Animation(this.animationUpdate,this),this._timerAnimation.duration=this._durationWithoutRepeat,this._timerAnimation.motionPaths=[new e.SimpleMotionPath("timer",0,0)],this._timerAnimation.endFunction=this.animationEnd,this._timerAnimation.play(),t.prototype.play.call(this)},p.pause=function(){t.prototype.pause.call(this),this._timerAnimation&&this._timerAnimation.pause()},p.stop=function(){t.prototype.stop.call(this),this._timerAnimation&&this._timerAnimation.stop()},p.end=function(){t.prototype.end.call(this),this._timerAnimation&&this._timerAnimation.end()},p.resume=function(){t.prototype.resume.call(this),this._timerAnimation&&this._timerAnimation.resume()},p.reverse=function(){t.prototype.reverse.call(this),this._setPlayReversed(!this.playReversed),this._timerAnimation&&this._timerAnimation.reverse()},p.finishEffect=function(){this._activeEffectQueue=null,t.prototype.finishEffect.call(this)},p.addChildSet=function(t){if(t){var i=t.length;if(i>0){this._childSets?this._childSets.push(t):this._childSets=[t];for(var n=0;i>n;n++)t[n].addEventListener(e.EffectEvent.EFFECT_END,this._effectEndHandler,this),t[n].parentCompositeEffectInstance=this}}},p._playWithNoDuration=function(){t.prototype._playWithNoDuration.call(this),this.end()},p.animationUpdate=function(){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},p.animationEnd=function(){this._playheadTime=this._timerAnimation?this._timerAnimation.playheadTime:this._playheadTime},p._onEffectEnd=function(){},p._effectEndHandler=function(t){this._onEffectEnd(t.effectInstance)},i}(e.EffectInstance);e.CompositeEffectInstance=i,t.registerClass(i,"egret.gui.CompositeEffectInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e){t.call(this,e)}__extends(i,t);var n=i;return p=n.prototype,p.play=function(){var i=this.alphaFrom,n=this.alphaTo;"visible"in this.target&&!this.target.visible&&(isNaN(i)&&(i=this.target.alpha),isNaN(n)&&(n=this.target.alpha),0==i&&0!=n&&(this.target.alpha=0,this.target.visible=!0)),this.motionPaths=[new e.MotionPath("alpha")],this.motionPaths[0].keyframes=[new e.Keyframe(0,this.alphaFrom),new e.Keyframe(this.duration,this.alphaTo)],t.prototype.play.call(this)},i}(e.AnimateInstance);e.FadeInstance=i,t.registerClass(i,"egret.gui.FadeInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t){e.call(this,t),this.isReversed=!1}__extends(i,e);var n=__define,s=i;return p=s.prototype,n(p,"_durationWithoutRepeat",function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t=Math.max(n[0]._actualDuration,t)}return t}),p._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i=this.effect.compositeDuration,n=i+this.startDelay+this.repeatDelay,s=i+this.repeatDelay,a=n+s*(this.repeatCount-1);if(n>=t)e=Math.min(t-this.startDelay,i),this._playCount=1;else if(t>=a&&0!=this.repeatCount)e=i,this._playCount=this.repeatCount;else{var r=t-n;e=r%s,this._playCount=1+r/s}for(var o=0;o<this._childSets.length;o++)for(var h=this._childSets[o],l=h.length,u=0;l>u;u++)h[u].playheadTime=this.playReversed?Math.max(0,e-(this._durationWithoutRepeat-h[u]._actualDuration)):e;if(this.playReversed&&null!=this.replayEffectQueue&&this.replayEffectQueue.length>0){var d=this._durationWithoutRepeat-this.playheadTime,p=this.replayEffectQueue.length;for(o=p-1;o>=0;o--){var c=this.replayEffectQueue[o];d<=c._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(c),this.replayEffectQueue.splice(o,1),c.playReversed=this.playReversed,c.startEffect())}}},p.play=function(){this.doneEffectQueue=[],this._activeEffectQueue=[],this.replayEffectQueue=[],e.prototype.play.call(this);var t=0,i=0;for(t=this._childSets.length,i=0;t>i;i++)for(var n=this._childSets[i],s=n.length,a=0;s>a&&null!=this._activeEffectQueue;a++){var r=n[a];this.playReversed&&r._actualDuration<this._durationWithoutRepeat?(this.replayEffectQueue.push(r),this.startTimer()):(r.playReversed=this.playReversed,this._activeEffectQueue.push(r))}if(this._activeEffectQueue.length>0){var o=this._activeEffectQueue.slice(0);for(i=0;i<o.length;i++)o[i].startEffect()}},p.pause=function(){if(e.prototype.pause.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].pause()},p.stop=function(){if(this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].stop()}e.prototype.stop.call(this)},p.resume=function(){if(e.prototype.resume.call(this),this._activeEffectQueue)for(var t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].resume()},p.reverse=function(){e.prototype.reverse.call(this);var t=0,i=0;if(this.isReversed){for(t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.stopTimer()}else{for(this.replayEffectQueue=this.doneEffectQueue.splice(0),t=this._activeEffectQueue.length,i=0;t>i;i++)this._activeEffectQueue[i].reverse();this.startTimer()}this.isReversed=!this.isReversed},p.end=function(){if(this._endEffectCalled=!0,this.stopTimer(),this._activeEffectQueue){var t=this._activeEffectQueue.concat();this._activeEffectQueue=null;for(var i=t.length,n=0;i>n;n++)t[n]&&t[n].end()}e.prototype.end.call(this)},p._onEffectEnd=function(t){if(!this._endEffectCalled&&null!=this._activeEffectQueue){for(var e=this._activeEffectQueue.length,i=0;e>i;i++)if(t==this._activeEffectQueue[i]){this.doneEffectQueue.push(t),this._activeEffectQueue.splice(i,1);break}1==e&&this.finishRepeat()}},p.startTimer=function(){this.timer||(this.timer=new t.Timer(10),this.timer.addEventListener(t.TimerEvent.TIMER,this.timerHandler,this)),this.timer.start()},p.stopTimer=function(){this.timer&&this.timer.reset()},p.timerHandler=function(){var t=this._durationWithoutRepeat-this.playheadTime,e=this.replayEffectQueue.length;if(0==e)return void this.stopTimer();for(var i=e-1;i>=0;i--){var n=this.replayEffectQueue[i];t<=n._actualDuration&&(null==this._activeEffectQueue&&(this._activeEffectQueue=[]),this._activeEffectQueue.push(n),this.replayEffectQueue.splice(i,1),n.playReversed=this.playReversed,n.startEffect())}},i}(e.CompositeEffectInstance);e.ParallelInstance=i,t.registerClass(i,"egret.gui.ParallelInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e){t.call(this,e),this.currentInstanceDuration=0,this.currentSetIndex=-1,this.isPaused=!1}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"_durationWithoutRepeat",function(){for(var t=0,e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];t+=n[0]._actualDuration}return t}),p._setPlayheadTime=function(t){this._setPlayheadTime(t);var e,i,n,s,a=0,r=this.effect.compositeDuration,o=r+this.startDelay+this.repeatDelay,h=r+this.repeatDelay,l=o+h*(this.repeatCount-1);if(o>=t)s=Math.min(t-this.startDelay,r),this._playCount=1;else if(t>=l&&0!=this.repeatCount)s=r,this._playCount=this.repeatCount;else{var u=t-o;s=u%h,s=Math.min(s,r),this._playCount=1+u/h}if(this._activeEffectQueue&&this._activeEffectQueue.length>0){var d=0,p=this._activeEffectQueue.length;for(e=0;p>e;++e){var c,_=this.playReversed?p-1-e:e,g=d,v=d+this._childSets[_][0]._actualDuration;if(d=v,s>=g&&v>=s){if(this._endEffectCalled=!0,this.currentSetIndex==_)for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=s-g;else if(_<this.currentSetIndex){if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].end();for(i=this.currentSetIndex-1;i>_;--i)for(c=this._activeEffectQueue[i],n=0;n<c.length;n++)this.playReversed&&(c[n].playReversed=!0),c[n].play(),c[n].end()}else{for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(i=this.currentSetIndex-1;i>_;--i)for(c=this._activeEffectQueue[i],n=0;n<c.length;n++)c[n].play(),c[n].stop()}for(this.currentSetIndex=_,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=s-g,this.isPaused&&this.currentSet[n].pause()}else{if(this.playReversed){for(i=0;i<this.currentSet.length;i++)this.currentSet[i].playheadTime=0,this.currentSet[i].stop();for(n=this.currentSetIndex+1;_>n;n++)for(c=this._activeEffectQueue[n],a=0;a<c.length;a++)c[a].playheadTime=0,c[a].stop()}else{var f=this.currentSet.concat();for(i=0;i<f.length;i++)f[i].end();for(n=this.currentSetIndex+1;_>n;n++)for(c=this._activeEffectQueue[n],a=0;a<c.length;a++)c[a].play(),c[a].end()}for(this.currentSetIndex=_,this.playCurrentChildSet(),n=0;n<this.currentSet.length;n++)this.currentSet[n].playheadTime=s-g,this.isPaused&&this.currentSet[n].pause()}this._endEffectCalled=!1;break}}}},p.play=function(){this.isPaused=!1,this._activeEffectQueue=[],this.currentSetIndex=this.playReversed?this._childSets.length:-1;var e=0,i=0;for(e=this._childSets.length,i=0;e>i;i++){var n=this._childSets[i];this._activeEffectQueue.push(n)}return t.prototype.play.call(this),0==this._activeEffectQueue.length?void this.finishRepeat():void this.playNextChildSet()},p.pause=function(){if(t.prototype.pause.call(this),this.isPaused=!0,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].pause()},p.stop=function(){if(this.isPaused=!1,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,s=0;n>s;s++)i[s].stop();for(var a=e.length,r=this.currentSetIndex+1;a>r;r++)for(var o=e[r],h=o.length,l=0;h>l;l++){var u=o[l];u.effect.deleteInstance(u)}}t.prototype.stop.call(this)},p.resume=function(){if(t.prototype.resume.call(this),this.isPaused=!1,this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].resume()},p.reverse=function(){if(t.prototype.reverse.call(this),this.currentSet&&this.currentSet.length>0)for(var e=this.currentSet.length,i=0;e>i;i++)this.currentSet[i].reverse()},p.end=function(){if(this._endEffectCalled=!0,this._activeEffectQueue&&this._activeEffectQueue.length>0){var e=this._activeEffectQueue.concat();this._activeEffectQueue=null;var i=e[this.currentSetIndex];if(i)for(var n=i.length,s=0;n>s;s++)i[s].end();for(var a=e.length,r=this.currentSetIndex+1;a>r;r++)for(var o=e[r],h=o.length,l=0;h>l;l++)o[l]._playWithNoDuration()}this.isPaused=!1,t.prototype.end.call(this)},p._onEffectEnd=function(t){for(var e=0;e<this.currentSet.length;e++)if(t==this.currentSet[e]){this.currentSet.splice(e,1);break}this._endEffectCalled||0==this.currentSet.length&&0==this.playNextChildSet()&&this.finishRepeat()},p.playCurrentChildSet=function(){var t,e=this._activeEffectQueue[this.currentSetIndex];this.currentSet=[];for(var i=0;i<e.length;i++)t=e[i],this.currentSet.push(t),t.playReversed=this.playReversed,t.startEffect();this.currentInstanceDuration+=t._actualDuration},p.playNextChildSet=function(t){if(void 0===t&&(t=0),this.playReversed){if(this.currentSetIndex--<=0)return!1}else if(!this._activeEffectQueue||this.currentSetIndex++>=this._activeEffectQueue.length-1)return!1;return this.playCurrentChildSet(),!0},e}(e.CompositeEffectInstance);e.SequenceInstance=i,t.registerClass(i,"egret.gui.SequenceInstance")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){}var i=e;return p=i.prototype,e.transformAround=function(i,n,s,a,r,o){if(void 0===s&&(s=null),void 0===a&&(a=0/0),void 0===r&&(r=0/0),void 0===o&&(o=0/0),null==s&&null!=n){t.$TempPoint.x=n.x,t.$TempPoint.y=n.y;var h=e.transformPointToParent(i,t.$TempPoint)}if(isNaN(o)||(i.rotation=o),isNaN(a)||(i.scaleX=a),isNaN(r)||(i.scaleY=r),null==n)null!=s&&(i.x=s.x,i.y=s.y);else{t.$TempPoint.x=n.x,t.$TempPoint.y=n.y;var l=e.transformPointToParent(i,t.$TempPoint);null!=s?(i.x+=s.x-l.x,i.y+=s.y-l.y):(i.x+=h.x-l.x,i.y+=h.y-l.y)}},e.transformPointToParent=function(e,i){void 0===i&&(i=null);var n=new t.Point;return i&&(n.x=i.x,n.y=i.y),e.parent&&(e.localToGlobal(n.x,n.y,n),e.parent.globalToLocal(n.x,n.y,n)),n},e}();e.TransformUtil=i,t.registerClass(i,"egret.gui.TransformUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.getInstance=function(){return t.theInstance||(t.theInstance=new t),t.theInstance},p.interpolate=function(t,e,i){return 0==t?e:1==t?i:e+t*(i-e)},p.increment=function(t,e){return t+e},p.decrement=function(t,e){return t-e},t}();e.NumberInterpolator=i,t.registerClass(i,"egret.gui.NumberInterpolator",["egret.gui.IInterpolator"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=-1),e.call(this,t,i,n),this.detail=null,this.detail=s}__extends(i,e);var n=i;return p=n.prototype,i.dispatchCloseEvent=function(e,n,s){void 0===s&&(s=-1);var a=t.Event.create(i,n);a.detail=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},i.CLOSE="close",i}(t.Event);e.CloseEvent=i,t.registerClass(i,"egret.gui.CloseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=-1),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.kind=null,this.items=null,this.oldItems=null,this.kind=s,this.location=a,this.oldLocation=r,this.items=o?o:[],this.oldItems=h?h:[]}__extends(i,e);var n=i;return p=n.prototype,i.dispatchCollectionEvent=function(e,n,s,a,r,o,h){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=-1),void 0===o&&(o=null),void 0===h&&(h=null);var l=t.Event.create(i,n);l.kind=s,l.location=a,l.oldLocation=r,l.items=o,l.oldItems=h;var u=e.dispatchEvent(l);return t.Event.release(l),u},i.COLLECTION_CHANGE="collectionChange",i}(t.Event);e.CollectionEvent=i,t.registerClass(i,"egret.gui.CollectionEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.ADD="add",t.MOVE="move",t.REFRESH="refresh",t.REMOVE="remove",t.REPLACE="replace",t.RESET="reset",t.UPDATE="update",t.OPEN="open",t.CLOSE="close",t}();e.CollectionEventKind=i,t.registerClass(i,"egret.gui.CollectionEventKind")
}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n,s){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),t.call(this,e,i,n),this.effectInstance=s}__extends(e,t);var i=e;return p=i.prototype,e.EFFECT_END="effectEnd",e.EFFECT_STOP="effectStop",e.EFFECT_START="effectStart",e.EFFECT_REPEAT="effectRepeat",e.EFFECT_UPDATE="effectUpdate",e}(t.Event);e.EffectEvent=i,t.registerClass(i,"egret.gui.EffectEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),e.call(this,t,i,n),this.index=0/0,this.element=null,this.element=s,this.index=a}__extends(i,e);var n=i;return p=n.prototype,i.dispatchElementExistenceEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=-1);var r=t.Event.create(i,n);r.element=s,r.index=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},i.ELEMENT_ADD="elementAdd",i.ELEMENT_REMOVE="elementRemove",i}(t.Event);e.ElementExistenceEvent=i,t.registerClass(i,"egret.gui.ElementExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=-1),void 0===a&&(a=-1),e.call(this,t,i,n),this.newIndex=0/0,this.oldIndex=0/0,this.oldIndex=s,this.newIndex=a}__extends(i,e);var n=i;return p=n.prototype,i.dispatchIndexChangeEvent=function(e,n,s,a,r){void 0===s&&(s=-1),void 0===a&&(a=-1),void 0===r&&(r=!1);var o=t.Event.create(i,n);o.oldIndex=s,o.newIndex=a;var h=e.dispatchEvent(o);return t.Event.release(o),h},i.CHANGE="change",i.CHANGING="changing",i}(t.Event);e.IndexChangeEvent=i,t.registerClass(i,"egret.gui.IndexChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===r&&(r=0),e.call(this,t,i,n,s,a,r),this.item=null,this.itemRenderer=null,this.itemIndex=0/0}__extends(i,e);var n=i;return p=n.prototype,i.dispatchListEvent=function(e,n,s,a,r,o){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null),void 0===o&&(o=null);var h=t.Event.create(i,n);h.touchPointID=s.touchPointID,h.$stageX=s.stageX,h.$stageY=s.stageY,h.touchDown=s.touchDown,h.itemIndex=a,h.item=r,h.itemRenderer=o;var l=e.dispatchEvent(h);return t.Event.release(h),l},i.ITEM_ROLL_OUT="itemRollOut",i.ITEM_ROLL_OVER="itemRollOver",i.ITEM_CLICK="itemClick",i}(t.TouchEvent);e.ListEvent=i,t.registerClass(i,"egret.gui.ListEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this.oldX=0/0,this.oldY=0/0}__extends(i,e);var n=i;return p=n.prototype,i.dispatchMoveEvent=function(e,n,s){void 0===n&&(n=0/0),void 0===s&&(s=0/0);var a=t.Event.create(i,i.MOVE);a.oldX=n,a.oldY=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},i.MOVE="move",i}(t.Event);e.MoveEvent=i,t.registerClass(i,"egret.gui.MoveEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=!1),e.call(this,t,i,n),this.popUp=null,this.modal=!1,this.popUp=s,this.modal=a}__extends(i,e);var n=i;return p=n.prototype,i.dispatchPopUpEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=!1);var r=t.Event.create(i,t.HTTPStatusEvent.HTTP_STATUS);r.popUp=s,r.modal=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},i.ADD_POPUP="addPopUp",i.REMOVE_POPUP="removePopUp",i.BRING_TO_FRONT="bringToFront",i}(t.Event);e.PopUpEvent=i,t.registerClass(i,"egret.gui.PopUpEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r,o,h){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===h&&(h=null),e.call(this,t,i,n),this.kind=null,this.newValue=null,this.oldValue=null,this.property=null,this.source=null,this.kind=s,this.property=a,this.oldValue=r,this.newValue=o,this.source=h}__extends(i,e);var n=i;return p=n.prototype,i.dispatchPropertyChangeEvent=function(e,n,s,a,r,o){void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=null);var h=t.Event.create(i,i.PROPERTY_CHANGE);h.kind=n,h.property=s,h.oldValue=a,h.newValue=r,h.source=o;var l=e.dispatchEvent(h);return t.Event.release(h),l},i.PROPERTY_CHANGE="propertyChange",i}(t.Event);e.PropertyChangeEvent=i,t.registerClass(i,"egret.gui.PropertyChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.UPDATE="update",t.DELETE="delete",t}();e.PropertyChangeEventKind=i,t.registerClass(i,"egret.gui.PropertyChangeEventKind")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null),e.call(this,t,i,n),this.data=null,this.index=0/0,this.renderer=null,this.renderer=s,this.index=a,this.data=r}__extends(i,e);var n=i;return p=n.prototype,i.dispatchRendererExistenceEvent=function(e,n,s,a,r){void 0===s&&(s=null),void 0===a&&(a=-1),void 0===r&&(r=null);var o=t.Event.create(i,n);o.renderer=s,o.index=a,o.data=r;var h=e.dispatchEvent(o);return t.Event.release(o),h},i.RENDERER_ADD="rendererAdd",i.RENDERER_REMOVE="rendererRemove",i}(t.Event);e.RendererExistenceEvent=i,t.registerClass(i,"egret.gui.RendererExistenceEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n),this.oldHeight=0/0,this.oldWidth=0/0}__extends(i,e);var n=i;return p=n.prototype,i.dispatchResizeEvent=function(e,n,s){void 0===n&&(n=0/0),void 0===s&&(s=0/0);var a=t.Event.create(i,i.RESIZE);a.oldWidth=n,a.oldHeight=s;var r=e.dispatchEvent(a);return t.Event.release(a),r},i.RESIZE="resize",i}(t.Event);e.ResizeEvent=i,t.registerClass(i,"egret.gui.ResizeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),e.call(this,t,i,n),this.instance=null,this.partName=null,this.partName=s,this.instance=a}__extends(i,e);var n=i;return p=n.prototype,i.dispatchSkinPartEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var r=t.Event.create(i,n);r.partName=s,r.instance=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},i.PART_ADDED="partAdded",i.PART_REMOVED="partRemoved",i}(t.Event);e.SkinPartEvent=i,t.registerClass(i,"egret.gui.SkinPartEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===s&&(s=null),void 0===a&&(a=null),e.call(this,t,i,n),this.newState=null,this.oldState=null,this.oldState=s,this.newState=a}__extends(i,e);var n=i;return p=n.prototype,i.dispatchStateChangeEvent=function(e,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var r=t.Event.create(i,n);r.oldState=s,r.newState=a;var o=e.dispatchEvent(r);return t.Event.release(r),o},i.CURRENT_STATE_CHANGE="currentStateChange",i.CURRENT_STATE_CHANGING="currentStateChanging",i.STATE_CHANGE_COMPLETE="stateChangeComplete",i}(t.Event);e.StateChangeEvent=i,t.registerClass(i,"egret.gui.StateChangeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;return p=n.prototype,i.dispatchTrackBaseEvent=function(e,n){var s=t.Event.create(i,n),a=e.dispatchEvent(s);return t.Event.release(s),a},i.THUMB_DRAG="thumbDrag",i.THUMB_PRESS="thumbPress",i.THUMB_RELEASE="thumbRelease",i}(t.Event);e.TrackBaseEvent=i,t.registerClass(i,"egret.gui.TrackBaseEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n,s,a,r){void 0===i&&(i=!1),void 0===n&&(n=!0),void 0===s&&(s=-1),void 0===a&&(a=null),void 0===r&&(r=null),e.call(this,t,i,n),this.item=null,this.itemRenderer=null,this.itemIndex=0/0,this.opening=!1,this.item=a,this.itemRenderer=r,this.itemIndex=s}__extends(i,e);var n=i;return p=n.prototype,i.dispatchTreeEvent=function(e,n,s,a,r,o,h,l){void 0===s&&(s=-1),void 0===a&&(a=null),void 0===r&&(r=null),void 0===o&&(o=!1),void 0===h&&(h=!1),void 0===l&&(l=!1);var u=t.Event.create(i,n);u.itemIndex=s,u.item=a,u.itemRenderer=r,u.opening=o;var d=e.dispatchEvent(u);return t.Event.release(u),d},i.ITEM_CLOSE="itemClose",i.ITEM_OPEN="itemOpen",i.ITEM_OPENING="itemOpening",i}(t.Event);e.TreeEvent=i,t.registerClass(i,"egret.gui.TreeEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),e.call(this,t,i,n)}__extends(i,e);var n=i;return p=n.prototype,i.dispatchUIEvent=function(e,n){var s=t.Event.create(i,n),a=e.dispatchEvent(s);return t.Event.release(s),a},i.INITIALIZE="initialize",i.CREATION_COMPLETE="creationComplete",i.UPDATE_COMPLETE="updateComplete",i.BUTTON_DOWN="buttonDown",i.CHANGE_END="changeEnd",i.CHANGE_START="changeStart",i.CHANGING="changing",i.VALUE_COMMIT="valueCommit",i.SKIN_CHANGED="skinChanged",i.CONTENT_CHANGED="contentChanged",i.OPEN="open",i.CLOSE="close",i.PLAY_COMPLETE="playComplete",i}(t.Event);e.UIEvent=i,t.registerClass(i,"egret.gui.UIEvent")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this),this._target=null,this._useVirtualLayout=!1,this._typicalLayoutRect=null}__extends(e,t);var i=__define,n=e;return p=n.prototype,i(p,"target",function(){return this._target},function(t){this._target!=t&&(this._target=t,this.clearVirtualLayoutCache())}),i(p,"useVirtualLayout",function(){return this._useVirtualLayout},function(t){this._useVirtualLayout!=t&&(this._useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this._useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())}),i(p,"typicalLayoutRect",function(){return this._typicalLayoutRect},function(t){this._typicalLayoutRect!=t&&(this._typicalLayoutRect=t,this.target&&this.target.invalidateSize())}),p.scrollPositionChanged=function(){},p.clearVirtualLayoutCache=function(){},p.elementAdded=function(){},p.elementRemoved=function(){},p.measure=function(){},p.updateDisplayList=function(){},e}(t.EventDispatcher);e.LayoutBase=i,t.registerClass(i,"egret.gui.LayoutBase")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._mouseWheelSpeed=20}__extends(i,e);var n=__define,s=i;return p=s.prototype,n(p,"useVirtualLayout",void 0,function(){}),n(p,"mouseWheelSpeed",function(){return this._mouseWheelSpeed},function(t){0==t&&(t=1),this._mouseWheelSpeed=t}),p.getElementBoundsLeftOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.x-this._mouseWheelSpeed,i.right=e.x,i},p.getElementBoundsRightOfScrollRect=function(e){var i=new t.Rectangle;return i.x=e.right,i.right=e.right+this._mouseWheelSpeed,i},p.getElementBoundsAboveScrollRect=function(e){var i=new t.Rectangle;return i.y=e.y-this._mouseWheelSpeed,i.bottom=e.y,i},p.getElementBoundsBelowScrollRect=function(e){var i=new t.Rectangle;return i.y=e.bottom,i.bottom=e.bottom+this._mouseWheelSpeed,i},p.measure=function(){if(e.prototype.measure.call(this),null!=this.target){for(var t=0,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r,o,h=a.horizontalCenter,l=a.verticalCenter,u=a.left,d=a.right,p=a.top,c=a.bottom;isNaN(u)||isNaN(d)?isNaN(h)?isNaN(u)&&isNaN(d)?r=a.preferredX:(r=isNaN(u)?0:u,r+=isNaN(d)?0:d):r=2*Math.abs(h):r=u+d,isNaN(p)||isNaN(c)?isNaN(l)?isNaN(p)&&isNaN(c)?o=a.preferredY:(o=isNaN(p)?0:p,o+=isNaN(c)?0:c):o=2*Math.abs(l):o=p+c;var _=a.preferredWidth,g=a.preferredHeight;t=Math.ceil(Math.max(t,r+_)),i=Math.ceil(Math.max(i,o+g))}}this.target.measuredWidth=t,this.target.measuredHeight=i}},p.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),null!=this.target){for(var n=this.target.numElements,s=0,a=0,r=0;n>r;r++){var o=this.target.getElementAt(r);if(null!=o&&o.includeInLayout){var h=o.horizontalCenter,l=o.verticalCenter,u=o.left,d=o.right,p=o.top,c=o.bottom,_=o.percentWidth,g=o.percentHeight,v=0/0,f=0/0;isNaN(u)||isNaN(d)?isNaN(_)||(v=Math.round(t*Math.min(.01*_,1))):v=t-d-u,isNaN(p)||isNaN(c)?isNaN(g)||(f=Math.round(i*Math.min(.01*g,1))):f=i-c-p,o.setLayoutBoundsSize(v,f);var m=o.layoutBoundsWidth,E=o.layoutBoundsHeight,y=0/0,C=0/0;y=isNaN(h)?isNaN(u)?isNaN(d)?o.layoutBoundsX:t-m-d:u:Math.round((t-m)/2+h),C=isNaN(l)?isNaN(p)?isNaN(c)?o.layoutBoundsY:i-E-c:p:Math.round((i-E)/2+l),o.setLayoutBoundsPosition(y,C),s=Math.max(s,y+m),a=Math.max(a,C+E)}}this.target.setContentSize(s,a)}},i}(e.LayoutBase);e.BasicLayout=i,t.registerClass(i,"egret.gui.BasicLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.LEFT="left",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_WIDTH="justifyUsingWidth",t}();e.ColumnAlign=i,t.registerClass(i,"egret.gui.ColumnAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.elementSizeTable=[],this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1,this.maxElementHeight=0}__extends(i,e);var s=__define,a=i;return p=a.prototype,s(p,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(p,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(p,"gap",function(){return this._gap},function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(p,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),p.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},p.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},p.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=this.getElementTotalSize(),n=Math.max(this.maxElementHeight,t),s=this.target.getElementIndicesInView(),a=s.length,r=0;a>r;r++){var o=s[r],h=this.target.getElementAt(o);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,u=h.preferredHeight;i+=l,i-=isNaN(this.elementSizeTable[o])?e:this.elementSizeTable[o],n=Math.max(n,u)}}var d=isNaN(this._padding)?0:this._padding,p=isNaN(this._paddingLeft)?d:this._paddingLeft,c=isNaN(this._paddingRight)?d:this._paddingRight,_=isNaN(this._paddingTop)?d:this._paddingTop,g=isNaN(this._paddingBottom)?d:this._paddingBottom,v=p+c,f=_+g;this.target.measuredWidth=Math.ceil(i+v),this.target.measuredHeight=Math.ceil(n+f)},p.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;t>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r=a.preferredWidth,o=a.preferredHeight;i+=r,n=Math.max(n,o)}else e--}var h=isNaN(this._gap)?0:this._gap;i+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,u=isNaN(this._paddingLeft)?l:this._paddingLeft,d=isNaN(this._paddingRight)?l:this._paddingRight,p=isNaN(this._paddingTop)?l:this._paddingTop,c=isNaN(this._paddingBottom)?l:this._paddingBottom,_=u+d,g=p+c;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},p.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(s+a),Math.ceil(r+o))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},p.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingLeft)?e:this._paddingLeft,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var s;return this.target&&(s=this.target.getElementAt(t)),s?s.x:i}for(var a=this.typicalLayoutRect?this.typicalLayoutRect.width:71,r=i,o=0;t>o;o++){var h=this.elementSizeTable[o];isNaN(h)&&(h=a),r+=h+n}return r},p.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.width:71),e}return this.target?this.target.getElementAt(t).width:0},p.getElementTotalSize=function(){for(var t=this.typicalLayoutRect?this.typicalLayoutRect.width:71,e=isNaN(this._gap)?0:this._gap,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.elementSizeTable[s];isNaN(a)&&(a=t),i+=a+e}return i-=e},p.elementAdded=function(t){if(this.useVirtualLayout){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.width:71;this.elementSizeTable.splice(t,0,i)}},p.elementRemoved=function(t){this.useVirtualLayout&&(e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1))},p.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)},p.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),a=this.getElementSize(n),r=isNaN(this._gap)?0:this._gap;return t>=s&&s+a+r>t?n:e==i?-1:s>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},p.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},p.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?t:this._paddingLeft,i=isNaN(this._paddingRight)?t:this._paddingRight,n=(isNaN(this._paddingTop)?t:this._paddingTop,isNaN(this._paddingBottom)?t:this._paddingBottom,this.target.numElements),s=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,a=this.target.horizontalScrollPosition;if(a>s-i)return this.startIndex=-1,this.endIndex=-1,!1;var r=this.target.horizontalScrollPosition+this.target.width;if(e>r)return this.startIndex=-1,this.endIndex=-1,!1;var o=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(a,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(r,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),o!=this.startIndex||h!=this.endIndex},p.updateDisplayListVirtual=function(e,i){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var n,s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingRight)?s:this._paddingRight,r=isNaN(this._paddingTop)?s:this._paddingTop,o=isNaN(this._paddingBottom)?s:this._paddingBottom,h=isNaN(this._gap)?0:this._gap,l=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return n=this.getStartPosition(l)-h+a,void this.target.setContentSize(Math.ceil(n),this.target.contentHeight);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var u=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,d=this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,p=0;u||(this._verticalAlign==t.VerticalAlign.MIDDLE?p=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(p=1));var c,_=Math.max(0,i-r-o),g=Math.ceil(_),v=this.typicalLayoutRect?this.typicalLayoutRect.height:22,f=this.typicalLayoutRect?this.typicalLayoutRect.width:71,m=Math.max(v,this.maxElementHeight);if(d){for(var E=this.startIndex;E<=this.endIndex;E++)c=this.target.getVirtualElementAt(E),c&&c.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,c.preferredHeight));g=Math.ceil(Math.max(_,this.maxElementHeight))}for(var y,C=0,S=0,I=0,T=!1,x=this.startIndex;x<=this.endIndex;x++){var P=0;c=this.target.getVirtualElementAt(x),c&&(c.includeInLayout?(u?(S=r,c.setLayoutBoundsSize(0/0,g)):(P=(_-c.layoutBoundsHeight)*p,P=P>0?P:0,S=r+P),d||(this.maxElementHeight=Math.max(this.maxElementHeight,c.preferredHeight)),I=Math.max(I,c.layoutBoundsHeight),T||(y=isNaN(this.elementSizeTable[x])?f:this.elementSizeTable[x],y!=c.layoutBoundsWidth&&(T=!0)),0==x&&this.elementSizeTable.length>0&&this.elementSizeTable[x]!=c.layoutBoundsWidth&&(this.typicalLayoutRect=null),this.elementSizeTable[x]=c.layoutBoundsWidth,C=this.getStartPosition(x),c.setLayoutBoundsPosition(Math.round(C),Math.round(S))):this.elementSizeTable[x]=0)}I+=r+o,n=this.getStartPosition(l)-h+a,this.target.setContentSize(Math.ceil(n),Math.ceil(I)),(T||m<this.maxElementHeight)&&this.target.invalidateSize()},p.updateDisplayListReal=function(e,s){var a=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?a:this._paddingLeft,o=isNaN(this._paddingRight)?a:this._paddingRight,h=isNaN(this._paddingTop)?a:this._paddingTop,l=isNaN(this._paddingBottom)?a:this._paddingBottom,u=isNaN(this._gap)?0:this._gap,d=Math.max(0,e-r-o),p=Math.max(0,s-h-l),c=this._horizontalAlign==t.HorizontalAlign.JUSTIFY,_=this._verticalAlign==t.VerticalAlign.JUSTIFY||this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY,g=0;_||(this._verticalAlign==t.VerticalAlign.MIDDLE?g=.5:this._verticalAlign==t.VerticalAlign.BOTTOM&&(g=1));var v,f,m,E=this.target.numElements,y=E,C=r,S=h,I=0,T=0,x=[],P=d;for(v=0;E>v;v++)f=this.target.getElementAt(v),f&&f.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,f.preferredHeight),c?I+=f.preferredWidth:isNaN(f.percentWidth)?P-=f.preferredWidth:(T+=f.percentWidth,m=new n,m.layoutElement=f,m.percent=f.percentWidth,m.min=f.minWidth,m.max=f.maxWidth,x.push(m))):y--;P-=u*(y-1),P=P>0?P:0;var L,D=d-I-u*(y-1),R=y,A=[];if(c){if(0>D){for(L=P/y,v=0;E>v;v++)if(f=this.target.getElementAt(v),f&&f.includeInLayout){var N=f.preferredWidth;L>=N&&(P-=N,R--)}P=P>0?P:0}}else if(T>0){i.flexChildrenProportionally(d,P,T,x);var w=0,U=x.length;for(v=0;U>v;v++){m=x[v];var H=Math.round(m.size+w);w+=m.size-H,A[m.layoutElement.hashCode]=H,P-=H}P=P>0?P:0}this._horizontalAlign==t.HorizontalAlign.CENTER?C=r+.5*P:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(C=r+P);var b=r,O=h,M=0,B=0,V=Math.ceil(p);this._verticalAlign==t.VerticalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(p,this.maxElementHeight))),w=0;var F,k;for(v=0;E>v;v++){var z=0;if(f=this.target.getElementAt(v),f&&f.includeInLayout){if(F=0/0,c?(k=0/0,D>0?k=P*f.preferredWidth/I:0>D&&f.preferredWidth>L&&(k=P/R),isNaN(k)||(F=Math.round(k+w),w+=k-F)):F=A[f.hashCode],_)S=h,f.setLayoutBoundsSize(F,V);else{var G=0/0;if(!isNaN(f.percentHeight)){var W=Math.min(100,f.percentHeight);G=Math.round(p*W*.01)}f.setLayoutBoundsSize(F,G),z=(p-f.layoutBoundsHeight)*g,z=z>0?z:0,S=h+z}f.setLayoutBoundsPosition(Math.round(C),Math.round(S)),M=Math.ceil(f.layoutBoundsWidth),B=Math.ceil(f.layoutBoundsHeight),b=Math.max(b,C+M),O=Math.max(O,S+B),C+=M+u}}this.target.setContentSize(Math.ceil(b+o),Math.ceil(O+l))},i.flexChildrenProportionally=function(t,e,i,n){var s,a=n.length;do{s=!0;var r=e-t*i/100;r>0?e-=r:r=0;for(var o=e/i,h=0;a>h;h++){var l=n[h],u=l.percent*o;if(u<l.min){var d=l.min;l.size=d,n[h]=n[--a],n[a]=l,i-=l.percent,r>=d?r-=d:(e-=d-r,r=0),s=!1;break}if(u>l.max){var p=l.max;l.size=p,n[h]=n[--a],n[a]=l,i-=l.percent,r>=p?r-=p:(e-=p-r,r=0),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.HorizontalLayout=i,t.registerClass(i,"egret.gui.HorizontalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}var e=t;return p=e.prototype,t}();t.registerClass(n,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.TOP="top",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_HEIGHT="justifyUsingHeight",t}();e.RowAlign=i,t.registerClass(i,"egret.gui.RowAlign")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function n(){i.call(this),this.explicitHorizontalGap=0/0,this._horizontalGap=6,this.explicitVerticalGap=0/0,this._verticalGap=6,this._columnCount=-1,this._requestedColumnCount=0,this._rowCount=-1,this._requestedRowCount=0,this.explicitColumnWidth=0/0,this._columnWidth=0/0,this.explicitRowHeight=0/0,this._rowHeight=0/0,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this._horizontalAlign=t.HorizontalAlign.JUSTIFY,this._verticalAlign=t.VerticalAlign.JUSTIFY,this._columnAlign=e.ColumnAlign.LEFT,this._rowAlign=e.RowAlign.TOP,this._orientation=e.TileOrientation.ROWS,this.maxElementWidth=0,this.maxElementHeight=0,this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1}__extends(n,i);var s=__define,a=n;return p=a.prototype,s(p,"horizontalGap",function(){return this._horizontalGap},function(t){t!=this._horizontalGap&&(this.explicitHorizontalGap=t,this._horizontalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(p,"verticalGap",function(){return this._verticalGap},function(t){t!=this._verticalGap&&(this.explicitVerticalGap=t,this._verticalGap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(p,"columnCount",function(){return this._columnCount}),s(p,"requestedColumnCount",function(){return this._requestedColumnCount},function(t){this._requestedColumnCount!=t&&(this._requestedColumnCount=t,this._columnCount=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"rowCount",function(){return this._rowCount}),s(p,"requestedRowCount",function(){return this._requestedRowCount},function(t){this._requestedRowCount!=t&&(this._requestedRowCount=t,this._rowCount=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"columnWidth",function(){return this._columnWidth},function(t){t!=this._columnWidth&&(this.explicitColumnWidth=t,this._columnWidth=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"rowHeight",function(){return this._rowHeight},function(t){t!=this._rowHeight&&(this.explicitRowHeight=t,this._rowHeight=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"columnAlign",function(){return this._columnAlign},function(t){this._columnAlign!=t&&(this._columnAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"rowAlign",function(){return this._rowAlign},function(t){this._rowAlign!=t&&(this._rowAlign=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"orientation",function(){return this._orientation},function(t){this._orientation!=t&&(this._orientation=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("orientationChanged")&&this.dispatchEventWith("orientationChanged"))}),p.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},p.measure=function(){if(this.target){var t=this._columnCount,e=this._rowCount,i=this._columnWidth,n=this._rowHeight,s=0,a=0;this.calculateRowAndColumn(this.target.$getExplicitWidth(),this.target.$getExplicitHeight());var r=this._requestedColumnCount>0?this._requestedColumnCount:this._columnCount,o=this._requestedRowCount>0?this._requestedRowCount:this._rowCount,h=isNaN(this._horizontalGap)?0:this._horizontalGap,l=isNaN(this._verticalGap)?0:this._verticalGap;r>0&&(s=r*(this._columnWidth+h)-h),o>0&&(a=o*(this._rowHeight+l)-l);var u=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?u:this._paddingLeft,p=isNaN(this._paddingRight)?u:this._paddingRight,c=isNaN(this._paddingTop)?u:this._paddingTop,_=isNaN(this._paddingBottom)?u:this._paddingBottom,g=d+p,v=c+_;this.target.measuredWidth=Math.ceil(s+g),this.target.measuredHeight=Math.ceil(a+v),this._columnCount=t,this._rowCount=e,this._columnWidth=i,this._rowHeight=n}},p.calculateRowAndColumn=function(t,i){var n=isNaN(this._horizontalGap)?0:this._horizontalGap,s=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var a=this.target.numElements,r=a,o=0;r>o;o++){var h=this.target.getElementAt(o);h&&!h.includeInLayout&&a--}if(0==a)return void(this._rowCount=this._columnCount=0);(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize(),this._columnWidth=isNaN(this.explicitColumnWidth)?this.maxElementWidth:this.explicitColumnWidth,this._rowHeight=isNaN(this.explicitRowHeight)?this.maxElementHeight:this.explicitRowHeight;var l=this._columnWidth+n;0>=l&&(l=1);var u=this._rowHeight+s;0>=u&&(u=1);var d=this.orientation==e.TileOrientation.COLUMNS,p=!isNaN(t),c=!isNaN(i),_=isNaN(this._padding)?0:this._padding,g=isNaN(this._paddingLeft)?_:this._paddingLeft,v=isNaN(this._paddingRight)?_:this._paddingRight,f=isNaN(this._paddingTop)?_:this._paddingTop,m=isNaN(this._paddingBottom)?_:this._paddingBottom;if(this._requestedColumnCount>0||this._requestedRowCount>0)this._requestedRowCount>0&&(this._rowCount=Math.min(this._requestedRowCount,a)),this._requestedColumnCount>0&&(this._columnCount=Math.min(this._requestedColumnCount,a));
else if(p||c)if(!p||c&&d){var E=Math.max(0,i-f-m);this._rowCount=Math.floor((E+s)/u),this._rowCount=Math.max(1,Math.min(this._rowCount,a))}else{var y=Math.max(0,t-g-v);this._columnCount=Math.floor((y+n)/l),this._columnCount=Math.max(1,Math.min(this._columnCount,a))}else{var C=Math.sqrt(a*l*u);d?this._rowCount=Math.max(1,Math.round(C/u)):this._columnCount=Math.max(1,Math.round(C/l))}-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(a/this._columnCount))),-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(a/this._rowCount))),this._requestedColumnCount>0&&this._requestedRowCount>0&&(this.orientation==e.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(a/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(a/this._requestedRowCount)))},p.updateMaxElementSize=function(){this.target&&(this.useVirtualLayout?this.updateMaxElementSizeVirtual():this.updateMaxElementSizeReal())},p.updateMaxElementSizeVirtual=function(){var t=this.typicalLayoutRect?this.typicalLayoutRect.height:22,e=this.typicalLayoutRect?this.typicalLayoutRect.width:22;if(this.maxElementWidth=Math.max(this.maxElementWidth,e),this.maxElementHeight=Math.max(this.maxElementHeight,t),-1!=this.startIndex&&-1!=this.endIndex)for(var i=this.startIndex;i<=this.endIndex;i++){var n=this.target.getVirtualElementAt(i);n&&n.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,n.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,n.preferredHeight))}},p.updateMaxElementSizeReal=function(){for(var t=this.target.numElements,e=0;t>e;e++){var i=this.target.getElementAt(e);i&&i.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,i.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,i.preferredHeight))}},p.clearVirtualLayoutCache=function(){i.prototype.clearVirtualLayoutCache.call(this),this.maxElementWidth=0,this.maxElementHeight=0},p.scrollPositionChanged=function(){if(i.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},p.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;var t=this.target.numElements;if(!this.useVirtualLayout)return this.startIndex=0,this.endIndex=t-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var i=this.startIndex,n=this.endIndex,s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?s:this._paddingLeft,r=isNaN(this._paddingTop)?s:this._paddingTop,o=isNaN(this._horizontalGap)?0:this._horizontalGap,h=isNaN(this._verticalGap)?0:this._verticalGap;if(this.orientation==e.TileOrientation.COLUMNS){var l=this._columnWidth+o;if(0>=l)return this.startIndex=0,this.endIndex=t-1,!1;var u=this.target.horizontalScrollPosition,d=this.target.horizontalScrollPosition+this.target.width,p=Math.floor((u-a)/l);0>p&&(p=0);var c=Math.ceil((d-a)/l);0>c&&(c=0),this.startIndex=Math.min(t-1,Math.max(0,p*this._rowCount)),this.endIndex=Math.min(t-1,Math.max(0,c*this._rowCount-1))}else{var _=this._rowHeight+h;if(0>=_)return this.startIndex=0,this.endIndex=t-1,!1;var g=this.target.verticalScrollPosition,v=this.target.verticalScrollPosition+this.target.height,f=Math.floor((g-r)/_);0>f&&(f=0);var m=Math.ceil((v-r)/_);0>m&&(m=0),this.startIndex=Math.min(t-1,Math.max(0,f*this._columnCount)),this.endIndex=Math.min(t-1,Math.max(0,m*this._columnCount-1))}return this.startIndex!=i||this.endIndex!=n},p.updateDisplayList=function(t,n){if(i.prototype.updateDisplayList.call(this,t,n),this.target){var s=isNaN(this._padding)?0:this._padding,a=isNaN(this._paddingLeft)?s:this._paddingLeft,r=isNaN(this._paddingRight)?s:this._paddingRight,o=isNaN(this._paddingTop)?s:this._paddingTop,h=isNaN(this._paddingBottom)?s:this._paddingBottom;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{if(this.calculateRowAndColumn(t,n),0==this._rowCount||0==this._columnCount)return void this.target.setContentSize(a+r,o+h);this.adjustForJustify(t,n),this.getIndexInView()}if(this.useVirtualLayout&&(this.calculateRowAndColumn(t,n),this.adjustForJustify(t,n)),-1==this.startIndex||-1==this.endIndex)return void this.target.setContentSize(0,0);this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);for(var l,u,d,p,c,_=this.orientation==e.TileOrientation.COLUMNS,g=this.startIndex,v=isNaN(this._horizontalGap)?0:this._horizontalGap,f=isNaN(this._verticalGap)?0:this._verticalGap,m=this.startIndex;m<=this.endIndex;m++)l=this.useVirtualLayout?this.target.getVirtualElementAt(m):this.target.getElementAt(m),null!=l&&l.includeInLayout&&(_?(p=Math.ceil((g+1)/this._rowCount)-1,c=Math.ceil((g+1)%this._rowCount)-1,-1==c&&(c=this._rowCount-1)):(p=Math.ceil((g+1)%this._columnCount)-1,-1==p&&(p=this._columnCount-1),c=Math.ceil((g+1)/this._columnCount)-1),u=p*(this._columnWidth+v)+a,d=c*(this._rowHeight+f)+o,this.sizeAndPositionElement(l,u,d,this._columnWidth,this.rowHeight),g++);var E=a+r,y=o+h,C=(this._columnWidth+v)*this._columnCount-v,S=(this._rowHeight+f)*this._rowCount-f;this.target.setContentSize(Math.ceil(C+E),Math.ceil(S+y))}},p.sizeAndPositionElement=function(e,i,n,s,a){var r=0/0,o=0/0;this.horizontalAlign==t.HorizontalAlign.JUSTIFY?r=s:isNaN(e.percentWidth)||(r=s*e.percentWidth*.01),this.verticalAlign==t.VerticalAlign.JUSTIFY?o=a:isNaN(e.percentHeight)||(o=a*e.percentHeight*.01),e.setLayoutBoundsSize(Math.round(r),Math.round(o));var h=i;switch(this.horizontalAlign){case t.HorizontalAlign.RIGHT:h+=s-e.layoutBoundsWidth;break;case t.HorizontalAlign.CENTER:h=i+(s-e.layoutBoundsWidth)/2}var l=n;switch(this.verticalAlign){case t.VerticalAlign.BOTTOM:l+=a-e.layoutBoundsHeight;break;case t.VerticalAlign.MIDDLE:l+=(a-e.layoutBoundsHeight)/2}e.setLayoutBoundsPosition(Math.round(h),Math.round(l))},p.adjustForJustify=function(t,i){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom,h=Math.max(0,t-s-a),l=Math.max(0,i-r-o);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap),isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap),this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap,this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;var u=this._columnWidth+this._horizontalGap;0>=u&&(u=1);var d=this._rowHeight+this._verticalGap;0>=d&&(d=1);var p,c=l-this._rowHeight*this._rowCount,_=h-this._columnWidth*this._columnCount;c>0&&(this.rowAlign==e.RowAlign.JUSTIFY_USING_GAP?(p=Math.max(1,this._rowCount-1),this._verticalGap=c/p):this.rowAlign==e.RowAlign.JUSTIFY_USING_HEIGHT&&this._rowCount>0&&(this._rowHeight+=(c-(this._rowCount-1)*this._verticalGap)/this._rowCount)),_>0&&(this.columnAlign==e.ColumnAlign.JUSTIFY_USING_GAP?(p=Math.max(1,this._columnCount-1),this._horizontalGap=_/p):this.columnAlign==e.ColumnAlign.JUSTIFY_USING_WIDTH&&this._columnCount>0&&(this._columnWidth+=(_-(this._columnCount-1)*this._horizontalGap)/this._columnCount))},n}(e.LayoutBase);e.TileLayout=i,t.registerClass(i,"egret.gui.TileLayout")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.ROWS="rows",t.COLUMNS="columns",t}();e.TileOrientation=i,t.registerClass(i,"egret.gui.TileOrientation")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this._horizontalAlign=t.HorizontalAlign.LEFT,this._verticalAlign=t.VerticalAlign.TOP,this._gap=6,this._padding=0,this._paddingLeft=0/0,this._paddingRight=0/0,this._paddingTop=0/0,this._paddingBottom=0/0,this.elementSizeTable=[],this.startIndex=-1,this.endIndex=-1,this.indexInViewCalculated=!1,this.maxElementWidth=0}__extends(i,e);var s=__define,a=i;return p=a.prototype,s(p,"horizontalAlign",function(){return this._horizontalAlign},function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(p,"verticalAlign",function(){return this._verticalAlign},function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.target&&this.target.invalidateDisplayList())}),s(p,"gap",function(){return this._gap},function(t){this._gap!=t&&(this._gap=t,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))}),s(p,"padding",function(){return this._padding},function(t){this._padding!=t&&(this._padding=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingLeft",function(){return this._paddingLeft},function(t){this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingRight",function(){return this._paddingRight},function(t){this._paddingRight!=t&&(this._paddingRight=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingTop",function(){return this._paddingTop},function(t){this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetSizeAndDisplayList())}),s(p,"paddingBottom",function(){return this._paddingBottom},function(t){this._paddingBottom!=t&&(this._paddingBottom=t,this.invalidateTargetSizeAndDisplayList())}),p.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())},p.measure=function(){e.prototype.measure.call(this),this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())},p.measureVirtual=function(){for(var t=(this.target.numElements,this.typicalLayoutRect?this.typicalLayoutRect.height:22),e=this.typicalLayoutRect?this.typicalLayoutRect.width:71,i=Math.max(this.maxElementWidth,e),n=this.getElementTotalSize(),s=this.target.getElementIndicesInView(),a=s.length,r=0;a>r;r++){var o=s[r],h=this.target.getElementAt(o);if(null!=h&&h.includeInLayout){var l=h.preferredWidth,u=h.preferredHeight;n+=u,n-=isNaN(this.elementSizeTable[o])?t:this.elementSizeTable[o],i=Math.max(i,l)}}var d=isNaN(this._padding)?0:this._padding,p=isNaN(this._paddingLeft)?d:this._paddingLeft,c=isNaN(this._paddingRight)?d:this._paddingRight,_=isNaN(this._paddingTop)?d:this._paddingTop,g=isNaN(this._paddingBottom)?d:this._paddingBottom,v=p+c,f=_+g;this.target.measuredWidth=Math.ceil(i+v),this.target.measuredHeight=Math.ceil(n+f)},p.measureReal=function(){for(var t=this.target.numElements,e=t,i=0,n=0,s=0;t>s;s++){var a=this.target.getElementAt(s);if(a&&a.includeInLayout){var r=a.preferredWidth,o=a.preferredHeight;n+=o,i=Math.max(i,r)}else e--}var h=isNaN(this._gap)?0:this._gap;n+=(e-1)*h;var l=isNaN(this._padding)?0:this._padding,u=isNaN(this._paddingLeft)?l:this._paddingLeft,d=isNaN(this._paddingRight)?l:this._paddingRight,p=isNaN(this._paddingTop)?l:this._paddingTop,c=isNaN(this._paddingBottom)?l:this._paddingBottom,_=u+d,g=p+c;this.target.measuredWidth=Math.ceil(i+_),this.target.measuredHeight=Math.ceil(n+g)},p.updateDisplayList=function(t,i){if(e.prototype.updateDisplayList.call(this,t,i),this.target){if(0==this.target.numElements){var n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingTop)?n:this._paddingTop,o=isNaN(this._paddingBottom)?n:this._paddingBottom;return void this.target.setContentSize(Math.ceil(s+a),Math.ceil(r+o))}this.useVirtualLayout?this.updateDisplayListVirtual(t,i):this.updateDisplayListReal(t,i)}},p.getStartPosition=function(t){var e=isNaN(this._padding)?0:this._padding,i=isNaN(this._paddingTop)?e:this._paddingTop,n=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var s;return this.target&&(s=this.target.getElementAt(t)),s?s.y:i}for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,r=i,o=0;t>o;o++){var h=this.elementSizeTable[o];isNaN(h)&&(h=a),r+=h+n}return r},p.getElementSize=function(t){if(this.useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.typicalLayoutRect?this.typicalLayoutRect.height:22),e}return this.target?this.target.getElementAt(t).height:0},p.getElementTotalSize=function(){for(var t=isNaN(this._gap)?0:this._gap,e=this.typicalLayoutRect?this.typicalLayoutRect.height:22,i=0,n=this.target.numElements,s=0;n>s;s++){var a=this.elementSizeTable[s];isNaN(a)&&(a=e),i+=a+t}return i-=t},p.elementAdded=function(t){e.prototype.elementAdded.call(this,t);var i=this.typicalLayoutRect?this.typicalLayoutRect.height:22;this.elementSizeTable.splice(t,0,i)},p.elementRemoved=function(t){e.prototype.elementRemoved.call(this,t),this.elementSizeTable.splice(t,1)},p.clearVirtualLayoutCache=function(){e.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementWidth=0},p.findIndexAt=function(t,e,i){var n=Math.floor(.5*(e+i)),s=this.getStartPosition(n),a=this.getElementSize(n),r=isNaN(this._gap)?0:this._gap;return t>=s&&s+a+r>t?n:e==i?-1:s>t?this.findIndexAt(t,e,Math.max(e,n-1)):this.findIndexAt(t,Math.min(n+1,i),i)},p.scrollPositionChanged=function(){if(e.prototype.scrollPositionChanged.call(this),this.useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},p.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;if(isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var t=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingTop)?t:this._paddingTop,i=isNaN(this._paddingBottom)?t:this._paddingBottom,n=this.target.numElements,s=this.getStartPosition(n-1)+this.elementSizeTable[n-1]+i,a=this.target.verticalScrollPosition;if(a>s-i)return this.startIndex=-1,this.endIndex=-1,!1;var r=this.target.verticalScrollPosition+this.target.height;if(e>r)return this.startIndex=-1,this.endIndex=-1,!1;var o=this.startIndex,h=this.endIndex;return this.startIndex=this.findIndexAt(a,0,n-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(r,0,n-1),-1==this.endIndex&&(this.endIndex=n-1),o!=this.startIndex||h!=this.endIndex},p.updateDisplayListVirtual=function(e){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var i,n=isNaN(this._padding)?0:this._padding,s=isNaN(this._paddingLeft)?n:this._paddingLeft,a=isNaN(this._paddingRight)?n:this._paddingRight,r=isNaN(this._paddingBottom)?n:this._paddingBottom,o=isNaN(this._gap)?0:this._gap,h=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)return i=this.getStartPosition(h)-o+r,void this.target.setContentSize(this.target.contentWidth,Math.ceil(i));this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var l=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,u=this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,d=0;l||(this._horizontalAlign==t.HorizontalAlign.CENTER?d=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(d=1));var p,c=Math.max(0,e-s-a),_=Math.ceil(c),g=this.typicalLayoutRect?this.typicalLayoutRect.height:22,v=this.typicalLayoutRect?this.typicalLayoutRect.width:71,f=Math.max(v,this.maxElementWidth);if(u){for(var m=this.startIndex;m<=this.endIndex;m++)p=this.target.getVirtualElementAt(m),p&&p.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,p.preferredWidth));_=Math.ceil(Math.max(c,this.maxElementWidth))}for(var E,y=0,C=0,S=0,I=!1,T=this.startIndex;T<=this.endIndex;T++){var x=0;p=this.target.getVirtualElementAt(T),p&&(p.includeInLayout?(l?(y=s,p.setLayoutBoundsSize(_,0/0)):(x=(c-p.layoutBoundsWidth)*d,x=x>0?x:0,y=s+x),u||(this.maxElementWidth=Math.max(this.maxElementWidth,p.preferredWidth)),S=Math.max(S,p.layoutBoundsWidth),I||(E=isNaN(this.elementSizeTable[T])?g:this.elementSizeTable[T],E!=p.layoutBoundsHeight&&(I=!0)),0==T&&this.elementSizeTable.length>0&&this.elementSizeTable[T]!=p.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[T]=p.layoutBoundsHeight,C=this.getStartPosition(T),p.setLayoutBoundsPosition(Math.round(y),Math.round(C))):this.elementSizeTable[T]=0)}S+=s+a,i=this.getStartPosition(h)-o+r,this.target.setContentSize(Math.ceil(S),Math.ceil(i)),(I||f<this.maxElementWidth)&&this.target.invalidateSize()},p.updateDisplayListReal=function(e,s){var a=isNaN(this._padding)?0:this._padding,r=isNaN(this._paddingLeft)?a:this._paddingLeft,o=isNaN(this._paddingRight)?a:this._paddingRight,h=isNaN(this._paddingTop)?a:this._paddingTop,l=isNaN(this._paddingBottom)?a:this._paddingBottom,u=isNaN(this._gap)?0:this._gap,d=Math.max(0,e-r-o),p=Math.max(0,s-h-l),c=this._verticalAlign==t.VerticalAlign.JUSTIFY,_=this._horizontalAlign==t.HorizontalAlign.JUSTIFY||this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY,g=0;_||(this._horizontalAlign==t.HorizontalAlign.CENTER?g=.5:this._horizontalAlign==t.HorizontalAlign.RIGHT&&(g=1));var v,f,m,E=this.target.numElements,y=E,C=r,S=h,I=0,T=0,x=[],P=p;for(v=0;E>v;v++)f=this.target.getElementAt(v),f&&f.includeInLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,f.preferredWidth),c?I+=f.preferredHeight:isNaN(f.percentHeight)?P-=f.preferredHeight:(T+=f.percentHeight,m=new n,m.layoutElement=f,m.percent=f.percentHeight,m.min=f.minHeight,m.max=f.maxHeight,x.push(m))):y--;P-=(y-1)*u,P=P>0?P:0;var L,D=p-I-u*(y-1),R=y,A=[];if(c){if(0>D){for(L=P/y,v=0;E>v;v++)if(f=this.target.getElementAt(v),f&&f.includeInLayout){var N=f.preferredHeight;L>=N&&(P-=N,R--)}P=P>0?P:0}}else if(T>0){i.flexChildrenProportionally(p,P,T,x);var w=0,U=x.length;for(v=0;U>v;v++){m=x[v];var H=Math.round(m.size+w);w+=m.size-H,A[m.layoutElement.hashCode]=H,P-=H}P=P>0?P:0}this._verticalAlign==t.VerticalAlign.MIDDLE?S=h+.5*P:this._verticalAlign==t.VerticalAlign.BOTTOM&&(S=h+P);var b=r,O=h,M=0,B=0,V=Math.ceil(d);this._horizontalAlign==t.HorizontalAlign.CONTENT_JUSTIFY&&(V=Math.ceil(Math.max(d,this.maxElementWidth))),w=0;var F,k=0/0;for(v=0;E>v;v++){var z=0;if(f=this.target.getElementAt(v),f&&f.includeInLayout){if(k=0/0,c?(F=0/0,D>0?F=P*f.preferredHeight/I:0>D&&f.preferredHeight>L&&(F=P/R),isNaN(F)||(k=Math.round(F+w),w+=F-k)):k=A[f.hashCode],_)C=r,f.setLayoutBoundsSize(V,k);else{var G=0/0;if(!isNaN(f.percentWidth)){var W=Math.min(100,f.percentWidth);G=Math.round(d*W*.01)}f.setLayoutBoundsSize(G,k),z=(d-f.layoutBoundsWidth)*g,z=z>0?z:0,C=r+z}f.setLayoutBoundsPosition(Math.round(C),Math.round(S)),M=Math.ceil(f.layoutBoundsWidth),B=Math.ceil(f.layoutBoundsHeight),b=Math.max(b,C+M),O=Math.max(O,S+B),S+=B+u}}this.target.setContentSize(Math.ceil(b+o),Math.ceil(O+l))},i.flexChildrenProportionally=function(t,e,i,n){var s,a=n.length;do{s=!0;var r=e-t*i/100;r>0?e-=r:r=0;for(var o=e/i,h=0;a>h;h++){var l=n[h],u=l.percent*o;if(u<l.min){var d=l.min;l.size=d,n[h]=n[--a],n[a]=l,i-=l.percent,r>=d?r-=d:(e-=d-r,r=0),s=!1;break}if(u>l.max){var p=l.max;l.size=p,n[h]=n[--a],n[a]=l,i-=l.percent,r>=p?r-=p:(e-=p-r,r=0),s=!1;break}l.size=u}}while(!s)},i}(e.LayoutBase);e.VerticalLayout=i,t.registerClass(i,"egret.gui.VerticalLayout");var n=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}var e=t;return p=e.prototype,t}();t.registerClass(n,"ChildInfo")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var i=__define,n=t;return p=n.prototype,t.getImpl=function(){return t._impl||(t._impl=new e.PopUpManagerImpl),t._impl},i(t,"modalColor",function(){return t.getImpl().modalColor},function(e){t.getImpl().modalColor=e}),i(t,"modalAlpha",function(){return t.getImpl().modalAlpha},function(e){t.getImpl().modalAlpha=e}),t.addPopUp=function(i,n,s){void 0===n&&(n=!1),void 0===s&&(s=!0),t.getImpl().addPopUp(i,n,s),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.ADD_POPUP,i,n)},t.removePopUp=function(i){t.getImpl().removePopUp(i),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.REMOVE_POPUP,i)},t.centerPopUp=function(e){t.getImpl().centerPopUp(e)},t.bringToFront=function(i){t.getImpl().bringToFront(i),e.PopUpEvent.dispatchPopUpEvent(t.getImpl(),e.PopUpEvent.BRING_TO_FRONT,i)},i(t,"popUpList",function(){return t.getImpl().popUpList}),t.addEventListener=function(e,i,n,s,a){void 0===s&&(s=!1),void 0===a&&(a=0),t.getImpl().addEventListener(e,i,n,s,a)},t.removeEventListener=function(e,i,n,s){void 0===s&&(s=!1),t.getImpl().removeEventListener(e,i,n,s)},t}();e.PopUpManager=i,t.registerClass(i,"egret.gui.PopUpManager")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function s(){i.call(this),this._popUpList=[],this.popUpDataList=[],this._modalColor=0,this._modalAlpha=.5,this.invalidateModalFlag=!1,this.modalMask=null}__extends(s,i);var a=__define,r=s;return p=r.prototype,a(p,"popUpList",function(){return this._popUpList.concat()}),p.findPopUpData=function(t){for(var e=this.popUpDataList,i=e.length,n=0;i>n;n++){var s=e[n];if(s.popUp==t)return s}return null},p.addPopUp=function(t,i,a){void 0===i&&(i=!1),void 0===a&&(a=!0);var r=e.UIGlobals.uiStage,o=this.findPopUpData(t);o?(o.modal=i,t.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(o=new n(t,i),this.popUpDataList.push(o),this._popUpList.push(t)),r.popUpContainer.addElement(t),a&&this.centerPopUp(t),"isPopUp"in t&&(t.isPopUp=!0),i&&this.invalidateModal(),t.addEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this)},p.onRemoved=function(t){for(var e=0,i=this.popUpDataList,n=i.length,a=0;n>a;a++){var r=i[a];if(r.popUp==t.target){"isPopUp"in r.popUp&&(r.popUp.isPopUp=!1),r.popUp.removeEventListener(s.REMOVE_FROM_UISTAGE,this.onRemoved,this),this.popUpDataList.splice(e,1),this._popUpList.splice(e,1),this.invalidateModal();break}e++}},a(p,"modalColor",function(){return this._modalColor},function(t){this._modalColor!=t&&(this._modalColor=t,this.invalidateModal())}),a(p,"modalAlpha",function(){return this._modalAlpha},function(t){this._modalAlpha!=t&&(this._modalAlpha=t,this.invalidateModal())}),p.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,e.UIGlobals.stage.addEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.addEventListener(t.Event.RENDER,this.validateModal,this),e.UIGlobals.stage.invalidate())},p.validateModal=function(){this.invalidateModalFlag=!1,e.UIGlobals.stage.removeEventListener(t.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.removeEventListener(t.Event.RENDER,this.validateModal,this),this.updateModal(e.UIGlobals.uiStage)},p.updateModal=function(t){for(var i=t.popUpContainer,n=!1,s=i.numElements-1;s>=0;s--){var a=i.getElementAt(s),r=this.findPopUpData(a);if(r&&r.modal){n=!0;break}}n?(this.modalMask||(this.modalMask=new e.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==t?(i.getElementIndex(this.modalMask)<s&&s--,i.setElementIndex(this.modalMask,s)):i.addElementAt(this.modalMask,s)):this.modalMask&&this.modalMask.parent==t&&i.removeElement(this.modalMask)},p.removePopUp=function(i){i&&i.parent&&this.findPopUpData(i)&&("removeElement"in i.parent?i.parent.removeElement(i):i.parent instanceof e.UIComponent?i.parent._removeFromDisplayList(i):i instanceof t.DisplayObject&&i.parent.removeChild(i))},p.centerPopUp=function(t){t.top=t.bottom=t.left=t.right=0/0,t.verticalCenter=t.horizontalCenter=0;var e=t.parent;e&&("validateNow"in t&&t.validateNow(),t.x=.5*(e.width-t.layoutBoundsWidth),t.y=.5*(e.height-t.layoutBoundsHeight))},p.bringToFront=function(t){var e=this.findPopUpData(t);if(e&&t.parent&&"popUpContainer"in t.parent){var i=t.parent;i.popUpContainer.setElementIndex(t,i.popUpContainer.numElements-1),this.invalidateModal()}},s.REMOVE_FROM_UISTAGE="removeFromUIStage",s}(t.EventDispatcher);e.PopUpManagerImpl=i,t.registerClass(i,"egret.gui.PopUpManagerImpl",["egret.gui.IPopUpManager","egret.IEventDispatcher"]);var n=function(){function t(t,e){this.popUp=null,this.modal=!1,this.popUp=t,this.modal=e}var e=t;return p=e.prototype,t}();t.registerClass(n,"PopUpData")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(){t.call(this)}__extends(e,t);var i=e;return p=i.prototype,p.initialize=function(){},p.apply=function(){},p.remove=function(t){},p.initializeFromObject=function(t){for(var e in t)this[e]=t[e];return this},e}(t.HashObject);e.OverrideBase=i,t.registerClass(i,"egret.gui.OverrideBase",["egret.gui.IOverride"])}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function i(e,n,s,a){t.call(this),this.propertyName="",this.position=i.LAST,this.relativeTo=null,this.target=null,this.target=e,this.propertyName=n,this.position=s,this.relativeTo=a}__extends(i,t);var n=i;return p=n.prototype,p.initialize=function(t){var i=t[this.target];if(i&&!(i instanceof e.SkinnableComponent)&&"_initialize"in i)try{i._initialize()}catch(n){}},p.apply=function(t){var e,n;try{n=t[this.relativeTo]}catch(s){}var a=t[this.target],r=this.propertyName?t[this.propertyName]:t;if(a&&r){switch(this.position){case i.FIRST:e=0;break;case i.LAST:e=-1;break;case i.BEFORE:e=r.getElementIndex(n);break;case i.AFTER:e=r.getElementIndex(n)+1}-1==e&&(e=r.numElements),r.addElementAt(a,e)}},p.remove=function(t){var e=null==this.propertyName||""==this.propertyName?t:t[this.propertyName],i=t[this.target];i&&e&&-1!=e.getElementIndex(i)&&e.removeElement(i)},i.FIRST="first",i.LAST="last",i.BEFORE="before",i.AFTER="after",i}(e.OverrideBase);e.AddItems=i,t.registerClass(i,"egret.gui.AddItems")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.END="end",t.STOP="stop",t}();e.InterruptionBehavior=i,t.registerClass(i,"egret.gui.InterruptionBehavior")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n){t.call(this),this.name=null,this.target=null,this.value=null,this.oldValue=null,this.target=e,this.name=i,this.value=n}__extends(e,t);var i=e;return p=i.prototype,p.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e[this.name],this.setPropertyValue(e,this.name,this.value,this.oldValue))},p.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setPropertyValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)},p.setPropertyValue=function(t,e,i,n){t[e]=void 0===i||null===i?i:"number"==typeof n?parseFloat(i):"boolean"==typeof n?this.toBoolean(i):i},p.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(e.OverrideBase);e.SetProperty=i,t.registerClass(i,"egret.gui.SetProperty")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i,n){t.call(this),this.target=e,this.name=i,this.value=n}__extends(e,t);var i=e;return p=i.prototype,p.apply=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.oldValue=e.getStyle(this.name),this.setStyleValue(e,this.name,this.value,this.oldValue))},p.remove=function(t){var e=null==this.target||""==this.target?t:t[this.target];null!=e&&(this.setStyleValue(e,this.name,this.oldValue,this.oldValue),this.oldValue=null)},p.setStyleValue=function(t,e,i,n){void 0===i?t.clearStyle(e):null===i?t.setStyle(e,i):"number"==typeof n?t.setStyle(e,parseFloat(i)):"boolean"==typeof n?t.setStyle(e,this.toBoolean(i)):t.setStyle(e,i)},p.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}(e.OverrideBase);e.SetStyle=i,t.registerClass(i,"egret.gui.SetStyle")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(t){function e(e,i){t.call(this),this.initialized=!1,this.name=null,this.name=e,this.overrides=i}__extends(e,t);var i=e;return p=i.prototype,p.initialize=function(t){if(!this.initialized){this.initialized=!0;for(var e=0;e<this.overrides.length;e++)this.overrides[e].initialize(t)}},e}(t.HashObject);e.State=i,t.registerClass(i,"egret.gui.State")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){this.fromState="*",this.toState="*",this.autoReverse=!1,this.interruptionBehavior=e.InterruptionBehavior.END}var i=t;return p=i.prototype,t}();e.Transition=i,t.registerClass(i,"egret.gui.Transition")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t,e){a.mapClass(t,e)}function n(t){return a.getInstance(t)}e.registerAdapter=i,e.$getAdapter=n;var s=function(){function e(){this.mapClassDic={},this.mapValueDic={}}var i=e;return p=i.prototype,p.mapClass=function(t,e,i){void 0===i&&(i="");var n=this.getKey(t)+"#"+i;this.mapClassDic[n]=e},p.getKey=function(e){return"string"==typeof e?e:t.getQualifiedClassName(e)},p.getInstance=function(e,i){void 0===i&&(i="");var n=this.getKey(e)+"#"+i;if(this.mapValueDic[n])return this.mapValueDic[n];var s=this.mapClassDic[n];if(s){var a=new s;return this.mapValueDic[n]=a,delete this.mapClassDic[n],a}t.$error(1028,n)},e}();e.Adapter=s,t.registerClass(s,"egret.gui.Adapter");var a=new s}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function t(){}var e=t;return p=e.prototype,t.adjustRelativeByXY=function(t,e){if(void 0===e&&(e=null),t&&(e||(e=t.parent),e)){var i=t.x,n=t.y,s=t.layoutBoundsHeight,a=t.layoutBoundsWidth,r=e.width,o=e.height;isNaN(t.left)||(t.left=i),isNaN(t.right)||(t.right=r-i-a),isNaN(t.horizontalCenter)||(t.horizontalCenter=i+.5*a-.5*r),isNaN(t.top)||(t.top=n),isNaN(t.bottom)||(t.bottom=o-n-s),isNaN(t.verticalCenter)||(t.verticalCenter=.5*s-.5*o+n)}},t}();e.LayoutUtil=i,t.registerClass(i,"egret.gui.LayoutUtil")}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){if(n[e])return n[e];if(!e)return null;var i=e.split(","),s=new t.Rectangle(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),parseInt(i[3]));return n[e]=s,s}var n={};e.getScale9Grid=i}(e=t.gui||(t.gui={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t,e,i){for(var n=e.length,s=0;n>s;s++){var a=e[s];t[a]=i[s]}return t}t.setProperties=e}(e=t.gui||(t.gui={}))}(egret||(egret={}));